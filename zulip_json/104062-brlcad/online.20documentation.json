[
    {
        "content": "<p>One of our eventual website tasks is to set up an automatically updated \"generate the doxygen docs\" process that runs the \"make dox\" target whenever the tree is updated.</p>\n<p>Right now the doxygen output only get sporadic attention, but there's actually been a fair bit of work put into it over the years.</p>",
        "id": 208726028,
        "sender_full_name": "starseeker",
        "timestamp": 1598983986
    },
    {
        "content": "<p>i could have tried to help with website stuff but i can only do website stuff in python</p>",
        "id": 208726199,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598984076
    },
    {
        "content": "<p>it's long since been on our to-do for someone to get doxygen output set up on the website.  getting it set up is rarely ever a problem.  keeping it updated has been a challenge.  would be nice if jenkins did it for us.</p>",
        "id": 208726208,
        "sender_full_name": "Sean",
        "timestamp": 1598984082
    },
    {
        "content": "<p>should i try?</p>",
        "id": 208726715,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598984337
    },
    {
        "content": "<p>making a doxygen generated online documentation?</p>",
        "id": 208727299,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598984581
    },
    {
        "content": "<p>you're certainly welcome to, it would be quite helpful.</p>",
        "id": 208727314,
        "sender_full_name": "Sean",
        "timestamp": 1598984588
    },
    {
        "content": "<p>the way I would think best to set it up is as a Jenkins job at <a href=\"http://ci.brlcad.org\">ci.brlcad.org</a></p>",
        "id": 208727346,
        "sender_full_name": "Sean",
        "timestamp": 1598984605
    },
    {
        "content": "<p>I believe you already have an account</p>",
        "id": 208727361,
        "sender_full_name": "Sean",
        "timestamp": 1598984615
    },
    {
        "content": "<p>i would want to keep the generated output somewhere. so is there a way in jenkins to do that?</p>",
        "id": 208727468,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598984660
    },
    {
        "content": "<p>yeah, I think it's all in how the job is set up - there's always an active workspace</p>",
        "id": 208727497,
        "sender_full_name": "Sean",
        "timestamp": 1598984681
    },
    {
        "content": "<p>I think the job can have file copy or random shell script phases too</p>",
        "id": 208727530,
        "sender_full_name": "Sean",
        "timestamp": 1598984698
    },
    {
        "content": "<p>i will try to do that. if i get any problems i will tell you.</p>",
        "id": 208727558,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598984713
    },
    {
        "content": "<p>looks like this is a tutorial: <a href=\"http://dnaeon.github.io/building-projects-documentation-with-jenkins-and-doxygen/\">http://dnaeon.github.io/building-projects-documentation-with-jenkins-and-doxygen/</a></p>",
        "id": 208727593,
        "sender_full_name": "Sean",
        "timestamp": 1598984739
    },
    {
        "content": "<p>that uses a doxygen plugin and a web publshing plugin</p>",
        "id": 208727867,
        "sender_full_name": "Sean",
        "timestamp": 1598984876
    },
    {
        "content": "<p>yea</p>",
        "id": 208727918,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598984887
    },
    {
        "content": "<p>looks like this plugin would be an alternative possibility, or perhaps useful for the other doc/ products: <a href=\"https://plugins.jenkins.io/doclinks/\">https://plugins.jenkins.io/doclinks/</a></p>",
        "id": 208727959,
        "sender_full_name": "Sean",
        "timestamp": 1598984911
    },
    {
        "content": "<p>we can also set up a job on the server that copies files into the web root if needed, but looks like jenkins might be able to handle it</p>",
        "id": 208728055,
        "sender_full_name": "Sean",
        "timestamp": 1598984971
    },
    {
        "content": "<p>i should \"install without a restart\" i think</p>",
        "id": 208728281,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598985116
    },
    {
        "content": "<p>as i can see a job running</p>",
        "id": 208728448,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598985186
    },
    {
        "content": "<p>should i?</p>",
        "id": 208728877,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598985410
    },
    {
        "content": "<p>install what? plugins?</p>",
        "id": 208728909,
        "sender_full_name": "Sean",
        "timestamp": 1598985432
    },
    {
        "content": "<p>you can interrupt it all you need to</p>",
        "id": 208728924,
        "sender_full_name": "Sean",
        "timestamp": 1598985439
    },
    {
        "content": "<p>yea</p>",
        "id": 208728926,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598985440
    },
    {
        "content": "<p>kill jobs, whatever</p>",
        "id": 208728943,
        "sender_full_name": "Sean",
        "timestamp": 1598985451
    },
    {
        "content": "<p>it's fine</p>",
        "id": 208728946,
        "sender_full_name": "Sean",
        "timestamp": 1598985452
    },
    {
        "content": "<p>ok</p>",
        "id": 208728952,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598985458
    },
    {
        "content": "<p>the main build job is presently failing about 50% of the time right now anyways when it gets to our unit tests because of some obscure semaphore/threading issue on freebsd that we haven't solved yet</p>",
        "id": 208729084,
        "sender_full_name": "Sean",
        "timestamp": 1598985512
    },
    {
        "content": "<p>so don't be discouraged if you see that the build failed.</p>",
        "id": 208729136,
        "sender_full_name": "Sean",
        "timestamp": 1598985537
    },
    {
        "content": "<p>if you check the log, you'll see it is usually during testing and it'll say Aborted, Failed, or something similar in the middle of \"make regress\"</p>",
        "id": 208729319,
        "sender_full_name": "Sean",
        "timestamp": 1598985606
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 208729505,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598985696
    },
    {
        "content": "<p>how are you triggering the builds?</p>",
        "id": 208730115,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598985962
    },
    {
        "content": "<p>\"make dox\"</p>",
        "id": 208730194,
        "sender_full_name": "starseeker",
        "timestamp": 1598985986
    },
    {
        "content": "<p>The builds are triggered automatically on commit.  Jenkins watches the repository.</p>",
        "id": 208730196,
        "sender_full_name": "Sean",
        "timestamp": 1598985987
    },
    {
        "content": "<p>which option to use for that?</p>",
        "id": 208730230,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986003
    },
    {
        "content": "<p>Oh, you mean Jenkins - sorry.  Yeah, it monitors the repo automatically if you provide it with the URL</p>",
        "id": 208730270,
        "sender_full_name": "starseeker",
        "timestamp": 1598986024
    },
    {
        "content": "<p>you can trigger a build manually in jenkins too</p>",
        "id": 208730318,
        "sender_full_name": "Sean",
        "timestamp": 1598986055
    },
    {
        "content": "<p>ah, I see -- you created a new project</p>",
        "id": 208730438,
        "sender_full_name": "Sean",
        "timestamp": 1598986117
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112516\">starseeker</span> <a href=\"#narrow/stream/104062-general/topic/online.20documentation/near/208730270\">said</a>:</p>\n<blockquote>\n<p>Oh, you mean Jenkins - sorry.  Yeah, it monitors the repo automatically if you provide it with the URL</p>\n</blockquote>\n<p>i dont have to choose anything from this area? <a href=\"/user_uploads/1549/kguz33OSZOy4VlS0uY-rVAKu/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/kguz33OSZOy4VlS0uY-rVAKu/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/kguz33OSZOy4VlS0uY-rVAKu/image.png\"></a></div>",
        "id": 208730459,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986125
    },
    {
        "content": "<p>yeah, select \"Build after other projects are built\"</p>",
        "id": 208730549,
        "sender_full_name": "Sean",
        "timestamp": 1598986171
    },
    {
        "content": "<p>and select the BRL-CAD project</p>",
        "id": 208730578,
        "sender_full_name": "Sean",
        "timestamp": 1598986181
    },
    {
        "content": "<p>trigger even if the build fails?</p>",
        "id": 208730690,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986221
    },
    {
        "content": "<p>we should probably break up that main BRL-CAD project into a source checkout project, a compile-it project, and a test it project</p>",
        "id": 208730697,
        "sender_full_name": "Sean",
        "timestamp": 1598986224
    },
    {
        "content": "<p>doxygen can probably be set to run with/without the build actually succeeding or tests passing</p>",
        "id": 208730799,
        "sender_full_name": "Sean",
        "timestamp": 1598986264
    },
    {
        "content": "<p>ok then</p>",
        "id": 208730817,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986276
    },
    {
        "content": "<p>i am choosing that option</p>",
        "id": 208730829,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986281
    },
    {
        "content": "<p>only thing it'll be missing is libbu's mime types... which we can think about later</p>",
        "id": 208730909,
        "sender_full_name": "Sean",
        "timestamp": 1598986310
    },
    {
        "content": "<p>hmm</p>",
        "id": 208731055,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986362
    },
    {
        "content": "<p>does this look ok? <a href=\"/user_uploads/1549/chwUWzAlcXLS3GkNmBRGUrPw/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/chwUWzAlcXLS3GkNmBRGUrPw/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/chwUWzAlcXLS3GkNmBRGUrPw/image.png\"></a></div>",
        "id": 208731131,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986393
    },
    {
        "content": "<p>don't know.</p>",
        "id": 208731256,
        "sender_full_name": "Sean",
        "timestamp": 1598986443
    },
    {
        "content": "<p>depends what your current working directory is (could add a pwd or ls -la in there and then check the log)</p>",
        "id": 208731304,
        "sender_full_name": "Sean",
        "timestamp": 1598986466
    },
    {
        "content": "<p>learn something new every day.  actually didn't know about -B !  that can be used to reduce our onboarding docs by one step...</p>",
        "id": 208731438,
        "sender_full_name": "Sean",
        "timestamp": 1598986529
    },
    {
        "content": "<p>i learnt that option while trying to configure cmake within atom</p>",
        "id": 208731497,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986559
    },
    {
        "content": "<p>I don't think it existed when we got started...</p>",
        "id": 208731612,
        "sender_full_name": "Sean",
        "timestamp": 1598986589
    },
    {
        "content": "<p>might be new then</p>",
        "id": 208731648,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986608
    },
    {
        "content": "<p>should have added ls -la <span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span></p>",
        "id": 208731986,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986776
    },
    {
        "content": "<p>it is probably cloning directly into the workspace</p>",
        "id": 208732024,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986798
    },
    {
        "content": "<p>should i make a directory to checkout the repo?</p>",
        "id": 208732430,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598986930
    },
    {
        "content": "<p>should i use -j4 while using cmake --build?</p>",
        "id": 208733482,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598987361
    },
    {
        "content": "<p>i mean is it safe or will it cause problem for other builds?</p>",
        "id": 208733638,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598987419
    },
    {
        "content": "<p>I don't think we want multiple checkouts just because that's a lot of filesystem strain and delay,  and it adds no value</p>",
        "id": 208733783,
        "sender_full_name": "Sean",
        "timestamp": 1598987481
    },
    {
        "content": "<p>ok then</p>",
        "id": 208733803,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598987494
    },
    {
        "content": "<p>so i just need to make the target <code>dox</code> for this job?</p>",
        "id": 208733845,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598987515
    },
    {
        "content": "<p>that's why that \" run this when the other project completes\" option is good - when it completes, the sources should be in that project's workspace.</p>",
        "id": 208733881,
        "sender_full_name": "Sean",
        "timestamp": 1598987523
    },
    {
        "content": "<p>i can use that build's resources if i want</p>",
        "id": 208733999,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598987561
    },
    {
        "content": "<p>i would run cmake again in your own workspace just for good measure, but yeah -- then run \"make dox\"</p>",
        "id": 208734000,
        "sender_full_name": "Sean",
        "timestamp": 1598987561
    },
    {
        "content": "<p>it seems like it is going to checkout the svn repo everytime it is built</p>",
        "id": 208734276,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598987724
    },
    {
        "content": "<p>is there an option to not checkout the repo if it is already present</p>",
        "id": 208734337,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598987751
    },
    {
        "content": "<p>well yeah, you turned on Subversion</p>",
        "id": 208734349,
        "sender_full_name": "Sean",
        "timestamp": 1598987757
    },
    {
        "content": "<p>set that to \"None\"</p>",
        "id": 208734410,
        "sender_full_name": "Sean",
        "timestamp": 1598987766
    },
    {
        "content": "<p>it's getting it's sources from the BRL-CAD project</p>",
        "id": 208734453,
        "sender_full_name": "Sean",
        "timestamp": 1598987782
    },
    {
        "content": "<p>will configure after this build</p>",
        "id": 208734472,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598987794
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-general/topic/online.20documentation/near/208734453\">said</a>:</p>\n<blockquote>\n<p>it's getting it's sources from the BRL-CAD project</p>\n</blockquote>\n<p>what?</p>",
        "id": 208734485,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598987803
    },
    {
        "content": "<p>there are two projects: \"online-docgen\" and another named \"BRL-CAD\"</p>",
        "id": 208734557,
        "sender_full_name": "Sean",
        "timestamp": 1598987839
    },
    {
        "content": "<p>you are saying i can use the sources from the \"BRL-CAD\" project</p>",
        "id": 208734624,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598987872
    },
    {
        "content": "<p>the \"BRL-CAD\" one is already checking out from Subversion, so you can configure the \"online-docgen\" one to use \"BRL-CAD\" project's files instead of also checking it out</p>",
        "id": 208734644,
        "sender_full_name": "Sean",
        "timestamp": 1598987881
    },
    {
        "content": "<p>that's what that \"Build after other projects are built\" implies</p>",
        "id": 208734735,
        "sender_full_name": "Sean",
        "timestamp": 1598987915
    },
    {
        "content": "<p>it's just probably in a workspace path next to where \"online-docgen\" has its workspace</p>",
        "id": 208734794,
        "sender_full_name": "Sean",
        "timestamp": 1598987954
    },
    {
        "content": "<p>so should i copy the sources from the \"BRL-CAD\" workspace to the \"online-docgen\"</p>",
        "id": 208734866,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598987996
    },
    {
        "content": "<p>(so it'd be something like mkdir build &amp;&amp; cmake -B build -S ../BRL-CAD/workspace/... or something</p>",
        "id": 208734868,
        "sender_full_name": "Sean",
        "timestamp": 1598987998
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-general/topic/online.20documentation/near/208734868\">said</a>:</p>\n<blockquote>\n<p>(so it'd be something like mkdir build &amp;&amp; cmake -B build -S ../BRL-CAD/workspace/... or something</p>\n</blockquote>\n<p>let me configure it then</p>",
        "id": 208734932,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598988017
    },
    {
        "content": "<p>I wouldn't bother copying them</p>",
        "id": 208734934,
        "sender_full_name": "Sean",
        "timestamp": 1598988018
    },
    {
        "content": "<p>take a look at the \"BRL-CAD\" project, look at the \"Build\" section</p>",
        "id": 208735209,
        "sender_full_name": "Sean",
        "timestamp": 1598988126
    },
    {
        "content": "<p>might help you figure out what you need in yours</p>",
        "id": 208735220,
        "sender_full_name": "Sean",
        "timestamp": 1598988133
    },
    {
        "content": "<p>and a bit more readable ;)</p>",
        "id": 208735236,
        "sender_full_name": "Sean",
        "timestamp": 1598988140
    },
    {
        "content": "<p>i am making a conditional step to see if there is a build directory. if there is a build directory, then it will not trigger <code>mkdir build</code></p>",
        "id": 208735397,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598988222
    },
    {
        "content": "<p>you have any other ideas?</p>",
        "id": 208735402,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598988227
    },
    {
        "content": "<p>that sounds great</p>",
        "id": 208735478,
        "sender_full_name": "Sean",
        "timestamp": 1598988256
    },
    {
        "content": "<p>it made the previous build fail</p>",
        "id": 208735487,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598988260
    },
    {
        "content": "<p>that's akin to what I was suggesting that we should break up the \"BRL-CAD\" project into one that doesn't do testing, just checks out sources.  another one can run testing.  I think there's a way to do this all within one project too using pipelines, but I'm not that familiar with Jenkins yet.</p>",
        "id": 208735622,
        "sender_full_name": "Sean",
        "timestamp": 1598988355
    },
    {
        "content": "<p>At least for doxygen 1.8.17, r77031 seems to clear the warnings.</p>",
        "id": 208736039,
        "sender_full_name": "starseeker",
        "timestamp": 1598988590
    },
    {
        "content": "<p>waiting for the brlcad project build to end</p>",
        "id": 208736929,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598989041
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> i built the dox target but it seems a bit off</p>",
        "id": 208739799,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598990441
    },
    {
        "content": "<p>the index.html seems a bit off</p>",
        "id": 208739818,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598990449
    },
    {
        "content": "<p>How so?</p>",
        "id": 208742809,
        "sender_full_name": "starseeker",
        "timestamp": 1598991673
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/HCoj1tvDTyJELB48FbfDr2Tn/Screenshot-from-2020-09-02-01-51-33.png\">Screenshot-from-2020-09-02-01-51-33.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/HCoj1tvDTyJELB48FbfDr2Tn/Screenshot-from-2020-09-02-01-51-33.png\" title=\"Screenshot-from-2020-09-02-01-51-33.png\"><img src=\"/user_uploads/1549/HCoj1tvDTyJELB48FbfDr2Tn/Screenshot-from-2020-09-02-01-51-33.png\"></a></div>",
        "id": 208742883,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598991709
    },
    {
        "content": "<p>this is from jenkins build</p>",
        "id": 208742911,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598991717
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/IMygH47e8kdqhsYGFba_Mvlh/Screenshot-from-2020-09-02-01-52-29.png\">Screenshot-from-2020-09-02-01-52-29.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/IMygH47e8kdqhsYGFba_Mvlh/Screenshot-from-2020-09-02-01-52-29.png\" title=\"Screenshot-from-2020-09-02-01-52-29.png\"><img src=\"/user_uploads/1549/IMygH47e8kdqhsYGFba_Mvlh/Screenshot-from-2020-09-02-01-52-29.png\"></a></div>",
        "id": 208743041,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598991759
    },
    {
        "content": "<p>this is from my build</p>",
        "id": 208743073,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598991770
    },
    {
        "content": "<p>check for yourself</p>",
        "id": 208743511,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598991987
    },
    {
        "content": "<p><a href=\"https://ci.brlcad.org/status/job/online-docgen/ws/build/doc/doxygen_output/html/index.html\">https://ci.brlcad.org/status/job/online-docgen/ws/build/doc/doxygen_output/html/index.html</a></p>",
        "id": 208743515,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598991989
    },
    {
        "content": "<p>yeah, clearly some feature of doxygen isn't getting enabled, perhaps due to relative paths or current working directory.  can you check the log?</p>",
        "id": 208743529,
        "sender_full_name": "Sean",
        "timestamp": 1598991993
    },
    {
        "content": "<p>it clearly did work, as can be seen in other paths: <a href=\"https://ci.brlcad.org/status/job/online-docgen/ws/build/doc/doxygen_output/html/annotated.html\">https://ci.brlcad.org/status/job/online-docgen/ws/build/doc/doxygen_output/html/annotated.html</a></p>",
        "id": 208743571,
        "sender_full_name": "Sean",
        "timestamp": 1598992022
    },
    {
        "content": "<p>yea</p>",
        "id": 208743587,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992030
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-general/topic/online.20documentation/near/208743529\">said</a>:</p>\n<blockquote>\n<p>yeah, clearly some feature of doxygen isn't getting enabled, perhaps due to relative paths or current working directory.  can you check the log?</p>\n</blockquote>\n<p>which one?</p>",
        "id": 208743615,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992052
    },
    {
        "content": "<p>I saw that happen once with my local build too, actually - chromium displayed it, but firefox didn't want to.  Not sure why.</p>",
        "id": 208743619,
        "sender_full_name": "starseeker",
        "timestamp": 1598992055
    },
    {
        "content": "<p>looking at the page source gives clues</p>",
        "id": 208743814,
        "sender_full_name": "Sean",
        "timestamp": 1598992160
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/HOvhQfKbTG2FAReCj1NchhzD/Screen-Shot-2020-09-01-at-4.29.36-PM.png\">Screen-Shot-2020-09-01-at-4.29.36-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/HOvhQfKbTG2FAReCj1NchhzD/Screen-Shot-2020-09-01-at-4.29.36-PM.png\" title=\"Screen-Shot-2020-09-01-at-4.29.36-PM.png\"><img src=\"/user_uploads/1549/HOvhQfKbTG2FAReCj1NchhzD/Screen-Shot-2020-09-01-at-4.29.36-PM.png\"></a></div>",
        "id": 208743942,
        "sender_full_name": "Sean",
        "timestamp": 1598992204
    },
    {
        "content": "<p>looks like the menu is dynamically generated</p>",
        "id": 208743970,
        "sender_full_name": "Sean",
        "timestamp": 1598992216
    },
    {
        "content": "<p>check stackoverflow for that error.  has to be common.</p>",
        "id": 208744011,
        "sender_full_name": "Sean",
        "timestamp": 1598992238
    },
    {
        "content": "<p>yep, looks like it's this: <a href=\"https://stackoverflow.com/questions/34315723/jenkins-error-blocked-script-execution-in-url-because-the-documents-frame\">https://stackoverflow.com/questions/34315723/jenkins-error-blocked-script-execution-in-url-because-the-documents-frame</a></p>",
        "id": 208744417,
        "sender_full_name": "Sean",
        "timestamp": 1598992426
    },
    {
        "content": "<p>see if you can do anything about that</p>",
        "id": 208744656,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992523
    },
    {
        "content": "<p>i cant understand the solution</p>",
        "id": 208744679,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992535
    },
    {
        "content": "<p>what it tells to follow</p>",
        "id": 208744682,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992540
    },
    {
        "content": "<p>but i understand what has happened</p>",
        "id": 208744700,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992549
    },
    {
        "content": "<p>jenkins apparently has a security setting that prevents javascript and css from loading</p>",
        "id": 208744773,
        "sender_full_name": "Sean",
        "timestamp": 1598992566
    },
    {
        "content": "<p>yea</p>",
        "id": 208744780,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992573
    },
    {
        "content": "<p>so either we disable it, or (better) ignore it and deploy it outside of jenkins</p>",
        "id": 208744794,
        "sender_full_name": "Sean",
        "timestamp": 1598992584
    },
    {
        "content": "<p>the intent isn't to view from within jenkins</p>",
        "id": 208744816,
        "sender_full_name": "Sean",
        "timestamp": 1598992597
    },
    {
        "content": "<p>where can we deploy it?</p>",
        "id": 208744831,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992607
    },
    {
        "content": "<p>anywhere on <a href=\"http://brlcad.org\">brlcad.org</a></p>",
        "id": 208744847,
        "sender_full_name": "Sean",
        "timestamp": 1598992618
    },
    {
        "content": "<p><a href=\"https://brlcad.org/api/\">https://brlcad.org/api/</a> ?</p>",
        "id": 208744943,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992664
    },
    {
        "content": "<p>I think best might be something like <a href=\"http://brlcad.org/api\">brlcad.org/api</a> or <a href=\"http://brlcad.org/docs/api\">brlcad.org/docs/api</a></p>",
        "id": 208744947,
        "sender_full_name": "Sean",
        "timestamp": 1598992666
    },
    {
        "content": "<p>which one sounds better?</p>",
        "id": 208745043,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992703
    },
    {
        "content": "<p>heh, looks like we were previously using <a href=\"http://brlcad.org/docs/doxygen-r######\">brlcad.org/docs/doxygen-r######</a></p>",
        "id": 208745106,
        "sender_full_name": "Sean",
        "timestamp": 1598992750
    },
    {
        "content": "<p>yea</p>",
        "id": 208745119,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992758
    },
    {
        "content": "<p>i used it once</p>",
        "id": 208745130,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992764
    },
    {
        "content": "<p>there's a couple doxygens there now, a bit out of date</p>",
        "id": 208745133,
        "sender_full_name": "Sean",
        "timestamp": 1598992765
    },
    {
        "content": "<p>but the revision number was out of date</p>",
        "id": 208745152,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992783
    },
    {
        "content": "<p>yeah, it's about 5000 commits out of date</p>",
        "id": 208745174,
        "sender_full_name": "Sean",
        "timestamp": 1598992796
    },
    {
        "content": "<p>its best for <a href=\"http://brlcad.org/api\">brlcad.org/api</a> or <a href=\"http://brlcad.org/docs/api\">brlcad.org/docs/api</a></p>",
        "id": 208745243,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992815
    },
    {
        "content": "<p>lets go with the latter to keep docs grouped</p>",
        "id": 208745292,
        "sender_full_name": "Sean",
        "timestamp": 1598992847
    },
    {
        "content": "<p>yea</p>",
        "id": 208745308,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992857
    },
    {
        "content": "<p>so how to deploy it there?</p>",
        "id": 208745360,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992893
    },
    {
        "content": "<p>I created the dir, so just have to figure out how to safely deploy</p>",
        "id": 208745369,
        "sender_full_name": "Sean",
        "timestamp": 1598992897
    },
    {
        "content": "<p>what are the possible ways to deploy?</p>",
        "id": 208745464,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992927
    },
    {
        "content": "<p>option 1) almost certainly can just have a build rule that copies the files from the workspace to the web directory;</p>",
        "id": 208745535,
        "sender_full_name": "Sean",
        "timestamp": 1598992980
    },
    {
        "content": "<p>can be a post-build action</p>",
        "id": 208745558,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598992998
    },
    {
        "content": "<p>option 2) use a plugin that has a deploy/copy rule (and presumably with smarts on how to copy more safely/smartly)</p>",
        "id": 208745562,
        "sender_full_name": "Sean",
        "timestamp": 1598993002
    },
    {
        "content": "<p>right, post-build action would be option 1</p>",
        "id": 208745579,
        "sender_full_name": "Sean",
        "timestamp": 1598993019
    },
    {
        "content": "<p>custom script or the same rule that runs make dox even</p>",
        "id": 208745602,
        "sender_full_name": "Sean",
        "timestamp": 1598993034
    },
    {
        "content": "<p>those are all opt1</p>",
        "id": 208745663,
        "sender_full_name": "Sean",
        "timestamp": 1598993048
    },
    {
        "content": "<p>option 3) use a job on the server that pulls from jenkins periodically</p>",
        "id": 208745696,
        "sender_full_name": "Sean",
        "timestamp": 1598993075
    },
    {
        "content": "<p>3 is the old way and isn't obvious so lets try to avoid that one</p>",
        "id": 208745731,
        "sender_full_name": "Sean",
        "timestamp": 1598993098
    },
    {
        "content": "<p>for option2 will this work? -&gt; <a href=\"https://plugins.jenkins.io/publish-over-ssh/\">https://plugins.jenkins.io/publish-over-ssh/</a></p>",
        "id": 208745744,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993108
    },
    {
        "content": "<p>overkill -- jenkins is on the same host</p>",
        "id": 208745775,
        "sender_full_name": "Sean",
        "timestamp": 1598993128
    },
    {
        "content": "<p>doesn't need to ssh</p>",
        "id": 208745787,
        "sender_full_name": "Sean",
        "timestamp": 1598993132
    },
    {
        "content": "<p>i didnt know about that so i suggested it</p>",
        "id": 208745948,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993204
    },
    {
        "content": "<p>looks like there's a copy artifacts step</p>",
        "id": 208745977,
        "sender_full_name": "Sean",
        "timestamp": 1598993219
    },
    {
        "content": "<p>in post build action?</p>",
        "id": 208746013,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993235
    },
    {
        "content": "<p><a href=\"https://plugins.jenkins.io/copyartifact/\">https://plugins.jenkins.io/copyartifact/</a></p>",
        "id": 208746042,
        "sender_full_name": "Sean",
        "timestamp": 1598993256
    },
    {
        "content": "<p>it seems like it can be used to copy artifacts from one project to another</p>",
        "id": 208746197,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993321
    },
    {
        "content": "<p>will it work for the deployment?</p>",
        "id": 208746206,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993331
    },
    {
        "content": "<p>I don't see why not</p>",
        "id": 208746228,
        "sender_full_name": "Sean",
        "timestamp": 1598993345
    },
    {
        "content": "<p>it can either be added to this project to deploy or we can have another \"deploy api\" project that does the copy from this one</p>",
        "id": 208746304,
        "sender_full_name": "Sean",
        "timestamp": 1598993396
    },
    {
        "content": "<p>I don't see why it can't be added to an existing though</p>",
        "id": 208746370,
        "sender_full_name": "Sean",
        "timestamp": 1598993412
    },
    {
        "content": "<p>that said, might be nice to separate deployment into its own project</p>",
        "id": 208746406,
        "sender_full_name": "Sean",
        "timestamp": 1598993431
    },
    {
        "content": "<p>lets keep this project only for generating docs</p>",
        "id": 208746408,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993432
    },
    {
        "content": "<p>agreed</p>",
        "id": 208746419,
        "sender_full_name": "Sean",
        "timestamp": 1598993438
    },
    {
        "content": "<p>that way a deployment project can focus on just deployment like deploying the docs that got built during \"make docs\" earlier</p>",
        "id": 208746497,
        "sender_full_name": "Sean",
        "timestamp": 1598993484
    },
    {
        "content": "<p>yea</p>",
        "id": 208746521,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993497
    },
    {
        "content": "<p>you set up the deployment project</p>",
        "id": 208746631,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993550
    },
    {
        "content": "<p>I'm currently working on the github permissions</p>",
        "id": 208746689,
        "sender_full_name": "Sean",
        "timestamp": 1598993581
    },
    {
        "content": "<p>then what to do for the deployment</p>",
        "id": 208746725,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993600
    },
    {
        "content": "<p>like what are the steps?</p>",
        "id": 208746750,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993609
    },
    {
        "content": "<p>the docgen job is set up</p>",
        "id": 208746869,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993648
    },
    {
        "content": "<p>enable the plugin, create a deployment project just like you did for the online-docgen project, then tell it to copy to  [path_i'll_send_in_pm]</p>",
        "id": 208746992,
        "sender_full_name": "Sean",
        "timestamp": 1598993706
    },
    {
        "content": "<p>the copy artifact plugin you mean?</p>",
        "id": 208747127,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598993768
    },
    {
        "content": "<p>yeah</p>",
        "id": 208747355,
        "sender_full_name": "Sean",
        "timestamp": 1598993875
    },
    {
        "content": "<p>should i keep it to \"trigger if build is stable\"?</p>",
        "id": 208747759,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598994035
    },
    {
        "content": "<p>I guess, I don't know what stable means</p>",
        "id": 208748218,
        "sender_full_name": "Sean",
        "timestamp": 1598994200
    },
    {
        "content": "<p>can you check up on the error?</p>",
        "id": 208748253,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598994220
    },
    {
        "content": "<p>what error?</p>",
        "id": 208748273,
        "sender_full_name": "Sean",
        "timestamp": 1598994232
    },
    {
        "content": "<p><code>ERROR: Failed to copy artifacts from online-docgen with filter: build/doc/doxygen_output/html/*</code></p>",
        "id": 208748320,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598994243
    },
    {
        "content": "<p>maybe this: <a href=\"https://stackoverflow.com/questions/51869637/got-failed-to-copy-artifacts-from-another-project-with-filter-war-while\">https://stackoverflow.com/questions/51869637/got-failed-to-copy-artifacts-from-another-project-with-filter-war-while</a></p>",
        "id": 208748430,
        "sender_full_name": "Sean",
        "timestamp": 1598994308
    },
    {
        "content": "<p>i might have to go to sleep after this last attempt</p>",
        "id": 208748683,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598994434
    },
    {
        "content": "<p>so if you can please check up on the error if you can</p>",
        "id": 208748713,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598994448
    },
    {
        "content": "<p>I did, that link looks like the fix</p>",
        "id": 208748738,
        "sender_full_name": "Sean",
        "timestamp": 1598994464
    },
    {
        "content": "<p>either didn't specify workspace or need to archive in the online-docgen project</p>",
        "id": 208748818,
        "sender_full_name": "Sean",
        "timestamp": 1598994492
    },
    {
        "content": "<p>what time is it for you?</p>",
        "id": 208748862,
        "sender_full_name": "Sean",
        "timestamp": 1598994520
    },
    {
        "content": "<p>2 38 am</p>",
        "id": 208748875,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598994525
    },
    {
        "content": "<p>nice!</p>",
        "id": 208748883,
        "sender_full_name": "Sean",
        "timestamp": 1598994530
    },
    {
        "content": "<p>please see up on the error</p>",
        "id": 208748911,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598994537
    },
    {
        "content": "<p>i have to go to sleep now</p>",
        "id": 208748930,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598994546
    },
    {
        "content": "<p>have a last exam tomorrow</p>",
        "id": 208748947,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598994555
    },
    {
        "content": "<p>okay, I'll see if I can once I get done with github here</p>",
        "id": 208748962,
        "sender_full_name": "Sean",
        "timestamp": 1598994562
    },
    {
        "content": "<p>this is excellent work</p>",
        "id": 208748980,
        "sender_full_name": "Sean",
        "timestamp": 1598994569
    },
    {
        "content": "<p>actual doxygen progress!</p>",
        "id": 208748995,
        "sender_full_name": "Sean",
        "timestamp": 1598994575
    },
    {
        "content": "<p>and thank you for your work on this, it's great</p>",
        "id": 208749104,
        "sender_full_name": "Sean",
        "timestamp": 1598994610
    },
    {
        "content": "<p>no problem</p>",
        "id": 208749144,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598994625
    },
    {
        "content": "<p>I think I'll break out the testing from the compilation afterwards too</p>",
        "id": 208749185,
        "sender_full_name": "Sean",
        "timestamp": 1598994647
    },
    {
        "content": "<p>just doing this so that future contributors can find at least some api reference online and not build it locally</p>",
        "id": 208749209,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598994654
    },
    {
        "content": "<p>and checkout from compile</p>",
        "id": 208749213,
        "sender_full_name": "Sean",
        "timestamp": 1598994655
    },
    {
        "content": "<p>Its giving errors from the copy artifact plugin</p>",
        "id": 208750736,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598995403
    },
    {
        "content": "<p>Something about accesdenied</p>",
        "id": 208750753,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1598995410
    },
    {
        "content": "<p>ah, right</p>",
        "id": 208750767,
        "sender_full_name": "Sean",
        "timestamp": 1598995421
    },
    {
        "content": "<p>the web root is owned by the webserver and a different user</p>",
        "id": 208750835,
        "sender_full_name": "Sean",
        "timestamp": 1598995445
    },
    {
        "content": "<p>hmmmmmmm</p>",
        "id": 208750857,
        "sender_full_name": "Sean",
        "timestamp": 1598995456
    },
    {
        "content": "<p>let me try this</p>",
        "id": 208750883,
        "sender_full_name": "Sean",
        "timestamp": 1598995467
    },
    {
        "content": "<p>try again</p>",
        "id": 208750951,
        "sender_full_name": "Sean",
        "timestamp": 1598995498
    },
    {
        "content": "<p>made jenkins the group</p>",
        "id": 208750981,
        "sender_full_name": "Sean",
        "timestamp": 1598995510
    },
    {
        "content": "<p>upgrading all plugins</p>",
        "id": 208752168,
        "sender_full_name": "Sean",
        "timestamp": 1598996232
    },
    {
        "content": "<p>So what is left to do?</p>",
        "id": 208774838,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599015737
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 208775326,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599016512
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> The API documentation is live on <a href=\"http://brlcad.org/docs/api\">brlcad.org/docs/api</a></p>",
        "id": 208775339,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599016543
    },
    {
        "content": "<p>It will be automatically deployed after every revision from now</p>",
        "id": 208775494,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599016740
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"247135\">@Sumagna Das</span>  It seems like some of the links aren't working?</p>",
        "id": 208776420,
        "sender_full_name": "starseeker",
        "timestamp": 1599018169
    },
    {
        "content": "<p><a href=\"https://brlcad.org/docs/api/dd/d89/group__vmath.html\">https://brlcad.org/docs/api/dd/d89/group__vmath.html</a></p>",
        "id": 208776421,
        "sender_full_name": "starseeker",
        "timestamp": 1599018172
    },
    {
        "content": "<p>I think I messed up the directory structure</p>",
        "id": 208776433,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599018225
    },
    {
        "content": "<p>Its all in one directory</p>",
        "id": 208776446,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599018240
    },
    {
        "content": "<p>Don't know how to fix it</p>",
        "id": 208776492,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599018254
    },
    {
        "content": "<p><a href=\"http://brlcad.org/docs/api/group__vmath.html\">brlcad.org/docs/api/group__vmath.html</a></p>",
        "id": 208776507,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599018298
    },
    {
        "content": "<p>See</p>",
        "id": 208776511,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599018301
    },
    {
        "content": "<p>Any ideas how to fix this?</p>",
        "id": 208776589,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599018418
    },
    {
        "content": "<p>working on it <span class=\"user-mention\" data-user-id=\"247135\">@Sumagna Das</span> ... you got it super close</p>",
        "id": 208789339,
        "sender_full_name": "Sean",
        "timestamp": 1599032409
    },
    {
        "content": "<p>the problem is the \"Files to archive\" option that saves the doxygen output in online-docgen is stashing archive/build/doc/doxygen_output/html  ... i.e., the whole path specified, not the matching pattern</p>",
        "id": 208789507,
        "sender_full_name": "Sean",
        "timestamp": 1599032537
    },
    {
        "content": "<p>that gets copied in the deployment phase, so it' installing into the web root as doc/api/build/doc/doxygen_output/html ...</p>",
        "id": 208789553,
        "sender_full_name": "Sean",
        "timestamp": 1599032575
    },
    {
        "content": "<p>what a pain in the culo...</p>",
        "id": 208794629,
        "sender_full_name": "Sean",
        "timestamp": 1599036106
    },
    {
        "content": "<p>the artifact archiving system sucks.  it appears to only copy the whole tree, no matter how I specify it.  and if I flatten, it will only flatten the whole hierarchy.</p>",
        "id": 208794643,
        "sender_full_name": "Sean",
        "timestamp": 1599036115
    },
    {
        "content": "<p>there doesn't seem to be a general copy mechanism -- it assumes/wants single files or to copy trees exactly as they are in a workspace.</p>",
        "id": 208794974,
        "sender_full_name": "Sean",
        "timestamp": 1599036286
    },
    {
        "content": "<p>so I modified the test to result in exactly the dir it needs to install into <a href=\"http://brlcad.org/docs\">brlcad.org/docs</a>  (i.e., api) and now it's working</p>",
        "id": 208795052,
        "sender_full_name": "Sean",
        "timestamp": 1599036336
    },
    {
        "content": "<p>Its working now</p>",
        "id": 208800022,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599039583
    },
    {
        "content": "<p>Its not in <a href=\"http://brlcad.org/docs\">brlcad.org/docs</a> but in <a href=\"http://brlcad.org/docs/api\">brlcad.org/docs/api</a></p>",
        "id": 208800733,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599040059
    },
    {
        "content": "<p>It installs \"api\" into <a href=\"http://brlcad.org/docs\">brlcad.org/docs</a>, thus <a href=\"http://brlcad.org/docs/api\">brlcad.org/docs/api</a> :)</p>",
        "id": 208840194,
        "sender_full_name": "Sean",
        "timestamp": 1599059821
    },
    {
        "content": "<p>Good luck on your exam <span class=\"user-mention\" data-user-id=\"247135\">@Sumagna Das</span> !</p>",
        "id": 208840257,
        "sender_full_name": "Sean",
        "timestamp": 1599059847
    },
    {
        "content": "<p>and thanks again.  awesome to see doxygen up and running again in what will hopefully be a more sustainable way now</p>",
        "id": 208840327,
        "sender_full_name": "Sean",
        "timestamp": 1599059882
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-general/topic/online.20documentation/near/208840194\">said</a>:</p>\n<blockquote>\n<p>It installs \"api\" into <a href=\"http://brlcad.org/docs\">brlcad.org/docs</a>, thus <a href=\"http://brlcad.org/docs/api\">brlcad.org/docs/api</a> <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>\n</blockquote>\n<p>ooh</p>",
        "id": 208859689,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1599067936
    }
]