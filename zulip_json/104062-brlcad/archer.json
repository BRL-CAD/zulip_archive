[
    {
        "content": "<p>What does this error message mean?</p>\n<div class=\"codehilite\"><pre><span></span><code>cannot find component access command &quot;V-1&quot; for component &quot;ul&quot;\n\nUnexpected error encountered while running Archer.\nAborting.\n</code></pre></div>",
        "id": 383696344,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1691686308
    },
    {
        "content": "<p>I think the tcl backtrace is needed for that.. that's an Itk error so there's some graphical widget that is trying to access some object field (object=ul, field=V-1) which aren't named terribly usefully.  There's quite a few things that use ul.</p>",
        "id": 383715965,
        "sender_full_name": "Sean",
        "timestamp": 1691690282
    },
    {
        "content": "<p>I would guess something like editing of a vertex in the upper-left window (i.e., the default window)</p>",
        "id": 383716160,
        "sender_full_name": "Sean",
        "timestamp": 1691690320
    },
    {
        "content": "<p>Thank you git bisect.  It's a side effect of a change I made to create unique view names when running bv_init:  2af2030752121ac168ee20488dbc636b63a71367</p>",
        "id": 384113792,
        "sender_full_name": "starseeker",
        "timestamp": 1691797956
    },
    {
        "content": "<p>OK.  Commit c5dcd0ba131 should bring Archer back to life.  I'm not at all happy about Archer being sensitive to what bv_init was doing, but it's not the first time I've run into unpleasant fragility with Archer and the supporting libraries so however annoying it may be I can't really say it surprises me.</p>",
        "id": 384116487,
        "sender_full_name": "starseeker",
        "timestamp": 1691799364
    },
    {
        "content": "<p>Thanks, Archer starts now. Unfortunately, it has several other issues. For example, the command <code>make test.s arb8</code> crashes the program.</p>",
        "id": 384532428,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1691942483
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span> I'm also seeing that badness.  Backtrace indicates it's related to your view changes:</p>\n<div class=\"codehilite\" data-code-language=\"C\"><pre><span></span><code><span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"mi\">63842</span><span class=\"w\"> </span><span class=\"n\">stopped</span>\n<span class=\"o\">*</span><span class=\"w\"> </span><span class=\"kr\">thread</span><span class=\"w\"> </span><span class=\"err\">#</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">queue</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"n\">com</span><span class=\"p\">.</span><span class=\"n\">apple</span><span class=\"p\">.</span><span class=\"n\">main</span><span class=\"o\">-</span><span class=\"kr\">thread</span><span class=\"err\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">stop</span><span class=\"w\"> </span><span class=\"n\">reason</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">EXC_BAD_ACCESS</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">code</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">address</span><span class=\"o\">=</span><span class=\"mh\">0x0</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"n\">frame</span><span class=\"w\"> </span><span class=\"err\">#</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mh\">0x0000000100168b40</span><span class=\"w\"> </span><span class=\"n\">libtclcad</span><span class=\"mf\">.20</span><span class=\"p\">.</span><span class=\"n\">dylib</span><span class=\"err\">`</span><span class=\"n\">to_autoview_view</span><span class=\"p\">(</span><span class=\"n\">gdvp</span><span class=\"o\">=</span><span class=\"mh\">0x0000000113a9c600</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">scale</span><span class=\"o\">=</span><span class=\"mh\">0x0000000000000000</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">autoview</span><span class=\"p\">.</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"mi\">43</span><span class=\"o\">:</span><span class=\"mi\">10</span>\n<span class=\"w\">   </span><span class=\"mi\">40</span><span class=\"w\">       </span><span class=\"k\">const</span><span class=\"w\"> </span><span class=\"kt\">char</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"n\">av</span><span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">];</span>\n<span class=\"w\">   </span><span class=\"mi\">41</span>\n<span class=\"w\">   </span><span class=\"mi\">42</span><span class=\"w\">       </span><span class=\"k\">struct</span><span class=\"w\"> </span><span class=\"nc\">tclcad_view_data</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"n\">tvd</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">struct</span><span class=\"w\"> </span><span class=\"nc\">tclcad_view_data</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"n\">gdvp</span><span class=\"o\">-&gt;</span><span class=\"n\">u_data</span><span class=\"p\">;</span>\n<span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">43</span><span class=\"w\">       </span><span class=\"n\">tvd</span><span class=\"o\">-&gt;</span><span class=\"n\">gedp</span><span class=\"o\">-&gt;</span><span class=\"n\">ged_gvp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">gdvp</span><span class=\"p\">;</span>\n<span class=\"w\">   </span><span class=\"mi\">44</span><span class=\"w\">       </span><span class=\"n\">av</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"autoview\"</span><span class=\"p\">;</span>\n<span class=\"w\">   </span><span class=\"mi\">45</span><span class=\"w\">       </span><span class=\"n\">av</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">scale</span><span class=\"p\">;</span>\n<span class=\"w\">   </span><span class=\"mi\">46</span><span class=\"w\">       </span><span class=\"n\">av</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">NULL</span><span class=\"p\">;</span>\n<span class=\"n\">Target</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">archer</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">stopped</span><span class=\"p\">.</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">tvd</span>\n<span class=\"p\">(</span><span class=\"n\">tclcad_view_data</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">$0</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">NULL</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">gdvp</span>\n<span class=\"p\">(</span><span class=\"n\">bview</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">$1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x0000000113a9c600</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">gdvp</span><span class=\"o\">-&gt;</span><span class=\"n\">u_data</span>\n<span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">$2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mh\">0x0000000000000000</span>\n<span class=\"p\">(</span><span class=\"n\">lldb</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>I consequently also get this error in archer immediately on startup if I don't have a full build but have run \"make archer\" to completion, possibly implying a dependency is wrong or unlisted:</p>\n<div class=\"codehilite\" data-code-language=\"Tcl\"><pre><span></span><code><span class=\"nv\">bad</span><span class=\"w\"> </span>option<span class=\"w\"> </span><span class=\"s2\">\"identify\"</span><span class=\"o\">:</span><span class=\"w\"> </span>should<span class=\"w\"> </span>be<span class=\"w\"> </span>one<span class=\"w\"> </span>of...\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>add<span class=\"w\"> </span>tag<span class=\"w\"> </span><span class=\"o\">?</span>arg<span class=\"w\"> </span>arg<span class=\"w\"> </span>...<span class=\"o\">?</span>\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>cget<span class=\"w\"> </span>option\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>childsite<span class=\"w\"> </span><span class=\"o\">?</span>arg<span class=\"w\"> </span>arg<span class=\"w\"> </span>...<span class=\"o\">?</span>\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>component<span class=\"w\"> </span><span class=\"o\">?</span>name<span class=\"o\">?</span><span class=\"w\"> </span><span class=\"o\">?</span>arg<span class=\"w\"> </span>arg<span class=\"w\"> </span>...<span class=\"o\">?</span>\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>config<span class=\"w\"> </span><span class=\"o\">?</span>option<span class=\"o\">?</span><span class=\"w\"> </span><span class=\"o\">?</span>arg<span class=\"w\"> </span>arg<span class=\"w\"> </span>...<span class=\"o\">?</span>\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>configure<span class=\"w\"> </span><span class=\"o\">?</span>option<span class=\"o\">?</span><span class=\"w\"> </span><span class=\"o\">?</span>arg<span class=\"w\"> </span>arg<span class=\"w\"> </span>...<span class=\"o\">?</span>\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>delete<span class=\"w\"> </span>index\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>fraction<span class=\"w\"> </span><span class=\"o\">?</span>arg<span class=\"w\"> </span>arg<span class=\"w\"> </span>...<span class=\"o\">?</span>\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>hide<span class=\"w\"> </span>index\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>index<span class=\"w\"> </span>index\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>insert<span class=\"w\"> </span>index<span class=\"w\"> </span>tag<span class=\"w\"> </span><span class=\"o\">?</span>arg<span class=\"w\"> </span>arg<span class=\"w\"> </span>...<span class=\"o\">?</span>\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>isa<span class=\"w\"> </span>className\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>paneconfigure<span class=\"w\"> </span>index<span class=\"w\"> </span><span class=\"o\">?</span>arg<span class=\"w\"> </span>arg<span class=\"w\"> </span>...<span class=\"o\">?</span>\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>reset\n<span class=\"w\">  </span><span class=\"nv\">.archer0.hpane.pane0.childsite.vpane</span><span class=\"w\"> </span>show<span class=\"w\"> </span>index\n<span class=\"w\">    </span><span class=\"k\">while</span><span class=\"w\"> </span>executing\n<span class=\"s2\">\"$w identify $x $y\"</span>\n<span class=\"w\">    </span><span class=\"k\">(</span><span class=\"nv\">procedure</span><span class=\"w\"> </span><span class=\"s2\">\"::tk::panedwindow::Motion\"</span><span class=\"w\"> </span>line<span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"k\">)</span>\n<span class=\"w\">    </span><span class=\"nv\">invoked</span><span class=\"w\"> </span>from<span class=\"w\"> </span>within\n<span class=\"s2\">\"::tk::panedwindow::Motion .archer0.hpane.pane0.childsite.vpane 399 612 \"</span>\n<span class=\"w\">    </span><span class=\"k\">(</span><span class=\"nv\">command</span><span class=\"w\"> </span>bound<span class=\"w\"> </span>to<span class=\"w\"> </span>event<span class=\"k\">)</span>\n</code></pre></div>",
        "id": 385858671,
        "sender_full_name": "Sean",
        "timestamp": 1692347511
    },
    {
        "content": "<p>Confirmed. I'll try to run it down in the next few days.</p>",
        "id": 386021916,
        "sender_full_name": "starseeker",
        "timestamp": 1692408710
    },
    {
        "content": "<p>OK, I think I got it - looks like adding a default bview to ged's view list on ged_open upsets libtclcad...</p>",
        "id": 387753850,
        "sender_full_name": "starseeker",
        "timestamp": 1693255556
    },
    {
        "content": "<p>Let me know if anything else is still broken</p>",
        "id": 387753945,
        "sender_full_name": "starseeker",
        "timestamp": 1693255584
    }
]