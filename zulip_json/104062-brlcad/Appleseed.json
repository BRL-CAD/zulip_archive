[
    {
        "content": "<p>Shall i share the .appleseed file for you guys to review if its done now ?</p>",
        "id": 120747877,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515355231
    },
    {
        "content": "<p>I am doing the appleseed taks #1 of 5</p>",
        "id": 120747940,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515355359
    },
    {
        "content": "<p>can someone help ?</p>",
        "id": 120748152,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515355848
    },
    {
        "content": "<p>What do you need help with?</p>",
        "id": 120748159,
        "sender_full_name": "Mahdi",
        "timestamp": 1515355870
    },
    {
        "content": "<p>i have taken that appleseed #1 of 5 task</p>",
        "id": 120748162,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515355900
    },
    {
        "content": "<p>I was going to send you a link to my blog post but I'm suspended for some reason :(</p>",
        "id": 120748208,
        "sender_full_name": "Mahdi",
        "timestamp": 1515355958
    },
    {
        "content": "<p>its almost done, but i was told to create an EDF, and i did so</p>",
        "id": 120748256,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515356062
    },
    {
        "content": "<p>i dont remeber how but i binded the EDF to camera and i want to knwo if i can share the .appleseed file here in public</p>",
        "id": 120748261,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515356098
    },
    {
        "content": "<p>sure you can, so long as everyone does their own work</p>",
        "id": 120748275,
        "sender_full_name": "Sean",
        "timestamp": 1515356130
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/dboKt0BNko6Helw6pJt91mEJ/AppleSeedProject.appleseed\" target=\"_blank\" title=\"AppleSeedProject.appleseed\">AppleSeedProject.appleseed</a></p>",
        "id": 120748322,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515356187
    },
    {
        "content": "<p>here, so have i done my task ?</p>",
        "id": 120748325,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515356203
    },
    {
        "content": "<p>does ray tracing work?</p>",
        "id": 120748327,
        "sender_full_name": "Sean",
        "timestamp": 1515356222
    },
    {
        "content": "<p>you get a black window if it's not working</p>",
        "id": 120748333,
        "sender_full_name": "Sean",
        "timestamp": 1515356243
    },
    {
        "content": "<p>you see a sphere if it's right</p>",
        "id": 120748334,
        "sender_full_name": "Sean",
        "timestamp": 1515356253
    },
    {
        "content": "<p>or whatever you import via obj</p>",
        "id": 120748335,
        "sender_full_name": "Sean",
        "timestamp": 1515356263
    },
    {
        "content": "<p>i see a pink sphere</p>",
        "id": 120748378,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515356336
    },
    {
        "content": "<p>and i imported a sphere , i converted a .g file to .obj and imported it in appleseed , the made an instance of it . and Now i can successfully see my sphere</p>",
        "id": 120748388,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515356394
    },
    {
        "content": "<p>so i did the EDF step correctly ?</p>",
        "id": 120748440,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515356518
    },
    {
        "content": "<p>doesn't sound like it</p>",
        "id": 120748689,
        "sender_full_name": "Sean",
        "timestamp": 1515357108
    },
    {
        "content": "<p>did you try the render option up on the menu?</p>",
        "id": 120748730,
        "sender_full_name": "Sean",
        "timestamp": 1515357126
    },
    {
        "content": "<p>Yes</p>",
        "id": 120748780,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515357263
    },
    {
        "content": "<blockquote>\n<p>did you try the render option up on the menu?</p>\n</blockquote>\n<p>Yes , and it showed me the pink sphere</p>",
        "id": 120748781,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515357292
    },
    {
        "content": "<p>the Camera doesn't have any way to get binded to any stuff of environment</p>",
        "id": 120748793,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515357355
    },
    {
        "content": "<p>Speaking of appleseed, has anyone managed to create that plugin yet?</p>",
        "id": 120748836,
        "sender_full_name": "Mahdi",
        "timestamp": 1515357401
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"cixix@balanc3r.com\" data-user-id=\"104255\">@Mahdi</span> no, not even progress I think</p>",
        "id": 120748887,
        "sender_full_name": "Sean",
        "timestamp": 1515357559
    },
    {
        "content": "<p>it's hard but didn't hear any questions</p>",
        "id": 120748888,
        "sender_full_name": "Sean",
        "timestamp": 1515357567
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"malikrahil77@gmail.com\" data-user-id=\"104400\">@Rahil Malik</span> did you create an environment edf?</p>",
        "id": 120748890,
        "sender_full_name": "Sean",
        "timestamp": 1515357577
    },
    {
        "content": "<p>then next edit your environment and bind it</p>",
        "id": 120748938,
        "sender_full_name": "Sean",
        "timestamp": 1515357639
    },
    {
        "content": "<p>I really wanted an afternoon to hack on that but I still can't get the sources working on my windows machine. Running linux on a vm and installing all the sources there would probably be my next move.</p>",
        "id": 120749038,
        "sender_full_name": "Mahdi",
        "timestamp": 1515357845
    },
    {
        "content": "<p>there's not enough time now, but if someone had spent the entire GCI just working on appleseed integration tasks, they probably would have won :)</p>",
        "id": 120749050,
        "sender_full_name": "Sean",
        "timestamp": 1515357909
    },
    {
        "content": "<p>as it is, I think everyone got stuck on the last task -- which was hard, but couldn't figure out a way to break it up better</p>",
        "id": 120749055,
        "sender_full_name": "Sean",
        "timestamp": 1515357958
    },
    {
        "content": "<p>I had a hard time doing the first appleseed task because the mac version is not working in anything after version 1.8</p>",
        "id": 120749240,
        "sender_full_name": "caleb parks",
        "timestamp": 1515358243
    },
    {
        "content": "<p>Are there any tasks that could be done in a couple days and would be considered highly rewarding?</p>",
        "id": 120749248,
        "sender_full_name": "Mahdi",
        "timestamp": 1515358274
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"brlcad@mac.com\" data-user-id=\"102902\">@Sean</span> yes i binded the edf toh the  environment. Then ?</p>",
        "id": 120755594,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515372971
    },
    {
        "content": "<p>I think what you've done is technically enough for the task</p>",
        "id": 120756503,
        "sender_full_name": "Mahdi",
        "timestamp": 1515375213
    },
    {
        "content": "<p>are you sure ? , Thank You !</p>",
        "id": 120758043,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515378555
    },
    {
        "content": "<p>you can see the file and tell me?</p>",
        "id": 120758085,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515378603
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-email=\"brlcad@mac.com\" data-user-id=\"102902\">@Sean</span> yes i binded the edf toh the  environment. Then ?</p>\n</blockquote>\n<p>I think that's it -- what happens if you tell it to raytrace?</p>",
        "id": 120759436,
        "sender_full_name": "Sean",
        "timestamp": 1515381512
    },
    {
        "content": "<p>the pink sphere is rendered</p>",
        "id": 120759535,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515381754
    },
    {
        "content": "<p>what do you mean?  does it render pink or does it show a sphere</p>",
        "id": 120759541,
        "sender_full_name": "Sean",
        "timestamp": 1515381789
    },
    {
        "content": "<p>screenshot!</p>",
        "id": 120759542,
        "sender_full_name": "Sean",
        "timestamp": 1515381800
    },
    {
        "content": "<p>a sphere appears<br>\n<a href=\"/user_uploads/1549/3JWDRNZ1_vIsCpcBN-qUmJzD/AppleSeedss.PNG\" target=\"_blank\" title=\"AppleSeedss.PNG\">AppleSeedss.PNG</a> <a href=\"/user_uploads/1549/6xozsRNRephwTP8E2MHhKSGP/AppleSeed.PNG\" target=\"_blank\" title=\"AppleSeed.PNG\">AppleSeed.PNG</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/3JWDRNZ1_vIsCpcBN-qUmJzD/AppleSeedss.PNG\" target=\"_blank\" title=\"AppleSeedss.PNG\"><img src=\"/user_uploads/1549/3JWDRNZ1_vIsCpcBN-qUmJzD/AppleSeedss.PNG\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/1549/6xozsRNRephwTP8E2MHhKSGP/AppleSeed.PNG\" target=\"_blank\" title=\"AppleSeed.PNG\"><img src=\"/user_uploads/1549/6xozsRNRephwTP8E2MHhKSGP/AppleSeed.PNG\"></a></div>",
        "id": 120759544,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515381816
    },
    {
        "content": "<p>so that's still not right</p>",
        "id": 120759583,
        "sender_full_name": "Sean",
        "timestamp": 1515381857
    },
    {
        "content": "<p>the first screenshot only not the second one</p>",
        "id": 120759584,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515381875
    },
    {
        "content": "<p>by chance, did you turn on one of the debug modes?</p>",
        "id": 120759585,
        "sender_full_name": "Sean",
        "timestamp": 1515381879
    },
    {
        "content": "<p>nope</p>",
        "id": 120759586,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515381901
    },
    {
        "content": "<p>Diagnostics-&gt;Override Shader is set to what?</p>",
        "id": 120759594,
        "sender_full_name": "Sean",
        "timestamp": 1515381933
    },
    {
        "content": "<p>what is missing then ? , wil creating a new project do it</p>",
        "id": 120759595,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515381938
    },
    {
        "content": "<p>trying to figure out what's wrong</p>",
        "id": 120759596,
        "sender_full_name": "Sean",
        "timestamp": 1515381960
    },
    {
        "content": "<blockquote>\n<p>Diagnostics-&gt;Override Shader is set to what?</p>\n</blockquote>\n<p>no override</p>",
        "id": 120759637,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515381979
    },
    {
        "content": "<p>k, that's good</p>",
        "id": 120759641,
        "sender_full_name": "Sean",
        "timestamp": 1515381985
    },
    {
        "content": "<p>so, pink color is not good ? it shouldn''t been there ?</p>",
        "id": 120759659,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382027
    },
    {
        "content": "<p>of course not .. does that look nice to you? :)</p>",
        "id": 120759662,
        "sender_full_name": "Sean",
        "timestamp": 1515382040
    },
    {
        "content": "<p>From the first pointt  tried it was like this so i ont know the difference</p>",
        "id": 120759706,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382099
    },
    {
        "content": "<p>can you send me screenshot of how it should look like ?</p>",
        "id": 120759714,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382150
    },
    {
        "content": "<p>i have appleseed 1.8.0-beta</p>",
        "id": 120759759,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382217
    },
    {
        "content": "<p>I deleted my test setup, but let me see if I can recreate it</p>",
        "id": 120759808,
        "sender_full_name": "Sean",
        "timestamp": 1515382331
    },
    {
        "content": "<p>it should simply look like a rendered sph.  that's pink to tell you that something isn't set up right</p>",
        "id": 120759809,
        "sender_full_name": "Sean",
        "timestamp": 1515382355
    },
    {
        "content": "<p>oh wait, did you set a material on it?</p>",
        "id": 120759810,
        "sender_full_name": "Sean",
        "timestamp": 1515382370
    },
    {
        "content": "<p>on the object instance</p>",
        "id": 120759817,
        "sender_full_name": "Sean",
        "timestamp": 1515382401
    },
    {
        "content": "<p>no</p>",
        "id": 120759819,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382405
    },
    {
        "content": "<p>that's probably the problem</p>",
        "id": 120759820,
        "sender_full_name": "Sean",
        "timestamp": 1515382414
    },
    {
        "content": "<p>it's pink because you've not told it what it should look like, what material it is</p>",
        "id": 120759822,
        "sender_full_name": "Sean",
        "timestamp": 1515382441
    },
    {
        "content": "<p>just set one of the defaults like the disney material</p>",
        "id": 120759861,
        "sender_full_name": "Sean",
        "timestamp": 1515382457
    },
    {
        "content": "<p>i actually created another prject and as soon as i import the object , the object instance is made and its there on th screen when i rendeer it</p>",
        "id": 120759863,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382462
    },
    {
        "content": "<blockquote>\n<p>that's probably the problem</p>\n</blockquote>\n<p>OKay</p>",
        "id": 120759864,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382471
    },
    {
        "content": "<p>what's it look like?</p>",
        "id": 120759872,
        "sender_full_name": "Sean",
        "timestamp": 1515382550
    },
    {
        "content": "<p>done,</p>",
        "id": 120759914,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382575
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/YEm6AAYEQy6qW9meUMvdQIza/donehere.PNG\" target=\"_blank\" title=\"donehere.PNG\">donehere.PNG</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/YEm6AAYEQy6qW9meUMvdQIza/donehere.PNG\" target=\"_blank\" title=\"donehere.PNG\"><img src=\"/user_uploads/1549/YEm6AAYEQy6qW9meUMvdQIza/donehere.PNG\"></a></div>",
        "id": 120759916,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382584
    },
    {
        "content": "<p>there ya go</p>",
        "id": 120759917,
        "sender_full_name": "Sean",
        "timestamp": 1515382605
    },
    {
        "content": "<p>THANK YOU sooo much</p>",
        "id": 120759923,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382664
    },
    {
        "content": "<p>so relieved</p>",
        "id": 120759924,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382667
    },
    {
        "content": "<p>as its done, i have uploaded it on code-in and submitted <span class=\"emoji emoji-1f44d\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 120759963,
        "sender_full_name": "Rahil Malik",
        "timestamp": 1515382698
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"miteshgulecha@gmail.com\" data-user-id=\"104224\">@Mitesh</span> I see that franz explained the same to you about plugins a couple days ago</p>",
        "id": 121253371,
        "sender_full_name": "Sean",
        "timestamp": 1516339067
    },
    {
        "content": "<p>ya I had a talk with him...but now i have understood little more...</p>",
        "id": 121257448,
        "sender_full_name": "Mitesh",
        "timestamp": 1516348562
    },
    {
        "content": "<p>I guess since GCI is sort of over, I'll use this stream instead.</p>",
        "id": 121257642,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516348941
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/uEHlkxUO0dxQB2tl5Kpj1u3N/appleseedplugin.zip\" target=\"_blank\" title=\"appleseedplugin.zip\">appleseedplugin.zip</a></p>",
        "id": 121257643,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516348958
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/D1oA1uDBKkb1Q1ytv6dyiyI3/pluginerror.txt\" target=\"_blank\" title=\"pluginerror.txt\">pluginerror.txt</a> <br>\nThis does not work without crashing Appleseed upon Rendering though.<br>\nThe above error is returned (for me at least).</p>",
        "id": 121257694,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516349068
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span>  which system do you use?</p>",
        "id": 121257767,
        "sender_full_name": "Mitesh",
        "timestamp": 1516349217
    },
    {
        "content": "<p>Ubuntu 16.04</p>",
        "id": 121257926,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516349619
    },
    {
        "content": "<p>oh I see... I have windows 10... anyways...thanks</p>",
        "id": 121257966,
        "sender_full_name": "Mitesh",
        "timestamp": 1516349661
    },
    {
        "content": "<p>aha <span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span> ... at a quick glance at that error log, I'd say you don't have resources initialized</p>",
        "id": 121276854,
        "sender_full_name": "Sean",
        "timestamp": 1516384790
    },
    {
        "content": "<p>you'll need to create an array of resources: struct resource[MAX_CPUS] = {0};</p>",
        "id": 121277211,
        "sender_full_name": "Sean",
        "timestamp": 1516385339
    },
    {
        "content": "<p>call rt_resource_init() on each</p>",
        "id": 121277219,
        "sender_full_name": "Sean",
        "timestamp": 1516385352
    },
    {
        "content": "<p>then making sure each rt_shootray() not only passes one, but is passed the right one for a given thread</p>",
        "id": 121277229,
        "sender_full_name": "Sean",
        "timestamp": 1516385399
    },
    {
        "content": "<p>you'l have to figure out a way to determine which thread you are when the plugin is running</p>",
        "id": 121277280,
        "sender_full_name": "Sean",
        "timestamp": 1516385429
    },
    {
        "content": "<p>I couldn't use that plugin since i have windows... <br>\nBut as <span class=\"user-mention\" data-user-email=\"brlcad@mac.com\" data-user-id=\"102902\">@Sean</span>  suggested i removed all the code and tried adding printf(\"\"); the build was sucessfull and also appleseed ran successfully....later on I again tried writing out file in which the hello world text is displayed(as I did in appleseed #3). and file was successfully loaded out.</p>",
        "id": 121292746,
        "sender_full_name": "Mitesh",
        "timestamp": 1516412311
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span>  i saw you have included tcl libraries which i haven't maybe that's what causing the problem....</p>",
        "id": 121292813,
        "sender_full_name": "Mitesh",
        "timestamp": 1516412422
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"brlcad@mac.com\" data-user-id=\"102902\">@Sean</span> i think I did that though, I initialised 100 resources and used bu_parallel_id to find out which cpu was being used</p>",
        "id": 121294377,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516416185
    },
    {
        "content": "<p>Or maybe I accidentally removed that part while trying things</p>",
        "id": 121294382,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516416201
    },
    {
        "content": "<p>Is using ap-&gt;a_resource = resource[cpu] the right way to do it?</p>",
        "id": 121294526,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516416552
    },
    {
        "content": "<blockquote>\n<p>Or maybe I accidentally removed that part while trying things</p>\n</blockquote>\n<p>Nope, it's definitely still there. Something like this:</p>\n<div class=\"codehilite\"><pre><span></span>/* in prep_brlcad \\/ */\nchar title [1024] = {0};\nrtip = rt_dirbuild(db_path.c_str(), title, sizeof(title));\nm_resources = static_cast&lt;resource*&gt;(bu_calloc(1, sizeof(resource)*100, &quot;appleseed&quot;));\nfor (size_t i = 0; i &lt; 100; i++) {\n    rt_init_resource(&amp;m_resources[i], i, rtip);\n    RT_CK_RESOURCE(&amp;m_resources[i]);\n}\n\n/* in intersect \\/ */\nint cpu = bu_parallel_id();\nap-&gt;a_resource = &amp;m_resources[cpu];\nrt_shootray(ap);\n</pre></div>",
        "id": 121294981,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516417628
    },
    {
        "content": "<blockquote>\n<p>you'l have to figure out a way to determine which thread you are when the plugin is running</p>\n</blockquote>\n<p>For me, just printing out <code>bu_parallel_id()</code> during <code>intersect()</code> always gives me 0</p>",
        "id": 121295526,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516418871
    },
    {
        "content": "<p>extremely sorry...I have chemistry practicals final exam on monday...so I won't be much active..</p>",
        "id": 121314493,
        "sender_full_name": "Mitesh",
        "timestamp": 1516466370
    },
    {
        "content": "<p>Good luck with the exams! <span class=\"user-mention\" data-user-email=\"miteshgulecha@gmail.com\" data-user-id=\"104224\">@Mitesh</span> .</p>",
        "id": 121318979,
        "sender_full_name": "Naseef",
        "timestamp": 1516476788
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span> bu_parallel_id() is only useful if you use bu_parallel() threading.  appleseed is going to be doing their own threading, so you need to figure out which thread is running, or set/look up an ID, or hash an ID based on some system lookup, etc.</p>",
        "id": 121407427,
        "sender_full_name": "Sean",
        "timestamp": 1516667332
    },
    {
        "content": "<p>that 0 every time is the problem -- they're all using the same resource and clobbering data (hence the crash)</p>",
        "id": 121407437,
        "sender_full_name": "Sean",
        "timestamp": 1516667367
    },
    {
        "content": "<p>Hi everyone...Got no change in result when included tcl libraries</p>",
        "id": 121422074,
        "sender_full_name": "Mitesh",
        "timestamp": 1516698060
    },
    {
        "content": "<p>you need to include more than the tcl libs</p>",
        "id": 121422125,
        "sender_full_name": "Sean",
        "timestamp": 1516698159
    },
    {
        "content": "<p>what are you including?</p>",
        "id": 121422126,
        "sender_full_name": "Sean",
        "timestamp": 1516698161
    },
    {
        "content": "<p>and how</p>",
        "id": 121422127,
        "sender_full_name": "Sean",
        "timestamp": 1516698165
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/9pOtPYMiM3thsi0iUrTLV1Qy/includinglib.PNG\" target=\"_blank\" title=\"includinglib.PNG\">includinglib.PNG</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/9pOtPYMiM3thsi0iUrTLV1Qy/includinglib.PNG\" target=\"_blank\" title=\"includinglib.PNG\"><img src=\"/user_uploads/1549/9pOtPYMiM3thsi0iUrTLV1Qy/includinglib.PNG\"></a></div>",
        "id": 121422196,
        "sender_full_name": "Mitesh",
        "timestamp": 1516698334
    },
    {
        "content": "<p>including libraries using cmakelists.....</p>",
        "id": 121422238,
        "sender_full_name": "Mitesh",
        "timestamp": 1516698370
    },
    {
        "content": "<p>that doesn't look normal to me... there should just be one target_link_libraries directive</p>",
        "id": 121422239,
        "sender_full_name": "Sean",
        "timestamp": 1516698396
    },
    {
        "content": "<p>you list all of the libs</p>",
        "id": 121422241,
        "sender_full_name": "Sean",
        "timestamp": 1516698403
    },
    {
        "content": "<p>all of the libs- means the libraries that I have included?</p>",
        "id": 121422247,
        "sender_full_name": "Mitesh",
        "timestamp": 1516698479
    },
    {
        "content": "<p>it means all of the libraries that the plugin requires</p>",
        "id": 121422286,
        "sender_full_name": "Sean",
        "timestamp": 1516698511
    },
    {
        "content": "<p>try just listing them all after the appleseed libs</p>",
        "id": 121422392,
        "sender_full_name": "Sean",
        "timestamp": 1516698779
    },
    {
        "content": "<p>or bunch them together in quotes, separated with semicolon</p>",
        "id": 121422397,
        "sender_full_name": "Sean",
        "timestamp": 1516698792
    },
    {
        "content": "<p><code>target_link_libraries (sphereobject\n    ${APPLESEED_LIBRARIES} H:\\\\BRLCAD7.26.0\\\\lib\\\\libbu.lib H:\\\\BRLCAD7.26.0\\\\lib\\\\librt.lib H:\\\\BRLCAD7.26.0\\\\lib\\\\libbn.lib H:\\\\BRLCAD7.26.0\\\\lib\\\\libwdb.lib H:\\\\BRLCAD7.26.0\\\\lib\\\\librt-static.lib H:\\\\BRLCAD7.26.0\\\\lib\\\\tcl.lib H:\\\\BRLCAD7.26.0\\\\lib\\\\brlcad.lib\n)</code></p>\n<p>is this correct?</p>",
        "id": 121422399,
        "sender_full_name": "Mitesh",
        "timestamp": 1516698814
    },
    {
        "content": "<p>it's a start, maybe</p>",
        "id": 121422400,
        "sender_full_name": "Sean",
        "timestamp": 1516698831
    },
    {
        "content": "<p>well this gives no difference in the result</p>",
        "id": 121422440,
        "sender_full_name": "Mitesh",
        "timestamp": 1516698889
    },
    {
        "content": "<p>the order sometimes matters -- the less dependent libs should come last</p>",
        "id": 121422441,
        "sender_full_name": "Sean",
        "timestamp": 1516698890
    },
    {
        "content": "<p>i.e., brlcad, wdb, rt, bn, bu</p>",
        "id": 121422452,
        "sender_full_name": "Sean",
        "timestamp": 1516698931
    },
    {
        "content": "<p>looks like you're missing some too</p>",
        "id": 121422455,
        "sender_full_name": "Sean",
        "timestamp": 1516698939
    },
    {
        "content": "<p>openNURBS comes to mind</p>",
        "id": 121422457,
        "sender_full_name": "Sean",
        "timestamp": 1516698950
    },
    {
        "content": "<p>you're also mixing static with non-static, which is wrong</p>",
        "id": 121422501,
        "sender_full_name": "Sean",
        "timestamp": 1516699002
    },
    {
        "content": "<p>remove librt-static</p>",
        "id": 121422502,
        "sender_full_name": "Sean",
        "timestamp": 1516699009
    },
    {
        "content": "<p>after all the changes got same result.</p>",
        "id": 121422601,
        "sender_full_name": "Mitesh",
        "timestamp": 1516699238
    },
    {
        "content": "<p>did you try the semicolon?</p>",
        "id": 121422602,
        "sender_full_name": "Sean",
        "timestamp": 1516699263
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>target_link_libraries (sphereobject\n    ${APPLESEED_LIBRARIES} H:\\\\BRLCAD7.26.0\\\\lib\\\\brlcad.lib H:\\\\BRLCAD7.26.0\\\\lib\\\\libwdb.lib H:\\\\BRLCAD7.26.0\\\\lib\\\\librt.lib H:\\\\BRLCAD7.26.0\\\\lib\\\\libbn.lib H:\\\\BRLCAD7.26.0\\\\lib\\\\libbu.lib H:\\\\BRLCAD7.26.0\\\\lib\\\\tcl.lib  H:\\\\BRLCAD7.26.0\\\\lib\\\\openNURBS.lib\n)\n</pre></div>",
        "id": 121422607,
        "sender_full_name": "Mitesh",
        "timestamp": 1516699274
    },
    {
        "content": "<p>not added semicolon...<br>\nvisual studio adds semicolon if there is \"space\"<br>\n<a href=\"/user_uploads/1549/r9weiMJrKZrfarOJXHHpGU_h/nsc.PNG\" target=\"_blank\" title=\"nsc.PNG\">nsc.PNG</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/r9weiMJrKZrfarOJXHHpGU_h/nsc.PNG\" target=\"_blank\" title=\"nsc.PNG\"><img src=\"/user_uploads/1549/r9weiMJrKZrfarOJXHHpGU_h/nsc.PNG\"></a></div>",
        "id": 121422658,
        "sender_full_name": "Mitesh",
        "timestamp": 1516699390
    },
    {
        "content": "<p>ah, good, that's reassuring</p>",
        "id": 121422661,
        "sender_full_name": "Sean",
        "timestamp": 1516699433
    },
    {
        "content": "<p>so what exactly are you trying to do?</p>",
        "id": 121422698,
        "sender_full_name": "Sean",
        "timestamp": 1516699444
    },
    {
        "content": "<p>trying to link brlcad libraries with sphereobject...</p>",
        "id": 121422703,
        "sender_full_name": "Mitesh",
        "timestamp": 1516699474
    },
    {
        "content": "<p>you need to be more specific</p>",
        "id": 121422704,
        "sender_full_name": "Sean",
        "timestamp": 1516699494
    },
    {
        "content": "<p>you say sphereobject, am I to assume this is appleseed's demo code?  is it modified?</p>",
        "id": 121422718,
        "sender_full_name": "Sean",
        "timestamp": 1516699540
    },
    {
        "content": "<p>how is it being compiled?</p>",
        "id": 121422721,
        "sender_full_name": "Sean",
        "timestamp": 1516699557
    },
    {
        "content": "<p>yes it is the appleseed's demo code. No it is not modified...it is being compiled in x64 release mode.</p>",
        "id": 121422772,
        "sender_full_name": "Mitesh",
        "timestamp": 1516699653
    },
    {
        "content": "<p>then it should work if you leave off all the brl-cad libs?</p>",
        "id": 121422814,
        "sender_full_name": "Sean",
        "timestamp": 1516699702
    },
    {
        "content": "<p>otherwise what do you need them for?</p>",
        "id": 121422815,
        "sender_full_name": "Sean",
        "timestamp": 1516699716
    },
    {
        "content": "<p>well  i have simply copied the brlcad rtexample.c functions in it and for those functions I need libraries...</p>",
        "id": 121422824,
        "sender_full_name": "Mitesh",
        "timestamp": 1516699753
    },
    {
        "content": "<p>so ... when you tell me \"No it is not modified\", I start to doubt other responses :)</p>",
        "id": 121423357,
        "sender_full_name": "Sean",
        "timestamp": 1516700909
    },
    {
        "content": "<p>that is very much a modification</p>",
        "id": 121423358,
        "sender_full_name": "Sean",
        "timestamp": 1516700917
    },
    {
        "content": "<p>so the next question is whether it worked before your modification</p>",
        "id": 121423361,
        "sender_full_name": "Sean",
        "timestamp": 1516700940
    },
    {
        "content": "<p>and can you undo your changes and demonstrate it still works</p>",
        "id": 121423366,
        "sender_full_name": "Sean",
        "timestamp": 1516700961
    },
    {
        "content": "<p>ya...sure.</p>",
        "id": 121423688,
        "sender_full_name": "Mitesh",
        "timestamp": 1516701618
    },
    {
        "content": "<p>screenshot?</p>",
        "id": 121423750,
        "sender_full_name": "Sean",
        "timestamp": 1516701730
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/Z3wevz4YNRdkNZiiF-zYOwZV/itworks.PNG\" target=\"_blank\" title=\"itworks.PNG\">itworks.PNG</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/Z3wevz4YNRdkNZiiF-zYOwZV/itworks.PNG\" target=\"_blank\" title=\"itworks.PNG\"><img src=\"/user_uploads/1549/Z3wevz4YNRdkNZiiF-zYOwZV/itworks.PNG\"></a></div>",
        "id": 121423757,
        "sender_full_name": "Mitesh",
        "timestamp": 1516701762
    },
    {
        "content": "<p>cool, and what's the code look like now?</p>",
        "id": 121423767,
        "sender_full_name": "Sean",
        "timestamp": 1516701789
    },
    {
        "content": "<p>sorry. didn't get you</p>",
        "id": 121423817,
        "sender_full_name": "Mitesh",
        "timestamp": 1516701853
    },
    {
        "content": "<p>what's the code look like?</p>",
        "id": 121423822,
        "sender_full_name": "Sean",
        "timestamp": 1516701881
    },
    {
        "content": "<p>upload your source code</p>",
        "id": 121423829,
        "sender_full_name": "Sean",
        "timestamp": 1516701907
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>//\n// This source file is part of appleseed.\n// Visit http://appleseedhq.net/ for additional information and resources.\n//\n// This software is released under the MIT license.\n//\n// Copyright (c) 2017 Francois Beaune, The appleseedhq Organization\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the &quot;Software&quot;), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n//\n\n// appleseed.renderer headers.\n#include &quot;renderer/api/object.h&quot;\n#include &quot;renderer/api/project.h&quot;\n#include &quot;renderer/api/rendering.h&quot;\n#include &quot;renderer/api/scene.h&quot;\n#include &quot;renderer/api/types.h&quot;\n\n// todo: fix.\n#include &quot;renderer/kernel/shading/shadingray.h&quot;\n\n// appleseed.foundation headers.\n#include &quot;foundation/math/ray.h&quot;\n#include &quot;foundation/math/scalar.h&quot;\n#include &quot;foundation/math/vector.h&quot;\n#include &quot;foundation/utility/api/specializedapiarrays.h&quot;\n#include &quot;foundation/utility/containers/dictionary.h&quot;\n#include &quot;foundation/utility/job/iabortswitch.h&quot;\n#include &quot;foundation/utility/searchpaths.h&quot;\n#include &quot;foundation/utility/string.h&quot;\n// appleseed.main headers.\n#include &quot;main/dllvisibility.h&quot;\n// Standard headers.\n#include &lt;algorithm&gt;\n#include &lt;cmath&gt;\n\n\nnamespace asf = foundation;\nnamespace asr = renderer;\n\nnamespace\n{\n    //\n    // A sphere object.\n    //\n    // The sphere is assumed to be centered at the origin.\n    //\n\n    const char* Model = &quot;sphere_object&quot;;\n\n    class SphereObject\n      : public asr::ProceduralObject\n    {\n      public:\n        // Constructor.\n        SphereObject(\n            const char*                 name,\n            const asr::ParamArray&amp;      params)\n          : asr::ProceduralObject(name, params)\n          , m_lazy_region_kit(&amp;m_region_kit)\n        {\n        }\n\n        // Delete this instance.\n        void release() override\n        {\n            delete this;\n        }\n\n        // Return a string identifying this object model.\n        const char* get_model() const override\n        {\n            return Model;\n        }\n\n        // This method is called once before rendering each frame.\n        // Returns true on success, false otherwise.\n        virtual bool on_frame_begin(\n            const asr::Project&amp;         project,\n            const asr::BaseGroup*       parent,\n            asr::OnFrameBeginRecorder&amp;  recorder,\n            asf::IAbortSwitch*          abort_switch) override\n        {\n            if (!asr::ProceduralObject::on_frame_begin(project, parent, recorder, abort_switch))\n                return false;\n\n            m_radius = get_uncached_radius();\n            m_rcp_radius = 1.0 / m_radius;\n\n            return true;\n        }\n\n        // Compute the local space bounding box of the object over the shutter interval.\n        asr::GAABB3 compute_local_bbox() const override\n        {\n            const auto r = static_cast&lt;asr::GScalar&gt;(get_uncached_radius());\n            return asr::GAABB3(asr::GVector3(-r), asr::GVector3(r));\n        }\n\n        // Return the region kit of the object.\n        asf::Lazy&lt;asr::RegionKit&gt;&amp; get_region_kit() override\n        {\n            return m_lazy_region_kit;\n        }\n\n        // Access materials slots.\n        size_t get_material_slot_count() const override\n        {\n            return 1;\n        }\n        const char* get_material_slot(const size_t index) const override\n        {\n            return &quot;default&quot;;\n        }\n\n        // Compute the intersection between a ray expressed in object space and\n        // the surface of this object and return detailed intersection results.\n        void intersect(\n            const asr::ShadingRay&amp;  ray,\n            IntersectionResult&amp;     result) const override\n        {\n            const double Epsilon = 1.0e-6;\n\n            const double a = asf::dot(ray.m_org, ray.m_dir);\n            const double b = asf::square(a) - dot(ray.m_org, ray.m_org) + asf::square(m_radius);\n\n            if (b &lt; 0.0)\n            {\n                result.m_hit = false;\n                return;\n            }\n\n            const double c = std::sqrt(b);\n\n            double t = -a - c;\n            if (t &lt; std::max(ray.m_tmin, Epsilon) || t &gt;= ray.m_tmax)\n            {\n                t = -a + c;\n                if (t &lt; std::max(ray.m_tmin, Epsilon) || t &gt;= ray.m_tmax)\n                {\n                    result.m_hit = false;\n                    return;\n                }\n            }\n\n            result.m_hit = true;\n\n            result.m_distance = true;\n            const asf::Vector3d n = asf::normalize(ray.point_at(t));\n            result.m_geometric_normal = n;\n            result.m_shading_normal = n;\n\n            const asf::Vector3f p(ray.point_at(t) * m_rcp_radius);\n            result.m_uv[0] = std::acos(p.y) * asf::RcpPi&lt;float&gt;();\n            result.m_uv[1] = std::atan2(-p.z, p.x) * asf::RcpTwoPi&lt;float&gt;();\n\n            result.m_material_slot = 0;\n\n        }\n\n        // Compute the intersection between a ray expressed in object space and\n        // the surface of this object and simply return whether there was a hit.\n        bool intersect(\n            const asr::ShadingRay&amp;  ray) const override\n        {\n\n            const double Epsilon = 1.0e-6;\n\n            const double a = asf::dot(ray.m_org, ray.m_dir);\n            const double b = asf::square(a) - dot(ray.m_org, ray.m_org) + asf::square(m_radius);\n\n            if (b &lt; 0.0)\n                return false;\n\n            const double c = std::sqrt(b);\n\n            const double t1 = -a - c;\n            if (t1 &gt;= std::max(ray.m_tmin, Epsilon) &amp;&amp; t1 &lt; ray.m_tmax)\n                return true;\n\n            const double t2 = -a + c;\n            if (t2 &gt;= std::max(ray.m_tmin, Epsilon) &amp;&amp; t2 &lt; ray.m_tmax)\n                return true;\n\n            return false;\n\n\n        }\n\n\n      private:\n        asr::RegionKit              m_region_kit;\n        asf::Lazy&lt;asr::RegionKit&gt;   m_lazy_region_kit;\n        double                      m_radius;\n        double                      m_rcp_radius;\n\n        double get_uncached_radius() const\n        {\n            return m_params.get_optional&lt;double&gt;(&quot;radius&quot;);\n        }\n    };\n\n\n    //\n    // Factory for the new object model.\n    //\n\n    class SphereObjectFactory\n      : public asr::IObjectFactory\n    {\n      public:\n        // Delete this instance.\n        void release() override\n        {\n            delete this;\n        }\n\n        // Return a string identifying this object model.\n        const char* get_model() const override\n        {\n            return Model;\n        }\n\n        // Return metadata for this object model.\n        asf::Dictionary get_model_metadata() const override\n        {\n            return\n                asf::Dictionary()\n                    .insert(&quot;name&quot;, Model)\n                    .insert(&quot;label&quot;, &quot;Sphere Object&quot;);\n\n        }\n\n        // Return metadata for the inputs of this object model.\n        asf::DictionaryArray get_input_metadata() const override\n        {\n            asf::DictionaryArray metadata;\n\n            metadata.push_back(\n                asf::Dictionary()\n                    .insert(&quot;name&quot;, &quot;radius&quot;)\n                    .insert(&quot;label&quot;, &quot;Radius&quot;)\n                    .insert(&quot;type&quot;, &quot;numeric&quot;)\n                    .insert(&quot;min&quot;,\n                        asf::Dictionary()\n                            .insert(&quot;value&quot;, &quot;0.0&quot;)\n                            .insert(&quot;type&quot;, &quot;hard&quot;))\n                    .insert(&quot;max&quot;,\n                        asf::Dictionary()\n                            .insert(&quot;value&quot;, &quot;10.0&quot;)\n                            .insert(&quot;type&quot;, &quot;soft&quot;))\n                    .insert(&quot;use&quot;, &quot;optional&quot;)\n                    .insert(&quot;default&quot;, &quot;1.0&quot;));\n\n            return metadata;\n        }\n\n        // Create a new single empty object.\n        asf::auto_release_ptr&lt;asr::Object&gt; create(\n            const char*                 name,\n            const asr::ParamArray&amp;      params) const override\n        {\n            return asf::auto_release_ptr&lt;asr::Object&gt;(new SphereObject(name, params));\n        }\n\n        // Create objects, potentially from external assets.\n        bool create(\n            const char*                 name,\n            const asr::ParamArray&amp;      params,\n            const asf::SearchPaths&amp;     search_paths,\n            const bool                  omit_loading_assets,\n            asr::ObjectArray&amp;           objects) const override\n        {\n            objects.push_back(create(name, params).release());\n            return true;\n        }\n    };\n}\n\n\n//\n// Plugin entry point.\n//\n\nextern &quot;C&quot;\n{\n    APPLESEED_DLL_EXPORT asr::IObjectFactory* appleseed_create_object_factory()\n    {\n        return new SphereObjectFactory();\n    }\n}\n</pre></div>",
        "id": 121423938,
        "sender_full_name": "Mitesh",
        "timestamp": 1516702146
    },
    {
        "content": "<p>er, where's the modifications you made?</p>",
        "id": 121424227,
        "sender_full_name": "Sean",
        "timestamp": 1516702782
    },
    {
        "content": "<p>I'd expect them to be commented out, no??</p>",
        "id": 121424230,
        "sender_full_name": "Sean",
        "timestamp": 1516702793
    },
    {
        "content": "<p>i erased it...wait i am adding it again..</p>",
        "id": 121424278,
        "sender_full_name": "Mitesh",
        "timestamp": 1516702834
    },
    {
        "content": "<p>so i'm running out of time, but my suggestion is to start super duper simpler</p>",
        "id": 121424400,
        "sender_full_name": "Sean",
        "timestamp": 1516703057
    },
    {
        "content": "<p>like just include a bu header, then make one bu function call like printing bu_parallel_id() or printing a bu_vls string via bu_vls_addr().</p>",
        "id": 121424420,
        "sender_full_name": "Sean",
        "timestamp": 1516703134
    },
    {
        "content": "<p>then you should only need to add libbu</p>",
        "id": 121424422,
        "sender_full_name": "Sean",
        "timestamp": 1516703154
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span> bu_parallel_id() is only useful if you use bu_parallel() threading.  appleseed is going to be doing their own threading, so you need to figure out which thread is running, or set/look up an ID, or hash an ID based on some system lookup, etc.</p>\n</blockquote>\n<p>Oh, right. I'll see if I can figure something out.</p>",
        "id": 121424462,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516703166
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"miteshgulecha@gmail.com\" data-user-id=\"104224\">@Mitesh</span>  if that doesn't work, you probably have something else missing</p>",
        "id": 121424472,
        "sender_full_name": "Sean",
        "timestamp": 1516703208
    },
    {
        "content": "<p>you can try defining BU_DLL_IMPORTS</p>",
        "id": 121424480,
        "sender_full_name": "Sean",
        "timestamp": 1516703247
    },
    {
        "content": "<blockquote>\n<p>Oh, right. I'll see if I can figure something out.</p>\n</blockquote>\n<p>Be a great question for Franz <span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span>  ;)</p>",
        "id": 121424524,
        "sender_full_name": "Sean",
        "timestamp": 1516703295
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>//\n// This source file is part of appleseed.\n// Visit http://appleseedhq.net/ for additional information and resources.\n//\n// This software is released under the MIT license.\n//\n// Copyright (c) 2017 Francois Beaune, The appleseedhq Organization\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the &quot;Software&quot;), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n//\n\n// appleseed.renderer headers.\n#include &quot;renderer/api/object.h&quot;\n#include &quot;renderer/api/project.h&quot;\n#include &quot;renderer/api/rendering.h&quot;\n#include &quot;renderer/api/scene.h&quot;\n#include &quot;renderer/api/types.h&quot;\n\n// todo: fix.\n#include &quot;renderer/kernel/shading/shadingray.h&quot;\n\n// appleseed.foundation headers.\n#include &quot;foundation/math/ray.h&quot;\n#include &quot;foundation/math/scalar.h&quot;\n#include &quot;foundation/math/vector.h&quot;\n#include &quot;foundation/utility/api/specializedapiarrays.h&quot;\n#include &quot;foundation/utility/containers/dictionary.h&quot;\n#include &quot;foundation/utility/job/iabortswitch.h&quot;\n#include &quot;foundation/utility/searchpaths.h&quot;\n#include &quot;foundation/utility/string.h&quot;\n\n// appleseed.main headers.\n#include &quot;main/dllvisibility.h&quot;\n// Standard headers.\n#include &lt;algorithm&gt;\n#include &lt;cmath&gt;\n\n\n#include &quot;H:\\BRLCAD7.26.0\\include\\brlcad\\common.h&quot;\n#include &lt;stdlib.h&gt;\n#include &lt;math.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\n#include &quot;windows.h&quot;\n#include &quot;H:\\BRLCAD7.26.0\\include\\brlcad\\vmath.h&quot;       /* vector math macros */\n#include &quot;H:\\BRLCAD7.26.0\\include\\brlcad\\raytrace.h&quot;        /* librt interface definitions */\n#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &quot;renderer/api/object.h&quot;\n#include &quot;renderer/api/project.h&quot;\n#include &quot;renderer/api/rendering.h&quot;\n#include &quot;renderer/api/scene.h&quot;\n#include &quot;renderer/api/types.h&quot;\n\n#define BU_DLL_IMPORTS\n\nnamespace asf = foundation;\nnamespace asr = renderer;\n\n\nint\nhit(struct application *ap, struct partition *PartHeadp, struct seg *UNUSED(segs))\n{\n    /* iterating over partitions, this will keep track of the current\n    * partition we&#39;re working on.\n    */\n\n\n    struct partition *pp;\n\n    /* will serve as a pointer for the entry and exit hitpoints */\n    struct hit *hitp;\n\n    /* will serve as a pointer to the solid primitive we hit */\n    struct soltab *stp;\n\n    /* will contain surface curvature information at the entry */\n    struct curvature cur = RT_CURVATURE_INIT_ZERO;\n\n    /* will contain our hit point coordinate */\n    point_t pt;\n\n    /* will contain normal vector where ray enters geometry */\n    vect_t inormal;\n\n    /* will contain normal vector where ray exits geometry */\n    vect_t onormal;\n\n    /* iterate over each partition until we get back to the head.\n    * each partition corresponds to a specific homogeneous region of\n    * material.\n    */\n    for (pp = PartHeadp-&gt;pt_forw; pp != PartHeadp; pp = pp-&gt;pt_forw) {\n\n        /* print the name of the region we hit as well as the name of\n        * the primitives encountered on entry and exit.\n        */\n        bu_log(&quot;\\n--- Hit region %s (in %s, out %s)\\n&quot;,\n            pp-&gt;pt_regionp-&gt;reg_name,\n            pp-&gt;pt_inseg-&gt;seg_stp-&gt;st_name,\n            pp-&gt;pt_outseg-&gt;seg_stp-&gt;st_name);\n\n        /* entry hit point, so we type less */\n        hitp = pp-&gt;pt_inhit;\n\n        /* construct the actual (entry) hit-point from the ray and the\n        * distance to the intersection point (i.e., the &#39;t&#39; value).\n        */\n        VJOIN1(pt, ap-&gt;a_ray.r_pt, hitp-&gt;hit_dist, ap-&gt;a_ray.r_dir);\n\n        /* primitive we encountered on entry */\n        stp = pp-&gt;pt_inseg-&gt;seg_stp;\n\n        /* compute the normal vector at the entry point, flipping the\n        * normal if necessary.\n        */\n        RT_HIT_NORMAL(inormal, hitp, stp, &amp;(ap-&gt;a_ray), pp-&gt;pt_inflip);\n\n        /* print the entry hit point info */\n        rt_pr_hit(&quot;  In&quot;, hitp);\n        /*\n        VPRINT(&quot;  Ipoint&quot;, pt);\n        VPRINT(&quot;  Inormal&quot;, inormal);\n\n        */\n\n        /* This next macro fills in the curvature information which\n        * consists on a principle direction vector, and the inverse\n        * radii of curvature along that direction and perpendicular\n        * to it.  Positive curvature bends toward the outward\n        * pointing normal.\n        */\n        RT_CURVATURE(&amp;cur, hitp, pp-&gt;pt_inflip, stp);\n\n        /* print the entry curvature information */\n        /*VPRINT(&quot;PDir&quot;, cur.crv_pdir);*/\n        bu_log(&quot; c1=%g\\n&quot;, cur.crv_c1);\n        bu_log(&quot; c2=%g\\n&quot;, cur.crv_c2);\n\n        /* exit point, so we type less */\n        hitp = pp-&gt;pt_outhit;\n\n        /* construct the actual (exit) hit-point from the ray and the\n        * distance to the intersection point (i.e., the &#39;t&#39; value).\n        */\n        VJOIN1(pt, ap-&gt;a_ray.r_pt, hitp-&gt;hit_dist, ap-&gt;a_ray.r_dir);\n\n        /* primitive we exited from */\n        stp = pp-&gt;pt_outseg-&gt;seg_stp;\n\n        /* compute the normal vector at the exit point, flipping the\n        * normal if necessary.\n        */\n        RT_HIT_NORMAL(onormal, hitp, stp, &amp;(ap-&gt;a_ray), pp-&gt;pt_outflip);\n\n        /* print the exit hit point info */\n        rt_pr_hit(&quot;  Out&quot;, hitp);\n        /*VPRINT(&quot;  Opoint&quot;, pt);\n        VPRINT(&quot;  Onormal&quot;, onormal);*/\n\n    }\n\n    /* A more complicated application would probably fill in a new\n    * local application structure and describe, for example, a\n    * reflected or refracted ray, and then call rt_shootray() for\n    * those rays.\n    */\n\n    /* Hit routine callbacks generally return 1 on hit or 0 on miss.\n    * This value is returned by rt_shootray().\n    */\n    return 1;\n}\n\n\n\nint\nmiss(struct application *UNUSED(ap))\n{\n    bu_log(&quot;missed\\n&quot;);\n\n    return 0;\n\n}\n\n\nnamespace\n{\n    //\n    // A sphere object.\n    //\n    // The sphere is assumed to be centered at the origin.\n    //\n\n    const char* Model = &quot;sphere_object&quot;;\n\n    class SphereObject\n      : public asr::ProceduralObject\n    {\n      public:\n        // Constructor.\n        SphereObject(\n            const char*                 name,\n            const asr::ParamArray&amp;      params)\n          : asr::ProceduralObject(name, params)\n          , m_lazy_region_kit(&amp;m_region_kit)\n        {\n        }\n\n        // Delete this instance.\n        void release() override\n        {\n            delete this;\n        }\n\n        // Return a string identifying this object model.\n        const char* get_model() const override\n        {\n            return Model;\n        }\n\n        // This method is called once before rendering each frame.\n        // Returns true on success, false otherwise.\n        virtual bool on_frame_begin(\n            const asr::Project&amp;         project,\n            const asr::BaseGroup*       parent,\n            asr::OnFrameBeginRecorder&amp;  recorder,\n            asf::IAbortSwitch*          abort_switch) override\n        {\n            if (!asr::ProceduralObject::on_frame_begin(project, parent, recorder, abort_switch))\n                return false;\n\n            m_radius = get_uncached_radius();\n            m_rcp_radius = 1.0 / m_radius;\n\n            return true;\n        }\n\n        // Compute the local space bounding box of the object over the shutter interval.\n        asr::GAABB3 compute_local_bbox() const override\n        {\n            const auto r = static_cast&lt;asr::GScalar&gt;(get_uncached_radius());\n            return asr::GAABB3(asr::GVector3(-r), asr::GVector3(r));\n        }\n\n        // Return the region kit of the object.\n        asf::Lazy&lt;asr::RegionKit&gt;&amp; get_region_kit() override\n        {\n            return m_lazy_region_kit;\n        }\n\n        // Access materials slots.\n        size_t get_material_slot_count() const override\n        {\n            return 1;\n        }\n        const char* get_material_slot(const size_t index) const override\n        {\n            return &quot;default&quot;;\n        }\n\n        // Compute the intersection between a ray expressed in object space and\n        // the surface of this object and return detailed intersection results.\n        void intersect(\n            const asr::ShadingRay&amp;  ray,\n            IntersectionResult&amp;     result) const override\n        {\n            const double Epsilon = 1.0e-6;\n\n            const double a = asf::dot(ray.m_org, ray.m_dir);\n            const double b = asf::square(a) - dot(ray.m_org, ray.m_org) + asf::square(m_radius);\n\n            if (b &lt; 0.0)\n            {\n                result.m_hit = false;\n                return;\n            }\n\n            const double c = std::sqrt(b);\n\n            double t = -a - c;\n            if (t &lt; std::max(ray.m_tmin, Epsilon) || t &gt;= ray.m_tmax)\n            {\n                t = -a + c;\n                if (t &lt; std::max(ray.m_tmin, Epsilon) || t &gt;= ray.m_tmax)\n                {\n                    result.m_hit = false;\n                    return;\n                }\n            }\n\n            result.m_hit = true;\n\n            result.m_distance = true;\n            const asf::Vector3d n = asf::normalize(ray.point_at(t));\n            result.m_geometric_normal = n;\n            result.m_shading_normal = n;\n\n            const asf::Vector3f p(ray.point_at(t) * m_rcp_radius);\n            result.m_uv[0] = std::acos(p.y) * asf::RcpPi&lt;float&gt;();\n            result.m_uv[1] = std::atan2(-p.z, p.x) * asf::RcpTwoPi&lt;float&gt;();\n\n            result.m_material_slot = 0;\n\n            struct application  ap;\n            int argc = 3;\n            static struct rt_i *rtip;\n\n\n            char title[1024] = { 0 };\n\n\n            if (argc &lt; 3) {\n                bu_exit(1, &quot;Usage: %s model.g objects...\\n&quot;, &quot;sphereobject&quot;);\n            }\n\n            rtip = rt_dirbuild(&quot;sphere.g&quot;, title, sizeof(title));\n            if (rtip == RTI_NULL) {\n                bu_exit(2, &quot;Building the database directory for [%s] FAILED\\n&quot;, &quot;sphere.g&quot;);\n            }\n\n        }\n\n   ```\n</pre></div>",
        "id": 121424647,
        "sender_full_name": "Mitesh",
        "timestamp": 1516703581
    },
    {
        "content": "<p>Actually I was check int main statement of rtexample.c line by line....<br>\nwhen I reached this <code>  rtip = rt_dirbuild(\"sphere.g\", title, sizeof(title));</code> line I found that when I don't include it...it works i.e sphereobject renders and there are no issues</p>",
        "id": 121424706,
        "sender_full_name": "Mitesh",
        "timestamp": 1516703733
    },
    {
        "content": "<p>but when I include it ( <code>  rtip = rt_dirbuild(\"sphere.g\", title, sizeof(title));</code>) it shows error.</p>",
        "id": 121424745,
        "sender_full_name": "Mitesh",
        "timestamp": 1516703775
    },
    {
        "content": "<p>I have also defined BU_DLL_IMPORTS...but still getting same result</p>",
        "id": 121424806,
        "sender_full_name": "Mitesh",
        "timestamp": 1516703997
    },
    {
        "content": "<p>should I send .dll file generated?</p>",
        "id": 121424963,
        "sender_full_name": "Mitesh",
        "timestamp": 1516704268
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"brlcad@mac.com\" data-user-id=\"102902\">@Sean</span> <br>\nFranz replied with:</p>\n<blockquote>\n<p>1. in the <code>on_frame_begin()</code> method of your procedural object, you need to know how many threads will be used for rendering<br>\n2. in the <code>intersect()</code> method of your procedural object, you need to know the index of the current thread</p>\n<p>i'm afraid none of these is exposed at the moment</p>\n</blockquote>\n<p>:/</p>",
        "id": 121425795,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516706229
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span> that's okay, there's still a couple slow ways that should work or you can look into exposing the current thread (better)</p>",
        "id": 121434270,
        "sender_full_name": "Sean",
        "timestamp": 1516723400
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span> try this poor man's way -- ask franz what he's using for threading, but assuming it's pthreads or boost threads or std::thread, then something like this should work</p>",
        "id": 121434655,
        "sender_full_name": "Sean",
        "timestamp": 1516723926
    },
    {
        "content": "<p>I think it's pthreads, I dug up a bit in their code and found a few pthread_ts here and there.</p>",
        "id": 121434766,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516724154
    },
    {
        "content": "<p>I tried calling <code>pthread_self();</code> to get the current thread id, which actually works.</p>",
        "id": 121434825,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516724199
    },
    {
        "content": "<p>static in get_id() { static std::unordered_map&lt;std::thread::id, int&gt; ids; static int next; static std::mutex m; auto thread = std::this_thread::get_id(); auto id = ids[thread]; std::lock(m); id = ++next; ids[thread] = id; std::unlock(m); return id - 1; }</p>",
        "id": 121434857,
        "sender_full_name": "Sean",
        "timestamp": 1516724250
    },
    {
        "content": "<p>so in on_frame_begin() or wherever you run dirbuild, you'll need to rt_resource_init() a bunch of resources (say 1024)</p>",
        "id": 121434928,
        "sender_full_name": "Sean",
        "timestamp": 1516724311
    },
    {
        "content": "<p>then in intersect() where you are calling rt_shootray(), call get_id() (which needs to be compiled as c++ obviously)</p>",
        "id": 121434934,
        "sender_full_name": "Sean",
        "timestamp": 1516724342
    },
    {
        "content": "<p>that's got some c++11 in there, so you might need to add --std=c++11 compile flags</p>",
        "id": 121434954,
        "sender_full_name": "Sean",
        "timestamp": 1516724384
    },
    {
        "content": "<p>and that's just off the cuff, so there might be a typo -- should check it ;)</p>",
        "id": 121434963,
        "sender_full_name": "Sean",
        "timestamp": 1516724401
    },
    {
        "content": "<p>that's not going to be the fastest, but should do the trick</p>",
        "id": 121435024,
        "sender_full_name": "Sean",
        "timestamp": 1516724426
    },
    {
        "content": "<blockquote>\n<p>and that's just off the cuff, so there might be a typo -- should check it ;)</p>\n</blockquote>\n<p><code>in</code> is not a type haha</p>",
        "id": 121435118,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516724570
    },
    {
        "content": "<p>I'm gonna try this now.</p>",
        "id": 121435121,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516724581
    },
    {
        "content": "<p>ah, yes int</p>",
        "id": 121435138,
        "sender_full_name": "Sean",
        "timestamp": 1516724613
    },
    {
        "content": "<p>oh, static int next = 0;</p>",
        "id": 121435156,
        "sender_full_name": "Sean",
        "timestamp": 1516724641
    },
    {
        "content": "<p>and probably should ids = {0}; too</p>",
        "id": 121435205,
        "sender_full_name": "Sean",
        "timestamp": 1516724660
    },
    {
        "content": "<p>hmm, is this supposed to return higher and higher numbers? it sorta increases to something like 40000 in 5 seconds</p>",
        "id": 121435445,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516724992
    },
    {
        "content": "<p>that's not right</p>",
        "id": 121436535,
        "sender_full_name": "Sean",
        "timestamp": 1516726534
    },
    {
        "content": "<p>oh, add if (id == 0) before the id = ++next</p>",
        "id": 121436601,
        "sender_full_name": "Sean",
        "timestamp": 1516726583
    },
    {
        "content": "<p>if (id == 0) { id = ... } std::unlock ...</p>",
        "id": 121436608,
        "sender_full_name": "Sean",
        "timestamp": 1516726604
    },
    {
        "content": "<p>Okay, that works now but when I do</p>\n<div class=\"codehilite\"><pre><span></span>int cpu = get_id();\nap-&gt;a_resource = &amp;m_resources[cpu];\nrt_shootray(ap);\n</pre></div>\n\n\n<p>it still returns that whole NULL struct seg pointer error:</p>\n<div class=\"codehilite\"><pre><span></span>ERROR: NULL struct seg pointer, file /home/jeff/Documents/brlcad/src/librt/bool.c, line 1758\n\nERROR: NULL struct seg pointer, file /home/jeff/Documents/brlcad/src/librt/bool.c, line 1758\n\nSaving stack trace to appleseed.studio-18336-bomb.log\nBU_ASSERT((void *)(((struct bu_list *)(_zap))-&gt;forw) != (void *)NULL), failed, file /home/jeff/Documents/brlcad/src/librt/shoot.c, line 1503\n\nBU_ASSERT failure\n\nBU_ASSERT failure\n\nrt_boolfinal:  sorting defect 5.014334e+02 &gt; 2.162338e-318! x0 y0 lvl0, diff = 501.433\nsort defect is between parts 0x7f6410007d70 and (nil)\n\nERROR: NULL struct partition pointer, file /home/jeff/Documents/brlcad/src/librt/pr.c, line 112\n\nERROR: NULL struct partition pointer, file /home/jeff/Documents/brlcad/src/librt/pr.c, line 112\n\n\nERROR: bad pointer 0x7f644b097300: s/b struct partition(x87687681), was pt_hd magic(x87687680), file /home/jeff/Documents/brlcad/src/librt/bool.c, line 1490\n\nERROR: bad pointer 0x7f644b097300: s/b struct partition(x87687681), was pt_hd magic(x87687680), file /home/jeff/Documents/brlcad/src/librt/bool.c, line 1490\n\nERROR: bad pointer 0x7f6448892280: s/b struct partition(x87687681), was pt_hd magic(x87687680), file /home/jeff/Documents/brlcad/src/librt/bool.c, line 1490\n\nERROR: bad pointer 0x7f6448892280: s/b struct partition(x87687681), was pt_hd magic(x87687680), file /home/jeff/Documents/brlcad/src/librt/bool.c, line 1490\n\nwrite failed: Bad file descriptor\n\nERROR: bad pointer 0x7f64437fb280: s/b struct partition(x87687681), was pt_hd magic(x87687680), file /home/jeff/Documents/brlcad/src/librt/bool.c, line 1490\n\nERROR: bad pointer 0x7f64437fb280: s/b struct partition(x87687681), was pt_hd magic(x87687680), file /home/jeff/Documents/brlcad/src/librt/bool.c, line 1490\n\nERROR: bad pointer 0x7f644a896300: s/b struct partition(x87687681), was pt_hd magic(x87687680), file /home/jeff/Documents/brlcad/src/librt/bool.c, line 1490\n\nERROR: bad pointer 0x7f644a896300: s/b struct partition(x87687681), was pt_hd magic(x87687680), file /home/jeff/Documents/brlcad/src/librt/bool.c, line 1490\n\nwrite failed: Bad file descriptor\n\nERROR: bad pointer 0x7f646c56f118: s/b struct seg(x98bcdef1), was bu_list(x1016580), file /home/jeff/Documents/brlcad/src/librt/bool.c, line 175\n\n\nBad magic number in re_solid_btiv list\n\nBad magic number in re_solid_btiv list\n\nERROR: bad pointer 0x7f646c56f118: s/b struct seg(x98bcdef1), was bu_list(x1016580), file /home/jeff/Documents/brlcad/src/librt/bool.c, line 175\n\n[1]    18336 segmentation fault (core dumped)  ../../../bin/Release/appleseed.studio\n</pre></div>",
        "id": 121437070,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516727200
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"miteshgulecha@gmail.com\" data-user-id=\"104224\">@Mitesh</span> so you went from 0 to 10 in that jump ... way too big a step since you're facing problems</p>",
        "id": 121463147,
        "sender_full_name": "Sean",
        "timestamp": 1516772894
    },
    {
        "content": "<p>there are a number of issues in the code, so I suggest you comment-out all the brl-cad code and start with something super simple like I mentioned the other day -- a single bu call</p>",
        "id": 121463207,
        "sender_full_name": "Sean",
        "timestamp": 1516773112
    },
    {
        "content": "<p>then it'll be easier to sort out the header includes and bu import, make sure that works before jumping to a far more complicated code setup with librt and other issues</p>",
        "id": 121463458,
        "sender_full_name": "Sean",
        "timestamp": 1516773643
    },
    {
        "content": "<blockquote>\n<p>Okay, that works now but when I do ...[snip]...</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span> that's still looking like initialization failure/corruption.  what's the rest of your code look like?</p>",
        "id": 121463656,
        "sender_full_name": "Sean",
        "timestamp": 1516774120
    },
    {
        "content": "<p>you need to set a bunch of other ap fields, like the a_rt_i to what you prepped, and the resources had to be initialized</p>",
        "id": 121463664,
        "sender_full_name": "Sean",
        "timestamp": 1516774185
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"brlcad@mac.com\" data-user-id=\"102902\">@Sean</span> <a href=\"/user_uploads/1549/hS8HcdXLthXb5wDcahqGeHrd/brlcadplugin.cpp\" target=\"_blank\" title=\"brlcadplugin.cpp\">brlcadplugin.cpp</a></p>",
        "id": 121525078,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1516892064
    },
    {
        "content": "<p>Any clue as to what I'm doing wrong here?</p>",
        "id": 121629921,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1517075014
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span> you have to be SUPER close...  I'm not seeing any blatant mistakes in the code</p>",
        "id": 121762716,
        "sender_full_name": "Sean",
        "timestamp": 1517279453
    },
    {
        "content": "<p>except you did miss the follow-up corrections I mentioned, like initializing next to 0...</p>",
        "id": 121762763,
        "sender_full_name": "Sean",
        "timestamp": 1517279532
    },
    {
        "content": "<p>should initialize the id's to 0 too</p>",
        "id": 121762767,
        "sender_full_name": "Sean",
        "timestamp": 1517279551
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"miteshgulecha@gmail.com\" data-user-id=\"104224\">@Mitesh</span> any progress?</p>",
        "id": 121762777,
        "sender_full_name": "Sean",
        "timestamp": 1517279611
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-email=\"miteshgulecha@gmail.com\" data-user-id=\"104224\">@Mitesh</span> any progress?</p>\n</blockquote>\n<p>no....I have commented out the whole rtexample.c<br>\nthen added bu_log(\"welcome\");<br>\nIt was built successfully.<br>\nbut when I opened sphereobject.appleseed got same result</p>",
        "id": 121763972,
        "sender_full_name": "Mitesh",
        "timestamp": 1517282421
    },
    {
        "content": "<p>and if you take out the bu_log it works?</p>",
        "id": 121763975,
        "sender_full_name": "Sean",
        "timestamp": 1517282460
    },
    {
        "content": "<p>er, comment-out</p>",
        "id": 121763980,
        "sender_full_name": "Sean",
        "timestamp": 1517282484
    },
    {
        "content": "<p>yes...it works</p>",
        "id": 121764023,
        "sender_full_name": "Mitesh",
        "timestamp": 1517282533
    },
    {
        "content": "<p>okay, great, that's actually progress then :)</p>",
        "id": 121764024,
        "sender_full_name": "Sean",
        "timestamp": 1517282546
    },
    {
        "content": "<p>so next, what's your build instructions look like?</p>",
        "id": 121764027,
        "sender_full_name": "Sean",
        "timestamp": 1517282554
    },
    {
        "content": "<p>can you post your cmakelists file?</p>",
        "id": 121764028,
        "sender_full_name": "Sean",
        "timestamp": 1517282563
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/EgEOyTzmCJp7ZVQbWNXoo3Bd/CMakeLists.txt\" target=\"_blank\" title=\"CMakeLists.txt\">CMakeLists.txt</a></p>",
        "id": 121764033,
        "sender_full_name": "Mitesh",
        "timestamp": 1517282581
    },
    {
        "content": "<p>1&gt;------ Build started: Project: sphereobject, Configuration: Release x64 ------<br>\n1&gt;  sphereobject.cpp<br>\n1&gt;  Unknown compiler version - please run the configure tests and report the results<br>\n1&gt;h:\\brlcad7.26.0\\include\\brlcad\\brep/bbnode.h(277): warning C4244: '=': conversion from 'double' to 'float', possible loss of data<br>\n1&gt;h:\\brlcad7.26.0\\include\\brlcad\\brep/bbnode.h(278): warning C4244: '=': conversion from 'double' to 'float', possible loss of data<br>\n1&gt;h:\\brlcad7.26.0\\include\\brlcad\\brep/bbnode.h(279): warning C4244: '=': conversion from 'double' to 'float', possible loss of data<br>\n1&gt;h:\\brlcad7.26.0\\include\\brlcad\\brep/bbnode.h(280): warning C4244: '=': conversion from 'double' to 'float', possible loss of data<br>\n1&gt;h:\\brlcad7.26.0\\include\\brlcad\\brep/bbnode.h(281): warning C4244: '=': conversion from 'double' to 'float', possible loss of data<br>\n1&gt;h:\\brlcad7.26.0\\include\\brlcad\\brep/bbnode.h(282): warning C4244: '=': conversion from 'double' to 'float', possible loss of data<br>\n1&gt;     Creating library H:/task5/appleseed/samples/cpp/sphereobject/build/Release/sphereobject.lib and object H:/task5/appleseed/samples/cpp/sphereobject/build/Release/sphereobject.exp<br>\n1&gt;  sphereobject.vcxproj -&gt; H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll<br>\n========== Build: 1 succeeded, 0 failed, 1 up-to-date, 0 skipped ==========</p>",
        "id": 121764040,
        "sender_full_name": "Mitesh",
        "timestamp": 1517282627
    },
    {
        "content": "<p>okay, that's looking mostly okay</p>",
        "id": 121764250,
        "sender_full_name": "Sean",
        "timestamp": 1517283013
    },
    {
        "content": "<p>the bu_log function shows log enetere in it, right?</p>",
        "id": 121764252,
        "sender_full_name": "Mitesh",
        "timestamp": 1517283034
    },
    {
        "content": "<p>try adding some import definitions</p>",
        "id": 121764253,
        "sender_full_name": "Sean",
        "timestamp": 1517283038
    },
    {
        "content": "<p>enetere?</p>",
        "id": 121764266,
        "sender_full_name": "Sean",
        "timestamp": 1517283067
    },
    {
        "content": "<p>entered*</p>",
        "id": 121764267,
        "sender_full_name": "Mitesh",
        "timestamp": 1517283084
    },
    {
        "content": "<p>adding the bu_log() call will cause the linker to look for that symbol, which is in libbu.lib</p>",
        "id": 121764299,
        "sender_full_name": "Sean",
        "timestamp": 1517283123
    },
    {
        "content": "<p>I have already added #define BU_DLL_IMPORTS...any other?</p>",
        "id": 121764308,
        "sender_full_name": "Mitesh",
        "timestamp": 1517283142
    },
    {
        "content": "<p>so in order for it to find it, it needs 1) to be told where the lib is and 2) to import that function</p>",
        "id": 121764309,
        "sender_full_name": "Sean",
        "timestamp": 1517283147
    },
    {
        "content": "<p>where? that's not in the cmakelists.txt you posted</p>",
        "id": 121764311,
        "sender_full_name": "Sean",
        "timestamp": 1517283169
    },
    {
        "content": "<p>in my cpp file</p>",
        "id": 121764312,
        "sender_full_name": "Mitesh",
        "timestamp": 1517283181
    },
    {
        "content": "<p>that's not where it belongs</p>",
        "id": 121764322,
        "sender_full_name": "Sean",
        "timestamp": 1517283224
    },
    {
        "content": "<p>you'd have to guarantee it's included before anything that potentially includes any bu header</p>",
        "id": 121764365,
        "sender_full_name": "Sean",
        "timestamp": 1517283265
    },
    {
        "content": "<p>add_definitions(-DBU_DLL_IMPORTS=1)</p>",
        "id": 121764369,
        "sender_full_name": "Sean",
        "timestamp": 1517283287
    },
    {
        "content": "<p>you should also remove all libs except appleseed_libraries and libbu.lib from the target_link_libraries line</p>",
        "id": 121764387,
        "sender_full_name": "Sean",
        "timestamp": 1517283341
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/vx6hcans0sivKuVDrRUN6NWq/CMakeLists.txt\" target=\"_blank\" title=\"CMakeLists.txt\">CMakeLists.txt</a></p>",
        "id": 121764542,
        "sender_full_name": "Mitesh",
        "timestamp": 1517283630
    },
    {
        "content": "<p>no change in result</p>",
        "id": 121764545,
        "sender_full_name": "Mitesh",
        "timestamp": 1517283643
    },
    {
        "content": "<p>and remind me, what is the result exactly?</p>",
        "id": 121764604,
        "sender_full_name": "Sean",
        "timestamp": 1517283736
    },
    {
        "content": "<p>while defining object \"sphere\": invalid model \"sphere_object\".</p>",
        "id": 121764610,
        "sender_full_name": "Mitesh",
        "timestamp": 1517283761
    },
    {
        "content": "<p>failed to load project file H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\sphereobject.appleseed (1 error, 0 warning).</p>",
        "id": 121764614,
        "sender_full_name": "Mitesh",
        "timestamp": 1517283785
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/jMaFZPCzO-QHPEuqzBR2Einh/sphobj.PNG\" target=\"_blank\" title=\"sphobj.PNG\">sphobj.PNG</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/jMaFZPCzO-QHPEuqzBR2Einh/sphobj.PNG\" target=\"_blank\" title=\"sphobj.PNG\"><img src=\"/user_uploads/1549/jMaFZPCzO-QHPEuqzBR2Einh/sphobj.PNG\"></a></div>",
        "id": 121764628,
        "sender_full_name": "Mitesh",
        "timestamp": 1517283837
    },
    {
        "content": "<p>er, the lines there in the screenshot look rather important</p>",
        "id": 121764667,
        "sender_full_name": "Sean",
        "timestamp": 1517283891
    },
    {
        "content": "<p>ya....it also says....</p>\n<p>could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll. Error = The specified module could not be found.</p>",
        "id": 121764676,
        "sender_full_name": "Mitesh",
        "timestamp": 1517283912
    },
    {
        "content": "<p>yep, that's kind of a kill shot right there</p>",
        "id": 121764679,
        "sender_full_name": "Sean",
        "timestamp": 1517283945
    },
    {
        "content": "<p>what's that \"shared library ...\" line say?</p>",
        "id": 121764684,
        "sender_full_name": "Sean",
        "timestamp": 1517283962
    },
    {
        "content": "<p>ya I placed the libbu.dll there so that the plugin can find it.</p>",
        "id": 121764726,
        "sender_full_name": "Mitesh",
        "timestamp": 1517284009
    },
    {
        "content": "<p>when, just now or some time earlier?</p>",
        "id": 121764731,
        "sender_full_name": "Sean",
        "timestamp": 1517284035
    },
    {
        "content": "<p>today in the morning.</p>",
        "id": 121764734,
        "sender_full_name": "Mitesh",
        "timestamp": 1517284076
    },
    {
        "content": "<p>so is that just now or some time earlier?  I have no idea what time it is for you :)</p>",
        "id": 121764774,
        "sender_full_name": "Sean",
        "timestamp": 1517284109
    },
    {
        "content": "<p>now</p>",
        "id": 121764777,
        "sender_full_name": "Mitesh",
        "timestamp": 1517284129
    },
    {
        "content": "<p>and the other line?</p>",
        "id": 121764786,
        "sender_full_name": "Sean",
        "timestamp": 1517284163
    },
    {
        "content": "<p>2018-01-30T03:43:13.163952Z &lt;001&gt;    38 MB info    | appleseed.dll version 1.8.0-beta (SSE 4.2), Release configuration<br>\n2018-01-30T03:43:13.163952Z &lt;001&gt;    38 MB info    | compiled on Nov 26 2017 at 17:11:55 using Microsoft Visual C++ version 1900<br>\n2018-01-30T03:43:13.164955Z &lt;001&gt;    38 MB info    | system information:<br>\n2018-01-30T03:43:13.164955Z &lt;001&gt;    38 MB info    |   architecture                  x86 64-bit<br>\n2018-01-30T03:43:13.164955Z &lt;001&gt;    38 MB info    |   logical cores                 4<br>\n2018-01-30T03:43:13.164955Z &lt;001&gt;    38 MB info    |   L1 data cache                 size 32.0 KB, line size 64 bytes<br>\n2018-01-30T03:43:13.164955Z &lt;001&gt;    38 MB info    |   L2 cache                      size 256.0 KB, line size 64 bytes<br>\n2018-01-30T03:43:13.164955Z &lt;001&gt;    38 MB info    |   L3 cache                      size 3.0 MB, line size 64 bytes<br>\n2018-01-30T03:43:13.164955Z &lt;001&gt;    38 MB info    |   instruction sets              sse sse2 sse3 ssse3 sse4.1 sse4.2 avx avx2 fma3<br>\n2018-01-30T03:43:13.164955Z &lt;001&gt;    38 MB info    |   physical memory               size 7.8 GB<br>\n2018-01-30T03:43:13.164955Z &lt;001&gt;    38 MB info    |   virtual memory                size 9.1 GB<br>\n2018-01-30T03:43:13.170823Z &lt;001&gt;    39 MB info    | successfully loaded settings from H:\\appleseed\\settings\\appleseed.studio.xml.<br>\n2018-01-30T03:43:13.205736Z &lt;002&gt;    40 MB info    | loading project file H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\sphereobject.appleseed...<br>\n2018-01-30T03:43:13.206740Z &lt;002&gt;    41 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of aov plugins...<br>\n2018-01-30T03:43:13.206740Z &lt;002&gt;    41 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed aov plugin because it does not export a appleseed_create_aov_factory() function.<br>\n2018-01-30T03:43:13.206740Z &lt;002&gt;    41 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.206740Z &lt;002&gt;    41 MB debug   | .<br>\n2018-01-30T03:43:13.206740Z &lt;002&gt;    41 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.206740Z &lt;002&gt;    41 MB debug   | .<br>\n2018-01-30T03:43:13.206740Z &lt;002&gt;    41 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of assembly plugins...<br>\n2018-01-30T03:43:13.206740Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed assembly plugin because it does not export a appleseed_create_assembly_factory() function.<br>\n2018-01-30T03:43:13.206740Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.206740Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.226526Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.226526Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.226526Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of bsdf plugins...<br>\n2018-01-30T03:43:13.228600Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed bsdf plugin because it does not export a appleseed_create_bsdf_factory() function.<br>\n2018-01-30T03:43:13.230739Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.230739Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.232384Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.232384Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.232384Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of bssrdf plugins...<br>\n2018-01-30T03:43:13.234699Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed bssrdf plugin because it does not export a appleseed_create_bssrdf_factory() function.<br>\n2018-01-30T03:43:13.235723Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.235723Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.236867Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.236867Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.237934Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of camera plugins...<br>\n2018-01-30T03:43:13.243131Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed camera plugin because it does not export a appleseed_create_camera_factory() function.<br>\n2018-01-30T03:43:13.244134Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.244134Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.245137Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.245137Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.246140Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of edf plugins...<br>\n2018-01-30T03:43:13.247296Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed edf plugin because it does not export a appleseed_create_edf_factory() function.<br>\n2018-01-30T03:43:13.249374Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.249374Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.251061Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.251061Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.251385Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of environment edf plugins...<br>\n2018-01-30T03:43:13.253891Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed environment edf plugin because it does not export a appleseed_create_environment_edf_factory() function.<br>\n2018-01-30T03:43:13.255896Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.255896Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.257400Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T03:43:13.257400Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T03:43:13.258408Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of environment shader plugins...<br>\n2018-01-30T03:43:13.262413Z &lt;002&gt;    46 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed environment shader plugin because it does not export a appleseed_create_environment_shader_factory() function.<br>\n2018-01-30T03:43:13.263417Z &lt;002&gt;    46 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\libbu.dll: Cannot load shared library H:\\task5\\appleseed\\samples</p>",
        "id": 121764790,
        "sender_full_name": "Mitesh",
        "timestamp": 1517284201
    },
    {
        "content": "<p>hm, okay so this is entirely a problem with the linking</p>",
        "id": 121764937,
        "sender_full_name": "Sean",
        "timestamp": 1517284472
    },
    {
        "content": "<p>try changing \"SHARED\" to \"MODULE\" in your cmakelists.txt file, and remove that libbu.dll from sphereobject\\build\\Release</p>",
        "id": 121764992,
        "sender_full_name": "Sean",
        "timestamp": 1517284571
    },
    {
        "content": "<p>if it can't find the dll where you told cmake it was at, you have other problems -- you shouldn't need to copy the libs into there</p>",
        "id": 121765001,
        "sender_full_name": "Sean",
        "timestamp": 1517284629
    },
    {
        "content": "<p>another problem that may be causing this is your use of full paths instead of specifying libs properly via search paths -- that can cause different dynamic linker behavior when it tries to find dependency libraries</p>",
        "id": 121765056,
        "sender_full_name": "Sean",
        "timestamp": 1517284763
    },
    {
        "content": "<p>but start with MODULE...</p>",
        "id": 121765058,
        "sender_full_name": "Sean",
        "timestamp": 1517284773
    },
    {
        "content": "<p>like this ? <br>\nadd_library (sphereobject MODULE sphereobject.cpp)</p>",
        "id": 121765059,
        "sender_full_name": "Mitesh",
        "timestamp": 1517284779
    },
    {
        "content": "<p>yes</p>",
        "id": 121765061,
        "sender_full_name": "Sean",
        "timestamp": 1517284785
    },
    {
        "content": "<p>remove the libbu.dll from that Release dir and post the new output</p>",
        "id": 121765113,
        "sender_full_name": "Sean",
        "timestamp": 1517284811
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/ZqYCwc42ssqge14Ff-O6IUNp/new_output.PNG\" target=\"_blank\" title=\"new_output.PNG\">new_output.PNG</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/ZqYCwc42ssqge14Ff-O6IUNp/new_output.PNG\" target=\"_blank\" title=\"new_output.PNG\"><img src=\"/user_uploads/1549/ZqYCwc42ssqge14Ff-O6IUNp/new_output.PNG\"></a></div>",
        "id": 121765130,
        "sender_full_name": "Mitesh",
        "timestamp": 1517284867
    },
    {
        "content": "<p>can you just paste the text like before -- it's hard to tell what's being left out</p>",
        "id": 121765176,
        "sender_full_name": "Sean",
        "timestamp": 1517284952
    },
    {
        "content": "<p>always important to read all your output when debugging, have a good idea what each message is saying ;)</p>",
        "id": 121765186,
        "sender_full_name": "Sean",
        "timestamp": 1517285005
    },
    {
        "content": "<p>2018-01-30T04:00:22.792441Z &lt;001&gt;    38 MB info    | appleseed.dll version 1.8.0-beta (SSE 4.2), Release configuration<br>\n2018-01-30T04:00:22.792441Z &lt;001&gt;    38 MB info    | compiled on Nov 26 2017 at 17:11:55 using Microsoft Visual C++ version 1900<br>\n2018-01-30T04:00:22.793095Z &lt;001&gt;    38 MB info    | system information:<br>\n2018-01-30T04:00:22.793095Z &lt;001&gt;    38 MB info    |   architecture                  x86 64-bit<br>\n2018-01-30T04:00:22.793095Z &lt;001&gt;    38 MB info    |   logical cores                 4<br>\n2018-01-30T04:00:22.793095Z &lt;001&gt;    38 MB info    |   L1 data cache                 size 32.0 KB, line size 64 bytes<br>\n2018-01-30T04:00:22.793095Z &lt;001&gt;    38 MB info    |   L2 cache                      size 256.0 KB, line size 64 bytes<br>\n2018-01-30T04:00:22.793095Z &lt;001&gt;    38 MB info    |   L3 cache                      size 3.0 MB, line size 64 bytes<br>\n2018-01-30T04:00:22.793095Z &lt;001&gt;    38 MB info    |   instruction sets              sse sse2 sse3 ssse3 sse4.1 sse4.2 avx avx2 fma3<br>\n2018-01-30T04:00:22.793095Z &lt;001&gt;    38 MB info    |   physical memory               size 7.8 GB<br>\n2018-01-30T04:00:22.793095Z &lt;001&gt;    38 MB info    |   virtual memory                size 9.1 GB<br>\n2018-01-30T04:00:22.808324Z &lt;001&gt;    39 MB info    | successfully loaded settings from H:\\appleseed\\settings\\appleseed.studio.xml.<br>\n2018-01-30T04:00:22.833572Z &lt;002&gt;    40 MB info    | loading project file H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\sphereobject.appleseed...<br>\n2018-01-30T04:00:22.834574Z &lt;002&gt;    41 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of aov plugins...<br>\n2018-01-30T04:00:22.834574Z &lt;002&gt;    41 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed aov plugin because it does not export a appleseed_create_aov_factory() function.<br>\n2018-01-30T04:00:22.834574Z &lt;002&gt;    41 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T04:00:22.834574Z &lt;002&gt;    41 MB debug   | .<br>\n2018-01-30T04:00:22.834574Z &lt;002&gt;    41 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of assembly plugins...<br>\n2018-01-30T04:00:22.834574Z &lt;002&gt;    41 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed assembly plugin because it does not export a appleseed_create_assembly_factory() function.<br>\n2018-01-30T04:00:22.850209Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T04:00:22.850209Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T04:00:22.850209Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of bsdf plugins...<br>\n2018-01-30T04:00:22.853440Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed bsdf plugin because it does not export a appleseed_create_bsdf_factory() function.<br>\n2018-01-30T04:00:22.856381Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T04:00:22.856381Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T04:00:22.857702Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of bssrdf plugins...<br>\n2018-01-30T04:00:22.860575Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed bssrdf plugin because it does not export a appleseed_create_bssrdf_factory() function.<br>\n2018-01-30T04:00:22.862634Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T04:00:22.862634Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T04:00:22.862634Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of camera plugins...<br>\n2018-01-30T04:00:22.864662Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed camera plugin because it does not export a appleseed_create_camera_factory() function.<br>\n2018-01-30T04:00:22.866668Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T04:00:22.866668Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T04:00:22.866668Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of edf plugins...<br>\n2018-01-30T04:00:22.868840Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed edf plugin because it does not export a appleseed_create_edf_factory() function.<br>\n2018-01-30T04:00:22.871277Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T04:00:22.871277Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T04:00:22.871353Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of environment edf plugins...<br>\n2018-01-30T04:00:22.873604Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed environment edf plugin because it does not export a appleseed_create_environment_edf_factory() function.<br>\n2018-01-30T04:00:22.879124Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T04:00:22.879124Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T04:00:22.879624Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of environment shader plugins...<br>\n2018-01-30T04:00:22.882129Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed environment shader plugin because it does not export a appleseed_create_environment_shader_factory() function.<br>\n2018-01-30T04:00:22.883634Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T04:00:22.883634Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T04:00:22.883634Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of light plugins...<br>\n2018-01-30T04:00:22.886140Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed light plugin because it does not export a appleseed_create_light_factory() function.<br>\n2018-01-30T04:00:22.888147Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T04:00:22.888147Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T04:00:22.888194Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of material plugins...<br>\n2018-01-30T04:00:22.893867Z &lt;002&gt;    45 MB debug   | shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll is not an appleseed material plugin because it does not export a appleseed_create_material_factory() function.<br>\n2018-01-30T04:00:22.895887Z &lt;002&gt;    45 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T04:00:22.895887Z &lt;002&gt;    45 MB debug   | .<br>\n2018-01-30T04:00:22.895887Z &lt;002&gt;    45 MB debug   | scanning H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release in search of object plugins...<br>\n2018-01-30T04:00:22.898915Z &lt;002&gt;    46 MB info    | registering object plugin H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\infiniteplaneobject.dll...<br>\n2018-01-30T04:00:22.899917Z &lt;002&gt;    46 MB debug   | could not open shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll: Cannot load shared library H:\\task5\\appleseed\\samples\\cpp\\sphereobject\\build\\Release\\sphereobject.dll. Error = The specified module could not be found.<br>\n2018-01-30T04:00:22.899917Z &lt;002&gt;    46 MB debug   | .<br>\n2018-01-30T04:00:22.899917Z &lt;002&gt;    46 MB debug   | scanning H:\\task5\\</p>",
        "id": 121765246,
        "sender_full_name": "Mitesh",
        "timestamp": 1517285115
    },
    {
        "content": "<p>next try this: find_library(BRLCAD_BU_LIBRARY bu PATHS H:/BRLCAD7.26.0/lib NO_DEFAULT_PATH)</p>",
        "id": 121765253,
        "sender_full_name": "Sean",
        "timestamp": 1517285152
    },
    {
        "content": "<p>and use ${BRLCAD_BU_LIBRARY} instead of that H:\\\\BRLCAD... path in target_link_libraries</p>",
        "id": 121765295,
        "sender_full_name": "Sean",
        "timestamp": 1517285177
    },
    {
        "content": "<p>hm, that output doesn't match your screenshot .. is it truncated?</p>",
        "id": 121765314,
        "sender_full_name": "Sean",
        "timestamp": 1517285273
    },
    {
        "content": "<p>wait I will add the logs in .txt file and send</p>",
        "id": 121765361,
        "sender_full_name": "Mitesh",
        "timestamp": 1517285386
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/sbpDLcHTac-zGfxL-lmTXM9q/apple_logs.txt\" target=\"_blank\" title=\"apple_logs.txt\">apple_logs.txt</a></p>",
        "id": 121765404,
        "sender_full_name": "Mitesh",
        "timestamp": 1517285430
    },
    {
        "content": "<p>okay, so just truncated ... the printing at the end is really curious given the general module load failure message</p>",
        "id": 121765455,
        "sender_full_name": "Sean",
        "timestamp": 1517285529
    },
    {
        "content": "<p>lets see if getting rid of the full-path changes anything, and (assuming it does nothing) confirm what the log output is saying when you only comment out the bu_log line</p>",
        "id": 121765472,
        "sender_full_name": "Sean",
        "timestamp": 1517285591
    },
    {
        "content": "<p>Please set them or make sure they are set and tested correctly in the CMake files:<br>\n2&gt;  BRLCAD_BU_LIBRARY</p>",
        "id": 121765582,
        "sender_full_name": "Mitesh",
        "timestamp": 1517285825
    },
    {
        "content": "<p>2&gt;  -- Configuring incomplete, errors occurred!<br>\n2&gt;CUSTOMBUILD : CMake error : The following variables are used in this project, but they are set to NOTFOUND.<br>\n2&gt;  Please set them or make sure they are set and tested correctly in the CMake files:<br>\n2&gt;  BRLCAD_BU_LIBRARY<br>\n2&gt;      linked by target \"sphereobject\" in directory H:/task5/appleseed/samples/cpp/sphereobject</p>",
        "id": 121765587,
        "sender_full_name": "Mitesh",
        "timestamp": 1517285855
    },
    {
        "content": "<p>well that's telling -- something's wrong with the path then</p>",
        "id": 121765627,
        "sender_full_name": "Sean",
        "timestamp": 1517285886
    },
    {
        "content": "<p>can try windows-style backslashes, but you may want to confirm the location</p>",
        "id": 121765631,
        "sender_full_name": "Sean",
        "timestamp": 1517285914
    },
    {
        "content": "<p>find_library(BRLCAD_BU_LIBRARY bu PATHS H:\\\\BRLCAD7.26.0\\\\lib NO_DEFAULT_PATH)</p>\n<p>confirmed path with right backslashes....</p>",
        "id": 121765755,
        "sender_full_name": "Mitesh",
        "timestamp": 1517286218
    },
    {
        "content": "<p>so that worked?  interesting  (windows doesn't care any more, cmake must be dorking with them somehow)</p>",
        "id": 121765798,
        "sender_full_name": "Sean",
        "timestamp": 1517286268
    },
    {
        "content": "<p>1&gt;CUSTOMBUILD : CMake error : The following variables are used in this project, but they are set to NOTFOUND.<br>\n1&gt;  -- Configuring incomplete, errors occurred!<br>\n1&gt;  See also \"H:/task5/appleseed/samples/cpp/sphereobject/build/CMakeFiles/CMakeOutput.log\".<br>\n1&gt;  Please set them or make sure they are set and tested correctly in the CMake files:<br>\n1&gt;  BRLCAD_BU_LIBRARY<br>\n1&gt;      linked by target \"sphereobject\" in directory H:/task5/appleseed/samples/cpp/sphereobject<br>\n1&gt;<br>\n1&gt;  CMake Configure step failed.  Build files cannot be regenerated correctly.  Attempting to stop IDE build.<br>\n2&gt;------ Build started: Project: sphereobject, Configuration: Release x64 ------<br>\n2&gt;  Building Custom Rule H:/task5/appleseed/samples/cpp/sphereobject/CMakeLists.txt<br>\n2&gt;  CMake is re-running because H:/task5/appleseed/samples/cpp/sphereobject/build/CMakeFiles/generate.stamp is out-of-date.<br>\n2&gt;    the file 'H:/task5/appleseed/samples/cpp/sphereobject/CMakeLists.txt'<br>\n2&gt;    is newer than 'H:/task5/appleseed/samples/cpp/sphereobject/build/CMakeFiles/generate.stamp.depend'<br>\n2&gt;    result='-1'<br>\n2&gt;  -- Selecting Windows SDK version 10.0.14393.0 to target Windows 10.0.16299.<br>\n2&gt;  -- Boost version: 1.55.0<br>\n2&gt;CUSTOMBUILD : CMake error : The following variables are used in this project, but they are set to NOTFOUND.<br>\n2&gt;  -- Configuring incomplete, errors occurred!<br>\n2&gt;  See also \"H:/task5/appleseed/samples/cpp/sphereobject/build/CMakeFiles/CMakeOutput.log\".<br>\n2&gt;  Please set them or make sure they are set and tested correctly in the CMake files:<br>\n2&gt;  BRLCAD_BU_LIBRARY<br>\n2&gt;      linked by target \"sphereobject\" in directory H:/task5/appleseed/samples/cpp/sphereobject<br>\n2&gt;<br>\n========== Build: 0 succeeded, 2 failed, 0 up-to-date, 0 skipped ==========</p>",
        "id": 121765799,
        "sender_full_name": "Mitesh",
        "timestamp": 1517286273
    },
    {
        "content": "<p>er, so then what did you actually \"confirm\"? because that output is saying the same thing</p>",
        "id": 121765813,
        "sender_full_name": "Sean",
        "timestamp": 1517286330
    },
    {
        "content": "<p>the path of lib is:   </p>\n<p>H:\\BRLCAD7.26.0\\lib</p>",
        "id": 121765851,
        "sender_full_name": "Mitesh",
        "timestamp": 1517286365
    },
    {
        "content": "<p>so for \"\\\" we need to use \"\\\\\"....which I used.</p>",
        "id": 121765858,
        "sender_full_name": "Mitesh",
        "timestamp": 1517286396
    },
    {
        "content": "<p>ah, I mean confirm the cmake FIND_LIBRARY test works ... or doesn't work</p>",
        "id": 121765860,
        "sender_full_name": "Sean",
        "timestamp": 1517286401
    },
    {
        "content": "<p>okk...its not working.</p>",
        "id": 121765870,
        "sender_full_name": "Mitesh",
        "timestamp": 1517286429
    },
    {
        "content": "<p>H:\\\\BRLCAD7.26.0\\\\lib \"should\" be the same as H:/BRLCAD7.26.0/lib</p>",
        "id": 121765871,
        "sender_full_name": "Sean",
        "timestamp": 1517286430
    },
    {
        "content": "<p>so next is to see why it didn't seem to find libbu</p>",
        "id": 121765876,
        "sender_full_name": "Sean",
        "timestamp": 1517286456
    },
    {
        "content": "<p>you'll need to read the CMakeFiles/CMakeError.log file and/or the CMakeOutput.log file to see what they say about libbu</p>",
        "id": 121765912,
        "sender_full_name": "Sean",
        "timestamp": 1517286482
    },
    {
        "content": "<p>All is going bouncer.....</p>",
        "id": 121766099,
        "sender_full_name": "Mitesh",
        "timestamp": 1517286927
    },
    {
        "content": "<p>what?</p>",
        "id": 121766103,
        "sender_full_name": "Sean",
        "timestamp": 1517286946
    },
    {
        "content": "<p>I mean all is going above the head...(not understanding much in CMakeOutput.log)</p>",
        "id": 121766144,
        "sender_full_name": "Mitesh",
        "timestamp": 1517286999
    },
    {
        "content": "<p>there's a test somewhere in there for libbu that fails, you have to find it</p>",
        "id": 121766150,
        "sender_full_name": "Sean",
        "timestamp": 1517287036
    },
    {
        "content": "<p>start with the error file</p>",
        "id": 121766151,
        "sender_full_name": "Sean",
        "timestamp": 1517287043
    },
    {
        "content": "<p>well there is no error file...only camkeoutput.log</p>",
        "id": 121766231,
        "sender_full_name": "Mitesh",
        "timestamp": 1517287200
    },
    {
        "content": "<p>er, you're possibly looking in the wrong directory then .. there should be an error log in path/to/builddir/CMakeFiles/.</p>",
        "id": 121766298,
        "sender_full_name": "Sean",
        "timestamp": 1517287310
    },
    {
        "content": "<p>post the output log, maybe it's somehow combined in 2017</p>",
        "id": 121766339,
        "sender_full_name": "Sean",
        "timestamp": 1517287348
    },
    {
        "content": "<p>but cmake docs are telling me it should be there</p>",
        "id": 121766344,
        "sender_full_name": "Sean",
        "timestamp": 1517287377
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/h5o943wVWtQhRd8NFyT_qwAp/CMakeOutput.log\" target=\"_blank\" title=\"CMakeOutput.log\">CMakeOutput.log</a></p>",
        "id": 121766356,
        "sender_full_name": "Mitesh",
        "timestamp": 1517287430
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/XKiwIgrRCuvDwe6VprxHvVbL/cmake_folder.PNG\" target=\"_blank\" title=\"cmake_folder.PNG\">cmake_folder.PNG</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/XKiwIgrRCuvDwe6VprxHvVbL/cmake_folder.PNG\" target=\"_blank\" title=\"cmake_folder.PNG\"><img src=\"/user_uploads/1549/XKiwIgrRCuvDwe6VprxHvVbL/cmake_folder.PNG\"></a></div>",
        "id": 121766414,
        "sender_full_name": "Mitesh",
        "timestamp": 1517287510
    },
    {
        "content": "<p>also cmake output shows logs of 15-01-2018</p>",
        "id": 121766417,
        "sender_full_name": "Mitesh",
        "timestamp": 1517287531
    },
    {
        "content": "<p>yeah, that doesn't look right</p>",
        "id": 121766458,
        "sender_full_name": "Sean",
        "timestamp": 1517287613
    },
    {
        "content": "<p>did you re-run cmake?</p>",
        "id": 121766460,
        "sender_full_name": "Sean",
        "timestamp": 1517287621
    },
    {
        "content": "<p>no</p>",
        "id": 121766466,
        "sender_full_name": "Mitesh",
        "timestamp": 1517287631
    },
    {
        "content": "<p>hah</p>",
        "id": 121766469,
        "sender_full_name": "Sean",
        "timestamp": 1517287636
    },
    {
        "content": "<p>okay, any time you edit CMakeLists.txt .. you MUST re-run cmake, configure, generate</p>",
        "id": 121766473,
        "sender_full_name": "Sean",
        "timestamp": 1517287653
    },
    {
        "content": "<p>re-open the new studio file(s) it produces</p>",
        "id": 121766474,
        "sender_full_name": "Sean",
        "timestamp": 1517287672
    },
    {
        "content": "<p>okk...</p>",
        "id": 121766514,
        "sender_full_name": "Mitesh",
        "timestamp": 1517287687
    },
    {
        "content": "<p>there's no telling which of the changes we've made have worked or not if you've not been doing that :)</p>",
        "id": 121766515,
        "sender_full_name": "Sean",
        "timestamp": 1517287689
    },
    {
        "content": "<p>Ok my today's quota is over(i have exams)....will update you tommorrow...after i rerun the cmake and whole.....thank you so much....good night</p>",
        "id": 121766569,
        "sender_full_name": "Mitesh",
        "timestamp": 1517287813
    },
    {
        "content": "<p>sure!  hopefully it'll all magically work then ;)</p>",
        "id": 121766576,
        "sender_full_name": "Sean",
        "timestamp": 1517287835
    },
    {
        "content": "<p>explains a lot!</p>",
        "id": 121766578,
        "sender_full_name": "Sean",
        "timestamp": 1517287848
    },
    {
        "content": "<p>might need to switch MODULE back to SHARED, but I'd try it as a MODULE first</p>",
        "id": 121766585,
        "sender_full_name": "Sean",
        "timestamp": 1517287868
    },
    {
        "content": "<p>yup...I will try all with module first</p>",
        "id": 121766635,
        "sender_full_name": "Mitesh",
        "timestamp": 1517287929
    },
    {
        "content": "<p>Its not so simple as I thought earlier..</p>",
        "id": 121766642,
        "sender_full_name": "Mitesh",
        "timestamp": 1517287980
    },
    {
        "content": "<p>sort of ... running cmake is kind of simple, but I can see how not knowing that you need to run it whenever you change a build file might be a new concept</p>",
        "id": 121766650,
        "sender_full_name": "Sean",
        "timestamp": 1517288030
    },
    {
        "content": "<p>Ya..</p>",
        "id": 121766695,
        "sender_full_name": "Mitesh",
        "timestamp": 1517288086
    },
    {
        "content": "<p>ok then will talk tom..bye</p>",
        "id": 121766698,
        "sender_full_name": "Mitesh",
        "timestamp": 1517288106
    },
    {
        "content": "<p>cya!  good luck with your exams</p>",
        "id": 121766703,
        "sender_full_name": "Sean",
        "timestamp": 1517288118
    },
    {
        "content": "<blockquote>\n<p>except you did miss the follow-up corrections I mentioned, like initializing next to 0...</p>\n</blockquote>\n<p>I tried to initialize ids to 0, but seems like I can't assign a scalar to an unordered_map. And something bazaar happens when I attempt to run this anyway, with next initialized to 0: I get logged out of Ubuntu.</p>",
        "id": 121787945,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1517329356
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"miteshgulecha@gmail.com\" data-user-id=\"104224\">@Mitesh</span> <br>\nIf a DLL cannot be loaded it doesn't necessarily mean that this DLL isn't there, it could be because it can't find other DLLs it depends on. You can check this with <a href=\"http://www.dependencywalker.com\" target=\"_blank\" title=\"http://www.dependencywalker.com\">http://www.dependencywalker.com</a>. Especially the BRL-CAD core needs a lot DLLs, see the target_link_libraries statements here: <a href=\"https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/misc/win32-msvc/Dll/CMakeLists.txt\" target=\"_blank\" title=\"https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/misc/win32-msvc/Dll/CMakeLists.txt\">https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/misc/win32-msvc/Dll/CMakeLists.txt</a></p>\n<p>I personally would still recommend to go with the brlcad.dll. You could use this <a href=\"https://github.com/drossberg/BrlCadQtGUI/tree/master/BRL-CAD\" target=\"_blank\" title=\"https://github.com/drossberg/BrlCadQtGUI/tree/master/BRL-CAD\">https://github.com/drossberg/BrlCadQtGUI/tree/master/BRL-CAD</a> as it is in your project. It has a CMakeLists.txt.</p>\n<p>BTW, CMake usually doesn't need to be called explicitly if the project files are generated once. Make or Visual Studio call cmake if they detect a change in the CMakeLists.txt files.</p>",
        "id": 121794637,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1517338940
    },
    {
        "content": "<blockquote>\n<p>cya!  good luck with your exams</p>\n</blockquote>\n<p>thank you</p>",
        "id": 121812913,
        "sender_full_name": "Mitesh",
        "timestamp": 1517368257
    },
    {
        "content": "<blockquote>\n<p>BTW, CMake usually doesn't need to be called explicitly if the project files are generated once. Make or Visual Studio call cmake if they detect a change in the CMakeLists.txt files.</p>\n</blockquote>\n<p>yeah...visual studio detect the changes....</p>",
        "id": 121812973,
        "sender_full_name": "Mitesh",
        "timestamp": 1517368379
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-email=\"miteshgulecha@gmail.com\" data-user-id=\"104224\">@Mitesh</span> <br>\nI personally would still recommend to go with the brlcad.dll. You could use this <a href=\"https://github.com/drossberg/BrlCadQtGUI/tree/master/BRL-CAD\" target=\"_blank\" title=\"https://github.com/drossberg/BrlCadQtGUI/tree/master/BRL-CAD\">https://github.com/drossberg/BrlCadQtGUI/tree/master/BRL-CAD</a> as it is in your project. It has a CMakeLists.txt.</p>\n</blockquote>\n<p>Should I build this first?</p>",
        "id": 121813050,
        "sender_full_name": "Mitesh",
        "timestamp": 1517368503
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>Should I build this first?\n</pre></div>\n\n\n<p>??? It's part of the sources. Copy the BRL-CAD directory in your AppleSeed plugin source directory, include it with <code>add_subdirectory(BRL-CAD)</code> in your CMakeLists.txt and refer to it with \"brlcad\" and \"BRLCAD_INCLUDE_DIR\" like any other sublibrary (see <a href=\"https://github.com/drossberg/BrlCadQtGUI/blob/master/src/CMakeLists.txt\" target=\"_blank\" title=\"https://github.com/drossberg/BrlCadQtGUI/blob/master/src/CMakeLists.txt\">https://github.com/drossberg/BrlCadQtGUI/blob/master/src/CMakeLists.txt</a> for example).</p>",
        "id": 121830094,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1517404452
    },
    {
        "content": "<blockquote>\n<p>I tried to initialize ids to 0, but seems like I can't assign a scalar to an unordered_map. And something bazaar happens when I attempt to run this anyway, with next initialized to 0: I get logged out of Ubuntu.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span> you can, you just need to be using c++11, but... the important one is initializing next to 0... try running in valgrind or in gdb if it's logging you out</p>",
        "id": 121862773,
        "sender_full_name": "Sean",
        "timestamp": 1517455750
    },
    {
        "content": "<p>do you know how to do that?</p>",
        "id": 121862977,
        "sender_full_name": "Sean",
        "timestamp": 1517456238
    },
    {
        "content": "<blockquote>\n<p>BTW, CMake usually doesn't need to be called explicitly if the project files are generated once. Make or Visual Studio call cmake if they detect a change in the CMakeLists.txt files.</p>\n</blockquote>\n<p>Interesting... I've never been able to fully reliably trust that to work right on windows</p>",
        "id": 121863018,
        "sender_full_name": "Sean",
        "timestamp": 1517456336
    },
    {
        "content": "<p>Hey...sorry guys... I am little busy with my exams...will update my work on 14th/15th feb</p>",
        "id": 121971094,
        "sender_full_name": "Mitesh",
        "timestamp": 1517663291
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>I tried to initialize ids to 0, but seems like I can't assign a scalar to an unordered_map. And something bazaar happens when I attempt to run this anyway, with next initialized to 0: I get logged out of Ubuntu.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span> you can, you just need to be using c++11, but... the important one is initializing next to 0... try running in valgrind or in gdb if it's logging you out</p>\n</blockquote>\n<p>ok, ill have a go at it</p>",
        "id": 121971922,
        "sender_full_name": "Jeff Sieu",
        "timestamp": 1517665519
    },
    {
        "content": "<p>can anyone give my answers?</p>",
        "id": 122042298,
        "sender_full_name": "Parth Pandya",
        "timestamp": 1517833698
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"jeffsy00@gmail.com\" data-user-id=\"104481\">@Jeff Sieu</span>  if you need help with debugging, how to use a debugger, just ask... the basics with gdb is to just run a program like you normally would, but then prepend \"gdb --args\" to the command line, then \"run\" at the gdb prompt</p>",
        "id": 122052407,
        "sender_full_name": "Sean",
        "timestamp": 1517850373
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span>  , hello. I have been trying to deal with Appleseed dependencies for a few days already and now I am kind of stuck, so I wanted to ask for advice.  <br>\nFirst of all, what I have done at this point: I have added \"apprt\" command to \"mged_cmdtab\" and created a callback function for it in .c file.<br>\n1) Then, I tried to use Appleseed as it is without tclscripts and all this stuff. I have added all the necessary libs to cmake file and a few appleseed includes to the .c file. When I try to build it I get \"cstddef: No such file or directory\" error. Probably it happens because of name mangling, since mged is compiled with c99 and Appleseed with c++11. Well, that's not surprising.<br>\n2) Then I created a .cpp file, compiled in with c++ compiler(it builds okay, without any errors) and tried to call it using extern \"C\" mechanism from .c file, but I still got some linking errors.<br>\nAm I doing something wrong? What's a proper way to do this?<br>\nP.S. I am working on Ubuntu 16.04</p>",
        "id": 126935334,
        "sender_full_name": "Denis Pavlov",
        "timestamp": 1527011335
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"117316\">@Denis Pavlov</span> 1) sounds like you need to rename your source file to .cpp so it compiles as c++... cstddef is not a valid header for a .c file.</p>",
        "id": 127173081,
        "sender_full_name": "Sean",
        "timestamp": 1527445810
    },
    {
        "content": "<p>which it sounds like you figured out in 2) but you got things reversed -- you extern \"C\" in the .cpp file, and then just declare and call the function in a .c files</p>",
        "id": 127173088,
        "sender_full_name": "Sean",
        "timestamp": 1527445869
    },
    {
        "content": "<p>where is your latest code at currently?</p>",
        "id": 127173091,
        "sender_full_name": "Sean",
        "timestamp": 1527445911
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span> regarding the CMake examples you sent me earlier, could I use most of this: <a href=\"https://sourceforge.net/p/brlcad/code/HEAD/tree/rt%5E3/trunk/cmake/FindBRLCAD.cmake\" target=\"_blank\" title=\"https://sourceforge.net/p/brlcad/code/HEAD/tree/rt%5E3/trunk/cmake/FindBRLCAD.cmake\">https://sourceforge.net/p/brlcad/code/HEAD/tree/rt%5E3/trunk/cmake/FindBRLCAD.cmake</a> inside of my Appleseed configuration file? So when configuring, it looks for BRLCAD, and then I should be able to include the RT library?</p>",
        "id": 183455467,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576352827
    },
    {
        "content": "<p>It looks like it looks for BRLCAD through my PATH environment variable (although I'm not quite sure how) in order to find BRLCAD, which should means that I should be able to use it externally, right?</p>",
        "id": 183455480,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576352865
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  It should work, yes - it's a bit heavy for what you  need, but if that's easier there's no reason not to use it</p>",
        "id": 183456177,
        "sender_full_name": "starseeker",
        "timestamp": 1576353831
    },
    {
        "content": "<p>Alright, thanks so much for the help! I will try doing it now and see how it works.</p>",
        "id": 183456244,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576353907
    },
    {
        "content": "<p>The simplest thing would be to explicitly supply the .so file paths to target_link_libraries, although that's poor practice for any general use code</p>",
        "id": 183456253,
        "sender_full_name": "starseeker",
        "timestamp": 1576353912
    },
    {
        "content": "<p>Would that be the same for dll on Windows?</p>",
        "id": 183456266,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576353956
    },
    {
        "content": "<p>wait - by use, do you mean cut/paste into your code?  You probably don't want to do that</p>",
        "id": 183456267,
        "sender_full_name": "starseeker",
        "timestamp": 1576353956
    },
    {
        "content": "<p>Ah, Windows.  right...</p>",
        "id": 183456311,
        "sender_full_name": "starseeker",
        "timestamp": 1576353970
    },
    {
        "content": "<p>might want to check with <span class=\"user-mention\" data-user-id=\"102939\">@Daniel Rossberg</span>  on that one</p>",
        "id": 183456320,
        "sender_full_name": "starseeker",
        "timestamp": 1576354002
    },
    {
        "content": "<p>Actually, I'm not sure how I wanted to use it. All I really wanted to do was to properly link the librt headers and such so that I could call the proper functions from the appleseed code.</p>",
        "id": 183456343,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576354050
    },
    {
        "content": "<p>It definitely seems like there are some components that wouldn't be necessary for my purposes</p>",
        "id": 183456357,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576354075
    },
    {
        "content": "<p>if you want to use the FindBRLCAD.cmake file, take a look at what rt^3 does in its main CMakeLists.txt file - you should be able to call it the same way</p>",
        "id": 183456413,
        "sender_full_name": "starseeker",
        "timestamp": 1576354104
    },
    {
        "content": "<p>you won't use everything it provides, but it should define what you need</p>",
        "id": 183456425,
        "sender_full_name": "starseeker",
        "timestamp": 1576354145
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  I think Daniel posted a question for you over in the Appleseed channel...</p>",
        "id": 183456432,
        "sender_full_name": "starseeker",
        "timestamp": 1576354166
    },
    {
        "content": "<p>Sorry, where? I believe I responded to everything that has been directed towards me.</p>",
        "id": 183456519,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576354263
    },
    {
        "content": "<p><a href=\"#narrow/stream/104238-Google-Code-in/topic/Appleseed\" title=\"#narrow/stream/104238-Google-Code-in/topic/Appleseed\">https://brlcad.zulipchat.com/#narrow/stream/104238-Google-Code-in/topic/Appleseed</a></p>",
        "id": 183456528,
        "sender_full_name": "starseeker",
        "timestamp": 1576354278
    },
    {
        "content": "<p>Oh, yes, he asked me what exactly I was trying to do with the BRLCAD libraries and I think I responded accordingly. He pointed me towards the dll_devel.zip but after compiling a test it seems like it might be easier to directly link what I need.</p>",
        "id": 183456655,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576354493
    },
    {
        "content": "<p>Ah , I see it now</p>",
        "id": 183456716,
        "sender_full_name": "starseeker",
        "timestamp": 1576354564
    },
    {
        "content": "<p>I'll confess I usually do this sort of thing inside BRL-CAD proper, where we have extensive wiring in place for building across multiple platforms... I'd probably just make an \"art\" executable in src/rt using the existing rt CMake as a template, then add in any needed Appleseed logic.  However, that's easier for me since I've been working with that build system for years - it's a lot to take in for a brand new user.</p>\n<p>That said, if you want to try it you certainly can.</p>",
        "id": 183456786,
        "sender_full_name": "starseeker",
        "timestamp": 1576354690
    },
    {
        "content": "<p>To link BRL-CAD and Appleseed you'd probably want a FindAppleseed.cmake file (we have many similar files in misc/CMake)</p>",
        "id": 183456812,
        "sender_full_name": "starseeker",
        "timestamp": 1576354792
    },
    {
        "content": "<p>Creating some sort of \"art\" executable in src/rt does seem like the end goal in mind for this task set; my apologies for forgetting to mention that I'm working on a specific task, which requires me to call rt_shootray() from an appleseed program.</p>",
        "id": 183456870,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576354872
    },
    {
        "content": "<p>Ah.  OK, then I'm leading you down the wrong rabbit hole (at least, for now)</p>",
        "id": 183456915,
        "sender_full_name": "starseeker",
        "timestamp": 1576354929
    },
    {
        "content": "<p>I believe that the purpose of this task is to first integrate BRLCAD into appleseed, whereas later tasks are meant to integrate appleseed into BRLCAD</p>",
        "id": 183456919,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576354944
    },
    {
        "content": "<blockquote>\n<p>Ah.  OK, then I'm leading you down the wrong rabbit hole (at least, for now)</p>\n</blockquote>\n<p>It's alright, your advice is very insightful! I'll be sure to keep it in mind for the later tasks.</p>",
        "id": 183456931,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576354988
    },
    {
        "content": "<p>That said, for this specific task, would using part of the example FindBRLCAD.cmake file be enough to configure the appleseed program to call functions from librt? I'm not really sure which parts are necessary and which parts aren't.</p>",
        "id": 183457062,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576355256
    },
    {
        "content": "<p>FindBRLCAD.cmake, if it finds BRL-CAD, will define a series of CMake variables that can then be used in the include_directories and target_link_libraries lines.</p>",
        "id": 183457113,
        "sender_full_name": "starseeker",
        "timestamp": 1576355312
    },
    {
        "content": "<p>I'd go ahead and experiment a bit - just bear in mine if you start cutting up the FindBRLCAD.cmake file that it's using loops, lists, and a lot of other logic that will make it somewhat harder to digest.</p>\n<p>If you want to use it \"as is\" you should be able to call it the way rt^3 calls it (find_package most likely) and just use what it gives you</p>",
        "id": 183457217,
        "sender_full_name": "starseeker",
        "timestamp": 1576355435
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  Depending on how the task is defined, doing it manually in Visual Studio may be enough for the task</p>",
        "id": 183457251,
        "sender_full_name": "starseeker",
        "timestamp": 1576355513
    },
    {
        "content": "<p>Elaborate CMake work is only warranted if we're wiring Appleseed into BRL-CAD - going the other way I'd imagine anything that works is fine for a start-up task...</p>",
        "id": 183457304,
        "sender_full_name": "starseeker",
        "timestamp": 1576355560
    },
    {
        "content": "<p>Hm, it's true that the task itself doesn't specify how I should be linking BRLCAD, and I assume that the CMake work involved between linking Appleseed into BRLCAD is probably a little different compared to linking BRLCAD into Appleseed.</p>",
        "id": 183457384,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576355682
    },
    {
        "content": "<p>Either way CMake sounds like it's a distraction from the point of this task, so if manually setting it up in Visual Studio works I'd go with it.</p>",
        "id": 183457404,
        "sender_full_name": "starseeker",
        "timestamp": 1576355746
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> could you please help clarify?</p>",
        "id": 183457407,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576355754
    },
    {
        "content": "<p>I can see how I might set it up in Visual Studio - it would probably just be a matter of manually setting up the include and lib directories. However, if part of the task does indeed involve configuring CMake, then I guess I can always go back to it later.</p>",
        "id": 183457524,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576355910
    },
    {
        "content": "<p>right.  If you can get it working manually, you'll know you can eventually make the code work with CMake too and that way you can stay focused on the core Appleseed piece</p>",
        "id": 183457536,
        "sender_full_name": "starseeker",
        "timestamp": 1576355952
    },
    {
        "content": "<p>Yep, sounds like a plan. Thanks so much for your help!</p>",
        "id": 183457547,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576355986
    },
    {
        "content": "<p>no problem - sorry for the red herrings.</p>",
        "id": 183457567,
        "sender_full_name": "starseeker",
        "timestamp": 1576356002
    },
    {
        "content": "<p>It's alright, I think they'll come in handy for the future :)</p>",
        "id": 183457669,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576356176
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> yes, the task intentionally does not say anything at all about the build system as it’s not the focus.  The focus is strictly on the task objective.</p>",
        "id": 183459249,
        "sender_full_name": "Sean",
        "timestamp": 1576358906
    },
    {
        "content": "<p>Oh ok, that makes things a lot simpler. I believe that I've been able to link it correctly manually. As for the task objective itself, how should I be handling the hit/miss callbacks?</p>",
        "id": 183459266,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576358968
    },
    {
        "content": "<p>I believe that I'd need to use some obj or database, so could I load in a sphere.obj overlaying the SphereObject?</p>",
        "id": 183459271,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576358995
    },
    {
        "content": "<p>However you get it working is fine.  I would recommend following the existing cmake in brl-cad or rt^3 as being the easiest and fastest but it still literally does not matter yet.</p>",
        "id": 183459317,
        "sender_full_name": "Sean",
        "timestamp": 1576359041
    },
    {
        "content": "<blockquote>\n<p>I believe that I'd need to use some obj or database, so could I load in a sphere.obj overlaying the SphereObject?</p>\n</blockquote>\n<p>When I say overlay, I just mean load in a sphere object so that the rays from the brlcad raytracing have something to hit/miss. My plan was to, in both intersect() functions, call rt_shootray() with the identical ray information as the appleseed raytracing, and then print out statements within both the hit/miss callbacks.</p>",
        "id": 183459461,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576359336
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> , I've been getting some strange errors from my program but I've been having a lot of difficulty debugging it. So after manually linking the required BRLCAD libraries (which I believe worked successfully, as compiling is successful), appleseed ends up crashing when I try to load in the project. It seems like this happens when bu_log(), bu_exit(), rt_prep_parallel(), and maybe other functions are called.</p>",
        "id": 183479463,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576399703
    },
    {
        "content": "<p>Some sort of document named (BRL-CAD)-15072-bomb is created, but all it contains is this:</p>\n<div class=\"codehilite\"><pre><span></span>******************************************\n\nBRL-CAD Release 7.30.3  Crash Report\n    Thu, 05 Dec 2019 17:18:30 -0500, Compilation 0\n    JeffL@unknown\n\nCommand: (BRL-CAD)\nProcess: 15072\nPath: C:\\Users\\JeffL\\Downloads\\Google Code-in 2019\\Source\\appleseed\\sandbox\\bin\\vc141\\Ship\\appleseed.studio.exe\nDate: Sun Dec 15 03:40:46 2019\n\nCall stack backtrace (thread 0):\n</pre></div>",
        "id": 183479470,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576399756
    },
    {
        "content": "<p>hey jeffrey..</p>",
        "id": 183479473,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576399784
    },
    {
        "content": "<p>Hello</p>",
        "id": 183479476,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576399794
    },
    {
        "content": "<p>my screen is also pink when the sphere is imported from BRL-CAD to appleseed</p>",
        "id": 183479521,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576399832
    },
    {
        "content": "<p>i even set the the material to something</p>",
        "id": 183479523,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576399844
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"247135\">@Sumagna Das</span> can you send a screenshot of the application?</p>",
        "id": 183479531,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576399918
    },
    {
        "content": "<p>what should i do</p>",
        "id": 183479534,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576399921
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/LgNa0hiv7n7FqV8LJL_m3sQp/Screenshot-from-2019-12-15-14-22-37.png\" target=\"_blank\" title=\"Screenshot-from-2019-12-15-14-22-37.png\">Screenshot-from-2019-12-15-14-22-37.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/LgNa0hiv7n7FqV8LJL_m3sQp/Screenshot-from-2019-12-15-14-22-37.png\" target=\"_blank\" title=\"Screenshot-from-2019-12-15-14-22-37.png\"><img src=\"/user_uploads/1549/LgNa0hiv7n7FqV8LJL_m3sQp/Screenshot-from-2019-12-15-14-22-37.png\"></a></div>",
        "id": 183479589,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576399981
    },
    {
        "content": "<p>i opened all of the things in the tree</p>",
        "id": 183479597,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576400005
    },
    {
        "content": "<p>so you can tell what should i do</p>",
        "id": 183479600,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576400018
    },
    {
        "content": "<p>Have you linked the materal to the sphere instance? Did you rerender the image afterwards?</p>",
        "id": 183479601,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576400021
    },
    {
        "content": "<p>You might also want to add in a couple other objects, as after the materials are set up properly, the render will be completely dark without any lights.</p>",
        "id": 183479649,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576400062
    },
    {
        "content": "<blockquote>\n<p>Hi <span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> , I've been getting some strange errors from my program but I've been having a lot of difficulty debugging it. So after manually linking the required BRLCAD libraries (which I believe worked successfully, as compiling is successful), appleseed ends up crashing when I try to load in the project. It seems like this happens when bu_log(), bu_exit(), rt_prep_parallel(), and maybe other functions are called.</p>\n</blockquote>\n<p>Back to what I was saying, it seems like rt_dirbuild() passes through without error as I was able to print a test statement following the call to rt_dirbuild().</p>",
        "id": 183479717,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576400242
    },
    {
        "content": "<p>i right clicked on the sphere instance, pressed assign materials and assigned it the green material</p>",
        "id": 183479720,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576400259
    },
    {
        "content": "<p>sorry for the delay and interruption but my laptop's keyboard is kind of pressing 4 without my intervention</p>",
        "id": 183479763,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576400307
    },
    {
        "content": "<p>Have you tried rerendering?</p>",
        "id": 183479771,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576400363
    },
    {
        "content": "<blockquote>\n<p>Have you tried rerendering?</p>\n</blockquote>\n<p>umm yea</p>",
        "id": 183479773,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576400387
    },
    {
        "content": "<p>Could you send over your appleseed file then? It'll be easier for me to see your setup.</p>",
        "id": 183479824,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576400440
    },
    {
        "content": "<p>ok</p>",
        "id": 183479838,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576400489
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/VIyM8FPCb5gTqv5y9crjORp5/Import.appleseed\" target=\"_blank\" title=\"Import.appleseed\">Import.appleseed</a> <a href=\"/user_uploads/1549/EJnUDk3QQ3IDi7HexbQiJCm1/sph.obj\" target=\"_blank\" title=\"sph.obj\">sph.obj</a> the object and file</p>",
        "id": 183479888,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576400526
    },
    {
        "content": "<p>After running appleseed through the VS debugger mode, this is what happens when I attempt to load in the plugin:</p>\n<div class=\"codehilite\"><pre><span></span>Exception thrown at 0x00007FFE0B32A839 in appleseed.studio.exe: Microsoft C++ exception: xercesc_3_2::TraverseSchema::ExceptionCodes at memory location 0x0000002BA4EFDEF0.\n&#39;appleseed.studio.exe&#39; (Win32): Loaded &#39;C:\\Users\\JeffL\\Downloads\\Google Code-in 2019\\Source\\appleseed\\sandbox\\examples\\cpp\\art\\build\\Release\\art-plugin.dll&#39;. Module was built without symbols.\n&#39;appleseed.studio.exe&#39; (Win32): Unloaded &#39;C:\\Users\\JeffL\\Downloads\\Google Code-in 2019\\Source\\appleseed\\sandbox\\examples\\cpp\\art\\build\\Release\\art-plugin.dll&#39;\nException thrown at 0x00007FFE0B32A839 in appleseed.studio.exe: Microsoft C++ exception: foundation::ExceptionCannotLoadSharedLib at memory location 0x0000002BA4EFDF48.\n</pre></div>",
        "id": 183479940,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576400653
    },
    {
        "content": "<blockquote>\n<p><a href=\"/user_uploads/1549/VIyM8FPCb5gTqv5y9crjORp5/Import.appleseed\" target=\"_blank\" title=\"Import.appleseed\">Import.appleseed</a> <a href=\"/user_uploads/1549/EJnUDk3QQ3IDi7HexbQiJCm1/sph.obj\" target=\"_blank\" title=\"sph.obj\">sph.obj</a> the object and file</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"247135\">@Sumagna Das</span> Alright, so what it seems to me is that, if you look at the sphere instance itself, there is no material assigned to the \"back,\" and since your camera position is starting inside of the sphere, it is still indicating that there is no material.</p>",
        "id": 183480080,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576401002
    },
    {
        "content": "<p>It's getting late for me so I'm going to head off for now. Have a nice night (or day)!</p>",
        "id": 183480177,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576401133
    },
    {
        "content": "<p>ok</p>",
        "id": 183480179,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576401169
    },
    {
        "content": "<p>This error is giving me quite the headache... I'm still having difficulty even understanding what exactly is causing the error.</p>",
        "id": 183480183,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576401183
    },
    {
        "content": "<p>so there should be a material assigned to back</p>",
        "id": 183480240,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576401315
    },
    {
        "content": "<p>?</p>",
        "id": 183480242,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576401316
    },
    {
        "content": "<p>Not necessarily, you just need to zoom out enough and the image should turn black (no lights)</p>",
        "id": 183480247,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576401357
    },
    {
        "content": "<p>i became dark as soon as i assigned green material to back</p>",
        "id": 183480248,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576401360
    },
    {
        "content": "<p>how to zoom out</p>",
        "id": 183480288,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576401382
    },
    {
        "content": "<p>To be honest I don't remember off the top of my head, but it's one of the first things mentioned in the \"getting started\" appleseed documentation.</p>",
        "id": 183480300,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576401434
    },
    {
        "content": "<p>Based on that VS message, you're building in Release mode rather than Debug mode</p>",
        "id": 183489591,
        "sender_full_name": "starseeker",
        "timestamp": 1576418765
    },
    {
        "content": "<p>Starseeker did you do the Appleseed#1 task?</p>",
        "id": 183489736,
        "sender_full_name": "Thusal Ranawaka",
        "timestamp": 1576419113
    },
    {
        "content": "<p>Sumagna did you do the Appleseed #1 task?</p>",
        "id": 183490447,
        "sender_full_name": "Thusal Ranawaka",
        "timestamp": 1576420435
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/u5yqZ_-kQWR-Bcn1llgg5xvO/d1.PNG\" target=\"_blank\" title=\"d1.PNG\">d1.PNG</a> <a href=\"/user_uploads/1549/B0lOgNhNAKZToTHZHzpB2vD6/d2.PNG\" target=\"_blank\" title=\"d2.PNG\">d2.PNG</a> Can anyone please help me , whenever i try to build the software i get these errors after following the steps of installation. many of the programs are built but the main mged or archer are not made.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/u5yqZ_-kQWR-Bcn1llgg5xvO/d1.PNG\" target=\"_blank\" title=\"d1.PNG\"><img src=\"/user_uploads/1549/u5yqZ_-kQWR-Bcn1llgg5xvO/d1.PNG\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/1549/B0lOgNhNAKZToTHZHzpB2vD6/d2.PNG\" target=\"_blank\" title=\"d2.PNG\"><img src=\"/user_uploads/1549/B0lOgNhNAKZToTHZHzpB2vD6/d2.PNG\"></a></div>",
        "id": 183491817,
        "sender_full_name": "Chiranjiv Singh Malhi",
        "timestamp": 1576422809
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"102939\">@Daniel Rossberg</span> If I have to bind function in lua so is it also compulsory to implement function of nested class too ?</p>",
        "id": 183492716,
        "sender_full_name": "Himanshu",
        "timestamp": 1576424405
    },
    {
        "content": "<p><a href=\"https://paste.ofcode.org/EnnfVh2qex83cUQU3gQUGB\" target=\"_blank\" title=\"https://paste.ofcode.org/EnnfVh2qex83cUQU3gQUGB\">https://paste.ofcode.org/EnnfVh2qex83cUQU3gQUGB</a></p>",
        "id": 183492747,
        "sender_full_name": "Himanshu",
        "timestamp": 1576424493
    },
    {
        "content": "<blockquote>\n<p>Based on that VS message, you're building in Release mode rather than Debug mode</p>\n</blockquote>\n<p>Hi <span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span> , thank you for pointing that out! I hadn't even realized it. However, even after building in Debug mode, I'm still getting this error:</p>\n<div class=\"codehilite\"><pre><span></span>Exception thrown at 0x00007FFE0B32A839 in appleseed.studio.exe: Microsoft C++ exception: xercesc_3_2::TraverseSchema::ExceptionCodes at memory location 0x0000008D3DCFE3C0.\n&#39;appleseed.studio.exe&#39; (Win32): Loaded &#39;C:\\Users\\JeffL\\Downloads\\Google Code-in 2019\\Source\\appleseed\\sandbox\\examples\\cpp\\art\\build\\Debug\\art-plugin.dll&#39;. Symbols loaded.\n&#39;appleseed.studio.exe&#39; (Win32): Loaded &#39;C:\\Windows\\System32\\vcruntime140d.dll&#39;.\n&#39;appleseed.studio.exe&#39; (Win32): Loaded &#39;C:\\Windows\\System32\\msvcp140d.dll&#39;.\n&#39;appleseed.studio.exe&#39; (Win32): Loaded &#39;C:\\Windows\\System32\\ucrtbased.dll&#39;.\n&#39;appleseed.studio.exe&#39; (Win32): Unloaded &#39;C:\\Windows\\System32\\msvcp140d.dll&#39;\n&#39;appleseed.studio.exe&#39; (Win32): Unloaded &#39;C:\\Windows\\System32\\vcruntime140d.dll&#39;\n&#39;appleseed.studio.exe&#39; (Win32): Unloaded &#39;C:\\Windows\\System32\\ucrtbased.dll&#39;\n&#39;appleseed.studio.exe&#39; (Win32): Unloaded &#39;C:\\Users\\JeffL\\Downloads\\Google Code-in 2019\\Source\\appleseed\\sandbox\\examples\\cpp\\art\\build\\Debug\\art-plugin.dll&#39;\n</pre></div>",
        "id": 183493723,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576426200
    },
    {
        "content": "<p>I think you need to run a backtrace or break on the exception, but it's been a while since I've done that in MSVC so I don't recall the details</p>",
        "id": 183494227,
        "sender_full_name": "starseeker",
        "timestamp": 1576426654
    },
    {
        "content": "<p>When you say backtrace, are you referring to the callstack that visual studio provides?</p>",
        "id": 183494279,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576426718
    },
    {
        "content": "<p><a href=\"https://docs.microsoft.com/en-us/visualstudio/debugger/debugger-feature-tour?view=vs-2019\" target=\"_blank\" title=\"https://docs.microsoft.com/en-us/visualstudio/debugger/debugger-feature-tour?view=vs-2019\">https://docs.microsoft.com/en-us/visualstudio/debugger/debugger-feature-tour?view=vs-2019</a></p>",
        "id": 183494296,
        "sender_full_name": "starseeker",
        "timestamp": 1576426760
    },
    {
        "content": "<p>The message you posted indicates it's gotten an exception and talks about loading dlls, but doesn't give you any history from the source code of how you got to that point</p>",
        "id": 183494350,
        "sender_full_name": "starseeker",
        "timestamp": 1576426847
    },
    {
        "content": "<p>I usually develop on Linux, so I'm not terribly good at debugging on Windows, but one thing I know you can do is set breakpoints and single step through the code if need be.</p>",
        "id": 183494359,
        "sender_full_name": "starseeker",
        "timestamp": 1576426889
    },
    {
        "content": "<p>Hm... this is quite an interesting situation because when debugging appleseed, it opens the appleseed.studio application from which I must load in the project file, which is where the issue arises.</p>",
        "id": 183494400,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576426938
    },
    {
        "content": "<p>If you're referring to the issue with the dll, that's the appleseed plugin that I compiled which is causing the issue.</p>",
        "id": 183494609,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576427334
    },
    {
        "content": "<blockquote>\n<p>After running appleseed through the VS debugger mode, this is what happens when I attempt to load in the plugin:</p>\n</blockquote>\n<div class=\"codehilite\"><pre><span></span>Exception thrown at 0x00007FFE0B32A839 in appleseed.studio.exe: Microsoft C++ exception: xercesc_3_2::TraverseSchema::ExceptionCodes at memory location 0x0000002BA4EFDEF0.\n&#39;appleseed.studio.exe&#39; (Win32): Loaded &#39;C:\\Users\\JeffL\\Downloads\\Google Code-in 2019\\Source\\appleseed\\sandbox\\examples\\cpp\\art\\build\\Release\\art-plugin.dll&#39;. Module was built without symbols.\n&#39;appleseed.studio.exe&#39; (Win32): Unloaded &#39;C:\\Users\\JeffL\\Downloads\\Google Code-in 2019\\Source\\appleseed\\sandbox\\examples\\cpp\\art\\build\\Release\\art-plugin.dll&#39;\nException thrown at 0x00007FFE0B32A839 in appleseed.studio.exe: Microsoft C++ exception: foundation::ExceptionCannotLoadSharedLib at memory location 0x0000002BA4EFDF48.\n</pre></div>\n\n\n<p>The error message says it all: <strong>foundation::ExceptionCannotLoadSharedLib</strong><br>\nThe appleseed program possibly couldn't find the BRL-CAD DLLs. These are either the brlcad.dll or librt.dll, libbu.dll, etc., depending on which you linked. ropping them into the Appleseed binary directory is the simplest solution.</p>",
        "id": 183495258,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1576428542
    },
    {
        "content": "<p>My understanding was that the DLL it was referring to was art-plugin.dll, which was my program/plugin. I thought that I statically linked the BRLCAD libraries through the .lib files.</p>",
        "id": 183495327,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576428697
    },
    {
        "content": "<p>I was able to resolve the crashing by placing my geometry database in the proper directory - it seems like after failing to load in the database, the application would crash.</p>",
        "id": 183495370,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576428750
    },
    {
        "content": "<p>Looks like i have a new issue now... rendering ends up crashing the application instead now :(</p>",
        "id": 183495434,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576428917
    },
    {
        "content": "<blockquote>\n<p>My understanding was that the DLL it was referring to was art-plugin.dll, which was my program/plugin. I thought that I statically linked the BRLCAD libraries through the .lib files.</p>\n</blockquote>\n<p>This is not true. The .lib files contain the interface description only. If they belong to a .dll, these files are still necessary as they contain the byte code. Your art-plugin.dll cannot be loaded if they aren't present.</p>",
        "id": 183495551,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1576429127
    },
    {
        "content": "<p>Oh, I wasn't aware of that. Would it not be enough to link the .lib files from the installation directory? I can't seem to find any .dll files there.</p>",
        "id": 183495652,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576429280
    },
    {
        "content": "<p>The .dll files are in the bin directory, together with the .exe files.</p>",
        "id": 183495699,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1576429327
    },
    {
        "content": "<p>Oh I see them now, guess I didn't look hard enough. So should I just copy-paste the .dll files I need?</p>",
        "id": 183495715,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576429390
    },
    {
        "content": "<p>This tool helps finding missing DLLs: <a href=\"http://www.dependencywalker.com\" target=\"_blank\" title=\"http://www.dependencywalker.com\">http://www.dependencywalker.com</a></p>",
        "id": 183495718,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1576429401
    },
    {
        "content": "<blockquote>\n<p>Oh I see them now, guess I didn't look hard enough. So should I just copy-paste the .dll files I need?</p>\n</blockquote>\n<p>Yes. All of them to play it safe.</p>",
        "id": 183495769,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1576429482
    },
    {
        "content": "<p>Alright, I will try that. Thanks so much for your help!</p>",
        "id": 183495770,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576429501
    },
    {
        "content": "<p>do i have to submit the screenshot of the output window of rt command in mged for the task appleseed #1(create and render a sphere in BRL-CAD and appleseed)?</p>",
        "id": 183498264,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576433776
    },
    {
        "content": "<p>I thing this is meant by \"SUBMIT a screenshot of it rendered in BRL-CAD\".</p>",
        "id": 183498505,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1576434212
    },
    {
        "content": "<p>doesnt rt render the whole thing?</p>",
        "id": 183498682,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576434521
    },
    {
        "content": "<p>btw, how to change the background color of the output window of rt ccommand</p>",
        "id": 183498745,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576434635
    },
    {
        "content": "<p>it is transparent</p>",
        "id": 183498747,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576434642
    },
    {
        "content": "<p>is there any way?</p>",
        "id": 183498913,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576434937
    },
    {
        "content": "<p>I know this issue from Linux, but I couldn't find a solution yet. You can set the background color with the \"-C\" option (e.g. \"-C 243/134/17\"). But, it will still be transparent. Putting the window in front of the dark mged graphics window helps.</p>\n<p>Another possibility is to use the \"Raytrace Control Panel\" from the \"Tools\" menu and render it into mged's graphics window.</p>",
        "id": 183499262,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1576435446
    },
    {
        "content": "<p>ok</p>",
        "id": 183499270,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576435479
    },
    {
        "content": "<p>you work on linux?</p>",
        "id": 183499278,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576435496
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  i found out how to zoom out in appleseed and rendered the sphere</p>",
        "id": 183499344,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576435632
    },
    {
        "content": "<p>I work on Linux and Windows. At the moment, I'm sitting in front of a Linux machine. But at work I'm developing with Visual Studio on Windows.</p>",
        "id": 183499349,
        "sender_full_name": "Daniel Rossberg",
        "timestamp": 1576435652
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span>  i found out how to zoom out in appleseed and rendered the sphere</p>\n</blockquote>\n<p>Nice!</p>",
        "id": 183499352,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576435668
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  i found out how to zoom out in appleseed and rendered the sphere</p>",
        "id": 183499354,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576435680
    },
    {
        "content": "<p>why is it sending my message again?</p>",
        "id": 183499394,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576435721
    },
    {
        "content": "<blockquote>\n<p>I work on Linux and Windows. At the moment, I'm sitting in front of a Linux machine. But at work I'm developing with Visual Studio on Windows.</p>\n</blockquote>\n<p>i have windows and ubuntu on dual boot as my father also takes this laptop to his work sometimes and he cant work with ubuntu</p>",
        "id": 183499457,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576435812
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102939\">@Daniel Rossberg</span> I tried what you told me to do and I believe it ended up working - thanks so much for all of your help!</p>",
        "id": 183499672,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576436243
    },
    {
        "content": "<p>hey jeffrey does the rendered version of the sphere needs to have a material or can it be pink(without material) for the appleseed #1 task?</p>",
        "id": 183499738,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576436378
    },
    {
        "content": "<p>When I was doing the task, I was told that the main point of the task was just to figure out how to convert a geometry database into an obj file and then import it into appleseed - the materials were not necessarily important. That said, I ended up giving it a material and added lights so that it felt more complete.</p>",
        "id": 183499800,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576436463
    },
    {
        "content": "<p>ok</p>",
        "id": 183499808,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576436495
    },
    {
        "content": "<p>i am sending it without material</p>",
        "id": 183499810,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576436510
    },
    {
        "content": "<p>if the mentors send it back and tell me to add material, i will add one</p>",
        "id": 183499852,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576436555
    },
    {
        "content": "<p>kind of a trial-and-error method</p>",
        "id": 183499863,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576436594
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> , I'm just getting started on task #6 of Appleseed. If I'm interpreting correctly, is the point of this task to detect the geometry database information with BRLCAD and then provide that information to Appleseed so that it can render it?</p>",
        "id": 183588288,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576528811
    },
    {
        "content": "<p>I'm getting a weird error when I call rt_shootray() too many times... the first time I got like a Debug Assertion Error with something related to debug_heap.cpp, and now appleseed is just crashing when I try to render with the plugin.</p>",
        "id": 183605202,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576542155
    },
    {
        "content": "<p>whack it with a debugger. Also; watch memory consumption, you may have a leak.</p>",
        "id": 183605622,
        "sender_full_name": "Erik",
        "timestamp": 1576542576
    },
    {
        "content": "<p>I think it might have something to do with a leak, but I'm not sure if I can do anything about it, because as far as I know it's getting caused by a function that I don't really have much control over.</p>",
        "id": 183605729,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576542650
    },
    {
        "content": "<p>I'm having a bit of trouble debugging it because I'm running appleseed.studio, and then the error comes when I try to render using the dll I compiled.  Could you help me figure out how to properly debug it?</p>",
        "id": 183605915,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576542834
    },
    {
        "content": "<p>Reading the past chat, it seems like I have the same issue as Jeff - appleseed's threading vs brlcad's threading is causing the crash. I will see what I can do solve this.</p>",
        "id": 183617466,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576557142
    },
    {
        "content": "<p>I feel like I'm close... when I call <code>ap_a_resource-&gt;re_cpu</code> I'm getting outputs from 0-3, but rendering is still crashing.</p>",
        "id": 183621340,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576562591
    },
    {
        "content": "<p>Rendering is really inconsistent, one time a single tile got rendered before crashing. At least that means some sort of progress has been made though?</p>",
        "id": 183621474,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576562838
    },
    {
        "content": "<p>anyone here?</p>",
        "id": 183622435,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576564647
    },
    {
        "content": "<p>what is the VSET function for?</p>",
        "id": 183622438,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576564658
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"247135\">@Sumagna Das</span> From what I can tell, VSET is used to set the origin and direction of the ray being shot, hence the ap.a_ray.r_dir and ap.a_ray.r_pt.</p>",
        "id": 183622500,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576564740
    },
    {
        "content": "<p>ok</p>",
        "id": 183622510,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576564751
    },
    {
        "content": "<p>but to shoot a grid of rays, i have to make which part a variable?</p>",
        "id": 183622554,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576564807
    },
    {
        "content": "<p>where is the prototype of VSET function?</p>",
        "id": 183622562,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576564834
    },
    {
        "content": "<p>i will see there what to do</p>",
        "id": 183622563,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576564843
    },
    {
        "content": "<p>raytrace.h?</p>",
        "id": 183622565,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576564856
    },
    {
        "content": "<p>Update on my progress: it is indeed some sort of threading issue because when I use the appleseed command-line version and set the number of threads to only 1, rendering outputs an image although it's still not a correct image :(</p>",
        "id": 183622571,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576564865
    },
    {
        "content": "<p>it's not a function, it's a macro -- defined in vmath.h</p>",
        "id": 183622575,
        "sender_full_name": "Sean",
        "timestamp": 1576564873
    },
    {
        "content": "<p>thanks</p>",
        "id": 183622623,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576564936
    },
    {
        "content": "<blockquote>\n<p>Hi <span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> , I'm just getting started on task #6 of Appleseed. If I'm interpreting correctly, is the point of this task to detect the geometry database information with BRLCAD and then provide that information to Appleseed so that it can render it?</p>\n</blockquote>\n<p>Essentially yes, render a given bit of brl-cad geometry using librt, but from within appleseed (still using their procedural api)</p>",
        "id": 183622628,
        "sender_full_name": "Sean",
        "timestamp": 1576564967
    },
    {
        "content": "<p>if you spend more than a couple hours, just report out where you're at and what you have and don't have working, and we can think about where to go from there</p>",
        "id": 183622645,
        "sender_full_name": "Sean",
        "timestamp": 1576564993
    },
    {
        "content": "<p><code>VSET( ap.a_ray.r_dir, 0, 0, -1 );</code></p>",
        "id": 183622708,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565083
    },
    {
        "content": "<p>what does this line mean?</p>",
        "id": 183622709,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565092
    },
    {
        "content": "<p>why -1?</p>",
        "id": 183622720,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565106
    },
    {
        "content": "<p>ok got it</p>",
        "id": 183622730,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565122
    },
    {
        "content": "<p>Welp I've spent quite a few hours so far, so I guess I can report: similar to the issue Jeff was facing 2 years ago, appleseed still crashes when I try to render. It is definitely a threading issue because when I run appleseed.cli on a single thread, an image gets output (I still need to work on that). I'm not really sure where to go from here because I tried setting up the resources (and ap-&gt;a_resource-&gt;re_cpu outputs various ints) but it is still crashing.</p>",
        "id": 183622747,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576565161
    },
    {
        "content": "<blockquote>\n<p>what does this line mean?</p>\n</blockquote>\n<p>It's setting the ray direction to a vector with i/j/k components set to 0.0, 0.0, -1.0 --- that is, the ray is pointing \"down\"</p>",
        "id": 183622884,
        "sender_full_name": "Sean",
        "timestamp": 1576565311
    },
    {
        "content": "<p>specifically, down the Z axis</p>",
        "id": 183622885,
        "sender_full_name": "Sean",
        "timestamp": 1576565319
    },
    {
        "content": "<p>ok</p>",
        "id": 183622888,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565326
    },
    {
        "content": "<p><code>VSET( ap.a_ray.r_pt, 0, 0, 10000 );</code></p>",
        "id": 183622896,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565350
    },
    {
        "content": "<p>As for the rendering itself, I believe I'm transferring the ray information correctly, but there's quite a few things that I think could go wrong. For example, I'm returning ap-&gt;a_ray_length as the distance, but I have no idea if the units are even the same. Other things that I could be doing incorrectly are setting the UVs and the bounding box.</p>",
        "id": 183622899,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576565365
    },
    {
        "content": "<p>so this is like looking from a \"top\" view in mged (just type top or \"t\" in the graphics window)</p>",
        "id": 183622900,
        "sender_full_name": "Sean",
        "timestamp": 1576565368
    },
    {
        "content": "<p>this sets the position of the ray point, right?</p>",
        "id": 183622901,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565381
    },
    {
        "content": "<p>right</p>",
        "id": 183622902,
        "sender_full_name": "Sean",
        "timestamp": 1576565385
    },
    {
        "content": "<p>the starting point</p>",
        "id": 183622904,
        "sender_full_name": "Sean",
        "timestamp": 1576565389
    },
    {
        "content": "<p>so if i have to shoot a grid of rays i have to change <code>x</code> and <code>y</code>  value to something else</p>",
        "id": 183622951,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565441
    },
    {
        "content": "<p>right?</p>",
        "id": 183622952,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565446
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> there is a librt routine that will return the bounding box size (or you can call ged_bb() to get it more easily)</p>",
        "id": 183622961,
        "sender_full_name": "Sean",
        "timestamp": 1576565469
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"247135\">@Sumagna Das</span> for that particular ray, you'd need to change r_pt to a bunch of different X and Y values (keeping Z at 10000)</p>",
        "id": 183623008,
        "sender_full_name": "Sean",
        "timestamp": 1576565528
    },
    {
        "content": "<p>ok</p>",
        "id": 183623013,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565540
    },
    {
        "content": "<p>now i understand what the appleseed task 2 wants to imply</p>",
        "id": 183623016,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565562
    },
    {
        "content": "<p>can i use the rtexample.c file as a base?</p>",
        "id": 183623020,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565581
    },
    {
        "content": "<p>of course, I think the task even says so doesn't it?</p>",
        "id": 183623029,
        "sender_full_name": "Sean",
        "timestamp": 1576565603
    },
    {
        "content": "<p>ok</p>",
        "id": 183623030,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565609
    },
    {
        "content": "<p>read the task, but all of brl-cad is sample code you can reference</p>",
        "id": 183623033,
        "sender_full_name": "Sean",
        "timestamp": 1576565625
    },
    {
        "content": "<p>i can even take the <code>x</code> and <code>y</code> to negative values, right?</p>",
        "id": 183623073,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565643
    },
    {
        "content": "<p>tasks aren't hard for the sake of being hard ... use the source to help you understand</p>",
        "id": 183623079,
        "sender_full_name": "Sean",
        "timestamp": 1576565668
    },
    {
        "content": "<p>X, Y, and Z can be any real value, positive or negative, for r_pt</p>",
        "id": 183623091,
        "sender_full_name": "Sean",
        "timestamp": 1576565693
    },
    {
        "content": "<p>probably have to get <code>VSET</code> into a for loop</p>",
        "id": 183623094,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565699
    },
    {
        "content": "<p>or any loop</p>",
        "id": 183623107,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565728
    },
    {
        "content": "<p>now r_dir can too, but only the normalized result is going to get used</p>",
        "id": 183623109,
        "sender_full_name": "Sean",
        "timestamp": 1576565742
    },
    {
        "content": "<p>r_dir can also be changed, are you trying to say?</p>",
        "id": 183623158,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565780
    },
    {
        "content": "<p>VSET, VMOVE, ... lots of ways</p>",
        "id": 183623160,
        "sender_full_name": "Sean",
        "timestamp": 1576565786
    },
    {
        "content": "<p>ok</p>",
        "id": 183623163,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565791
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> there is a librt routine that will return the bounding box size (or you can call ged_bb() to get it more easily)</p>\n</blockquote>\n<p>Would I need to include an extra header to call ged_bb()? It says that this function does not exist at the moment.</p>",
        "id": 183623169,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576565811
    },
    {
        "content": "<p>it can, but then you're changing the direction of the ray.  that's not probably something you want to do at this point, but should try to understand</p>",
        "id": 183623177,
        "sender_full_name": "Sean",
        "timestamp": 1576565829
    },
    {
        "content": "<p>yes</p>",
        "id": 183623180,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565841
    },
    {
        "content": "<p>gotta run, good luck.  keep asking questions but try to learn independently too</p>",
        "id": 183623185,
        "sender_full_name": "Sean",
        "timestamp": 1576565849
    },
    {
        "content": "<p>lil balance of both</p>",
        "id": 183623187,
        "sender_full_name": "Sean",
        "timestamp": 1576565855
    },
    {
        "content": "<p>thanks</p>",
        "id": 183623189,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576565859
    },
    {
        "content": "<blockquote>\n<p>Welp I've spent quite a few hours so far, so I guess I can report: similar to the issue Jeff was facing 2 years ago, appleseed still crashes when I try to render. It is definitely a threading issue because when I run appleseed.cli on a single thread, an image gets output (I still need to work on that). I'm not really sure where to go from here because I tried setting up the resources (and ap-&gt;a_resource-&gt;re_cpu outputs various ints) but it is still crashing.</p>\n</blockquote>\n<p>As for this issue <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> , would it be alright if I rendered on a single thread for this task?</p>",
        "id": 183623241,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576565932
    },
    {
        "content": "<p>I m resubmitting the screenshot and the project please review, Sean</p>",
        "id": 183623984,
        "sender_full_name": "Thusal Ranawaka",
        "timestamp": 1576567152
    },
    {
        "content": "<p>I feel like I'm so close to rendering the .g file (still on a single thread though)... This is what I have so far (rendering sphere.g) <a href=\"/user_uploads/1549/jX0djuh-NITagjM6_6qxEepa/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/jX0djuh-NITagjM6_6qxEepa/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/1549/jX0djuh-NITagjM6_6qxEepa/pasted_image.png\"></a></div>",
        "id": 183712894,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576635340
    },
    {
        "content": "<p>As of right now, the two biggest issues I'm facing are the UVs and the viewport.</p>",
        "id": 183712949,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576635380
    },
    {
        "content": "<p>I believe there is a component to the appleseed result that requires the object's UV coordinate at the point where the ray intersects it, but I'm struggling to find if/where this is stored through BRLCAD raytracing. I'm like 70% sure that's what's causing the weird visual bug on the sphere because I'm currently using the UV calculations done by the example sphereobject.</p>",
        "id": 183713112,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576635580
    },
    {
        "content": "<p>The other issue I'm facing is the viewport, as the traditional appleseed viewport mechanics (rotating, scrolling, zooming) have some really weird effects when I try to do it when rendering the geometry. My best guess, which might be totally wrong, is that there's some sort of discrepancy between BRLCAD and appleseed in terms of perspective/orthographic projection. I believe appleseed uses perspective projection while BRLCAD uses orthographic projection, but I'm not sure exactly how that would affect the result and I couldn't test the difference because I haven't figured out how to change the setting for either one.</p>",
        "id": 183713494,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576635908
    },
    {
        "content": "<p>I'm a bit stuck at the moment... could someone help me?</p>",
        "id": 183713681,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576636072
    },
    {
        "content": "<p>you are looking super close...</p>",
        "id": 183713729,
        "sender_full_name": "Sean",
        "timestamp": 1576636093
    },
    {
        "content": "<p>I can help you in a few minutes.  Have to finish up something first.</p>",
        "id": 183713732,
        "sender_full_name": "Sean",
        "timestamp": 1576636109
    },
    {
        "content": "<p>Alright, thanks so much!</p>",
        "id": 183713754,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576636153
    },
    {
        "content": "<p>An update on the visual glitch: it might not be a result of the UVs, since I hardcorded the coordinates to (1.0, 1.0) given that the object should just be a solid color, but the artifacts still exist.</p>",
        "id": 183713886,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576636225
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> hm, yeah, my first thought on the X pattern is that it's either UVs or input/output hit ordering</p>",
        "id": 183717407,
        "sender_full_name": "Sean",
        "timestamp": 1576640423
    },
    {
        "content": "<p>When you say input/output hit ordering, are you referring to the exit point?</p>",
        "id": 183717420,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576640465
    },
    {
        "content": "<p>sorry, I meant in/out hit points</p>",
        "id": 183717432,
        "sender_full_name": "Sean",
        "timestamp": 1576640489
    },
    {
        "content": "<p>the out would be an exit point, yes</p>",
        "id": 183717483,
        "sender_full_name": "Sean",
        "timestamp": 1576640538
    },
    {
        "content": "<p>if the intersection callback is using the wrong point, you could be looking at the \"inside\" of the sphere in parts</p>",
        "id": 183717496,
        "sender_full_name": "Sean",
        "timestamp": 1576640565
    },
    {
        "content": "<p>unlikely but it's possible</p>",
        "id": 183717498,
        "sender_full_name": "Sean",
        "timestamp": 1576640573
    },
    {
        "content": "<p>I did consider that as a possible source of error, but I set ap-&gt;a_onehit = 1 (is that the correct way to stop the ray after the first intersection?). It might still be the case where the ray somehow just passes through the front of the object and hits the back of the object though.</p>",
        "id": 183717623,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576640742
    },
    {
        "content": "<p>it is the correct way, but multiple points can still be returned so you have to make sure you're using the in_hit, not the out_hit of the partition</p>",
        "id": 183717719,
        "sender_full_name": "Sean",
        "timestamp": 1576640853
    },
    {
        "content": "<p>as you're shooting a sphere, in and out points are calculated simultaneously, so a_onehit doesn't really do anything.</p>",
        "id": 183717771,
        "sender_full_name": "Sean",
        "timestamp": 1576640903
    },
    {
        "content": "<p>Oh I didn't know that, thanks for the insight! However, I'm pretty sure I'm using the in_hit (hitp = pp-&gt;pt_inhit;) correctly?</p>",
        "id": 183717806,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576640988
    },
    {
        "content": "<p>yep, that looks right</p>",
        "id": 183717866,
        "sender_full_name": "Sean",
        "timestamp": 1576641022
    },
    {
        "content": "<p>Hm, then it might be another issue. Could I send you the code that I have right now? Perhaps there's some glaring error that I've failed to notice.</p>",
        "id": 183717896,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576641098
    },
    {
        "content": "<p>of course, post it up</p>",
        "id": 183717903,
        "sender_full_name": "Sean",
        "timestamp": 1576641112
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/0PVuMcdDYsnNFHcpSA70BeJx/art-plugin.cpp\" target=\"_blank\" title=\"art-plugin.cpp\">art-plugin.cpp</a></p>",
        "id": 183717953,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576641153
    },
    {
        "content": "<p>I'm not really sure if the struct I made would be the best solution for what I'm doing, but it works for the time being I think.</p>",
        "id": 183717971,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576641195
    },
    {
        "content": "<p>so FYI, this is like 2-3 GCI tasks worth of effort :)</p>",
        "id": 183718202,
        "sender_full_name": "Sean",
        "timestamp": 1576641587
    },
    {
        "content": "<p>Wait, did I end up doing too much?</p>",
        "id": 183718258,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576641626
    },
    {
        "content": "<p>Or do you mean that this task is just relatively difficult?</p>",
        "id": 183718288,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576641707
    },
    {
        "content": "<p>you can't do to much.  it's what GCI is all about.</p>",
        "id": 183718338,
        "sender_full_name": "Sean",
        "timestamp": 1576641751
    },
    {
        "content": "<p>Oh oops, that's a bit awkward... So what should I do? Submit what I have?</p>",
        "id": 183718362,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576641797
    },
    {
        "content": "<p>I would like to figure out what's causing these issues though...</p>",
        "id": 183718371,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576641820
    },
    {
        "content": "<p>But that can come later I guess</p>",
        "id": 183718372,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576641835
    },
    {
        "content": "<p>but yeah, this is a hard task and even then you've still gone beyond the required with some parts needed for parallel (though looks like you have a bug there)</p>",
        "id": 183718413,
        "sender_full_name": "Sean",
        "timestamp": 1576641844
    },
    {
        "content": "<p>well let's see if we can figure out what's wrong</p>",
        "id": 183718423,
        "sender_full_name": "Sean",
        "timestamp": 1576641892
    },
    {
        "content": "<p>you can submit and it's good enough for #6 but probably not enough for the later task where you create an appleseed renderer</p>",
        "id": 183718441,
        "sender_full_name": "Sean",
        "timestamp": 1576641930
    },
    {
        "content": "<p>Yeah, rendering using multithreading still ended up crashing. I asked Franz about it and he told me: </p>\n<div class=\"codehilite\"><pre><span></span>indeed\nthere&#39;s just no way around it, if you want to render on multiple threads, whatever code you call in intersect() must be thread-safe, by definition\nunless you add a lock in intersect(), but then performance will suffer, possibly quite dramatically\n</pre></div>",
        "id": 183718445,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576641948
    },
    {
        "content": "<blockquote>\n<p>you can submit and it's good enough for #6 but probably not enough for the later task where you create an appleseed renderer</p>\n</blockquote>\n<p>Ok thank you :) I will do that and then try to figure out what's causing the error. Would you still want me to include the render with the visual bug?</p>",
        "id": 183718518,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576642052
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/jVDhMVnfm6eAEPeA5ILexeMV/Screenshot-from-2019-12-18-09-35-59.png\" target=\"_blank\" title=\"Screenshot-from-2019-12-18-09-35-59.png\">Screenshot-from-2019-12-18-09-35-59.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/jVDhMVnfm6eAEPeA5ILexeMV/Screenshot-from-2019-12-18-09-35-59.png\" target=\"_blank\" title=\"Screenshot-from-2019-12-18-09-35-59.png\"><img src=\"/user_uploads/1549/jVDhMVnfm6eAEPeA5ILexeMV/Screenshot-from-2019-12-18-09-35-59.png\"></a></div>",
        "id": 183718573,
        "sender_full_name": "anshu khare",
        "timestamp": 1576642092
    },
    {
        "content": "<p>rt_shootray() is thread-safe, so it can be made to work, you just not doing the right initialization and the id method might need some help</p>",
        "id": 183718575,
        "sender_full_name": "Sean",
        "timestamp": 1576642096
    },
    {
        "content": "<p>but that's not a critical problem.  single threaded first.</p>",
        "id": 183718580,
        "sender_full_name": "Sean",
        "timestamp": 1576642106
    },
    {
        "content": "<p>I am stuck here..someone please help..</p>",
        "id": 183718594,
        "sender_full_name": "anshu khare",
        "timestamp": 1576642144
    },
    {
        "content": "<blockquote>\n<p>I am stuck here..someone please help..</p>\n</blockquote>\n<p>it doesn't look like your problem has anything to do with appleseed.  you should post on a different subject in <a class=\"stream\" data-stream-id=\"104238\" href=\"/#narrow/stream/104238-Google-Code-in\">#Google Code-in</a></p>",
        "id": 183718617,
        "sender_full_name": "Sean",
        "timestamp": 1576642196
    },
    {
        "content": "<p>Maybe it's the way I'm accessing/setting the information? I'm not very familiar with threading but perhaps it's because of the way I'm setting <code>ap-&gt;a_ray.r_dir</code> and <code>ap-&gt;a_ray.r_pt</code> in intersect().</p>",
        "id": 183718667,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576642261
    },
    {
        "content": "<p>why are you normalizing the ray?</p>",
        "id": 183718672,
        "sender_full_name": "Sean",
        "timestamp": 1576642275
    },
    {
        "content": "<p>also, what's the difference between the DETAILED and SIMPLE intersect methods?</p>",
        "id": 183718729,
        "sender_full_name": "Sean",
        "timestamp": 1576642351
    },
    {
        "content": "<p>I might be remembering incorrectly, but I thought ap-&gt;a_ray.m_dir only used normalized vectors.</p>",
        "id": 183718736,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576642381
    },
    {
        "content": "<blockquote>\n<p>also, what's the difference between the DETAILED and SIMPLE intersect methods?</p>\n</blockquote>\n<p>So I asked the same question to the appleseed discord, and the best explanation I got was: the SIMPLE one returns a boolean used for shadow rays, where you only need to know if the ray was blocked, while the DETAILED one is used for all other rays where more information (hit point, normal, etc) are necessary.</p>",
        "id": 183718804,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576642466
    },
    {
        "content": "<p>^^ that's why for the SIMPLE method, i just checked the return of rt_shootray() to see if it was a hit or miss.</p>",
        "id": 183718989,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576642767
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> so a few suggestions, comments, things I notice</p>",
        "id": 183719269,
        "sender_full_name": "Sean",
        "timestamp": 1576643058
    },
    {
        "content": "<p>your brlcad_hit routine seems peculiar.  don't know for sure without stepping through a test, but I don't think you need or want to iterate over partitions.  you just want the hit point returned.</p>",
        "id": 183719342,
        "sender_full_name": "Sean",
        "timestamp": 1576643189
    },
    {
        "content": "<p>also, you calculate and stash the normal, but you probably shouldn't - you can do that in intersect() after rt_shootray() only if it's successful</p>",
        "id": 183719351,
        "sender_full_name": "Sean",
        "timestamp": 1576643226
    },
    {
        "content": "<p>try adding a break; after line 91</p>",
        "id": 183719507,
        "sender_full_name": "Sean",
        "timestamp": 1576643442
    },
    {
        "content": "<blockquote>\n<p>your brlcad_hit routine seems peculiar.  don't know for sure without stepping through a test, but I don't think you need or want to iterate over partitions.  you just want the hit point returned.</p>\n</blockquote>\n<p>Ah that makes sense, I should've looked at it more carefully - most of my hit call was taken from the rtexample method.</p>",
        "id": 183719510,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576643458
    },
    {
        "content": "<p>there should be only one partition with a simple sphere, but easy enough to test</p>",
        "id": 183719516,
        "sender_full_name": "Sean",
        "timestamp": 1576643463
    },
    {
        "content": "<p>yeah, rtexample iterates over everything because it's going to print all the hit information</p>",
        "id": 183719523,
        "sender_full_name": "Sean",
        "timestamp": 1576643493
    },
    {
        "content": "<p>you don't want all that, you just want the first hit</p>",
        "id": 183719529,
        "sender_full_name": "Sean",
        "timestamp": 1576643507
    },
    {
        "content": "<p>Alright I'll try that, thanks for the advice! To be honest I wasn't really aware of what exactly the purpose of the loop was beforehand.</p>",
        "id": 183719587,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576643550
    },
    {
        "content": "<p>As for the normals, wouldn't it only be called in the hit callback, meaning that rt_shootray() is successful? Unless I'm neglecting to account for something?</p>",
        "id": 183719620,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576643628
    },
    {
        "content": "<p>yes, only called in the hit callback, but then you're stashing a normal there</p>",
        "id": 183719800,
        "sender_full_name": "Sean",
        "timestamp": 1576643858
    },
    {
        "content": "<p>if there are multiple partitions, you'll end up stashing the last normal instead of the first because of the looping</p>",
        "id": 183719810,
        "sender_full_name": "Sean",
        "timestamp": 1576643881
    },
    {
        "content": "<p>Oh right. So the break should fix that issue. In this case the looping will never be needed, right?</p>",
        "id": 183719870,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576643914
    },
    {
        "content": "<p>right</p>",
        "id": 183720013,
        "sender_full_name": "Sean",
        "timestamp": 1576644140
    },
    {
        "content": "<p>did you confirm that compute_local_bbox() is the right box?</p>",
        "id": 183720015,
        "sender_full_name": "Sean",
        "timestamp": 1576644153
    },
    {
        "content": "<p>No, I didn't, I wasn't really sure how to.</p>",
        "id": 183720027,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576644190
    },
    {
        "content": "<p>just print it :)</p>",
        "id": 183720033,
        "sender_full_name": "Sean",
        "timestamp": 1576644211
    },
    {
        "content": "<p>HELLO I submit my task yesterday noon so kindly request for review it whenever time you got.</p>",
        "id": 183720086,
        "sender_full_name": "Thusal Ranawaka",
        "timestamp": 1576644249
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"253014\">@Thusal Ranawaka</span> your comment has absolutely nothing to do with Appleseed, so you should be posting to a different topic</p>",
        "id": 183720104,
        "sender_full_name": "Sean",
        "timestamp": 1576644296
    },
    {
        "content": "<blockquote>\n<p>just print it :)</p>\n</blockquote>\n<p>Ah right, good idea</p>",
        "id": 183720120,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576644319
    },
    {
        "content": "<blockquote>\n<p>HELLO I submit my task yesterday noon so kindly request for review it whenever time you got.</p>\n</blockquote>\n<p>is your pending for an appleseed task?</p>",
        "id": 183720273,
        "sender_full_name": "Sean",
        "timestamp": 1576644508
    },
    {
        "content": "<p>One question about local bounding boxes: I can see how a box might be computed in the case where there's a single lowest point and a single highest point, but how is this handled when the bounding box is exactly horizontal?</p>",
        "id": 183720282,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576644524
    },
    {
        "content": "<p>not understanding your question</p>",
        "id": 183720387,
        "sender_full_name": "Sean",
        "timestamp": 1576644665
    },
    {
        "content": "<p>This is what was output: <code>Local Bounding Box: (-1.000000, -1.000000, -1.000000) , (1.000000, 1.000000, 1.000000)</code>. I'm exactly sure if this is correct because the sphere has a radius of 0.4mm</p>",
        "id": 183720398,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576644687
    },
    {
        "content": "<blockquote>\n<p>not understanding your question</p>\n</blockquote>\n<p>Sorry, now that I think about it, I was just wondering how a bounding box is calculated and how it's used. I noticed that the appleseed AABB constructor only took in two vector arguments, but I don't understand how this is enough information to create a bounding box.</p>",
        "id": 183720471,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576644809
    },
    {
        "content": "<p>It's a bit irrelevant, but I was just curious. Maybe I am doing something incorrect with the bounding box?</p>",
        "id": 183720525,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576644866
    },
    {
        "content": "<p>a box can be formed by two vectors or two points</p>",
        "id": 183720527,
        "sender_full_name": "Sean",
        "timestamp": 1576644882
    },
    {
        "content": "<p>min/max points</p>",
        "id": 183720530,
        "sender_full_name": "Sean",
        "timestamp": 1576644899
    },
    {
        "content": "<p>Right, that's what I was thinking, where the box lengths would just be the differences between the vector components, but what about in cases where, for example, the min/max points only differ in a single component (one is directly above the other)?</p>",
        "id": 183720600,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576644989
    },
    {
        "content": "<p>that'd be a degenerate case, typically is detected or compensated elsewhere in graphics codes</p>",
        "id": 183720769,
        "sender_full_name": "Sean",
        "timestamp": 1576645320
    },
    {
        "content": "<p>anyways i saw  task 7 of the appleseed series.(i am not gonna start it now but after and if i complete the previous tasks)</p>",
        "id": 183755745,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576680200
    },
    {
        "content": "<p>Regarding the changes I made with the loop - unfortunately, the render still output the visual bug. I asked Franz about it and he said it was likely the result of busted normals or self-intersections.</p>",
        "id": 183757004,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576681046
    },
    {
        "content": "<p>He gave me some tips on how I could check/fix these errors, so I'll try working on them soon.</p>",
        "id": 183757106,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576681097
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> that was why my second suggestion was to pull the normal setting outside of the hit routine</p>",
        "id": 183811428,
        "sender_full_name": "Sean",
        "timestamp": 1576723905
    },
    {
        "content": "<p>it could also still be the uv parameterization, but less likely</p>",
        "id": 183811479,
        "sender_full_name": "Sean",
        "timestamp": 1576723961
    },
    {
        "content": "<p>that shouldn't come into play unless we do texturing</p>",
        "id": 183811483,
        "sender_full_name": "Sean",
        "timestamp": 1576723975
    },
    {
        "content": "<p>Hm, franz pointed me towards the \"Override Shading\" option to view the normals by themselves, which looks like this <a href=\"/user_uploads/1549/1tu-aox1o5I6VX0H9t3GvMEy/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/1tu-aox1o5I6VX0H9t3GvMEy/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/1549/1tu-aox1o5I6VX0H9t3GvMEy/pasted_image.png\"></a></div>",
        "id": 183813122,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576726467
    },
    {
        "content": "<p>They seem smooth and there aren't any inconsistencies where the actual artifacts are occurring, so perhaps the issue is caused by something else?</p>",
        "id": 183813151,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576726523
    },
    {
        "content": "<p>actually that pretty much confirms it's not the normals</p>",
        "id": 183813164,
        "sender_full_name": "Sean",
        "timestamp": 1576726559
    },
    {
        "content": "<p>but that's pretty exciting.  can you open an arbitrary .g file now?  looked in the code like you can...</p>",
        "id": 183813224,
        "sender_full_name": "Sean",
        "timestamp": 1576726612
    },
    {
        "content": "<p>if you can, try that on something more interesting like havoc in havoc.g :)</p>",
        "id": 183813236,
        "sender_full_name": "Sean",
        "timestamp": 1576726626
    },
    {
        "content": "<p>I'll try, I haven't tested anything besides a sphere.</p>",
        "id": 183813241,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576726635
    },
    {
        "content": "<p>/me does a drumroll...</p>",
        "id": 183813244,
        "sender_full_name": "Sean",
        "timestamp": 1576726647
    },
    {
        "content": "<p>Hopefully the camera settings work out, there's still that issue with the viewport so it might be hard to actually focus on what I need to. I'm still rebuilding (I should really allow custom paths later), but I don't see why the geometry wouldn't load.</p>",
        "id": 183813472,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576726936
    },
    {
        "content": "<p>bounding box, however that is calculated might be the only issue</p>",
        "id": 183813515,
        "sender_full_name": "Sean",
        "timestamp": 1576727036
    },
    {
        "content": "<p>but the fact that you're using the model min/max is good, seems right</p>",
        "id": 183813565,
        "sender_full_name": "Sean",
        "timestamp": 1576727077
    },
    {
        "content": "<p>Oh right, that still hasn't been completely confirmed yet</p>",
        "id": 183813570,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576727087
    },
    {
        "content": "<p>well, it will be more interesting for havoc</p>",
        "id": 183813578,
        "sender_full_name": "Sean",
        "timestamp": 1576727106
    },
    {
        "content": "<p>sphere is unusual just because it's so tiny</p>",
        "id": 183813581,
        "sender_full_name": "Sean",
        "timestamp": 1576727113
    },
    {
        "content": "<p>I suspect it's still something wrong with the hit points themselves in the intersect() function</p>",
        "id": 183813588,
        "sender_full_name": "Sean",
        "timestamp": 1576727142
    },
    {
        "content": "<p>Darn, looks like nothing is rendering but I'm not sure if it's because of the camera settings or because of the geometry loading.</p>",
        "id": 183813645,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576727184
    },
    {
        "content": "<p>On the other hand, this was output:</p>\n<div class=\"codehilite\"><pre><span></span>Database title: BRL-GSI Paris Air Show Soviet HAVOC Helicopter\nConfiguring complete!\nLocal Bounding Box: (-760.000000, -8438.000000, -890.000000) , (19125.000000, 8398.000000, 5360.000000)\nLocal Bounding Box: (-760.000000, -8438.000000, -890.000000) , (19125.000000, 8398.000000, 5360.000000)\nLocal Bounding Box: (-760.000000, -8438.000000, -890.000000) , (19125.000000, 8398.000000, 5360.000000)\nLocal Bounding Box: (-760.000000, -8438.000000, -890.000000) , (19125.000000, 8398.000000, 5360.000000)\nLocal Bounding Box: (-760.000000, -8438.000000, -890.000000) , (19125.000000, 8398.000000, 5360.000000)\n</pre></div>",
        "id": 183813669,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576727247
    },
    {
        "content": "<p>That looks right</p>",
        "id": 183813678,
        "sender_full_name": "Sean",
        "timestamp": 1576727274
    },
    {
        "content": "<p>so probably camera settings.  if it was anywhere near the sphere, you'd need to be zoomed way way out</p>",
        "id": 183813721,
        "sender_full_name": "Sean",
        "timestamp": 1576727300
    },
    {
        "content": "<p>I'll play around with it and see if anything shows up</p>",
        "id": 183813738,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576727356
    },
    {
        "content": "<p>well, I found something after changing the location of the camera from 10 all the way to 10000: <a href=\"/user_uploads/1549/GTEthDW-vn0tR6J2VF1R6fbQ/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/GTEthDW-vn0tR6J2VF1R6fbQ/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/1549/GTEthDW-vn0tR6J2VF1R6fbQ/pasted_image.png\"></a></div>",
        "id": 183813848,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576727551
    },
    {
        "content": "<p>As expected, the viewport controls are really messed up though</p>",
        "id": 183813853,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576727567
    },
    {
        "content": "<p>It also looks like the weird darkspots still exist</p>",
        "id": 183813874,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576727641
    },
    {
        "content": "<p>That's exciting though, I'm happy to see that at least part of my code worked properly :)</p>",
        "id": 183813946,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576727740
    },
    {
        "content": "<p>awesome!</p>",
        "id": 183814455,
        "sender_full_name": "Sean",
        "timestamp": 1576728476
    },
    {
        "content": "<p>that's way cool, though.  clearly shows it rendering the helicopter</p>",
        "id": 183814515,
        "sender_full_name": "Sean",
        "timestamp": 1576728563
    },
    {
        "content": "<p>the viewport isn't messed up, it's rotated</p>",
        "id": 183814517,
        "sender_full_name": "Sean",
        "timestamp": 1576728571
    },
    {
        "content": "<p>appleseed is using +Y up instead of +Z up, so you'll need to apply a 90-degree rotation when you open geometry</p>",
        "id": 183814576,
        "sender_full_name": "Sean",
        "timestamp": 1576728629
    },
    {
        "content": "<p>That too, but trying to do CTRL + RIGHT/LEFT/MIDDLE mouse is giving some really weird effects - it should just be rotating, panning, and zooming, but it's being affected in other ways as well for some reason.</p>",
        "id": 183814588,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576728681
    },
    {
        "content": "<blockquote>\n<p>appleseed is using +Y up instead of +Z up, so you'll need to apply a 90-degree rotation when you open geometry</p>\n</blockquote>\n<p>That makes a lot of sense, is there a function I should call to do so?</p>",
        "id": 183814638,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576728726
    },
    {
        "content": "<p>there is a way, but it'll take me a sec to look it up.  it's not important for now</p>",
        "id": 183815267,
        "sender_full_name": "Sean",
        "timestamp": 1576729663
    },
    {
        "content": "<p>Alright, I think the two main issues I have right now are the weird dark spots and the viewport controls (I'm positive that when I'm rendering .g, the rotating/panning/zooming feels much less intuitive than it did before, but I don't know what might be causing this)</p>",
        "id": 183815488,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576729945
    },
    {
        "content": "<p>franz have any insights on the controls?</p>",
        "id": 183815876,
        "sender_full_name": "Sean",
        "timestamp": 1576730406
    },
    {
        "content": "<p>I haven't asked him about it yet, but I will do it now.</p>",
        "id": 183815878,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576730423
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> it very well could be the default navigation method, could be a method that works to keep 'up' pointing up</p>",
        "id": 183816188,
        "sender_full_name": "Sean",
        "timestamp": 1576730981
    },
    {
        "content": "<p>in which case, the fix will be to fix the rotation</p>",
        "id": 183816190,
        "sender_full_name": "Sean",
        "timestamp": 1576730988
    },
    {
        "content": "<p>Oh, so the issue involving the +y and +z might actually be causing the viewport issues as well?</p>",
        "id": 183816253,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576731033
    },
    {
        "content": "<p>yep</p>",
        "id": 183816261,
        "sender_full_name": "Sean",
        "timestamp": 1576731040
    },
    {
        "content": "<p>there are different kinds of viewport controls he could be using</p>",
        "id": 183816270,
        "sender_full_name": "Sean",
        "timestamp": 1576731057
    },
    {
        "content": "<p>one of the more intuitive ones relies on 'up'</p>",
        "id": 183816275,
        "sender_full_name": "Sean",
        "timestamp": 1576731068
    },
    {
        "content": "<p>wouldn't be surprised at all if that was at least related</p>",
        "id": 183816283,
        "sender_full_name": "Sean",
        "timestamp": 1576731085
    },
    {
        "content": "<p>a real simple test would be to simply swap your values being reported back to appleseed</p>",
        "id": 183816307,
        "sender_full_name": "Sean",
        "timestamp": 1576731102
    },
    {
        "content": "<p>swap Z and Y everywhere and negate Y</p>",
        "id": 183816366,
        "sender_full_name": "Sean",
        "timestamp": 1576731152
    },
    {
        "content": "<p>Ok, I'll try testing that right now. Thanks so much for the advice!</p>",
        "id": 183816371,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576731177
    },
    {
        "content": "<p>not sure about the bounding box, but it probably needs the same treatment</p>",
        "id": 183816383,
        "sender_full_name": "Sean",
        "timestamp": 1576731204
    },
    {
        "content": "<p>so it becomes return asr::GAABB3(asr::GVector3(rtip-&gt;mdl_min[X], rtip-&gt;mdl_min[Z], -rtip-&gt;mdl_min[Y]), <br>\nasr::GVector3(rtip-&gt;mdl_max[X], rtip-&gt;mdl_max[Z], -rtip-&gt;mdl_max[Y]));</p>",
        "id": 183816451,
        "sender_full_name": "Sean",
        "timestamp": 1576731279
    },
    {
        "content": "<p>Doing this would also fix the geometry rotation as well, right?</p>",
        "id": 183816529,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576731363
    },
    {
        "content": "<p>if you do it everywhere and don't make a mistake, it should :)</p>",
        "id": 183816537,
        "sender_full_name": "Sean",
        "timestamp": 1576731376
    },
    {
        "content": "<p>note some of them will require some restructuring like the normals</p>",
        "id": 183816821,
        "sender_full_name": "Sean",
        "timestamp": 1576731769
    },
    {
        "content": "<p>Yep, I had to change the normal translation as well; does this look correct?</p>\n<div class=\"codehilite\"><pre><span></span>brlcad_ray_info.normal[0] = inormal[0];\nbrlcad_ray_info.normal[1] = inormal[2];\nbrlcad_ray_info.normal[2] = -inormal[1];\n</pre></div>",
        "id": 183816851,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576731816
    },
    {
        "content": "<p>I think so</p>",
        "id": 183816853,
        "sender_full_name": "Sean",
        "timestamp": 1576731826
    },
    {
        "content": "<p>all of these should get tested and confirmed with something like the axis example model</p>",
        "id": 183816930,
        "sender_full_name": "Sean",
        "timestamp": 1576731910
    },
    {
        "content": "<p>Oops, it looks like the havoc object is now upside-down, but the controls are working normally again :)</p>",
        "id": 183816938,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576731931
    },
    {
        "content": "<p>negate Z instead of Y then</p>",
        "id": 183816991,
        "sender_full_name": "Sean",
        "timestamp": 1576731966
    },
    {
        "content": "<p>It worked like a charm</p>",
        "id": 183817076,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576732086
    },
    {
        "content": "<p>screenshot?</p>",
        "id": 183817093,
        "sender_full_name": "Sean",
        "timestamp": 1576732133
    },
    {
        "content": "<p>Oops it looks like my normals are inverted now, but it's looking like this now: <a href=\"/user_uploads/1549/7bS5sT_X2YspLYR0khbbnfjd/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/7bS5sT_X2YspLYR0khbbnfjd/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/1549/7bS5sT_X2YspLYR0khbbnfjd/pasted_image.png\"></a></div>",
        "id": 183817180,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576732229
    },
    {
        "content": "<p>woo hoo!</p>",
        "id": 183817193,
        "sender_full_name": "Sean",
        "timestamp": 1576732258
    },
    {
        "content": "<p>normals are inverted?  they don't look to be in that image</p>",
        "id": 183817265,
        "sender_full_name": "Sean",
        "timestamp": 1576732327
    },
    {
        "content": "<p>I think so, when I first loaded the object it was completely pink but I fixed it by setting the back material to the same as the front. I took a look at the shading normals override and it did look a little odd to me</p>",
        "id": 183817300,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576732411
    },
    {
        "content": "<p>you should let it render higher quality for a bit, see how nice it can get in a couple minutes</p>",
        "id": 183817304,
        "sender_full_name": "Sean",
        "timestamp": 1576732414
    },
    {
        "content": "<p>Yep that's what I'm doing right now</p>",
        "id": 183817313,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576732439
    },
    {
        "content": "<p>you negated Z instead of Y, right?</p>",
        "id": 183817354,
        "sender_full_name": "Sean",
        "timestamp": 1576732449
    },
    {
        "content": "<p>I changed the normal code to this:</p>\n<div class=\"codehilite\"><pre><span></span>brlcad_ray_info.normal[0] = inormal[0];\nbrlcad_ray_info.normal[1] = -inormal[2];\nbrlcad_ray_info.normal[2] = inormal[1];\n</pre></div>",
        "id": 183817364,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576732476
    },
    {
        "content": "<p>This is what the overrided shading normals looks like, but to be honest I have no idea if this is correct or not: <a href=\"/user_uploads/1549/TVHydRrxMEhvNXhwfeDGDRV5/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/TVHydRrxMEhvNXhwfeDGDRV5/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/1549/TVHydRrxMEhvNXhwfeDGDRV5/pasted_image.png\"></a></div>",
        "id": 183817406,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576732544
    },
    {
        "content": "<p>make sur you don't flip it again where you used brlcad_ray_info</p>",
        "id": 183817412,
        "sender_full_name": "Sean",
        "timestamp": 1576732555
    },
    {
        "content": "<p>yeah, something is off</p>",
        "id": 183817485,
        "sender_full_name": "Sean",
        "timestamp": 1576732609
    },
    {
        "content": "<p>When I use brlcad_ray_info.normal again, I'm just normalizing it before assigning it, so it might be something else?</p>",
        "id": 183817509,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576732638
    },
    {
        "content": "<p>the hard line on the wheel looks no good</p>",
        "id": 183817514,
        "sender_full_name": "Sean",
        "timestamp": 1576732643
    },
    {
        "content": "<p>just guessing, but based on the picture, it looks like it's wrong across Y</p>",
        "id": 183817606,
        "sender_full_name": "Sean",
        "timestamp": 1576732781
    },
    {
        "content": "<p>Hm, should i try inverting Y as well?</p>",
        "id": 183817656,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576732807
    },
    {
        "content": "<p>That does seem to be the case: when I reload the project, the surfaces with normals that have no y-component are still rendering with a material while the rest become pink</p>",
        "id": 183817691,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576732889
    },
    {
        "content": "<p>So this is what generates the proper normals:</p>\n<div class=\"codehilite\"><pre><span></span>brlcad_ray_info.normal[0] = inormal[0];\nbrlcad_ray_info.normal[1] = inormal[2];\nbrlcad_ray_info.normal[2] = -inormal[1];\n</pre></div>\n\n\n<p>But that's weird though, aren't I only inverting Y in this case while I've been inverting Z everywhere else?</p>",
        "id": 183817797,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576733045
    },
    {
        "content": "<p>Ok I'm starting a final render now, seems like it might take a while but it's looking quite promising.</p>",
        "id": 183817872,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576733238
    },
    {
        "content": "<p>Here it is in all of its \"final\" glory: <a href=\"/user_uploads/1549/wpTnxQ5UPi2hUONHfCBsiTkM/render.png\" target=\"_blank\" title=\"render.png\">render.png</a> I wish I added a light source so the shading wouldn't be so flat...</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/wpTnxQ5UPi2hUONHfCBsiTkM/render.png\" target=\"_blank\" title=\"render.png\"><img src=\"/user_uploads/1549/wpTnxQ5UPi2hUONHfCBsiTkM/render.png\"></a></div>",
        "id": 183818134,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576733691
    },
    {
        "content": "<p>It looks pretty good otherwise, except for that weird black triangle - I'll try to figure out what's causing it.</p>",
        "id": 183818145,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576733718
    },
    {
        "content": "<p>that's looking really good!</p>",
        "id": 183818230,
        "sender_full_name": "Sean",
        "timestamp": 1576733826
    },
    {
        "content": "<p>but yeah, looks like there's a couple errors, and that's almost certainly related to whatever is wrong on the sphere case</p>",
        "id": 183818258,
        "sender_full_name": "Sean",
        "timestamp": 1576733859
    },
    {
        "content": "<p>It looks like there's something weird with this normal specifically: <a href=\"/user_uploads/1549/CqDa5HLlupj2NeLKpyhGcqC7/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/CqDa5HLlupj2NeLKpyhGcqC7/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/1549/CqDa5HLlupj2NeLKpyhGcqC7/pasted_image.png\"></a></div>",
        "id": 183818259,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576733859
    },
    {
        "content": "<p>Interestingly, though, the sphere now renders correctly! <a href=\"/user_uploads/1549/El0RjF4KcSJeJ-OAM0QhXj-G/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/El0RjF4KcSJeJ-OAM0QhXj-G/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/1549/El0RjF4KcSJeJ-OAM0QhXj-G/pasted_image.png\"></a></div>",
        "id": 183818496,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576734148
    },
    {
        "content": "<p>huh, so that's intresting</p>",
        "id": 183818548,
        "sender_full_name": "Sean",
        "timestamp": 1576734238
    },
    {
        "content": "<p>I bet it was the normals then, I think that makes sense -- since we use +Z up, the normals being returned would have been wrong per the camera.  they needed to be rotated or the geometry needed to be rotated.  curious. what if you restore inormal to 0/1/2 without negation, what's that do?</p>",
        "id": 183818680,
        "sender_full_name": "Sean",
        "timestamp": 1576734432
    },
    {
        "content": "<p>it may be right as-is, but want to make sure we're not seeing a mirror</p>",
        "id": 183818728,
        "sender_full_name": "Sean",
        "timestamp": 1576734502
    },
    {
        "content": "<p>Yep it seems like the normals were the issue, this is what it looks like when I changed it back: <a href=\"/user_uploads/1549/siJ3k10cEYTqxXTB-bw2Nke-/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/siJ3k10cEYTqxXTB-bw2Nke-/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/1549/siJ3k10cEYTqxXTB-bw2Nke-/pasted_image.png\"></a></div>",
        "id": 183818744,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576734546
    },
    {
        "content": "<p>by the way, that air intake doesn't terribly wrong .. just odd in the middle.  here's the normals as we know them: <a href=\"/user_uploads/1549/31VV3hTHlSt9eN7s6xh1DjV0/Screen-Shot-2019-12-19-at-12.41.58-AM.png\" target=\"_blank\" title=\"Screen-Shot-2019-12-19-at-12.41.58-AM.png\">Screen-Shot-2019-12-19-at-12.41.58-AM.png</a> <a href=\"/user_uploads/1549/uGBcnJ17DLel39x5UO_cHsTz/Screen-Shot-2019-12-19-at-12.41.19-AM.png\" target=\"_blank\" title=\"Screen-Shot-2019-12-19-at-12.41.19-AM.png\">Screen-Shot-2019-12-19-at-12.41.19-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/31VV3hTHlSt9eN7s6xh1DjV0/Screen-Shot-2019-12-19-at-12.41.58-AM.png\" target=\"_blank\" title=\"Screen-Shot-2019-12-19-at-12.41.58-AM.png\"><img src=\"/user_uploads/1549/31VV3hTHlSt9eN7s6xh1DjV0/Screen-Shot-2019-12-19-at-12.41.58-AM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/1549/uGBcnJ17DLel39x5UO_cHsTz/Screen-Shot-2019-12-19-at-12.41.19-AM.png\" target=\"_blank\" title=\"Screen-Shot-2019-12-19-at-12.41.19-AM.png\"><img src=\"/user_uploads/1549/uGBcnJ17DLel39x5UO_cHsTz/Screen-Shot-2019-12-19-at-12.41.19-AM.png\"></a></div>",
        "id": 183818750,
        "sender_full_name": "Sean",
        "timestamp": 1576734565
    },
    {
        "content": "<p>Oh, so there was something off to begin with?</p>",
        "id": 183818805,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576734632
    },
    {
        "content": "<p>it's not off</p>",
        "id": 183818811,
        "sender_full_name": "Sean",
        "timestamp": 1576734645
    },
    {
        "content": "<p>it's some sort of shielded air intake, so we're seeing a dark shadow inside</p>",
        "id": 183818833,
        "sender_full_name": "Sean",
        "timestamp": 1576734716
    },
    {
        "content": "<p>it's a little suspicious that appleseed is rendering it that dark, but not implausible</p>",
        "id": 183818884,
        "sender_full_name": "Sean",
        "timestamp": 1576734751
    },
    {
        "content": "<p>Oh ok, sorry about the misunderstanding</p>",
        "id": 183818887,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576734768
    },
    {
        "content": "<p>heh, no worries, this is fantastic progress</p>",
        "id": 183819384,
        "sender_full_name": "Sean",
        "timestamp": 1576735619
    },
    {
        "content": "<p>Thanks! Having everything finally come together (for the most part) is super satisfying.</p>",
        "id": 183819463,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576735788
    },
    {
        "content": "<p>did you figure out what was wrong with the parallelism?</p>",
        "id": 183819523,
        "sender_full_name": "Sean",
        "timestamp": 1576735860
    },
    {
        "content": "<p>Thanks so much for your help by the way :) I wasn't aware of the appleseed +Y up and BRLCAD +Z up at all, which ended up being the factor that was causing almost all of the errors.</p>",
        "id": 183819524,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576735860
    },
    {
        "content": "<blockquote>\n<p>did you figure out what was wrong with the parallelism?</p>\n</blockquote>\n<p>Unfortunately not yet, I'm still rendering everything on a single thread.</p>",
        "id": 183819533,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576735880
    },
    {
        "content": "<p>yeah, appleseed's doing it wrong, but not surprising given which tools he typically integrates with ;)</p>",
        "id": 183819542,
        "sender_full_name": "Sean",
        "timestamp": 1576735912
    },
    {
        "content": "<p>movie industry obsessively uses +Y up as the focus is on the \"screen\" you're looking at, not the world behind the screen</p>",
        "id": 183819603,
        "sender_full_name": "Sean",
        "timestamp": 1576735988
    },
    {
        "content": "<p>CAD modeling industry pretty universally uses +Z for up as that makes the most sense for the geometry itself.  it's the coordinate frame of the world in nearly all other contexts.</p>",
        "id": 183819654,
        "sender_full_name": "Sean",
        "timestamp": 1576736076
    },
    {
        "content": "<p>Ah, I see. I believe that OpenGL uses a similar coordinate system as well, right?</p>",
        "id": 183819656,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576736093
    },
    {
        "content": "<p>Z is altitude/height</p>",
        "id": 183819659,
        "sender_full_name": "Sean",
        "timestamp": 1576736096
    },
    {
        "content": "<p>opengl doesn't use anything, you specify it</p>",
        "id": 183819668,
        "sender_full_name": "Sean",
        "timestamp": 1576736111
    },
    {
        "content": "<p>Some of the calculations do seem a little weird at times when the +Y is pointing up</p>",
        "id": 183819669,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576736112
    },
    {
        "content": "<p>Oh, it might've been the way I learned it then.</p>",
        "id": 183819673,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576736132
    },
    {
        "content": "<p>quite likely</p>",
        "id": 183819680,
        "sender_full_name": "Sean",
        "timestamp": 1576736160
    },
    {
        "content": "<p>Ok It's getting pretty late for me now, so I'm going to head off. I think I might do a couple other tasks before returning to appleseed #7, but I hope to finish the whole task set as soon as I can.</p>",
        "id": 183819795,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576736362
    },
    {
        "content": "<p>Have a good night!</p>",
        "id": 183819797,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576736369
    },
    {
        "content": "<p>yeah, I would recommend taking a break after this recent set :)</p>",
        "id": 183819800,
        "sender_full_name": "Sean",
        "timestamp": 1576736385
    },
    {
        "content": "<p>great work jeffrey</p>",
        "id": 183819805,
        "sender_full_name": "Sean",
        "timestamp": 1576736398
    },
    {
        "content": "<p>Thank you :)</p>",
        "id": 183855033,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576769108
    },
    {
        "content": "<p>can anyone tell me why the build of appleseed is giving me errors( i am building it from the source for task 2)</p>",
        "id": 183856204,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576769828
    },
    {
        "content": "<p>jeffrey any help?</p>",
        "id": 183856443,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576769998
    },
    {
        "content": "<p>Can you send some screenshots/logs?</p>",
        "id": 183856778,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576770241
    },
    {
        "content": "<p>wait let me try to fix it</p>",
        "id": 183856848,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576770264
    },
    {
        "content": "<p>is that ok with you?</p>",
        "id": 183856856,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576770272
    },
    {
        "content": "<p>Sure</p>",
        "id": 183858267,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576771166
    },
    {
        "content": "<p>i had to comment a line to make it work</p>",
        "id": 183858304,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576771199
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 183858607,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576771275
    },
    {
        "content": "<p>now its kinda working</p>",
        "id": 183858760,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576771311
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/IsT4rmZX0IZ09eQpPV8h7AB5/this-line.png\" target=\"_blank\" title=\"this-line.png\">this-line.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/IsT4rmZX0IZ09eQpPV8h7AB5/this-line.png\" target=\"_blank\" title=\"this-line.png\"><img src=\"/user_uploads/1549/IsT4rmZX0IZ09eQpPV8h7AB5/this-line.png\"></a></div>",
        "id": 183859600,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576771797
    },
    {
        "content": "<p>Oh right, you're on Linux. Did you follow their instructions exactly as stated?</p>",
        "id": 183859837,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576771933
    },
    {
        "content": "<p>yes</p>",
        "id": 183859849,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576771947
    },
    {
        "content": "<p>It seems like that line is pretty important, commenting it out will probably lead to some unwanted effects</p>",
        "id": 183859902,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576771992
    },
    {
        "content": "<p>but while building  the linux deps of appleseed, it didnt build</p>",
        "id": 183859948,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576772028
    },
    {
        "content": "<p>means the build failed</p>",
        "id": 183859959,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576772038
    },
    {
        "content": "<p>Which deps?</p>",
        "id": 183860049,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576772080
    },
    {
        "content": "<p><a href=\"https://github.com/appleseedhq/linux-deps\" target=\"_blank\" title=\"https://github.com/appleseedhq/linux-deps\">https://github.com/appleseedhq/linux-deps</a></p>",
        "id": 183860079,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576772103
    },
    {
        "content": "<p>this one</p>",
        "id": 183860139,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576772153
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 183860200,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576772174
    },
    {
        "content": "<p>it is building properly</p>",
        "id": 183860235,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576772210
    },
    {
        "content": "<p>but before it gave me some issues</p>",
        "id": 183860260,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576772226
    },
    {
        "content": "<p>or warnings</p>",
        "id": 183860267,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576772230
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/dkYIykx400ddKPwh7vmC4Ayp/Screenshot-from-2019-12-19-21-47-24.png\" target=\"_blank\" title=\"Screenshot-from-2019-12-19-21-47-24.png\">warnings</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/dkYIykx400ddKPwh7vmC4Ayp/Screenshot-from-2019-12-19-21-47-24.png\" target=\"_blank\" title=\"warnings\"><img src=\"/user_uploads/1549/dkYIykx400ddKPwh7vmC4Ayp/Screenshot-from-2019-12-19-21-47-24.png\"></a></div>",
        "id": 183860381,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576772287
    },
    {
        "content": "<p>the other warnings are similar</p>",
        "id": 183860405,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576772303
    },
    {
        "content": "<p>Hmm... going off the \"files in some directories in conflict with libraries in implicit directories,\" I think that means you already have an installed version of said library.</p>",
        "id": 183901493,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1576804659
    },
    {
        "content": "<p>in this task, we have to do a similar thing like the previous task(B&amp;W image)?</p>",
        "id": 184021846,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1576955106
    },
    {
        "content": "<p>hey <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span>  am i supposed to achieve something similar to the appleseed #2 in appleseed #3 task? (lika black and white image or something)</p>",
        "id": 184058454,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1577028316
    },
    {
        "content": "<p>hey <span class=\"user-mention\" data-user-id=\"103542\">@Erik</span>  can you help me with my query?</p>",
        "id": 184058509,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1577028391
    },
    {
        "content": "<p>btw <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> , this link is not working so what should i look to as a base?</p>",
        "id": 184059536,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1577030396
    },
    {
        "content": "<p><a href=\"https://github.com/appleseedhq/appleseed/blob/master/sandbox/samples/cpp/basic/basic.cpp\" target=\"_blank\" title=\"https://github.com/appleseedhq/appleseed/blob/master/sandbox/samples/cpp/basic/basic.cpp\">https://github.com/appleseedhq/appleseed/blob/master/sandbox/samples/cpp/basic/basic.cpp</a></p>",
        "id": 184059580,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1577030408
    },
    {
        "content": "<p>erik?</p>",
        "id": 184059788,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1577030794
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"247135\">@Sumagna Das</span> basic was renamed to helloworld</p>",
        "id": 184059923,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1577031027
    },
    {
        "content": "<p>Taking a look at it should answer your question about what you should be doing</p>",
        "id": 184060004,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1577031175
    },
    {
        "content": "<p>thanks</p>",
        "id": 184060124,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1577031381
    },
    {
        "content": "<p>for pointing it out</p>",
        "id": 184060134,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1577031392
    },
    {
        "content": "<p>Hello Vikram.</p>",
        "id": 184060276,
        "sender_full_name": "Thusal Ranawaka",
        "timestamp": 1577031656
    },
    {
        "content": "<p>How many tasks have you done Vikram?</p>",
        "id": 184060338,
        "sender_full_name": "Thusal Ranawaka",
        "timestamp": 1577031728
    },
    {
        "content": "<p>No problem!</p>",
        "id": 184060370,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1577031841
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 184060940,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1577032843
    },
    {
        "content": "<p>Kind of just started. Getting familiar with this software. Any helpful links?</p>",
        "id": 184061006,
        "sender_full_name": "Vikramaditya Singh",
        "timestamp": 1577032984
    },
    {
        "content": "<p>Vikram do the install task first and do the tutorial tasks</p>",
        "id": 184061057,
        "sender_full_name": "Thusal Ranawaka",
        "timestamp": 1577033068
    },
    {
        "content": "<p>Was doing that only. Thanks.</p>",
        "id": 184061081,
        "sender_full_name": "Vikramaditya Singh",
        "timestamp": 1577033142
    },
    {
        "content": "<p>[EVERYONE] Learn basic 3D modeling using BRL-CAD type this in the search bar then you will be guided.</p>",
        "id": 184061137,
        "sender_full_name": "Thusal Ranawaka",
        "timestamp": 1577033240
    },
    {
        "content": "<p>Generally asking, how demanding is this competition with respect to time? Also, is this software harder to use than Solidworks or Fusion 360?</p>",
        "id": 184061189,
        "sender_full_name": "Vikramaditya Singh",
        "timestamp": 1577033369
    },
    {
        "content": "<p>I don't mean to be rude, but could you guys move the conversation to another channel? <span class=\"user-mention\" data-user-id=\"255161\">@Vikramaditya Singh</span> I will answer your question somewhere else so that it doesn't interfere with the appleseed channel</p>",
        "id": 184061686,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1577034269
    },
    {
        "content": "<p>Hey everyone,</p>\n<p>I just figured that you linked the appleseed Slack channel in at least one Google Code In task (<a href=\"https://codein.withgoogle.com/tasks/6101955286401024/?sp-organization=4884012200361984\" target=\"_blank\" title=\"https://codein.withgoogle.com/tasks/6101955286401024/?sp-organization=4884012200361984\">https://codein.withgoogle.com/tasks/6101955286401024/?sp-organization=4884012200361984</a>).<br>\nUnfortunately, the appleseed people don't use Slack anymore. Instead, they moved to their own Discord Server.<br>\nIf you want to update the Google Code In task, here is the link to their discord: <a href=\"https://discord.gg/dNCE5J8\" target=\"_blank\" title=\"https://discord.gg/dNCE5J8\">https://discord.gg/dNCE5J8</a> (taken from the appleseed website).</p>\n<p>Cheers,<br>\nZyu</p>",
        "id": 184129858,
        "sender_full_name": "Zyu",
        "timestamp": 1577132647
    },
    {
        "content": "<p>hey <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span>  my appleseed is not building so can i use the example from the installation as a base and write a program fof task #3(i am still working on it)</p>",
        "id": 184154418,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1577170237
    },
    {
        "content": "<p>i am trying to build it but it is not building correctly</p>",
        "id": 184154476,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1577170371
    },
    {
        "content": "<p>is the task similar to task 2(i can use the helloworld file as a base )?</p>",
        "id": 184154953,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1577171280
    },
    {
        "content": "<blockquote>\n<p>If you want to update the Google Code In task, here is the link to their discord: <a href=\"https://discord.gg/dNCE5J8\" target=\"_blank\" title=\"https://discord.gg/dNCE5J8\">https://discord.gg/dNCE5J8</a> (taken from the appleseed website).</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"255300\">@Zyu</span> !  Task description updated.</p>",
        "id": 184155454,
        "sender_full_name": "Sean",
        "timestamp": 1577172183
    },
    {
        "content": "<p>it was just the one mention</p>",
        "id": 184155456,
        "sender_full_name": "Sean",
        "timestamp": 1577172203
    },
    {
        "content": "<blockquote>\n<p>can anyone tell me why the build of appleseed is giving me errors( i am building it from the source for task 2)</p>\n</blockquote>\n<p>Don't know if you're still trying <span class=\"user-mention\" data-user-id=\"247135\">@Sumagna Das</span> but don't recommend building appleseed from source (but do recommend building brl-cad from source).</p>",
        "id": 184362740,
        "sender_full_name": "Sean",
        "timestamp": 1577515697
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  I saw you mentioned you sometimes dual-boot to Linux - if you decide to continue with the Appleseed tasks at some point, I'd suggest doing any initial experiments with integrating with BRL-CAD on that platform if you're at all comfortable working there.</p>\n<p>I've managed to get a basic \"art\" executable building there using the binary Appleseed downloadable from their website, as long as you configure BRL-CAD to build with system libpng and libz and have Appleseed where CMake can see it:</p>\n<p>cmake .. -DBRLCAD_PNG=SYSTEM -DBRLCAD_ZLIB=SYSTEM </p>\n<p>If you start from Windows, you'll have to figure out how to mix appleseed with librt on that platform - that's currently completely untried, so I don't know what you'd be up against.  Hopefully, on the Linux side, there'd be a much shorter path to start integrating the work you've done with the \"art\" executable.</p>",
        "id": 184852686,
        "sender_full_name": "starseeker",
        "timestamp": 1578237663
    },
    {
        "content": "<p>(Alternately, if you prefer not to boot to Linux a VirtualBox vm with Ubuntu installed would be another option.)</p>",
        "id": 184852735,
        "sender_full_name": "starseeker",
        "timestamp": 1578237730
    },
    {
        "content": "<p>Ah ok, thanks for the heads up! I chose to work on Windows because I was having some issues with BRLCAD on Linux at first (if you remember, MGED wasn't exactly working correctly for me). However, it does seem like CMake in general is easier to manage on Linux, so that'll definitely be something I'll try.</p>",
        "id": 184856680,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578244481
    },
    {
        "content": "<p>By the way, <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> I looked at the Appleseed integration task #7 requirements, and since \"creating the art application\" was part of it, if it's already done, then would the only part of the task be to handle the docbook manual stuff?</p>",
        "id": 184856748,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578244630
    },
    {
        "content": "<p>Also, regarding the Linux/Windows situation, I do recall that franz and a couple other developers mentioned the option of perhaps compiling Appleseed with BRLCAD dependencies. This solution would work for both platforms, right?</p>",
        "id": 184858099,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578247011
    },
    {
        "content": "<p>Something else the developers recommended was to build Appleseed with static libraries (although they only mentioned Linux, this should work on Windows as well right?)</p>",
        "id": 184866899,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578261455
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  eventually we'll need to build appleseed using the same support libs BRL-CAD itself is using, but (especially doing it cross platform) that's a rather non-trivial task and definitely a non-trivial amount of work.</p>",
        "id": 184877612,
        "sender_full_name": "starseeker",
        "timestamp": 1578281984
    },
    {
        "content": "<p>Static libraries might help, but you'll still have to build appleseed and that in and of itself doesn't look to be trivial (at least, without a very specific compilation environment.)</p>",
        "id": 184877661,
        "sender_full_name": "starseeker",
        "timestamp": 1578282045
    },
    {
        "content": "<p>From a utility standpoint, particularly since you have a demonstrated rendering with librt+appleseed, the biggest bang for the buck would be to get a working \"art\" application up and running, even if it requires a particular set of configuration options and build setup.</p>",
        "id": 184877681,
        "sender_full_name": "starseeker",
        "timestamp": 1578282108
    },
    {
        "content": "<p>Yeah, the integration does seem like quite a challenge. One thing I was wondering, though: say someone were to install BRLCAD as a client - would they be expected to install appleseed as well? Or would it come pre-compiled?</p>",
        "id": 184877724,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578282152
    },
    {
        "content": "<p>If we can get to a working art application, it's worth doing the necessary deep dive to handle the appleseed building problem.</p>",
        "id": 184877732,
        "sender_full_name": "starseeker",
        "timestamp": 1578282185
    },
    {
        "content": "<p>without that incentive, we're just getting the cart before the horse</p>",
        "id": 184877745,
        "sender_full_name": "starseeker",
        "timestamp": 1578282212
    },
    {
        "content": "<p>That makes sense, I'm just worried that the approach I end up taking is ultimately not going to work on another platform.</p>",
        "id": 184877788,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578282252
    },
    {
        "content": "<p>I've got a  pending change to how we manage src/other dependency building that should be at least some help as well, but that's waiting on the Git conversion.</p>",
        "id": 184877796,
        "sender_full_name": "starseeker",
        "timestamp": 1578282265
    },
    {
        "content": "<p>The art application will be a C++ application linking to the librt and appleseed libraries.  As long as that hook-up is correct on one platform, we can build from there.</p>",
        "id": 184877806,
        "sender_full_name": "starseeker",
        "timestamp": 1578282308
    },
    {
        "content": "<p>I think aside from the dependency management, I have a pretty good idea of how the integration might happen, where first the appleseed project would be generated with some converted .g to .obj and then rendered.</p>",
        "id": 184877867,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578282413
    },
    {
        "content": "<p>&lt;nod&gt; however you want to set it up initially is fine - iterating to the \"best\" state of the code is a given in this type of work.</p>",
        "id": 184877879,
        "sender_full_name": "starseeker",
        "timestamp": 1578282480
    },
    {
        "content": "<p>the current \"art\" executable is just doing the hello world example - my initial thought would be to convince it instead to produce the render that you achieved before you switched to EBM.</p>",
        "id": 184877928,
        "sender_full_name": "starseeker",
        "timestamp": 1578282552
    },
    {
        "content": "<p>Yeah, I think that would be a good starting point. Something that I'm still not quite sure how to do would be to generate (and then maybe update, if rendering is called multiple times) an appleseed project and then render given a single command.</p>",
        "id": 184877988,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578282712
    },
    {
        "content": "<p>hmm.  Is there something that you need to do that the existing src/rt/art.cpp code isn't doing?</p>",
        "id": 184878046,
        "sender_full_name": "starseeker",
        "timestamp": 1578282800
    },
    {
        "content": "<p>Around line 209 something would change certainly (that's where it's loading the hello world scene.obj file from disk)</p>",
        "id": 184878095,
        "sender_full_name": "starseeker",
        "timestamp": 1578282872
    },
    {
        "content": "<p>Presumably you'd need to insert instead whatever objects you created for the BRL-CAD scene objects.</p>",
        "id": 184878106,
        "sender_full_name": "starseeker",
        "timestamp": 1578282923
    },
    {
        "content": "<p>and I imagine there will be some other tweaks beyond that obvious one, but my hope was that it might be an incremental sort of thing to adjust the helloworld example to do a librt plugin render instead.</p>",
        "id": 184878164,
        "sender_full_name": "starseeker",
        "timestamp": 1578283005
    },
    {
        "content": "<blockquote>\n<p>By the way, <span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> I looked at the Appleseed integration task #7 requirements, and since \"creating the art application\" was part of it, if it's already done, then would the only part of the task be to handle the docbook manual stuff?</p>\n</blockquote>\n<p>It's not done -- starseeker did most of the heavy lifting for the build system pieces, linking against appleseed libs, but much more is needed.</p>",
        "id": 184878166,
        "sender_full_name": "Sean",
        "timestamp": 1578283018
    },
    {
        "content": "<p>From what I understand, helloworld.cpp is the code to generate an appleseed project, while something else such a sphereobject.cpp is the code to an actual object that defines <code>intersect()</code> and such. I modified sphereobject.cpp so that the <code>intersect()</code> could work off of librt and a geometry file, but I would still need to generate an appleseed project which implements that plugin to actually render.</p>",
        "id": 184878228,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578283145
    },
    {
        "content": "<p>task #7 is to make a binary application that respects most of rt's options (in the sense that it parses them) and has some initial documentation.  it's a task about taking a step on the CAD side (sans appleseed really). task #8 is what is complete now.</p>",
        "id": 184878347,
        "sender_full_name": "Sean",
        "timestamp": 1578283330
    },
    {
        "content": "<p>Although actually, now that I think about it, the plugin I made could just be reused, so it would just be a matter of generating a project that uses the plugin with the correct parameters and then calling appleseed rendering.</p>",
        "id": 184878349,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578283340
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  Right.  If you need help building the plugin as part of the art build let me know.</p>",
        "id": 184878430,
        "sender_full_name": "starseeker",
        "timestamp": 1578283509
    },
    {
        "content": "<p>although it sounds like there are some tasks ahead of when you'll get to that one...</p>",
        "id": 184878449,
        "sender_full_name": "starseeker",
        "timestamp": 1578283561
    },
    {
        "content": "<p>not to  mention finishing up the EBM work - don't let me distract you too much ;-)</p>",
        "id": 184878514,
        "sender_full_name": "starseeker",
        "timestamp": 1578283640
    },
    {
        "content": "<blockquote>\n<p>task #7 is to make a binary application that respects most of rt's options (in the sense that it parses them) and has some initial documentation.  it's a task about taking a step on the CAD side (sans appleseed really). task #8 is what is complete now.</p>\n</blockquote>\n<p>Ah I see, sorry about that misunderstanding.</p>",
        "id": 184878520,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578283670
    },
    {
        "content": "<p>just one big one.  7 is kinda big.</p>",
        "id": 184878522,
        "sender_full_name": "Sean",
        "timestamp": 1578283680
    },
    {
        "content": "<p>8 would have been hard without cmake experience, but you did it for him :)</p>",
        "id": 184878565,
        "sender_full_name": "Sean",
        "timestamp": 1578283698
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span>  Right.  If you need help building the plugin as part of the art build let me know.</p>\n</blockquote>\n<p>Thanks! I think for now, I should be fine just using the dll I built, but going forward, it would be better to include it directly into the source for the user to compile.</p>",
        "id": 184878587,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578283763
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  OK.  Remember though, I've never tried the current art.cpp build on Windows - I have no idea what will happen.</p>",
        "id": 184878646,
        "sender_full_name": "starseeker",
        "timestamp": 1578283832
    },
    {
        "content": "<p>Oh right, it might be better if I switched to Linux first and then recompiled</p>",
        "id": 184878661,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578283912
    },
    {
        "content": "<p>#10 is the open-ended hard one</p>",
        "id": 184878762,
        "sender_full_name": "Sean",
        "timestamp": 1578284053
    },
    {
        "content": "<p>#9 might be a little tricky, but I hope not if it's easy enough to call into the plugin like the examples</p>",
        "id": 184878786,
        "sender_full_name": "Sean",
        "timestamp": 1578284134
    },
    {
        "content": "<p>@Sean are we going to have to generate a project and a loadable plugin generally, or will we eventually be able to boil it down to a strictly in-memory process to generate the png file?  (I haven't dug deep enough to know...)</p>",
        "id": 184878842,
        "sender_full_name": "starseeker",
        "timestamp": 1578284207
    },
    {
        "content": "<blockquote>\n<p>#10 is the open-ended hard one</p>\n</blockquote>\n<p>Actually, I was a little confused by this one. I thought that with the plugin, since it reads .g directly, there wouldn't be a need to load geometry?</p>",
        "id": 184878908,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578284367
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  I don't know the details, but I'm presuming that the plugin generates some kind of scene object based on the BRL-CAD geometry information?</p>",
        "id": 184879079,
        "sender_full_name": "starseeker",
        "timestamp": 1578284601
    },
    {
        "content": "<p>Well, here's what I initially had: <a href=\"/user_uploads/1549/_fqaPgho7sFU3UDoE7Gtcfvz/art-plugin.cpp\" target=\"_blank\" title=\"art-plugin.cpp\">art-plugin.cpp</a> For the most part, it used librt's <code>rt_shootray()</code> to get information directly from the .g but it was still missing a few things, like the UV coordinate at the point of intersection.</p>",
        "id": 184879146,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578284703
    },
    {
        "content": "<p>My first instinct would be to see if the MeshObject used in the art.cpp helloworld code can be replaced with a ProceduralObject</p>",
        "id": 184879151,
        "sender_full_name": "starseeker",
        "timestamp": 1578284714
    },
    {
        "content": "<p>That shouldn't be a problem, so long as the dll/so is present.</p>",
        "id": 184879201,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578284766
    },
    {
        "content": "<p>My naive guess is that the key will be in what art.cpp:216 is doing - if we create BrlcadObject objects and insert them, it may even \"just work\"...</p>",
        "id": 184879293,
        "sender_full_name": "starseeker",
        "timestamp": 1578284986
    },
    {
        "content": "<p>Anyway, interesting future problems.  I've got to call it a night - later all</p>",
        "id": 184879347,
        "sender_full_name": "starseeker",
        "timestamp": 1578285041
    },
    {
        "content": "<p>That's what I was hoping, and although I was manually editing the project to test the plugin, I can't see why generating it instead wouldn't work.</p>",
        "id": 184879349,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578285043
    },
    {
        "content": "<p>Thanks so much for your help, good night!</p>",
        "id": 184879359,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578285083
    },
    {
        "content": "<blockquote>\n<p>@Sean are we going to have to generate a project and a loadable plugin generally, or will we eventually be able to boil it down to a strictly in-memory process to generate the png file?  (I haven't dug deep enough to know...)</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span> I believe it can all be done in memory</p>",
        "id": 184987598,
        "sender_full_name": "Sean",
        "timestamp": 1578381323
    },
    {
        "content": "<blockquote>\n<p>Actually, I was a little confused by this one. I thought that with the plugin, since it reads .g directly, there wouldn't be a need to load geometry?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> it depends how 'art' is set up.  conceptually, you were running the plugin within the context of the appleseed renderer that has default notions of a scene, a view, a project, etc.</p>",
        "id": 184987786,
        "sender_full_name": "Sean",
        "timestamp": 1578381674
    },
    {
        "content": "<p>NONE of that exists for 'art' until it is implemented, so the assumption is that there is some basic setup that is going to be required before you'll be able to call the plugin.</p>",
        "id": 184987789,
        "sender_full_name": "Sean",
        "timestamp": 1578381691
    },
    {
        "content": "<p>it may not be necessary, but I don't see how it'll work without first loading the geometry in art, and then passing or calling into that loaded geometry in the plugin.  that may be something as simple as changing when the geometry loading function is called, or something else might be needed, because we do obviously only want to load geometry once if we can.</p>",
        "id": 184987868,
        "sender_full_name": "Sean",
        "timestamp": 1578381821
    },
    {
        "content": "<p>or maybe nothing needs to change, but have to keep in mind some of the things rt is doing that will have to be replicated include setting up default view that is based on the geometry.  presently, the geometry is loaded and prep'd in rt so it can figure out what size to make the render window, where to create default lights, what rays to shoot, etc.</p>",
        "id": 184987998,
        "sender_full_name": "Sean",
        "timestamp": 1578381996
    },
    {
        "content": "<p>Ah right, I think that makes sense. I forgot to consider that everything is being done from \"scratch\" rather than from something like appleseed studio.</p>",
        "id": 185006983,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578401408
    },
    {
        "content": "<p>right, you're basically implementing a command-line version of appleseed studio</p>",
        "id": 185061692,
        "sender_full_name": "Sean",
        "timestamp": 1578436040
    },
    {
        "content": "<p>(which might exist)</p>",
        "id": 185061705,
        "sender_full_name": "Sean",
        "timestamp": 1578436055
    },
    {
        "content": "<p>I believe that it does - it might be a good starting place to reference.</p>",
        "id": 185094137,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578477239
    },
    {
        "content": "<p>By the way, I noticed that starseeker created art.cpp inside of src/rt. Is there any advantage to doing it there rather than create a new src/art? Personally, I was thinking of creating a new directory for organizational purposes.</p>",
        "id": 185277087,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578623184
    },
    {
        "content": "<blockquote>\n<p>By the way, I noticed that starseeker created art.cpp inside of src/rt. Is there any advantage to doing it there rather than create a new src/art? Personally, I was thinking of creating a new directory for organizational purposes.</p>\n</blockquote>\n<p>new directory is just fine.  the advantage of src/rt is so you can reuse and call into the existing source files that rt uses for things like option parsing, but there are other tools that \"peek\" into the rt directory for those files (like \"remrt\")</p>",
        "id": 185330018,
        "sender_full_name": "Sean",
        "timestamp": 1578676313
    },
    {
        "content": "<p>Ah ok thanks, I think I'll continue with a new directory then.</p>",
        "id": 185333142,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578678441
    },
    {
        "content": "<p>Hello, Can anyone please tell me how to work on a model and make one I have absolutely no knowledge of how to input the data  into MGED.</p>",
        "id": 185334669,
        "sender_full_name": "Mikki Jhuria",
        "timestamp": 1578679473
    },
    {
        "content": "<blockquote>\n<p>new directory is just fine.  the advantage of src/rt is so you can reuse and call into the existing source files that rt uses for things like option parsing, but there are other tools that \"peek\" into the rt directory for those files (like \"remrt\")</p>\n</blockquote>\n<p>So when you mentioned that the application would need to be able to parse rt's options, would I need to use \"remrt\" somehow to access those source files that can handle that?</p>",
        "id": 185337036,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578680929
    },
    {
        "content": "<p>Oh also about this path on the task page <code>doc/docbook/man1/art.xml</code>, did you mean <code>doc/docbook/system/man1/art.xml</code>?</p>",
        "id": 185338078,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578681595
    },
    {
        "content": "<p>Yes,  the path would be doc/docbook/system/man1/art.xml</p>",
        "id": 185369531,
        "sender_full_name": "starseeker",
        "timestamp": 1578709495
    },
    {
        "content": "<p>So for option parsing there are a few options... I suppose reusing src/rt/opt.c is probably the simplest.</p>",
        "id": 185369647,
        "sender_full_name": "starseeker",
        "timestamp": 1578709704
    },
    {
        "content": "<p>Eventually I'd like to get a bu_opt based parser for those options, but that's probably not a good GCI task.</p>",
        "id": 185369728,
        "sender_full_name": "starseeker",
        "timestamp": 1578709817
    },
    {
        "content": "<p>Definitely not, in fact - there'd be some custom logic needed in all likelihood.</p>",
        "id": 185369762,
        "sender_full_name": "starseeker",
        "timestamp": 1578709908
    },
    {
        "content": "<p>So when you say reuse src/rt/opt.c, would that involve somehow accessing that file from src/art, or do you mean to just copy the file into src/art/opt.c as well?</p>",
        "id": 185375814,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578721235
    },
    {
        "content": "<p>no copying :)</p>",
        "id": 185375822,
        "sender_full_name": "Sean",
        "timestamp": 1578721274
    },
    {
        "content": "<p>Ah, so I guess remrt should be used somehow?</p>",
        "id": 185375832,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578721308
    },
    {
        "content": "<p>you just reference it in the CMakeLists.txt file if it needs to be linked against, and you just declare the functions and variables you use from it before using them</p>",
        "id": 185375836,
        "sender_full_name": "Sean",
        "timestamp": 1578721314
    },
    {
        "content": "<p>Oh that makes more sense. If I may ask though, what is remrt and how is it used?</p>",
        "id": 185375891,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578721360
    },
    {
        "content": "<p>remrt is a distributed ray tracing framework for rt</p>",
        "id": 185375947,
        "sender_full_name": "Sean",
        "timestamp": 1578721446
    },
    {
        "content": "<p>\"remote rt\" .. it's a ray tracing server</p>",
        "id": 185375950,
        "sender_full_name": "Sean",
        "timestamp": 1578721458
    },
    {
        "content": "<p>it lets you run rt across more than one computer so they can all work on the same image</p>",
        "id": 185375952,
        "sender_full_name": "Sean",
        "timestamp": 1578721487
    },
    {
        "content": "<p>Oh that's really cool, I think I've heard about things like that for blender as well - like cloud rendering or something</p>",
        "id": 185375965,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578721543
    },
    {
        "content": "<p>whether than's 4 or 10 computers in your home or 100000 nodes</p>",
        "id": 185375995,
        "sender_full_name": "Sean",
        "timestamp": 1578721562
    },
    {
        "content": "<p>brl-cad's was actually \"the first\"</p>",
        "id": 185376015,
        "sender_full_name": "Sean",
        "timestamp": 1578721606
    },
    {
        "content": "<p>at least the first to demonstrate real-time rendering via this distributed computation method</p>",
        "id": 185376025,
        "sender_full_name": "Sean",
        "timestamp": 1578721629
    },
    {
        "content": "<p>Oh wow I didn't know that, that's something I might want to look into later, but I guess I won't be using it for src/art</p>",
        "id": 185376083,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578721742
    },
    {
        "content": "<p>remrt was used back in the early 80's at a time when rendering used to take several minutes for even simple scenes, remrt+rt was use to render animation around 5 frames per second</p>",
        "id": 185376090,
        "sender_full_name": "Sean",
        "timestamp": 1578721753
    },
    {
        "content": "<p>not any time soon, but we'll eventually need to do something for art</p>",
        "id": 185376092,
        "sender_full_name": "Sean",
        "timestamp": 1578721767
    },
    {
        "content": "<p>appleseed's rendering method is 100x slower than what rt is doing as it's a much more advanced light simulation</p>",
        "id": 185376096,
        "sender_full_name": "Sean",
        "timestamp": 1578721799
    },
    {
        "content": "<p>bidirectional path tracing is a comparatively expensive method, so it will benefit greatly from more cpu cores</p>",
        "id": 185376141,
        "sender_full_name": "Sean",
        "timestamp": 1578721836
    },
    {
        "content": "<p>but baby steps.  first is working at all.  then working multithreaded.  then we can think about how to handle distributed.</p>",
        "id": 185376150,
        "sender_full_name": "Sean",
        "timestamp": 1578721889
    },
    {
        "content": "<p>CMakeLists.txt:BRLCAD_ADDEXEC(remrt \"../rt/opt.c;ihost.c;remrt.c\" \"liboptical;libfb\")</p>",
        "id": 185376155,
        "sender_full_name": "Sean",
        "timestamp": 1578721902
    },
    {
        "content": "<p>that's how remrt uses rt's opt.c file</p>",
        "id": 185376157,
        "sender_full_name": "Sean",
        "timestamp": 1578721915
    },
    {
        "content": "<p>Yeah, I think I'm thinking a little too ahead right now.  For now, task 7 - is that also what you were looking for when you were talking about the option parsing?</p>",
        "id": 185376202,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578721955
    },
    {
        "content": "<p>yes</p>",
        "id": 185376204,
        "sender_full_name": "Sean",
        "timestamp": 1578721980
    },
    {
        "content": "<p>the general idea is that the tool will greatly benefit if it can be a drop-in replacement for rt</p>",
        "id": 185376209,
        "sender_full_name": "Sean",
        "timestamp": 1578722001
    },
    {
        "content": "<p>that means it needs to handle some of rt's options like -a -e for azimuth and elevation (e.g., rt -a 35 -e 10 ...)  or -s for size (e.g., rt -s1024)</p>",
        "id": 185376250,
        "sender_full_name": "Sean",
        "timestamp": 1578722045
    },
    {
        "content": "<p>it's really just a handful, not necessarily all of them, but some of them like -M are rather complicated</p>",
        "id": 185376253,
        "sender_full_name": "Sean",
        "timestamp": 1578722091
    },
    {
        "content": "<p>Ah ok, thanks! I think I need to research/learn a lot more about CMake if I want to do all these things that we've talked about for appleseed - right now all the macros are really confusing so it takes me a while to kinda understand what's actually going on, but I guess some of that also comes with experience</p>",
        "id": 185376254,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578722095
    },
    {
        "content": "<p>we ideally want it to set up essentially the same view, but just render a much more visually interesting image</p>",
        "id": 185376262,
        "sender_full_name": "Sean",
        "timestamp": 1578722111
    },
    {
        "content": "<p>or just ask</p>",
        "id": 185376268,
        "sender_full_name": "Sean",
        "timestamp": 1578722130
    },
    {
        "content": "<p>or just do whatever you need to do and one of the other devs can clean it up after you get it working</p>",
        "id": 185376273,
        "sender_full_name": "Sean",
        "timestamp": 1578722148
    },
    {
        "content": "<p>that's why most of the tasks don't even mention the build system at all</p>",
        "id": 185376315,
        "sender_full_name": "Sean",
        "timestamp": 1578722168
    },
    {
        "content": "<p>it can quickly turn into a major distraction.  it's more important that you demonstrate the capability bits first.</p>",
        "id": 185376319,
        "sender_full_name": "Sean",
        "timestamp": 1578722195
    },
    {
        "content": "<p>Yep, starseeker has already helped me a ton for both ebm and appleseed. I don't want to bother the devs too much though, especially with simple questions that can be googled.</p>",
        "id": 185376324,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578722224
    },
    {
        "content": "<p>I'm still not really sure how to proceed with the Appleseed linkage though - I think the easiest way, manually speaking, would be to just include the appleseed dll built with static libraries, but this probably isn't ideal in the long run?</p>",
        "id": 185376496,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578722589
    },
    {
        "content": "<p>not a bother, ask away -- we want to help</p>",
        "id": 185376503,
        "sender_full_name": "Sean",
        "timestamp": 1578722635
    },
    {
        "content": "<p>that's what open source is all about.  helping each other, working together.</p>",
        "id": 185376545,
        "sender_full_name": "Sean",
        "timestamp": 1578722670
    },
    {
        "content": "<blockquote>\n<p>I'm still not really sure how to proceed with the Appleseed linkage though - I think the easiest way, manually speaking, would be to just include the appleseed dll built with static libraries, but this probably isn't ideal in the long run?</p>\n</blockquote>\n<p>Did what starseeker stub in not work for you?</p>",
        "id": 185376601,
        "sender_full_name": "Sean",
        "timestamp": 1578722773
    },
    {
        "content": "<p>Uh, I'm still on Windows because I was having some trouble with Linux, so I don't think the CMake logic would work.</p>",
        "id": 185376664,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578722940
    },
    {
        "content": "<p>why wouldn't it?</p>",
        "id": 185376671,
        "sender_full_name": "Sean",
        "timestamp": 1578722966
    },
    {
        "content": "<p>it's simply relying on FindPackage(Appleseed) to work, which is to say that it wants you to have installed appleseed first and if it can detect it, variables get set where the libraries were found, and it should work.</p>",
        "id": 185376717,
        "sender_full_name": "Sean",
        "timestamp": 1578723021
    },
    {
        "content": "<p>if anything, there will be variables you can set manually in cmake to make it work.  we can walk you through that bit but the first thing is to simply try it and report back.</p>",
        "id": 185376728,
        "sender_full_name": "Sean",
        "timestamp": 1578723108
    },
    {
        "content": "<p>I'm not too sure, but I also did just svn update and then reconfigure cmake yesterday, and it said appleseed wasn't found even though I had it installed.</p>",
        "id": 185376771,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578723139
    },
    {
        "content": "<p>well that's actually good in a way, because you didn't tell it where to find appleseed</p>",
        "id": 185376780,
        "sender_full_name": "Sean",
        "timestamp": 1578723188
    },
    {
        "content": "<p>Oh, is there something that I would need to set somewhere? I thought find_package just found things like that automatically if there existed a CMake text there</p>",
        "id": 185376939,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578723558
    },
    {
        "content": "<p>Two things I would check are 1) what the Cmake build output and error logs say when it tried to find appleseed and 2) what cmake variables there are that can be set (dump the list on the ccmake advanced options listing is one way).</p>",
        "id": 185376945,
        "sender_full_name": "Sean",
        "timestamp": 1578723590
    },
    {
        "content": "<p>find_package finds things automatically that are installed in system locations, which on windows is essentially nothing because most apps don't install into system locations.  They go into program files or elsewhere, so you have to tell cmake where to look.</p>",
        "id": 185376995,
        "sender_full_name": "Sean",
        "timestamp": 1578723676
    },
    {
        "content": "<p>still first step would be to check the log, see what it tried to do</p>",
        "id": 185376997,
        "sender_full_name": "Sean",
        "timestamp": 1578723687
    },
    {
        "content": "<p>can you post them here?</p>",
        "id": 185376999,
        "sender_full_name": "Sean",
        "timestamp": 1578723699
    },
    {
        "content": "<p>looking at how the maya plugin is compiled on windows tells me it can work: <a href=\"https://github.com/appleseedhq/appleseed-maya/blob/master/CMakeLists.txt\" target=\"_blank\" title=\"https://github.com/appleseedhq/appleseed-maya/blob/master/CMakeLists.txt\">https://github.com/appleseedhq/appleseed-maya/blob/master/CMakeLists.txt</a></p>",
        "id": 185377054,
        "sender_full_name": "Sean",
        "timestamp": 1578723788
    },
    {
        "content": "<p>Is this what you were referring to? <a href=\"/user_uploads/1549/NobrimV3sOPh23pMa5oNXS6K/CMakeOutput.log\" target=\"_blank\" title=\"CMakeOutput.log\">CMakeOutput.log</a> It looks like the only mention of appleseed is <code>STATUS: Could NOT find APPLESEED (missing: APPLESEED_LIBRARY) </code></p>",
        "id": 185377159,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578724038
    },
    {
        "content": "<p>what about CMakeError.log</p>",
        "id": 185377205,
        "sender_full_name": "Sean",
        "timestamp": 1578724107
    },
    {
        "content": "<p>Oh right, I didn't check that. Here it is: <a href=\"/user_uploads/1549/w8cgQkHOYmnW_86quAc0_Uus/CMakeError.log\" target=\"_blank\" title=\"CMakeError.log\">CMakeError.log</a></p>",
        "id": 185377218,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578724142
    },
    {
        "content": "<p>Doesn't seem like there's any mention of appleseed though</p>",
        "id": 185377226,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578724184
    },
    {
        "content": "<p>Huh, that is peculiar</p>",
        "id": 185377279,
        "sender_full_name": "Sean",
        "timestamp": 1578724288
    },
    {
        "content": "<p>regardless, so the next would be the cmake vars that override</p>",
        "id": 185377393,
        "sender_full_name": "Sean",
        "timestamp": 1578724524
    },
    {
        "content": "<p>try setting the cmake variable Appleseed_ROOT to where appleseed is installed</p>",
        "id": 185377396,
        "sender_full_name": "Sean",
        "timestamp": 1578724544
    },
    {
        "content": "<p>So that would just be something like <code>set(Appleseed_ROOT \"path/to/appleseed\")</code> right before the rest of the logic right?</p>",
        "id": 185377455,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578724638
    },
    {
        "content": "<p>er, the typical way would be wherever you run cmake</p>",
        "id": 185378161,
        "sender_full_name": "Sean",
        "timestamp": 1578726162
    },
    {
        "content": "<p>are you using the GUI or command line</p>",
        "id": 185378163,
        "sender_full_name": "Sean",
        "timestamp": 1578726171
    },
    {
        "content": "<p>in the gui, it'll be something like this: <a href=\"https://stackoverflow.com/questions/46268235/cmake-gui-resets-parameter-how-do-i-set-parameter-in-cmake-gui\" target=\"_blank\" title=\"https://stackoverflow.com/questions/46268235/cmake-gui-resets-parameter-how-do-i-set-parameter-in-cmake-gui\">https://stackoverflow.com/questions/46268235/cmake-gui-resets-parameter-how-do-i-set-parameter-in-cmake-gui</a></p>",
        "id": 185378175,
        "sender_full_name": "Sean",
        "timestamp": 1578726210
    },
    {
        "content": "<p>on the command line, it's cmake -DAppleseed_ROOT=\"path/to/appleseed\" ...</p>",
        "id": 185378177,
        "sender_full_name": "Sean",
        "timestamp": 1578726231
    },
    {
        "content": "<p>BRL-CAD main repository has between a: 0-7000, b: 7001-70000, or c: 70001-100000 commits can somebody help me with this I can figure it out from BRLs github page...Please</p>",
        "id": 185378344,
        "sender_full_name": "Mikki Jhuria",
        "timestamp": 1578726506
    },
    {
        "content": "<p>Just submitted my first task .... <a href=\"https://codein.withgoogle.com/dashboard/task-instances/5434072998871040/\" target=\"_blank\" title=\"https://codein.withgoogle.com/dashboard/task-instances/5434072998871040/\">https://codein.withgoogle.com/dashboard/task-instances/5434072998871040/</a>   !</p>",
        "id": 185378779,
        "sender_full_name": "Mikki Jhuria",
        "timestamp": 1578727489
    },
    {
        "content": "<p>Can a mentor please review my task ...?</p>",
        "id": 185378784,
        "sender_full_name": "Mikki Jhuria",
        "timestamp": 1578727518
    },
    {
        "content": "<p>Note I  have no idea how libz and libpng will play out on Windows with the art.cpp build... on Linux I had to use system libs, our bundled ones didn't work.  Building with \"system libs\" on Windows is theoretically possible, but I've never done it personally - no idea if it works.</p>",
        "id": 185389591,
        "sender_full_name": "starseeker",
        "timestamp": 1578748861
    },
    {
        "content": "<p>On linux the CMake line I used (after installing the libpng and libz development packages) was: </p>\n<p>cmake .. -DAPPLESEED_ROOT=/path/to/appleseed -DBRLCAD_PNG=SYSTEM -DBRLCAD_ZLIB=SYSTEM</p>",
        "id": 185389651,
        "sender_full_name": "starseeker",
        "timestamp": 1578748942
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> The art binary is a really mean way to get introduced to our CMake build - it's one of the more challenging scenarios (3rd party binary being linked in on Windows) and it's also an area where there are pending changes to how we're going to manage the process anyway.</p>\n<p>Any way you can get art building is fine for these purposes - once it is demonstrated to work, we'll begin the process of setting up Appleseed as a proper src/other BRL-CAD dependency.  (That'll be epic, but worth it if we can leverage them for high quality rendering...)</p>\n<p>In the longer term, if you really want to do a deep dive in to our CMake, some particulars of our build system are documented in the following report (somewhat dated now, but still should have some useful content):<br>\n<a href=\"https://www.arl.army.mil/arlreports/2013/ARL-TR-6475.pdf\" target=\"_blank\" title=\"https://www.arl.army.mil/arlreports/2013/ARL-TR-6475.pdf\">https://www.arl.army.mil/arlreports/2013/ARL-TR-6475.pdf</a></p>\n<p>For writing CMake, there are a number of resources online - this looks like it might be a decent starting point, although I've not been through it in detail:<br>\n<a href=\"https://cliutils.gitlab.io/modern-cmake/\" target=\"_blank\" title=\"https://cliutils.gitlab.io/modern-cmake/\">https://cliutils.gitlab.io/modern-cmake/</a></p>\n<p>Note that our CMake is a bit conservative by modern standards - there are a number of features we really should be making better use of that I've never had time to retrofit.  Also, we are very ambitious in a couple ways which so far as I know are still unique in CMake land - in particular our 3rd part build management, automatic handling of multi-config building, and maintaining a complete list in CMake of all files significant to the build.</p>\n<p>We also micromanage our build flags, specifically enabling a wide variety of warnings.  We have a DocBook compilation setup used to produce html, man and (optionally) PDF versions of our documentation as part of the build, some custom logic for Tcl/Tk related requirements, and (although we haven't turned it on yet) an option to use astyle to enforce style conventions at build time. </p>\n<p>The upshot is our logic won't look very much like \"vanilla\" CMake, although there are usually analogies - BRLCAD_ADDEXEC, for example, is our wrapper around add_executable and BRLCAD_ADDLIB wraps add_library.</p>\n<p>That's why I went ahead and set up src/rt/CMakeLists.txt to build art.cpp - hopefully, that should make it more straightforward to get the basic setup going.</p>",
        "id": 185390601,
        "sender_full_name": "starseeker",
        "timestamp": 1578750615
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  Tell you what - I'll go ahead and shift the art.cpp file to src/art and get it set up, since I have a machine where I can test it - I almost did that anyway, but got lazy ;-)</p>",
        "id": 185390734,
        "sender_full_name": "starseeker",
        "timestamp": 1578750898
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> OK, moved - the build part of the opt.c is there as well, but the actual use of it in the logic is still up to you.  You'll need to re-run CMake, since the build logic is changed to reflect the moved files.</p>\n<p>I'd suggest trying to get art -h to print a help message as a good first goal.</p>",
        "id": 185391996,
        "sender_full_name": "starseeker",
        "timestamp": 1578752962
    },
    {
        "content": "<p>Can somebody please tell me how to use the tops in MGED database?<br>\nThank You</p>",
        "id": 185392277,
        "sender_full_name": "Mikki Jhuria",
        "timestamp": 1578753418
    },
    {
        "content": "<p>Thanks so much for your help <span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span>! Although, in the future, you could just let me know what to do and I could do it myself :) I don't want to just have other devs be doing the work!</p>",
        "id": 185396274,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578760637
    },
    {
        "content": "<p>As for the conflicting dependencies, many of the Appleseed devs have recommended building the appleseed shared library using static libraries. Would that help that issue?</p>",
        "id": 185396331,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578760731
    },
    {
        "content": "<p>Thank you for pointing me to those CMake resources as well by the way, I'll be sure to read through those. I was trying to just use <a href=\"http://CMake.org\" target=\"_blank\" title=\"http://CMake.org\">CMake.org</a> but I wasn't getting a good overall grasp.</p>",
        "id": 185396496,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578760991
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  In this instance I'm just trying to clear away the underbrush so you can focus your efforts on the core functionality.  Like Sean said earlier, build system issues can be quite a distraction.  You'll notice I didn't actually hook up any option handling at all in the code ;-)</p>",
        "id": 185396998,
        "sender_full_name": "starseeker",
        "timestamp": 1578761907
    },
    {
        "content": "<p>I'm not 100% sure if the static lib bit would work or not - we'd have to try it and see.  You may end up having to do that on Windows - don't know for sure.</p>",
        "id": 185397013,
        "sender_full_name": "starseeker",
        "timestamp": 1578761956
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  What were the issues you were having on Linux, btw?</p>",
        "id": 185397358,
        "sender_full_name": "starseeker",
        "timestamp": 1578762442
    },
    {
        "content": "<p>Still kinda like November, mged was being weird (took a really long time to open)</p>",
        "id": 185397415,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578762528
    },
    {
        "content": "<p>It just seemed a little easier to work/test on Windows</p>",
        "id": 185397422,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578762546
    },
    {
        "content": "<p>On first run, or on all runs?  I've had MGED be slow to load the first timeout of the gate as well...</p>",
        "id": 185397426,
        "sender_full_name": "starseeker",
        "timestamp": 1578762568
    },
    {
        "content": "<p>Another possibility might be to disable OPENGL adn see if the X display manager works better - our use of OpenGL is quite... quirky by modern standards.</p>",
        "id": 185397480,
        "sender_full_name": "starseeker",
        "timestamp": 1578762645
    },
    {
        "content": "<p>There is some issue there that I've not been able to figure out.  It seems to happen cross-platform to varying degrees where there is a 10-100 second delay the first time it's run.  I've not been able to catch it in the act yet to figure out where the time is actually being spent.</p>",
        "id": 185397491,
        "sender_full_name": "Sean",
        "timestamp": 1578762670
    },
    {
        "content": "<p>When it first happened, I attributed it to prebinding, but  that doesn't explain it happening on Windows.</p>",
        "id": 185397536,
        "sender_full_name": "Sean",
        "timestamp": 1578762725
    },
    {
        "content": "<p>Hmm.  Someone's seen it on Windows?</p>",
        "id": 185397548,
        "sender_full_name": "starseeker",
        "timestamp": 1578762782
    },
    {
        "content": "<p>he's on Windows</p>",
        "id": 185397554,
        "sender_full_name": "Sean",
        "timestamp": 1578762817
    },
    {
        "content": "<p>This was happening on Debian - if I recall correctly, doing mged -c and choosing the X display manager did help a little</p>",
        "id": 185397556,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578762836
    },
    {
        "content": "<p>ah, okay.  yeah on linux it could totally still be prebinding</p>",
        "id": 185397598,
        "sender_full_name": "Sean",
        "timestamp": 1578762858
    },
    {
        "content": "<p>That and the fact that I'm just a little more comfortable with MSVS is why I chose to stay on Windows, so hopefully I can still work out the appleseed dependency stuff</p>",
        "id": 185397614,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578762908
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  If it happens two times in succession it might be worth slapping a profiler like perf on it to see if we can figure out what's going on for sure.  (At some point down the road - by all means if you're more comfortable with MSVC stay there for now.)</p>",
        "id": 185397622,
        "sender_full_name": "starseeker",
        "timestamp": 1578762942
    },
    {
        "content": "<p>compiling everything static should avoid a host of issues, but I wouldn't try that until you run into a problem.</p>",
        "id": 185397686,
        "sender_full_name": "Sean",
        "timestamp": 1578763019
    },
    {
        "content": "<p>static libs are going to mean the linker does't have to resolve symbols when the appleseed libs are loaded.  if the appleseed libs themselves are static, there shouldn't be any conflict with our versions.</p>",
        "id": 185397703,
        "sender_full_name": "Sean",
        "timestamp": 1578763071
    },
    {
        "content": "<p>not great long term, but perfectly fine for this now</p>",
        "id": 185397739,
        "sender_full_name": "Sean",
        "timestamp": 1578763083
    },
    {
        "content": "<p>Unless the Appleseed project has a static download available that would mean an all-up build of Appleseed's sources (and possibly dependencies)...</p>",
        "id": 185397746,
        "sender_full_name": "starseeker",
        "timestamp": 1578763095
    },
    {
        "content": "<p>Which might actually be easier on Windows, in some ways, if it does come to that</p>",
        "id": 185397750,
        "sender_full_name": "starseeker",
        "timestamp": 1578763120
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span> FYI, I think we should rename our libz and libpng libraries.  I believe both libraries have a prefix option we can specify when we build them.  If we do that, it should avoid this issue, fix the issue on mac, fix the issue we've had with things like freetype, etc.</p>",
        "id": 185397771,
        "sender_full_name": "Sean",
        "timestamp": 1578763200
    },
    {
        "content": "<p>Well the big folder of windows deps that Appleseed provides also has the static option, so it may be an option</p>",
        "id": 185397834,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578763221
    },
    {
        "content": "<p>I was noticing that, why I mention it.  I think static is necessary for some of appleseeds bigger commercial customers like Maya</p>",
        "id": 185397857,
        "sender_full_name": "Sean",
        "timestamp": 1578763309
    },
    {
        "content": "<p>Ah, that's good news.  <span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  Here's your chance to tangle with CMake after all then, if you're so inclined - you'll need to point the art build logic (either the FindApplseed.cmake search or hard-coding in the src/art/CMakeLists.txt file) to those versions and figure out how to get them linked in.</p>",
        "id": 185397905,
        "sender_full_name": "starseeker",
        "timestamp": 1578763354
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span>  That'll complicate switching between SYSTEM and BUNDLED versions... or where you thinking to have our own logic always use the prefixed versions and never rely on the system?</p>",
        "id": 185397966,
        "sender_full_name": "starseeker",
        "timestamp": 1578763435
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> I'm not actually sure how to build with MSVC using static 3rd party libs, so I'm afraid I can't be too much help for this part - Sean probably knows more than I do though...</p>",
        "id": 185398019,
        "sender_full_name": "starseeker",
        "timestamp": 1578763496
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span>  That'll complicate switching between SYSTEM and BUNDLED versions... or where you thinking to have our own logic always use the prefixed versions and never rely on the system?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span> from my understanding, the way their prefixing system works, we'd add a define during compilation (or not) depending on whether we're using ours (or system).  that toggles the magic in headers so the right symbols are declared/used, and then the resulting binary only works with one or the other, not both.  doesn't require code to change.</p>",
        "id": 185398155,
        "sender_full_name": "Sean",
        "timestamp": 1578763744
    },
    {
        "content": "<p>Hey, I was working on task 7 (for now, I'm just trying to get some other stuff besides the appleseed libraries themselves figured out), and I realized that for rt, there is a main.c which calls usage(), which then calls default_options() that sets most of the options. Would this also be recommended for art?</p>",
        "id": 185442355,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578850166
    },
    {
        "content": "<p>Also, there is do.c, which is where the <code>rt_cmdtab[]</code> is declared for opt.c. I haven't looked through all of it yet, but would it be safe to just include it in the executable, or are there functions that are specific to rt/rtuif?</p>",
        "id": 185443114,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578851483
    },
    {
        "content": "<p>For art, we want to do (for the moment) what remrt did and just declare a null command table.  (If I remember correctly I tossed such a table into art.cpp during build testing.)</p>\n<p>The table as implemented by rt ropes in a lot of other rt functions, and it's not clear how many of those are going to translate.  I think we'll eventually want some of them, but a lot will depend on the details of what's needed to get appleseed running.</p>",
        "id": 185448070,
        "sender_full_name": "starseeker",
        "timestamp": 1578859424
    },
    {
        "content": "<p>I believe calling usage() and having the default_options() set is the correct initial approach.</p>",
        "id": 185448120,
        "sender_full_name": "starseeker",
        "timestamp": 1578859498
    },
    {
        "content": "<p>the \"rt_do_cmd\" function lives down in librt, and we should probably either move a lot of the \"standard\" commands down there as well or split that whole command API off into it's own module in some shape or form.  Sean may have more specific ideas about what to do refactoring wise...</p>",
        "id": 185448316,
        "sender_full_name": "starseeker",
        "timestamp": 1578859875
    },
    {
        "content": "<p>Ah ok, thanks for the clarification! I found the null command table, but I was asking because I was still getting an error upon compilation (something like extern command_table rt_cmdtab[] unresolved). Could it still be happening because they're in different directories?</p>",
        "id": 185448499,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578860211
    },
    {
        "content": "<p>Um.  You're building the art.cpp file?  or a different test program?</p>",
        "id": 185448513,
        "sender_full_name": "starseeker",
        "timestamp": 1578860267
    },
    {
        "content": "<p>Oh... you might need to try encapsulating the rt_cmdtab struct definition in \"extern \"C\" {\" since art is a C++ file.</p>",
        "id": 185448577,
        "sender_full_name": "starseeker",
        "timestamp": 1578860358
    },
    {
        "content": "<p>That sort of stuff regularly drives me nuts with MSVC...</p>",
        "id": 185448587,
        "sender_full_name": "starseeker",
        "timestamp": 1578860401
    },
    {
        "content": "<p>GCC/clang seem to be somewhat more forgiving, on average - usually it's forgetting to export/import something correctly, but MSVC will somtimes complain about different aspects of the C++ code too.</p>",
        "id": 185448656,
        "sender_full_name": "starseeker",
        "timestamp": 1578860479
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>   If you want to try an experiment, you might rename main.c to main.cpp in the main rt application and see what blows up...</p>",
        "id": 185448709,
        "sender_full_name": "starseeker",
        "timestamp": 1578860540
    },
    {
        "content": "<p>We mix C and C++ code in a number of places (brep.h is especially bad in that regard, IIRC) and there are various gotchas that need to be observed when doing so.  I usually learn about them the way bugs learn about windshields.</p>",
        "id": 185448781,
        "sender_full_name": "starseeker",
        "timestamp": 1578860675
    },
    {
        "content": "<p>Haha sure I'll try that - although wouldn't it be easier to do the \"extern 'C\" {\" stuff in art.cpp?</p>",
        "id": 185448840,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578860767
    },
    {
        "content": "<p>Yeah, that's what I meant - the rt_cmdtab definition in art.cpp may need to be wrapped</p>",
        "id": 185449028,
        "sender_full_name": "starseeker",
        "timestamp": 1578861103
    },
    {
        "content": "<p>Oh sorry, I think I misunderstood, I thought you were suggesting main.c to main.cpp as a fix to the previous problem rather than an experiment. I might try it anyways just to see how it goes though :)</p>",
        "id": 185449091,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578861194
    },
    {
        "content": "<p>Ah.  No, my apologies.  I was suggesting the main.cpp thing as a way to do an independent experiment of how the rt logic will behave when C++ is tossed into the mix.</p>",
        "id": 185449143,
        "sender_full_name": "starseeker",
        "timestamp": 1578861252
    },
    {
        "content": "<p>Since rt itself already builds and works, just changing the one file from C to C++ is one way to find out what the issues involved in such a switch are.</p>",
        "id": 185449154,
        "sender_full_name": "starseeker",
        "timestamp": 1578861297
    },
    {
        "content": "<p>Ah ok that makes sense. Thank you for the insight! I haven't really worked with mixing C and C++, so I didn't even know what extern \"C\" meant before.</p>",
        "id": 185449302,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578861500
    },
    {
        "content": "<p><a href=\"https://stackoverflow.com/questions/1041866/what-is-the-effect-of-extern-c-in-c\" target=\"_blank\" title=\"https://stackoverflow.com/questions/1041866/what-is-the-effect-of-extern-c-in-c\">https://stackoverflow.com/questions/1041866/what-is-the-effect-of-extern-c-in-c</a></p>",
        "id": 185449398,
        "sender_full_name": "starseeker",
        "timestamp": 1578861626
    },
    {
        "content": "<p>So back to the part about do.c and such, would you recommend creating some other files (mimicking do.c, having a main.c to initialize things, etc)?</p>",
        "id": 185449721,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578862283
    },
    {
        "content": "<p>Not unless you have to - I'd just try to get usage to print the help, to start with.</p>",
        "id": 185449901,
        "sender_full_name": "starseeker",
        "timestamp": 1578862566
    },
    {
        "content": "<p>What's the Task 7 scope?  Are you supposed to demonstrate that the options work?</p>",
        "id": 185449913,
        "sender_full_name": "starseeker",
        "timestamp": 1578862619
    },
    {
        "content": "<p>I think the main point of the task is just to introduce option parsing (so yeah, probably demonstrating that the options work), and also introducing some initial documentation.</p>",
        "id": 185449986,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578862796
    },
    {
        "content": "<p>Actually, to demonstrate that options parsing works all you would need to do is print out the values assigned to the various options.</p>",
        "id": 185450043,
        "sender_full_name": "starseeker",
        "timestamp": 1578862861
    },
    {
        "content": "<p>Check with Sean, but usually GCI task scoping isn't too extreme - I'd say try to get the option parser reading in options, and then just print to stdout what option values are should do for a start.</p>",
        "id": 185450091,
        "sender_full_name": "starseeker",
        "timestamp": 1578862931
    },
    {
        "content": "<p>Getting them to work-work requires a working renderer, after all...</p>",
        "id": 185450097,
        "sender_full_name": "starseeker",
        "timestamp": 1578862961
    },
    {
        "content": "<p>Yeah that makes sense - to demonstrate it, I was hoping to get art -h working so that it could print the other defaults along with it. Is that along the lines of what you meant?</p>",
        "id": 185450147,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578863051
    },
    {
        "content": "<p>Yep</p>",
        "id": 185450712,
        "sender_full_name": "starseeker",
        "timestamp": 1578864143
    },
    {
        "content": "<p>Alright, I got it to work by calling get_args() and usage() through art. Thanks so much for your help!</p>",
        "id": 185454419,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578870733
    },
    {
        "content": "<p>The next part will be tricky though, since that's when I actually need to worry about the appleseed libraries and such.</p>",
        "id": 185454422,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578870758
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> for task #8, could I try to compile BRLCAD using appleseed's versions of libpng and zlib (that would solve the conflicting dependencies, right)? Unless there's another method you'd like for me to try first?</p>",
        "id": 185569306,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578984290
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> for task #8, could I try to compile BRLCAD using appleseed's versions of libpng and zlib (that would solve the conflicting dependencies, right)? Unless there's another method you'd like for me to try first?</p>\n</blockquote>\n<p>any means you can get it to work is fine for now <span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  :)</p>",
        "id": 185571460,
        "sender_full_name": "Sean",
        "timestamp": 1578987672
    },
    {
        "content": "<p>Oh also <span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span>,  for some reason this code didn't find Boost</p>\n<div class=\"codehilite\"><pre><span></span>get_filename_component(APPLESEED_LIB_DIR &quot;${APPLESEED_LIBRARY}&quot; DIRECTORY)\nfile(GLOB APPLESEED_BOOST_SYSTEM_LIB &quot;${APPLESEED_LIB_DIR}/libboost_system-*&quot;)\nfile(GLOB APPLESEED_OPENIMAGEIO_LIB &quot;${APPLESEED_LIB_DIR}/libOpenImageIO.*&quot;)\n</pre></div>\n\n\n<p>and I checked out the install appleseed/lib directory but the only libs there were appleseed.lib and appleseed.shared.lib - I guess that means our installs on Windows/Linux were slightly different? I was thinking about using find_package(Boost) and find_package(OpenImageIO) instead but I'm not exactly sure how the FindBoost.cmake and FindOpenImageIO.cmake work exactly.</p>",
        "id": 185571560,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578987787
    },
    {
        "content": "<p>Hopefully once I get Boost and OpenImageIO linked in, then compiling BRLCAD using appleseed's versions of libpng and zlib will work :)</p>",
        "id": 185571727,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578988038
    },
    {
        "content": "<p>So yeah, just using find_package() on its own isn't working (even though I've located FindBoost.cmake and FindOpenImageIO.cmake in two different directories), so I'm wondering how I'd be able to locate the two. I do think that the original logic is better though, so I'm gonna try to figure what the issue there was.</p>",
        "id": 185572425,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1578988875
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>   You're into parts where I don' t know the answers now ;-).  On Linux I needed the boost and openimageio libs explicitly listed, but it may very well be that Windows won't even need that.</p>",
        "id": 185591712,
        "sender_full_name": "starseeker",
        "timestamp": 1579005711
    },
    {
        "content": "<p>The boost and imageio thing was basically a quick and dirty hack to get it building - a \"correct\" solution is going to involve properly src/other managing both of those setups (Boost in particular is going to be fun... we tried that once years ago.) </p>\n<p>I'd try just not listing them at all and see if pointing to just Appleseed works on Windows.</p>",
        "id": 185591892,
        "sender_full_name": "starseeker",
        "timestamp": 1579005847
    },
    {
        "content": "<p>If not, the next step is to just manually force the necessary variables to specific paths.</p>",
        "id": 185591941,
        "sender_full_name": "starseeker",
        "timestamp": 1579005894
    },
    {
        "content": "<p>(I.e. short circuit the search logic)</p>",
        "id": 185591963,
        "sender_full_name": "starseeker",
        "timestamp": 1579005919
    },
    {
        "content": "<p>Since I've not built against 3rd party Windows libs much, I don't really know how find_package works with .dll vs .lib files and keeping track of all that...</p>",
        "id": 185592183,
        "sender_full_name": "starseeker",
        "timestamp": 1579006084
    },
    {
        "content": "<p>I'm sure it's workable (done all the time) but I just don't know the specifics.</p>",
        "id": 185592220,
        "sender_full_name": "starseeker",
        "timestamp": 1579006131
    },
    {
        "content": "<p>The other thing I can suggest if you're having more trouble is to make a small stand-alone CMake project and just experiment with that (to avoid needing to re-run BRL-CAD's who configure cycle each time you make a change.</p>",
        "id": 185592270,
        "sender_full_name": "starseeker",
        "timestamp": 1579006182
    },
    {
        "content": "<p>Ah ok, thanks for the advice! I've been trying to configure my own smaller CMake projects to see how linking goes. I think it is necessary to list them because I was getting a Boost linkage error during compilation, so I guess I'll try forcing the variables for now.</p>",
        "id": 185612214,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579019275
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> you're also perfectly welcome to edit the generated MSVC files directly to add/list the necessary libraries if you're familiar with how to do it.  That may be your fastest path forward if you hit a snag with cmake detection.  Totally hacked is quite alright.</p>",
        "id": 185612436,
        "sender_full_name": "Sean",
        "timestamp": 1579019383
    },
    {
        "content": "<p>Ah ok, thank you for the advice! I wasn't sure if I could do that because task 8 seems to want it done through CMake. That said, I got find_package() to work for Boost after setting -DBoost_ROOT through my smaller tests, so I'll try to see if it works on CMake as well.</p>",
        "id": 185617780,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579022455
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> at this level, all tasks are subject to negotiation and discussion ;)  task 8 was primarily completed by starseeker, so the objective is more learning/exploration for you to try and get it working.  the more you do, the easier it will be for you and us down the road, but the priority is very much on tasks 9+....</p>",
        "id": 185619054,
        "sender_full_name": "Sean",
        "timestamp": 1579023201
    },
    {
        "content": "<p>Hm yeah that does make sense, I guess I shouldn't get too distracted with the configuration details for now.</p>",
        "id": 185650809,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579042767
    },
    {
        "content": "<p>YIkes, I'm running into quite a difficult dilemma... so basically, when I try to link \"common.h\" with boost and appleseed, I'm getting this compilation issue <a href=\"/user_uploads/1549/m5DQgETtgMEzM0SBTnw6R1bf/Output-Build.txt\" target=\"_blank\" title=\"Output-Build.txt\">Output-Build.txt</a> which is being caused by these lines:</p>\n<div class=\"codehilite\"><pre><span></span>APPLESEED_DLLSYMBOL void sleep(const std::uint32_t ms);\nAPPLESEED_DLLSYMBOL void sleep(const std::uint32_t ms, IAbortSwitch&amp; abort_switch);\n</pre></div>\n\n\n<p>where the macro APPLESEED_DLLSYMBOL is defined as <code>__declspec(dllimport)</code>. The issue is that config_win.h also has this macro:</p>\n<div class=\"codehilite\"><pre><span></span>#define sleep(_SECONDS) (Sleep(1000 * (_SECONDS)))\n</pre></div>\n\n\n<p>so there's an error because the compiler thinks that I'm trying to redefine a function that's expecting a definition from a dll.</p>",
        "id": 185659404,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579051498
    },
    {
        "content": "<p>I temporarily renamed the config_win.h macro to sleep2, and then everything worked fine. However, that's obviously not going to fly as an actual solution, but I don't think I can just easily rename the appleseed function either. To be honest, I have no idea how to deal with this. Could I get some help in regards to how I could make a compromise between the two?</p>",
        "id": 185659590,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579051692
    },
    {
        "content": "<p>But aside from that (after I temporarily renamed the macro to sleep2), I think I finally got art.exe running the helloworld example on Windows :) <a href=\"/user_uploads/1549/q_eHRcJUkvOFc6tC7KzC3R36/test.png\" target=\"_blank\" title=\"test.png\">test.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/q_eHRcJUkvOFc6tC7KzC3R36/test.png\" target=\"_blank\" title=\"test.png\"><img src=\"/user_uploads/1549/q_eHRcJUkvOFc6tC7KzC3R36/test.png\"></a></div>",
        "id": 185659893,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579052111
    },
    {
        "content": "<p>Woo hoo!</p>",
        "id": 185666406,
        "sender_full_name": "starseeker",
        "timestamp": 1579061204
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span>  Is there some def/undef trickery that we should try for the sleep bit?</p>",
        "id": 185666466,
        "sender_full_name": "starseeker",
        "timestamp": 1579061283
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  Don't let the sleep bit worry you too much if you have a workaround - I'd definitely try to get your BRL-CAD rendering to generate from that setup now :-)</p>",
        "id": 185666852,
        "sender_full_name": "starseeker",
        "timestamp": 1579061903
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> if you make sure common.h is first, just add \"#undef sleep\" before your #include's for appleseed.</p>",
        "id": 185671175,
        "sender_full_name": "Sean",
        "timestamp": 1579068177
    },
    {
        "content": "<p>that is awesome progress!</p>",
        "id": 185671183,
        "sender_full_name": "Sean",
        "timestamp": 1579068194
    },
    {
        "content": "<p>Oh right, I didn't even think about that. Thank you!</p>",
        "id": 185671193,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579068219
    },
    {
        "content": "<p>what geometry is that?</p>",
        "id": 185671200,
        "sender_full_name": "Sean",
        "timestamp": 1579068240
    },
    {
        "content": "<p>doesn't look like brl-cad geometry if I had to guess -- is it manually created in art ?</p>",
        "id": 185671245,
        "sender_full_name": "Sean",
        "timestamp": 1579068255
    },
    {
        "content": "<p>So since art.cpp is just the helloworld example at the moment, it's using the scene.obj provided from the appleseed source.</p>",
        "id": 185671258,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579068288
    },
    {
        "content": "<p>The #undef sleep worked :)</p>",
        "id": 185671386,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579068394
    },
    {
        "content": "<p>great</p>",
        "id": 185671417,
        "sender_full_name": "Sean",
        "timestamp": 1579068491
    },
    {
        "content": "<p>put a comment so it's documented as to why that's there</p>",
        "id": 185671434,
        "sender_full_name": "Sean",
        "timestamp": 1579068506
    },
    {
        "content": "<p>This might be thinking a little too far ahead (and also just pure speculation), but for appleseed option parsing, I was wondering if it could just work if, for example, after processing options (like -w), I just referenced those variables from opt.c. So like if -w was set, I would just reuse <code>width</code> when creating the appleseed project and calling <code>.insert(\"resolution\", \"640 480\")</code>. Would there be an issue with that?</p>",
        "id": 185845707,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579200241
    },
    {
        "content": "<p>Also, in the future, if there are any default command line options that only apply to rt but not art, would it help to define some <code>APPLESEED</code> macro and then checking whether it's defined or not when the defaults are set in usage.cpp?</p>",
        "id": 185845852,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579200317
    },
    {
        "content": "<p>Oh also <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> , I was taking a look at the appleseed command-line version and I saw that task 10 was about \"loading brlcad geometry\", but I was wondering if it would be possible to just set up rt (configuring ap and rtip correctly), and then raytrace using rt to detect brlcad geometry? My assumption is that with rt set up correctly, then brlcad raytracing will get all of the raytracing information necessary (intersect, etc), and then just pass it down to appleseed for the shading calculations.</p>",
        "id": 185873856,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579217862
    },
    {
        "content": "<p>Kind of like originally with the plugin, where all of the raytracing was getting done through rt. The only difference being that in this case, art would also be the one building the appleseed scene.</p>",
        "id": 185873933,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579217935
    },
    {
        "content": "<p>Ok, so I tried to follow through on what I was trying to say, and I think I got it working up to the point where the project is generating successfully. Rendering still isn't working though, and I think it has to do with the same multi-threading issue as before.</p>",
        "id": 185887163,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579235414
    },
    {
        "content": "<p>So after a lot of manual set up (configuring library directories, etc), one run of art.exe has finally produced an image: <a href=\"/user_uploads/1549/yQ5qlLX5mKjbPP6PBwQPRAtH/test.png\" target=\"_blank\" title=\"test.png\">test.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/yQ5qlLX5mKjbPP6PBwQPRAtH/test.png\" target=\"_blank\" title=\"test.png\"><img src=\"/user_uploads/1549/yQ5qlLX5mKjbPP6PBwQPRAtH/test.png\"></a></div>",
        "id": 185890946,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579241907
    },
    {
        "content": "<p>Using havoc.g as the input</p>",
        "id": 185890950,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579241918
    },
    {
        "content": "<p>I think if I can set up the camera settings and such to respect rt, then it'll start looking even more \"correct\"</p>",
        "id": 185890975,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579241966
    },
    {
        "content": "<p>Woo hoo!</p>",
        "id": 185911396,
        "sender_full_name": "starseeker",
        "timestamp": 1579264389
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> that's like the best teaser you could have accidentally stumbled across</p>",
        "id": 185918135,
        "sender_full_name": "Sean",
        "timestamp": 1579269889
    },
    {
        "content": "<blockquote>\n<p>This might be thinking a little too far ahead (and also just pure speculation), but for appleseed option parsing, I was wondering if it could just work if, for example, after processing options (like -w), I just referenced those variables from opt.c. So like if -w was set, I would just reuse <code>width</code> when creating the appleseed project and calling <code>.insert(\"resolution\", \"640 480\")</code>. Would there be an issue with that?</p>\n</blockquote>\n<p>Honestly, that's probably what I'd think to do too.  Don't know if it's an issue.  Really most of the option parsing can just be thought of as simply setting some global variable so you can get at the value later, even for things like -a -e or -A or -C etc</p>",
        "id": 185918334,
        "sender_full_name": "Sean",
        "timestamp": 1579270036
    },
    {
        "content": "<p>The goal is going to be compatibility with what the user is seeing in MGED, so it's likely going to end up being <em>very</em> similar to what RT does, which is why the other task just suggested calling into rt's opt.c so it's global vars are set and accessible.</p>",
        "id": 185918465,
        "sender_full_name": "Sean",
        "timestamp": 1579270121
    },
    {
        "content": "<blockquote>\n<p>Also, in the future, if there are any default command line options that only apply to rt but not art, would it help to define some <code>APPLESEED</code> macro and then checking whether it's defined or not when the defaults are set in usage.cpp?</p>\n</blockquote>\n<p>I don't think it's necessary.  Unsupported options can be disabled (see src/rt/viewcheck.c:application_init() for an example).  If it diverges really far (it shouldn't, that's part of the point), then we can refactor/change the default options, move some to a general set that all use, others that are rt-specific to a different set, etc.  Don't want to compile-time conditionalize if we can because that's harder to maintain and debug.</p>",
        "id": 185919778,
        "sender_full_name": "Sean",
        "timestamp": 1579271123
    },
    {
        "content": "<blockquote>\n<p>Oh also <span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> , I was taking a look at the appleseed command-line version and I saw that task 10 was about \"loading brlcad geometry\", but I was wondering if it would be possible to just set up rt (configuring ap and rtip correctly), and then raytrace using rt to detect brlcad geometry? My assumption is that with rt set up correctly, then brlcad raytracing will get all of the raytracing information necessary (intersect, etc), and then just pass it down to appleseed for the shading calculations.</p>\n</blockquote>\n<p>shading calculations often involves shooting more rays (down in the shading calculations), so the plugin still comes into play.  But sure, it's entirely possible to either let appleseed set up the primary rays, or you set up the primary rays and let appleseed handle the secondary.  both should be doable.</p>",
        "id": 185919968,
        "sender_full_name": "Sean",
        "timestamp": 1579271250
    },
    {
        "content": "<blockquote>\n<p>I think if I can set up the camera settings and such to respect rt, then it'll start looking even more \"correct\"</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> do you know if appleseed has support for orthographic views or just perspective views?</p>",
        "id": 185920107,
        "sender_full_name": "Sean",
        "timestamp": 1579271324
    },
    {
        "content": "<p>if it doesn't, that'd be a good reason for making art shoot the main rays and only letting appleseed handle secondary rays.</p>",
        "id": 185920165,
        "sender_full_name": "Sean",
        "timestamp": 1579271363
    },
    {
        "content": "<p>would just need to check if there's any other magic going on like image post-processing for depth of field or other effects that can happen <em>after</em> primary rays are fired.</p>",
        "id": 185920251,
        "sender_full_name": "Sean",
        "timestamp": 1579271415
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> do you know if appleseed has support for orthographic views or just perspective views?</p>\n</blockquote>\n<p>I'm not sure yet, but I would assume that it does - I'll try to look around or ask franz for more info about that.  Could I ask what you mean by letting art handle the primary rays with appleseed handling the secondary rays?</p>",
        "id": 185923258,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579273638
    },
    {
        "content": "<p>I know that the plugin has 2 different intersect() functions, one for a detailed result with another for just a hit/miss, but I'm not sure how I'd be able to separate that so art could handle it.</p>",
        "id": 185923355,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579273686
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> in ray tracing, the very first rays that get shot from the camera are called \"primary rays\".  these rays are the primary basis for the image that is generated.</p>",
        "id": 185930804,
        "sender_full_name": "Sean",
        "timestamp": 1579277940
    },
    {
        "content": "<p>those primary rays hit objects in the scene and cause other rays to be fired, for example to see how much light , or the ray is reflected, refracted, scattered, etc.  Those are called \"secondary rays\".</p>",
        "id": 185931055,
        "sender_full_name": "Sean",
        "timestamp": 1579278092
    },
    {
        "content": "<p>The handling of both primary and secondary rays are typically quite different in most rendering systems, even though both involve the same intersection testing (e.g., rt_shootray()).</p>",
        "id": 185931211,
        "sender_full_name": "Sean",
        "timestamp": 1579278181
    },
    {
        "content": "<p>considering appleseed has this: <a href=\"https://github.com/appleseedhq/appleseed/issues/2218\" target=\"_blank\" title=\"https://github.com/appleseedhq/appleseed/issues/2218\">https://github.com/appleseedhq/appleseed/issues/2218</a>  it's a pretty safe bet they have an ortho camera :)</p>",
        "id": 185931278,
        "sender_full_name": "Sean",
        "timestamp": 1579278228
    },
    {
        "content": "<p>speaking of which, the cornellbox example is a nice demo of how to programmatically set up the scene with colors and materials: <a href=\"https://github.com/appleseedhq/appleseed/blob/8a9fa1c264f8a993a74c256700847cc5fc90392b/src/appleseed/renderer/modeling/project-builtin/cornellboxproject.cpp\" target=\"_blank\" title=\"https://github.com/appleseedhq/appleseed/blob/8a9fa1c264f8a993a74c256700847cc5fc90392b/src/appleseed/renderer/modeling/project-builtin/cornellboxproject.cpp\">https://github.com/appleseedhq/appleseed/blob/8a9fa1c264f8a993a74c256700847cc5fc90392b/src/appleseed/renderer/modeling/project-builtin/cornellboxproject.cpp</a></p>",
        "id": 185931576,
        "sender_full_name": "Sean",
        "timestamp": 1579278393
    },
    {
        "content": "<p>Ah, I think that makes sense - so I guess there are multiple secondary rays shot for each primary ray hit?</p>",
        "id": 185968018,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579304074
    },
    {
        "content": "<blockquote>\n<p>considering appleseed has this: <a href=\"https://github.com/appleseedhq/appleseed/issues/2218\" target=\"_blank\" title=\"https://github.com/appleseedhq/appleseed/issues/2218\">https://github.com/appleseedhq/appleseed/issues/2218</a>  it's a pretty safe bet they have an ortho camera :)</p>\n</blockquote>\n<p>Yep, franz responded and he told me that it's just a matter of configuring a pinhole vs orthographic camera. I hadn't found the cornell box example yet though, so thank you for that :)</p>",
        "id": 185968222,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579304268
    },
    {
        "content": "<p>Oh by the way, what did you mean about double prepping the geometry in art and then in the plugin? I thought that it was only being prepped in the plugin (the only argument passed to it is the name of the database), so am I neglecting to account for something?</p>",
        "id": 185970778,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579306977
    },
    {
        "content": "<p>Hm, does opt.c not actually store the .g file name? I'm trying to use it in art.cpp to pass as a parameter, but it looks like opt.c just uses the bu_optarg to store it temporarily.</p>",
        "id": 185983371,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579330460
    },
    {
        "content": "<p>Oh I think I kinda know what you meant by prepping in both art and the plugin... because the rt camera and stuff is set up during rt prep, but I will need those configurations for art, and the issue is rt prep is currently happening in the plugin?</p>",
        "id": 185983738,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579331238
    },
    {
        "content": "<p>Hm, ok I think I got the title file working, but the objects themselves will probably be the larger challenge. I don't think I can just pass the array pointer because franz said passing pointers is quite unsafe... it's probably easier to just concatenate the object names together with spaces in between and then parse again in the plugin, but I'm wondering if there's any better way to get the arguments.</p>",
        "id": 186023166,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579404364
    },
    {
        "content": "<p>Yep, so passing the arguments works. Here's the rendered image when I call <code>art -o havoc.png havoc.g s.tail40 s.tail41 s.tail42</code>: <a href=\"/user_uploads/1549/LgQfmDCvw_MnqXR-oVr_zast/havoc.png\" target=\"_blank\" title=\"havoc.png\">havoc.png</a> It's not the best way for sure, but once I can get passing pointers and stuff figured out, I think a lot of things would get easier/smoother.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/LgQfmDCvw_MnqXR-oVr_zast/havoc.png\" target=\"_blank\" title=\"havoc.png\"><img src=\"/user_uploads/1549/LgQfmDCvw_MnqXR-oVr_zast/havoc.png\"></a></div>",
        "id": 186030577,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579420752
    },
    {
        "content": "<p>Or actually, I just realized - if I can pass <code>ap</code> and <code>rtip</code> directly into the BrlcadObjectFactory create() function, things might get a whole lot simpler. I'll have to ask franz more about it though.</p>",
        "id": 186030774,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579420982
    },
    {
        "content": "<p>Update to that: franz said that it should be possible, so I'll have to refactor a lot of my code for the next task. One thing I am curious about, though, is how I'll be able to access the camera settings. It would be great if it was just something I could access through rtip or something, but I'll have to look more into it.</p>",
        "id": 186045873,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579450759
    },
    {
        "content": "<p>Okay, so I was able to refactor so that now the plugin only takes in a pointer for the application and a pointer for the resources. It's still a little messy of course, but it's made some other things (namely the object array) a lot simpler. Next step is probably to configure the camera and such, but I'm having some trouble figuring out how I might be able to access stuff like the rt camera settings.</p>",
        "id": 186067719,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579484938
    },
    {
        "content": "<p>Passing the things as pointers has its benefits and drawbacks, though: since it no longer needs the BrlcadObjectFactory anymore, there should technically be some way to integrate the plugin into the executable without needing an external shared library. However, this also means that if the *.appleseed project was ever going to be created for debugging purposes, appleseed applications would not be able to directly render it.</p>",
        "id": 186067878,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579485212
    },
    {
        "content": "<p>I also noticed that I've been getting a lot of messages like this:</p>\n<div class=\"codehilite\"><pre><span></span>OVERLAP1: /s.tail41\nOVERLAP2: /s.tail42\nOVERLAPa: dist=(0, 915.813) isol=s.tail41 osol=s.tail41\nOVERLAPb: depth 915.81326mm at (4385.66, 236.886, 1083.62) x0 y0 lvl0\n(overlaps omitted)\n</pre></div>\n\n\n<p>but I'm not really sure how to interpret them exactly. Are they warnings/issues? They don't appear when I render the same objects with <code>rt</code>, which is why I'm asking.</p>",
        "id": 186068371,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579485935
    },
    {
        "content": "<p>Correction: <code>rt</code> produced similar messages, I just looked over them by accident. I guess that's normal then?</p>",
        "id": 186068797,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579486528
    },
    {
        "content": "<p>Ok yeah, so now I think the biggest priorities are to get the appleseed camera set up so that it matches the rt camera. Still can't figure out how to access those rt camera settings though.</p>",
        "id": 186074465,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579497758
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span>, sorry to bother you, but for the \"more work needed\" part, were you referring to just the struct internal part, or did you want me to include that seperate function as well?</p>",
        "id": 186077873,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579503730
    },
    {
        "content": "<blockquote>\n<p>Update to that: franz said that it should be possible, so I'll have to refactor a lot of my code for the next task. One thing I am curious about, though, is how I'll be able to access the camera settings. It would be great if it was just something I could access through rtip or something, but I'll have to look more into it.</p>\n</blockquote>\n<p>The rtip is independent of any camera settings.  You can, however, stash any arbitrary user pointers in a variety of BRL-CAD structures including the application struct.</p>",
        "id": 186077973,
        "sender_full_name": "Sean",
        "timestamp": 1579503912
    },
    {
        "content": "<blockquote>\n<p>but I'm not really sure how to interpret them exactly. Are they warnings/issues? They don't appear when I render the same objects with <code>rt</code>, which is why I'm asking.</p>\n</blockquote>\n<p>They are warnings from within LIBRT that a solidity error was detected during ray tracing.  You can ignore them for now.  There's a way to turn them off, it's rt's -R option.</p>",
        "id": 186078104,
        "sender_full_name": "Sean",
        "timestamp": 1579504109
    },
    {
        "content": "<blockquote>\n<p>Ok yeah, so now I think the biggest priorities are to get the appleseed camera set up so that it matches the rt camera. Still can't figure out how to access those rt camera settings though.</p>\n</blockquote>\n<p>Rt's view settings are in a few variables.  The easiest to start with will likely be the -a -e options, following the processing they do and trying to mimic that as that's the base use case.</p>",
        "id": 186078126,
        "sender_full_name": "Sean",
        "timestamp": 1579504174
    },
    {
        "content": "<blockquote>\n<p>Hey <span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span>, sorry to bother you, but for the \"more work needed\" part, were you referring to just the struct internal part, or did you want me to include that seperate function as well?</p>\n</blockquote>\n<p>Not at all a bother, just catching up in order to minimize missing important things.  The vls one is wrong (happens to work they way you're using it now, but you got lucky ;)), but it's trivial to fix.  The separate function is probably the easiest and least amount of code change.  Adding another constructor should also work, but then you'll either want to make a function they both call or you'll have some duplication.</p>",
        "id": 186078257,
        "sender_full_name": "Sean",
        "timestamp": 1579504350
    },
    {
        "content": "<p>I think my main issue right now would be getting the default camera location. I'm pretty sure I'd need the appleseed and the default rt camera settings to match so that appleseed knows where to look, but it seems to vary based on the size of the objects and such so I'm not sure how rt handles it exactly.</p>",
        "id": 186078271,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579504402
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> so they only thing I want to make sure is that you get to claim your last task(s) in time before the deadline, particularly if you have any other tasks pending.</p>",
        "id": 186078279,
        "sender_full_name": "Sean",
        "timestamp": 1579504431
    },
    {
        "content": "<p>You're right, the default render views are based on the approximate size of geometry which  is calculated during your rt_prep_parallel() call.</p>",
        "id": 186078341,
        "sender_full_name": "Sean",
        "timestamp": 1579504516
    },
    {
        "content": "<p>so you're going to have to calculate the view similarly to how rt's doing it, and then translate to appleseed inputs.</p>",
        "id": 186078433,
        "sender_full_name": "Sean",
        "timestamp": 1579504631
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> so they only thing I want to make sure is that you get to claim your last task(s) in time before the deadline, particularly if you have any other tasks pending.</p>\n</blockquote>\n<p>Thank you, I really want to finish up to task 12 if that's possible :) For now, could I submit the task with the bu_vls fix, and then try to add the separate function for task 11?</p>",
        "id": 186078435,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579504640
    },
    {
        "content": "<p>you'll want to look at do_frame() in src/rt/do.c, particularly at/after the do_prep() call in there.</p>",
        "id": 186078446,
        "sender_full_name": "Sean",
        "timestamp": 1579504669
    },
    {
        "content": "<p>you'll see do_frame() calls grid_setup() ... that's the main workhorse and it's over in worker.c</p>",
        "id": 186078516,
        "sender_full_name": "Sean",
        "timestamp": 1579504792
    },
    {
        "content": "<p>you can probably call grid_setup() directly after prep, but it reads a number of global variables that you'll have to make sure have been initialized properly after option parsing (e.g., the globals that -a and -e set).</p>",
        "id": 186078580,
        "sender_full_name": "Sean",
        "timestamp": 1579504841
    },
    {
        "content": "<p>in fact, most of the functions even for option parsing, you should be able to call directly</p>",
        "id": 186078659,
        "sender_full_name": "Sean",
        "timestamp": 1579504955
    },
    {
        "content": "<p>I'm still not too sure about the separate function part though - I am passing the database path and object names as part of the ParamArray, but I'd probably have to deal with the whole argument handling thing all over again. I think the main issue is that I can't just pass an array as an input parameter, so something with a space in the name would be especially difficult to deal with.</p>",
        "id": 186078672,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579504987
    },
    {
        "content": "<p>passing -a and -e ends up calling do.c's do_ae() function which ends up using the prepped rtip to set eye_model, which grid_setup() ends up using in its calculations.</p>",
        "id": 186078678,
        "sender_full_name": "Sean",
        "timestamp": 1579505026
    },
    {
        "content": "<p>I'm not sure I follow the implication.  The ParamArray seems fine.  You pass it an array of names, which is ideal/fine.</p>",
        "id": 186078824,
        "sender_full_name": "Sean",
        "timestamp": 1579505230
    },
    {
        "content": "<p>you REALLY don't want to get into string parsing object names</p>",
        "id": 186078833,
        "sender_full_name": "Sean",
        "timestamp": 1579505259
    },
    {
        "content": "<p>The issue with ParamArray, I think, is that it's part of appleseeds input handling (it's not actually just an array), so there's the issue of handling an unknown number of objects</p>",
        "id": 186078894,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579505327
    },
    {
        "content": "<p>spaces was just an example.  could have quotes or backslashes or special characters... some of those characters have special meaning.  You'd have to encode and decode, which is really ugly (and seems completely unnecessary as you were successful).</p>",
        "id": 186078900,
        "sender_full_name": "Sean",
        "timestamp": 1579505336
    },
    {
        "content": "<p>still, what's the problem?</p>",
        "id": 186078918,
        "sender_full_name": "Sean",
        "timestamp": 1579505381
    },
    {
        "content": "<p>So for each parameter in ParamArray, there is a separate function to be called to get the required or optional parameter. When appleseed is writing the project file, it will convert the data type to a string, so for something like an array, which is basically the pointer to the first element, something other than the list of objects might get written to the project file.</p>",
        "id": 186078989,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579505468
    },
    {
        "content": "<p>The issue, I thought, was that you extended BrlcadObject::BrlcadObject() with two additional parameters, with an ap and resources</p>",
        "id": 186078993,
        "sender_full_name": "Sean",
        "timestamp": 1579505475
    },
    {
        "content": "<p>you insert \"objects\" into the param array though... which is a MeshObjectsArray</p>",
        "id": 186079069,
        "sender_full_name": "Sean",
        "timestamp": 1579505525
    },
    {
        "content": "<p>is \"object_names\" your creation or appleseed's?</p>",
        "id": 186079085,
        "sender_full_name": "Sean",
        "timestamp": 1579505565
    },
    {
        "content": "<p>\"object_names\" is my creation, if you look at brlcadplugin you'll see that there's a function named get_objects, which gets a string of the concatenated objects at the moment.</p>",
        "id": 186079111,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579505634
    },
    {
        "content": "<p>/me looks</p>",
        "id": 186079165,
        "sender_full_name": "Sean",
        "timestamp": 1579505682
    },
    {
        "content": "<blockquote>\n<p>you insert \"objects\" into the param array though... which is a MeshObjectsArray</p>\n</blockquote>\n<p>I think I'm not actually using the MeshObjectsArray anymore, it's just the singular BrlcadObject (which uses the prepped rtip) that's being inserted into the assembly. That's also the ParamArray I'm referring to, which has a database_path and object_names.</p>",
        "id": 186079233,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579505765
    },
    {
        "content": "<p>So basically, the only way for me to communicate with BrlcadObject is either through the constructor or through the ParamArray, which looks like this right now: </p>\n<div class=\"codehilite\"><pre><span></span>asf::auto_release_ptr&lt;renderer::Object&gt; brlcad_object(\n    new BrlcadObject{&quot;brlcad geometry&quot;,\n             asr::ParamArray()\n             .insert(&quot;database_path&quot;, file)\n             .insert(&quot;object_names&quot;, objects),\n             ap, resources});\n    assembly-&gt;objects().insert(brlcad_object);\n</pre></div>",
        "id": 186079257,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579505857
    },
    {
        "content": "<p>If I wanted to pass an array (to later be recorded in the project file), it woud need to be through the ParamArray() where I insert the two required parameters. However, the issue with passing an array, as I mentioned before, is that appleseed would convert it weirdly (I actually tried passing the struct application pointer as a ParamArray parameter at first, but I was getting an error because of the way they were converting the parameters to strings).</p>",
        "id": 186079357,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579505987
    },
    {
        "content": "<p>Okay, I see you're not using get_objects() now (and it's not an Object:: method in appleseed)</p>",
        "id": 186079402,
        "sender_full_name": "Sean",
        "timestamp": 1579506003
    },
    {
        "content": "<p>though you did pass them nicely, so that's a good thing should you need them</p>",
        "id": 186079414,
        "sender_full_name": "Sean",
        "timestamp": 1579506022
    },
    {
        "content": "<p>so I would suggest just keeping it simple and slowish for now -- let the plugin just have the list of objects from object_names and let it prep them as it was doing</p>",
        "id": 186079432,
        "sender_full_name": "Sean",
        "timestamp": 1579506062
    },
    {
        "content": "<p>art will also have prepped, but not a big deal yet</p>",
        "id": 186079455,
        "sender_full_name": "Sean",
        "timestamp": 1579506095
    },
    {
        "content": "<p>er, what am I saying</p>",
        "id": 186079518,
        "sender_full_name": "Sean",
        "timestamp": 1579506149
    },
    {
        "content": "<p>you have it working with your inherited Object class</p>",
        "id": 186079533,
        "sender_full_name": "Sean",
        "timestamp": 1579506176
    },
    {
        "content": "<p>So with that way, it'll probably still have the issue with the spaces because of the weird parsing which separates by space. To be honest, I think how it's being handled right now is fine, seeing as the .appleseed writing is more of a side debugging thing.</p>",
        "id": 186079546,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579506192
    },
    {
        "content": "<p>the problem is only when run from within appleseed which is to say that you still need an api-compatible Object constructor that it can call into</p>",
        "id": 186079552,
        "sender_full_name": "Sean",
        "timestamp": 1579506210
    },
    {
        "content": "<p>which is the same, just without ap and resources</p>",
        "id": 186079556,
        "sender_full_name": "Sean",
        "timestamp": 1579506218
    },
    {
        "content": "<p>and if you call into that constructor, you simply initialize an ap and resources based on object_names and database_path, and call the other constructor (or a common function they both call)</p>",
        "id": 186079636,
        "sender_full_name": "Sean",
        "timestamp": 1579506305
    },
    {
        "content": "<p>make sense?</p>",
        "id": 186079642,
        "sender_full_name": "Sean",
        "timestamp": 1579506315
    },
    {
        "content": "<p>Yeah, so it would basically be a combination of the two things that I tried?</p>",
        "id": 186079660,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579506360
    },
    {
        "content": "<p>sort of, yes</p>",
        "id": 186079706,
        "sender_full_name": "Sean",
        "timestamp": 1579506372
    },
    {
        "content": "<p>so you'll just need to add another constructor, one that conforms to  <br>\nObject(<br>\n        const char*         name,<br>\n        const ParamArray&amp;   params);</p>",
        "id": 186079725,
        "sender_full_name": "Sean",
        "timestamp": 1579506405
    },
    {
        "content": "<p>and to make that work, you'll obviously need TO CREATE an ap (shouldn't need resources, they are stashed in the ap) in that constructor (or in a function that constructor calls)</p>",
        "id": 186079746,
        "sender_full_name": "Sean",
        "timestamp": 1579506441
    },
    {
        "content": "<p>art won't use that constructor, which is fine</p>",
        "id": 186079824,
        "sender_full_name": "Sean",
        "timestamp": 1579506525
    },
    {
        "content": "<p>Ok yeah, that seems solid. I normally wouldn't ask of this, but since GCi is approaching its end and task 11 is basically still about rendering geometry, could I submit the bu_vls fix for task 10 and then do this constructor stuff for task 11?</p>",
        "id": 186079950,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579506657
    },
    {
        "content": "<p>that's fine</p>",
        "id": 186079961,
        "sender_full_name": "Sean",
        "timestamp": 1579506673
    },
    {
        "content": "<p>Alright thanks so much! I really want to try my hand at task 12 before the task claim deadline.</p>",
        "id": 186079972,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579506700
    },
    {
        "content": "<p>I'd also like to work on getting your patches integrated formally now that things are starting to slow down enough</p>",
        "id": 186080027,
        "sender_full_name": "Sean",
        "timestamp": 1579506733
    },
    {
        "content": "<p>hopefully you'll keep at this.  amazing work :)</p>",
        "id": 186080046,
        "sender_full_name": "Sean",
        "timestamp": 1579506756
    },
    {
        "content": "<p>can't wait to see colors :D</p>",
        "id": 186080057,
        "sender_full_name": "Sean",
        "timestamp": 1579506770
    },
    {
        "content": "<p>Colors would be awesome, although I think I'd have to figure out how to position the lights properly and stuff. Right now the geometry is just being lit by the skylight.</p>",
        "id": 186080138,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579506849
    },
    {
        "content": "<p>skylight is fine for now, colors are independent assignments.  materials.</p>",
        "id": 186080158,
        "sender_full_name": "Sean",
        "timestamp": 1579506897
    },
    {
        "content": "<p>you're just using a default material now, but easily extends</p>",
        "id": 186080182,
        "sender_full_name": "Sean",
        "timestamp": 1579506953
    },
    {
        "content": "<p>still camera is far more important first, that's why I said hope you keep this up.  ;)</p>",
        "id": 186080231,
        "sender_full_name": "Sean",
        "timestamp": 1579506977
    },
    {
        "content": "<p>Of course! There's no way I could leave it now that I'm in this deep.</p>",
        "id": 186080265,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579507030
    },
    {
        "content": "<p>there are literally thousands of people that will end up using this when/if it's ever completed.  that's why this has been a priority for a while now.</p>",
        "id": 186080273,
        "sender_full_name": "Sean",
        "timestamp": 1579507042
    },
    {
        "content": "<p>sparked by a conversation franz and I had at a conference a few years ago</p>",
        "id": 186080295,
        "sender_full_name": "Sean",
        "timestamp": 1579507074
    },
    {
        "content": "<p>I'm hoping that colors are pretty easy to extend - how does rt handle it? It might be a bit more of a challenge if the colors are determined at the time of ray intersection.</p>",
        "id": 186080353,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579507103
    },
    {
        "content": "<p>I would definitely love to see this to competion. Implementing it into the build system seems like a whole other monster though.</p>",
        "id": 186080402,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579507172
    },
    {
        "content": "<p>colors are a property of the geometry.  it's handled in a manner quite similar to appleseed.  rt looks at an object's color value and the set shader to figure out what to do next (i.e., how to shade that particular hit point).</p>",
        "id": 186080480,
        "sender_full_name": "Sean",
        "timestamp": 1579507227
    },
    {
        "content": "<p>Oh right, right now the project is using the solid color material, which is why I kinda confused myself.</p>",
        "id": 186080648,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579507349
    },
    {
        "content": "<p>the final \"color\" is calculated <em>after</em> ray intersection for both rt and appleseed.  rt uses a classic local illumination method where the color is based heavily on the color of the object, the surface normal, whether the light is visible from that point, and a few other things.  appleseed uses a classic global illumination model where the color is also based heavily no the color of the object, but it performs a rather different light simulation which is what makes it more realistic looking even with default settings.</p>",
        "id": 186080739,
        "sender_full_name": "Sean",
        "timestamp": 1579507455
    },
    {
        "content": "<p>okay, us east coasters should get some rest</p>",
        "id": 186080757,
        "sender_full_name": "Sean",
        "timestamp": 1579507488
    },
    {
        "content": "<p>enjoy the holiday tomorrow!</p>",
        "id": 186080771,
        "sender_full_name": "Sean",
        "timestamp": 1579507504
    },
    {
        "content": "<p>Yeah I was about to say that it was getting quite late. Thanks so much for your help!</p>",
        "id": 186080778,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579507512
    },
    {
        "content": "<p>You too!</p>",
        "id": 186080783,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579507519
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span>, I just saw your comment on the task. I could do that, but the real issue is how these object names get recorded in the appleseed project. The BrlcadObject (as I've defined it) requires 3 parameters: a database_path, an object_count, and object_names. The function build_project() passes down the parameters for the database_path and the string for object_names, while object_count found from objc. As I've mentioned before, I can't just pass an array to object_names because it either wouldn't work, or the pointer to the first element would be written to the project file.</p>",
        "id": 186157868,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579589641
    },
    {
        "content": "<p>er, when I last looked, object_names is not a string... it was an array.</p>",
        "id": 186157921,
        "sender_full_name": "Sean",
        "timestamp": 1579589692
    },
    {
        "content": "<p>(an array of strings)</p>",
        "id": 186157937,
        "sender_full_name": "Sean",
        "timestamp": 1579589706
    },
    {
        "content": "<p>maybe I'm misremembering</p>",
        "id": 186157939,
        "sender_full_name": "Sean",
        "timestamp": 1579589712
    },
    {
        "content": "<p>I'm first concatenating the object names together with bu_vls_from_args before passing it, and then I'm doing a pretty weird method to ultimately get a (const char**) objv:</p>\n<div class=\"codehilite\"><pre><span></span>char* objv = (char*)bu_calloc(objects.size() + 1, sizeof(char), &quot;obj array parameter&quot;);\n    strcpy(objv, objects.c_str());\n\n    configure_raytrace_application(dbname.c_str(), objc, objv);\n</pre></div>",
        "id": 186158007,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579589819
    },
    {
        "content": "<p>in configure_raytrace_application():</p>\n<div class=\"codehilite\"><pre><span></span>/* parse object arguments */\n    char** objv = (char**)bu_calloc(objc + 1, sizeof(char*), &quot;obj array&quot;);\n    char* token = strtok(objects, &quot; &quot;);\n    int idx = 0;\n    while (token != NULL)\n    {\n    objv[idx++] = token;\n    token = strtok(NULL, &quot; &quot;);\n    }\n\n    /* include objects from database */\n    if (rt_gettrees(rtip, objc, (const char**)objv, npsw) &lt; 0)\n    {\n    fprintf(output, &quot;Loading the geometry for [%s] FAILED\\n&quot;, objects);\n    fflush(output);\n    }\n</pre></div>",
        "id": 186158016,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579589842
    },
    {
        "content": "<p>I have thought about adding more parameters so that each parameter (maybe like \"object1_name\" or something) could hold a separate object name, but from what I know, this wouldn't really work out if there's an indefinite number of object arguments.</p>",
        "id": 186158096,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579589992
    },
    {
        "content": "<p>Ah, I see what threw me -- you used to have:<br>\nasr::MeshObjectArray objects</p>",
        "id": 186158224,
        "sender_full_name": "Sean",
        "timestamp": 1579590148
    },
    {
        "content": "<p>Here's the command itself, which gets the required parameter \"object_names\" from the ParamArray:</p>\n<div class=\"codehilite\"><pre><span></span>std::string\nBrlcadObject::get_objects() const\n{\n    return m_params.get_required&lt;std::string&gt;(&quot;object_names&quot;);\n}\n</pre></div>",
        "id": 186158226,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579590151
    },
    {
        "content": "<p>yeah, I see all that now.  I was remembering a previous version I suppose.</p>",
        "id": 186158244,
        "sender_full_name": "Sean",
        "timestamp": 1579590209
    },
    {
        "content": "<p>So what was the deal when objects used to be a MeshObjectArray?</p>",
        "id": 186158248,
        "sender_full_name": "Sean",
        "timestamp": 1579590228
    },
    {
        "content": "<p>I supposed this comes down to what the API is for ParamArray()</p>",
        "id": 186158290,
        "sender_full_name": "Sean",
        "timestamp": 1579590253
    },
    {
        "content": "<p>ParamArray looks to be templatized, so it theoretically could contain any object type</p>",
        "id": 186158316,
        "sender_full_name": "Sean",
        "timestamp": 1579590349
    },
    {
        "content": "<p>I think I was actually using BrlcadObject the whole time, I just had that part commented out so it might've looked like I was using the MeshObjectArray (sorry about that, I probably should've removed it)</p>",
        "id": 186158317,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579590354
    },
    {
        "content": "<p>ParamArray is able to contain any object type, but the problem arises when the .appleseed project file actually records the parameters - the parameter would need to be able to be converted to a string, and it would also need to be something readable after being written</p>",
        "id": 186158381,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579590478
    },
    {
        "content": "<p>sure, but that looks like it's something that'd be already handled internally.  I'm seeing linkages in ParamArray where it's simply a string Key to a Dictionary value.  Those interfaces, at least I would assume, would be where I'd expect serialization/deserialization to be handled consistently.</p>",
        "id": 186158528,
        "sender_full_name": "Sean",
        "timestamp": 1579590670
    },
    {
        "content": "<p>maybe just need to find an example.. looking</p>",
        "id": 186158534,
        "sender_full_name": "Sean",
        "timestamp": 1579590688
    },
    {
        "content": "<p>Hm, I haven't really thought to look at any of the builtin appleseed containers, which is probably one of the first things I should've done... I'll take a look at it - I've also asked franz about any possibilities in the meantime.</p>",
        "id": 186158937,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579591296
    },
    {
        "content": "<p>yeah, this is a good franz question. I'm actually not finding anything in the way of examples that doesn't serialize to a string.</p>",
        "id": 186159404,
        "sender_full_name": "Sean",
        "timestamp": 1579591853
    },
    {
        "content": "<p>so towards that end, I think your earlier suggestion should be workable.  just stash them individually with key \"object.#\"</p>",
        "id": 186159419,
        "sender_full_name": "Sean",
        "timestamp": 1579591902
    },
    {
        "content": "<p>and you'll know based on the object_length key how many object.# to extract</p>",
        "id": 186159470,
        "sender_full_name": "Sean",
        "timestamp": 1579591934
    },
    {
        "content": "<p>that way it's not limited to any predetermined quantity.</p>",
        "id": 186159483,
        "sender_full_name": "Sean",
        "timestamp": 1579591959
    },
    {
        "content": "<p>Right, the problem with that approach is that I think I'd need to define a \"get_object.#\" function for each key, so I'm still limited in the end.</p>",
        "id": 186159508,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579592023
    },
    {
        "content": "<p>Just like how these are being called:</p>\n<div class=\"codehilite\"><pre><span></span>std::string\nBrlcadObject::get_database() const\n{\n    return m_params.get_required&lt;std::string&gt;(&quot;database_path&quot;);\n}\n\n\nint\nBrlcadObject::get_object_count() const\n{\n    return m_params.get_required&lt;int&gt;(&quot;object_count&quot;);\n}\n\n\nstd::string\nBrlcadObject::get_objects() const\n{\n    return m_params.get_required&lt;std::string&gt;(&quot;object_names&quot;);\n}\n</pre></div>",
        "id": 186159559,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579592073
    },
    {
        "content": "<p>Or actually, maybe what could be done is define a general std::string BrlcadObject::get_object() function that takes an int parameter that's used... it could potentially work</p>",
        "id": 186159759,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579592306
    },
    {
        "content": "<p>how so?</p>",
        "id": 186159760,
        "sender_full_name": "Sean",
        "timestamp": 1579592309
    },
    {
        "content": "<p>you're the one that calls get_objects()</p>",
        "id": 186159764,
        "sender_full_name": "Sean",
        "timestamp": 1579592316
    },
    {
        "content": "<p>so make get_objects() do something differently</p>",
        "id": 186159767,
        "sender_full_name": "Sean",
        "timestamp": 1579592330
    },
    {
        "content": "<p>it can call up the count:  int count = m_params.get_required&lt;int&gt;(\"object_count\");<br>\nand then iterate over for (i=0; i &lt; count; i++) {std::string oname = \"object.\" + i; ... m_params.get_required&lt;std::string&gt;(oname); }</p>",
        "id": 186159878,
        "sender_full_name": "Sean",
        "timestamp": 1579592452
    },
    {
        "content": "<p>Oh, I think what I just mentioned is basically what you were talking about. Sorry, I didn't fully understand what you meant. I don't see why it wouldn't work, so I'll try testing it out when I get the chance.</p>",
        "id": 186159904,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579592490
    },
    {
        "content": "<p>and you'd return whatever data structure is the easiest to work with.  maybe a std::vector&lt;std::string&gt; or a plain std::string* array or ... etc</p>",
        "id": 186159977,
        "sender_full_name": "Sean",
        "timestamp": 1579592543
    },
    {
        "content": "<p>Yeah that seems like a good plan. Thanks so much your advice!</p>",
        "id": 186160201,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579592779
    },
    {
        "content": "<p>I think I'll go to sleep for now, it's getting pretty late. I'll definitely try doing what you mentioned as soon as I can though</p>",
        "id": 186160242,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579592856
    },
    {
        "content": "<p>So I was taking a look at worker.c and do.c, but it looks like a lot of it is tied to rtuif and main.c (for example, model2view and view2model are both declared in main.c), so I don't think I can just directly call things like do_ae() or grid_setup(). I think I could just copy those functions into art.cpp and then adjust any variables accordingly for now, if that's fine, unless there's a better way to handle things?</p>",
        "id": 186253832,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579665747
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> You can just call them -- you just need to provide your own model2view and view2model globals defined in some source file.</p>",
        "id": 186255126,
        "sender_full_name": "Sean",
        "timestamp": 1579667834
    },
    {
        "content": "<p>defining the globals and just calling the existing functions would be MUCH more preferable to duplicating the code (harder to maintain long-term).</p>",
        "id": 186255185,
        "sender_full_name": "Sean",
        "timestamp": 1579667888
    },
    {
        "content": "<p>Yeah, that makes sense. I was worried that some of the stuff would be RTUIF specific, but I guess as long as I don't call those things, it's okay?</p>",
        "id": 186277958,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579692850
    },
    {
        "content": "<p>So, a couple updates. Doing what you mentioned with the object_names works as expected - I did have an issue with using a \".\" (the parameter parsing was weird because '.' is used as a path separator), but franz helped me get it working. I'm still having some trouble linking do.c and worker.c though, because they seem to also require functions that are defined in main.c or view.c (like memory_storage() or view_2init()).</p>",
        "id": 186308738,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579713523
    },
    {
        "content": "<p>Also strange how I'm getting some unresolved external symbols between things like do.c and opt.c, since they're both in the project?</p>",
        "id": 186309148,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579713808
    },
    {
        "content": "<p>Sorry, actually I didn't notice it before but there is an issue with the object arguments still. Even though they're separated, the object name with a space in the middle still doesn't get loaded. Do I need to add escape sequences for quotation marks to it?</p>",
        "id": 186316815,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579718530
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> , I think I've got the azimuth and elevation math worked out (I'm using rt to see where the camera location would be, and then manually putting it in), so my last step would be to properly call grid_setup(), which I'm still struggling to set up. Could you help me with what I mentioned above?</p>",
        "id": 186357575,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579755393
    },
    {
        "content": "<p>For fun: rt perspective render with -a 35 -e 25 <a href=\"/user_uploads/1549/b4k3MNsTOeEYJSiRe0Sjtlti/havocrt1.png\" target=\"_blank\" title=\"havocrt1.png\">havocrt1.png</a> vs art perspective render with -a 35 -e 25</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/b4k3MNsTOeEYJSiRe0Sjtlti/havocrt1.png\" target=\"_blank\" title=\"havocrt1.png\"><img src=\"/user_uploads/1549/b4k3MNsTOeEYJSiRe0Sjtlti/havocrt1.png\"></a></div>",
        "id": 186358150,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579756325
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/TBJPsqUnrrOzktunyyDrfQL7/havoc.png\" target=\"_blank\" title=\"havoc.png\">havoc.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/TBJPsqUnrrOzktunyyDrfQL7/havoc.png\" target=\"_blank\" title=\"havoc.png\"><img src=\"/user_uploads/1549/TBJPsqUnrrOzktunyyDrfQL7/havoc.png\"></a></div>",
        "id": 186358177,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579756401
    },
    {
        "content": "<p>I wish there was a better way to render without using skylight though (which doesn't require setting up the lights properly), the geometry is pretty hard to see as of now.</p>",
        "id": 186358231,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579756467
    },
    {
        "content": "<p>Just let havoc render out with -a 35 -e 25: <a href=\"/user_uploads/1549/XNh0UVL-vsAa8Jem47HJgbYs/havoc.png\" target=\"_blank\" title=\"havoc.png\">havoc.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/XNh0UVL-vsAa8Jem47HJgbYs/havoc.png\" target=\"_blank\" title=\"havoc.png\"><img src=\"/user_uploads/1549/XNh0UVL-vsAa8Jem47HJgbYs/havoc.png\"></a></div>",
        "id": 186363159,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579762755
    },
    {
        "content": "<p>vs rt: <a href=\"/user_uploads/1549/Rx_g9P9dwy1tLiSVXkLlXy0N/havocrtwhole.png\" target=\"_blank\" title=\"havocrtwhole.png\">havocrtwhole.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/Rx_g9P9dwy1tLiSVXkLlXy0N/havocrtwhole.png\" target=\"_blank\" title=\"havocrtwhole.png\"><img src=\"/user_uploads/1549/Rx_g9P9dwy1tLiSVXkLlXy0N/havocrtwhole.png\"></a></div>",
        "id": 186363268,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579762902
    },
    {
        "content": "<p>I changed the aspect ratio a little bit for the art one, which is why it's a bit different.</p>",
        "id": 186363309,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579762923
    },
    {
        "content": "<p>this is probably a better comparison: <a href=\"/user_uploads/1549/YbDAC6JZYzf1GxpM4mTTtJZX/havoc.png\" target=\"_blank\" title=\"havoc.png\">havoc.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/YbDAC6JZYzf1GxpM4mTTtJZX/havoc.png\" target=\"_blank\" title=\"havoc.png\"><img src=\"/user_uploads/1549/YbDAC6JZYzf1GxpM4mTTtJZX/havoc.png\"></a></div>",
        "id": 186363408,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579763054
    },
    {
        "content": "<p>That's pretty awesome <span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>.  Do you know if that's specifically an ortho camera or is it perspective with a wide angle?</p>",
        "id": 186559082,
        "sender_full_name": "Sean",
        "timestamp": 1579931334
    },
    {
        "content": "<p>This is a perspective camera with a wide angle, but I think it would be relatively easy to change since appleseed offers a PinholeCamera (perspective) as well as an OrthographicCamera (ortho).</p>",
        "id": 186572459,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1579957061
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> I really want to showcase the progress you made on the appleseed front.  Do you think you can create a showcase image in appleseed of some brl-cad geometry?</p>",
        "id": 187501371,
        "sender_full_name": "Sean",
        "timestamp": 1580941228
    },
    {
        "content": "<p>could be an imported nurbs model from grabcad or perhaps a different sample model (we've shown havoc lots before, maybe m35).  maybe ask franz if there's an easy way to create a default skylight or set a material so that it'll look more interesting than the default dark gray object on light blue background.</p>",
        "id": 187501528,
        "sender_full_name": "Sean",
        "timestamp": 1580941358
    },
    {
        "content": "<p>(visually interesting, that is ... it's ALL interesting :)</p>",
        "id": 187501536,
        "sender_full_name": "Sean",
        "timestamp": 1580941371
    },
    {
        "content": "<p>Sure! To be clear, when you say skylight, you mean some sort of directional light (instead of the ambient sky radiance being used right now), right? I can also set the sky and object material colors for now, so is there anything else you had in mind?</p>",
        "id": 187512720,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1580952482
    },
    {
        "content": "<p>Or, looking at the appleseed built-in entities again, there's also a sun model. I can test the two to see which works better though.</p>",
        "id": 187513608,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1580953764
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> I simply meant changing the rendering parameters so it's not so dark, whether by changing to different ambient light parameters, switching to \"sun\", or doing something similar that generalizes to other models</p>",
        "id": 187726228,
        "sender_full_name": "Sean",
        "timestamp": 1581185687
    },
    {
        "content": "<p>colors would be huge improvement to see since things like m35 and some others would really be impressive</p>",
        "id": 187726238,
        "sender_full_name": "Sean",
        "timestamp": 1581185723
    },
    {
        "content": "<p>Ah okay, I'll play around with the lighting to see what looks best. Colors might be a little difficult for now though - I know it's possible, but I'll probably have to take a deeper look into both rt and Appleseed.</p>",
        "id": 187727479,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1581188085
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  Had any more chance to work on this?</p>",
        "id": 189244885,
        "sender_full_name": "starseeker",
        "timestamp": 1582830022
    },
    {
        "content": "<p>No, sorry :/ hopefully I'll have some more time on my hands next week though</p>",
        "id": 189253633,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1582835438
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  Just wanted to check - what's the state of the art program in the main SVN repo?  Can it render that havoc image as-is, or is some of the logic still in patches?</p>",
        "id": 190598654,
        "sender_full_name": "starseeker",
        "timestamp": 1584194662
    },
    {
        "content": "<p>Shoot, sorry - I just saw this message. I don't completely remember the state of the  progress when I last worked on it, but I don't think it's ready yet. For starters, the CMake still needs work because I was compiling the dll manually (brlcadplugin) in my own project.</p>",
        "id": 190840672,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1584448620
    },
    {
        "content": "<p>Actually, now that I think about it, I think I completely forgot to commit my work (sorry about that!). I'll try to get that done today if I can. At the very least, it will keep the main repo up to date with what I have although the logic still won't be complete.</p>",
        "id": 190840881,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1584448739
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/190840881\" title=\"#narrow/stream/104062-general/topic/Appleseed/near/190840881\">said</a>:</p>\n<blockquote>\n<p>Actually, now that I think about it, I think I completely forgot to commit my work (sorry about that!). I'll try to get that done today if I can. At the very least, it will keep the main repo up to date with what I have although the logic still won't be complete.</p>\n</blockquote>\n<p>That would be awesome <span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> ... definitely want to get as much integrated as possible before the code diverges too much.  You made awesome progress.  We definitely want to keep it moving forward.</p>",
        "id": 191073971,
        "sender_full_name": "Sean",
        "timestamp": 1584597494
    },
    {
        "content": "<p>Sorry for such a long delay - I believe all of my latest work has been committed.</p>",
        "id": 191612564,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1585058244
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"104224\">@Mitesh</span> , I saw that you were interested in working on this appleseed project. In the case that I don't get the chance to work on this for a while, here are just some general notes which may help:</p>\n<ul>\n<li>right now, I've been compiling the brlcadplugin.cpp/.h in a separate appleseed project. I think this makes it somewhat easier to setup because appleseed already has the template for a procedural object ready, but the CMake will need update this as well at some point.</li>\n<li>probably the first thing to resolve: I didn't get time to properly link up rt/do.c to art/art.cpp, so right now there's a temporary function (do_ae()) which is an exact copy of the one from rt/do.c.</li>\n</ul>",
        "id": 191613906,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1585058771
    },
    {
        "content": "<p>Please tag me if you have any questions, right now there's a lot of manual set up required because the CMake isn't complete.</p>",
        "id": 191614028,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1585058845
    },
    {
        "content": "<p>Also <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> ,  could you let me know if everything committed correctly? I was getting errors because the two new files didn't have their svn:mime-type and svn:eol-style set, so I searched up what was best to use for .cpp and .h files.</p>",
        "id": 191614457,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1585059023
    },
    {
        "content": "<p>Oops, one last thing I forgot. Just committed a second change - now everything should be up to date.</p>",
        "id": 191615059,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1585059287
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> How would I know it's correct or not?  :)</p>",
        "id": 191665415,
        "sender_full_name": "Sean",
        "timestamp": 1585080589
    },
    {
        "content": "<p>I don't know what you intended to commit, only what you committed</p>",
        "id": 191665486,
        "sender_full_name": "Sean",
        "timestamp": 1585080607
    },
    {
        "content": "<p>The commits themselves looked okay. The commit message could have said something more useful as it wasn't informative, but it looked okay at first glance.</p>",
        "id": 191665759,
        "sender_full_name": "Sean",
        "timestamp": 1585080769
    },
    {
        "content": "<p>Ah okay, sorry about the message - I wasn't sure about how lengthy I should've made it</p>",
        "id": 191671110,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1585083329
    },
    {
        "content": "<p>I was just wondering about the svm:mime-type and stuff, because I'm not exactly sure what it's about</p>",
        "id": 191671158,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1585083351
    },
    {
        "content": "<p>Woo-hoo!  <a href=\"/user_uploads/1549/_eML0T7PHsIGNJ3t0ae9RUde/art.png\" target=\"_blank\" title=\"art.png\">art.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/_eML0T7PHsIGNJ3t0ae9RUde/art.png\" target=\"_blank\" title=\"art.png\"><img src=\"/user_uploads/1549/_eML0T7PHsIGNJ3t0ae9RUde/art.png\"></a></div>",
        "id": 191690840,
        "sender_full_name": "starseeker",
        "timestamp": 1585097016
    },
    {
        "content": "<p>Quick and dirty - just hard-coded the output name - but got an image with:  ./bin/art share/db/moss.g all.g</p>",
        "id": 191690942,
        "sender_full_name": "starseeker",
        "timestamp": 1585097106
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> No idea what those changes will do on Windows - only tested on Linux so far.</p>",
        "id": 191691156,
        "sender_full_name": "starseeker",
        "timestamp": 1585097353
    },
    {
        "content": "<p>Woah, that's awesome <span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span></p>",
        "id": 191695034,
        "sender_full_name": "Sean",
        "timestamp": 1585102077
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/191613906\" title=\"#narrow/stream/104062-general/topic/Appleseed/near/191613906\">said</a>:</p>\n<blockquote>\n<p>Hi <span class=\"user-mention silent\" data-user-id=\"104224\">Mitesh</span> , I saw that you were interested in working on this appleseed project. In the case that I don't get the chance to work on this for a while, here are just some general notes which may help:</p>\n<ul>\n<li>right now, I've been compiling the brlcadplugin.cpp/.h in a separate appleseed project. I think this makes it somewhat easier to setup because appleseed already has the template for a procedural object ready, but the CMake will need update this as well at some point.</li>\n<li>probably the first thing to resolve: I didn't get time to properly link up rt/do.c to art/art.cpp, so right now there's a temporary function (do_ae()) which is an exact copy of the one from rt/do.c.</li>\n</ul>\n</blockquote>\n<p>Thank you so much <span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> . I will quickly revise the older things and then try to cover this up</p>",
        "id": 191699736,
        "sender_full_name": "Mitesh",
        "timestamp": 1585109089
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112516\">starseeker</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/191690840\" title=\"#narrow/stream/104062-general/topic/Appleseed/near/191690840\">said</a>:</p>\n<blockquote>\n<p>Woo-hoo!  <a href=\"/user_uploads/1549/_eML0T7PHsIGNJ3t0ae9RUde/art.png\" title=\"art.png\">art.png</a></p>\n</blockquote>\n<p>Awesome! It's great to see that it works for the most part for other people - I'll see if I can test the Windows side anytime soon.</p>",
        "id": 192182148,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1585498930
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> any chance you could check out the appleseed build on windows? :)</p>",
        "id": 197458852,
        "sender_full_name": "Sean",
        "timestamp": 1589395787
    },
    {
        "content": "<p>Sure thing! Sorry about that... I said I would but I never got the chance. I'll definitely SVN update and try to compile it today. My AP exams are finally over!</p>",
        "id": 197689274,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589548942
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  congrats!  that's got to be a relief</p>",
        "id": 197695334,
        "sender_full_name": "starseeker",
        "timestamp": 1589551359
    },
    {
        "content": "<p>Thanks! It really is, now that I can get back to doing what I'd like to be doing.</p>",
        "id": 197810971,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589657410
    },
    {
        "content": "<p>Sorry about the hold up, I've been trying to compile, but unfortunately it seems like the find_package(Appleseed) still isn't working for me, and I forgot what I set manually in order to get it to work...</p>",
        "id": 197834052,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589697731
    },
    {
        "content": "<p>I tried -DAppleseed_ROOT to the Appleseed directory, but it still didn't work out for some reason, so I'm still testing</p>",
        "id": 197834060,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589697772
    },
    {
        "content": "<p>Ah I finally got it sorted out, I just had to set Appleseed_LIBRARY and Appleseed_INCLUDE_DIR manually.</p>",
        "id": 197836844,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589702823
    },
    {
        "content": "<p>Hm okay, so I'm still running into a couple issues because of the header file. I think the main issue is the fact that <code>art.h</code> is being used in brlcadplugin.cpp as well as art.cpp, even though brlcadplugin.cpp is supposed to compile into a dll while art.cpp uses those dll functions.</p>",
        "id": 197897300,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589785962
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> OK, that's not too surprising - Linux let's me do a lot of things that don't work on Windows.  You may need to shift some logic around - I took the straightest path to get something running on Linux, which undoubtedly cut too many corners on Windows.</p>",
        "id": 197924399,
        "sender_full_name": "starseeker",
        "timestamp": 1589803976
    },
    {
        "content": "<p>Oh wait, it wasn't actually what I thought it was. I had to manually configure the project a little, but after that, just removing the <code>extern \"C\"</code> part of brlcad_hit() and brlcad_miss() declaration ended up allowing me to build it successfully.</p>",
        "id": 197942961,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589812380
    },
    {
        "content": "<p>Was that something that was necessary for the Linux build?</p>",
        "id": 197943180,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589812472
    },
    {
        "content": "<p>Probably not - I'll sometimes reflexively add that since it's needed a lot when C++ functions are exposed API.</p>",
        "id": 197948960,
        "sender_full_name": "starseeker",
        "timestamp": 1589814823
    },
    {
        "content": "<p>Go ahead and get it running on Windows - Linux is relatively easy to fix, so we can get it later.</p>",
        "id": 197949073,
        "sender_full_name": "starseeker",
        "timestamp": 1589814855
    },
    {
        "content": "<p>Alright, I've finally gotten it to render something again, but it looks like somethings up with the option parsing for some reason. I guess I'll need to look at that first.</p>",
        "id": 198116979,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589917539
    },
    {
        "content": "<p>i know this is a serious discussion but i have a question</p>",
        "id": 198117103,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1589917598
    },
    {
        "content": "<p>related to Appleseed?</p>",
        "id": 198117128,
        "sender_full_name": "Sean",
        "timestamp": 1589917619
    },
    {
        "content": "<p>is this the art project  which started in gci?</p>",
        "id": 198117185,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1589917650
    },
    {
        "content": "<p>Yep</p>",
        "id": 198117208,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589917664
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> that's great to hear</p>",
        "id": 198117225,
        "sender_full_name": "Sean",
        "timestamp": 1589917670
    },
    {
        "content": "<p>did you have to fix anything?</p>",
        "id": 198117246,
        "sender_full_name": "Sean",
        "timestamp": 1589917681
    },
    {
        "content": "<p>thats so good</p>",
        "id": 198117294,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1589917686
    },
    {
        "content": "<p>you should be set up to commit any changes</p>",
        "id": 198117322,
        "sender_full_name": "Sean",
        "timestamp": 1589917698
    },
    {
        "content": "<p>Not too much, I just changed the extern \"C\" part of a couple function declarations.  I have a question about the find_library() and find_path() in FindAppleseed.cmake though - for the HINT keyword, does CMake only check the paths from that path?</p>",
        "id": 198117478,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589917778
    },
    {
        "content": "<p>So what I mean to say is, CMake was having trouble finding appleseed.lib, even though I was providing Appleseed_ROOT. In the end, I had to specify Appleseed_LIBRARY to the actual path, which was {appleseed}/sandbox/lib/appleseed.lib</p>",
        "id": 198117661,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589917868
    },
    {
        "content": "<p>And this is what FindAppleseed.cmake has:</p>\n<div class=\"codehilite\"><pre><span></span><code>find_library (Appleseed_LIBRARY\n    NAMES appleseed\n    HINTS\n    ${Appleseed_ROOT}\n    PATH_SUFFIXES\n    lib64\n    lib\n    )\n</code></pre></div>",
        "id": 198117795,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589917927
    },
    {
        "content": "<p>I believe I may have had a similar issue with Appleseed_INCLUDE_DIR as well. I think a simple fix would be to just make the hint a little bit more specific for both, but I'm a bit hesitant because I'm not too experienced with CMake.</p>",
        "id": 198118118,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589918117
    },
    {
        "content": "<p>That said, I'll commit the changes I made for now.</p>",
        "id": 198118414,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589918276
    },
    {
        "content": "<p>All the logic for finding appleseed is in the FindAppleseed.cmake file, and it looks like ROOT is only used as a HINT search path, so you're on the right track.  It's strange that it didn't find it if you specified a path containing appleseed.lib</p>",
        "id": 198123111,
        "sender_full_name": "Sean",
        "timestamp": 1589920558
    },
    {
        "content": "<p>The thing to do would be to either run cmake in trace mode or read the output logs in build/CMakeFiles/CMakeError.log to see if maybe there's some reason it failed to find it.</p>",
        "id": 198123225,
        "sender_full_name": "Sean",
        "timestamp": 1589920621
    },
    {
        "content": "<p>if you post your logs here, I can take a look, see if it's anything not obvious</p>",
        "id": 198123268,
        "sender_full_name": "Sean",
        "timestamp": 1589920649
    },
    {
        "content": "<p>you're the only one working in this area, so you're welcome to experiment with changes to the FindAppleseed.cmake file.  whatever is needed -- getting 'art' working is kind of a huge deal.. ;)</p>",
        "id": 198123375,
        "sender_full_name": "Sean",
        "timestamp": 1589920706
    },
    {
        "content": "<p>the extern \"C\" bits sound strange.  that may beg for something else depending on what you changed.  windows has slightly different linking rules than linux by default in terms of how it resolves dlls and exes.</p>",
        "id": 198123481,
        "sender_full_name": "Sean",
        "timestamp": 1589920788
    },
    {
        "content": "<p>ah, but that's not what's going on here.  just saw your commit.  yeah, that extern \"C\" was wrong.  it's defined in the cpp file without C linkage.</p>",
        "id": 198123739,
        "sender_full_name": "Sean",
        "timestamp": 1589920908
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/198123375\">said</a>:</p>\n<blockquote>\n<p>you're the only one working in this area, so you're welcome to experiment with changes to the FindAppleseed.cmake file.  whatever is needed -- getting 'art' working is kind of a huge deal.. ;)</p>\n</blockquote>\n<p>Great,  I had a couple of things I wanted to try out.  I'll try running the CMake again and checking out the output logs first though.</p>",
        "id": 198139582,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589930561
    },
    {
        "content": "<p>On the bright side, I got the option parsing working again!</p>",
        "id": 198139786,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589930738
    },
    {
        "content": "<p>Yeah? what was wrong?</p>",
        "id": 198139809,
        "sender_full_name": "Sean",
        "timestamp": 1589930759
    },
    {
        "content": "<p>Nothing much, it looks like the functions were commented out for the Linux build, and usage.cpp needed to be added.</p>",
        "id": 198142484,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589933693
    },
    {
        "content": "<p>Here's the CMakeError.log, but I don't think there's any mention of appleseed. <a href=\"/user_uploads/1549/n9UN7fu6kriGtCKw48OsoUN_/CMakeError.log\">CMakeError.log</a></p>",
        "id": 198142642,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589933885
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/198123111\">said</a>:</p>\n<blockquote>\n<p>All the logic for finding appleseed is in the FindAppleseed.cmake file, and it looks like ROOT is only used as a HINT search path, so you're on the right track.  It's strange that it didn't find it if you specified a path containing appleseed.lib</p>\n</blockquote>\n<p>Would it help to specify the HINT paths (like ${Appleseed_ROOT}/src/appleseed}?</p>",
        "id": 198144680,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589936521
    },
    {
        "content": "<p>If you have a new enough CMake (3.17 I think?) you can pass the --debug-find option to CMake on the command line - that may help debug what's going on with the package searching.</p>",
        "id": 198145181,
        "sender_full_name": "starseeker",
        "timestamp": 1589937100
    },
    {
        "content": "<p>Ah, got it - I'll update my CMake and try it out. Thanks!</p>",
        "id": 198146051,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1589938243
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> naming the variable _ROOT may be misleading -- find_library is going to look in the specified directory, which probably isn't the prefix/root that appleseed was configured for but, rather, was something like $prefix/lib or $prefix/share/lib or similar.  The find script might do better searching ROOT/lib as the hint.</p>",
        "id": 198213093,
        "sender_full_name": "Sean",
        "timestamp": 1589987693
    },
    {
        "content": "<p>might need to do something similar for the headers</p>",
        "id": 198213127,
        "sender_full_name": "Sean",
        "timestamp": 1589987706
    },
    {
        "content": "<p>Hm yeah, that makes sense. In that case,  I do think that FindAppleseed should be updated a little bit.</p>",
        "id": 198554877,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1590272833
    },
    {
        "content": "<p>I'll give it a try and see how it works</p>",
        "id": 198554879,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1590272851
    },
    {
        "content": "<p>Thanks for the advice!</p>",
        "id": 198554884,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1590272865
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> you're more than welcome to update FindAppleseed.. it almost certainly needs updating if I'm understanding the issue.  It was probably written quickly.</p>",
        "id": 198596760,
        "sender_full_name": "Sean",
        "timestamp": 1590349270
    },
    {
        "content": "<p>probably minimal testing too</p>",
        "id": 198596764,
        "sender_full_name": "Sean",
        "timestamp": 1590349286
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/198596760\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> you're more than welcome to update FindAppleseed.. it almost certainly needs updating if I'm understanding the issue.  It was probably written quickly.</p>\n</blockquote>\n<p>Alright, so using the more specific paths did actually help CMake find everything properly. There is a slight issue though: the path to appleseed.lib was ${Appleseed_ROOT}/sandbox/lib/vc141/Ship, which I'm pretty sure is specific to MVSC and the debug/release configuration used for Appleseed. I don't think hardcoding that path is a good idea, but I'm not sure how I would be able to efficiently encompass all of the possible paths for different compilers and configurations .</p>",
        "id": 198963475,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1590619854
    },
    {
        "content": "<p>I guess just listing them all out could be an option? Or maybe there is some CMake variable to determine platform or configuration that I'm unaware of?</p>",
        "id": 198963503,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1590619893
    },
    {
        "content": "<p>This is probably a better question for <span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span> but that sounds like a rando-path that Appleseed decided to use (the \"Ship\" part in particular).   I see no mention of it.  So it wouldn't be entirely inappropriate for it to be hard-coded at least in a relative path form into the FindAppleseed logic.</p>",
        "id": 199458095,
        "sender_full_name": "Sean",
        "timestamp": 1591083132
    },
    {
        "content": "<p>I think the Ship part had to do with the configuration mode, because I also had another Debug directory (which was probably created when I compiled Appleseed in Debug mode).  And I believe vc141 is related to something like the MSVC version? That's why I'm a bit reluctant to just directly hardcode that path, because it seems like I'm not accounting for other paths.</p>",
        "id": 199581750,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1591163274
    },
    {
        "content": "<p>That being said, I guess this is more of a side thing that's a bit lower in priority. I'm thinking of trying to implement the BRL-CAD colors next and see how that works out.</p>",
        "id": 199582004,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1591163652
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> Yeah, I wouldn't worry too much about the Find paths - unless things are reasonably standard in the upstream software that's a challenge, and it's orthogonal to the main effort - if Appleseed rendering fully pans out we'll do what we need to do to to get things set up and working.</p>",
        "id": 199624044,
        "sender_full_name": "starseeker",
        "timestamp": 1591193433
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/199582004\">said</a>:</p>\n<blockquote>\n<p>That being said, I guess this is more of a side thing that's a bit lower in priority. I'm thinking of trying to implement the BRL-CAD colors next and see how that works out.</p>\n</blockquote>\n<p>That sounds great!  Let me know if you need pointers in working with colors.  Colors are a little tricky as objects can have a color attribute set and objects can be categorically colored based on a global color table.</p>",
        "id": 199766433,
        "sender_full_name": "Sean",
        "timestamp": 1591285436
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 199770420,
        "sender_full_name": "Sumagna Das",
        "timestamp": 1591286883
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> You'll discover that there's unfortunately not a simple interface yet as colors have kind of evolved over time as needed.  There's a TODO item to create such an interface:</p>\n<div class=\"codehilite\"><pre><span></span><code>* need routine that returns a color given a path, similar to\n  rt_comb_get_color() but full path so that inheritance is taken into\n  account and colors set correctly.\n</code></pre></div>\n\n\n<p>The closest is probably color_soltab() in src/libged/display_list.c as it has the crux for a given object, but what's needed is something that works on a path.</p>",
        "id": 199771518,
        "sender_full_name": "Sean",
        "timestamp": 1591287361
    },
    {
        "content": "<p>Alright thanks! Since school's about to end, I'll have a lot more free time on my hands. I'll start by taking a look at the files you recommended.</p>",
        "id": 200264458,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1591724103
    },
    {
        "content": "<p>So, I've been looking into it but it looks like implementing colors might be pretty difficult. The issue is that I'd be assigning a material to a single \"BRL-CAD object instance,\" which makes it all the same color. However, this same instance is the same one that initializes all of the BRL-CAD rt stuff, so I'm a bit stuck.  I'm certain that appleseed must have some sort of way to manage different colors for a single object instance, but I think that may involve textures instead.</p>",
        "id": 201932298,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1593060976
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> appleseed and most modern renderers use a concept of materials to control color.  You create a material object, can specify colors there, and set objects to that material. </p>\n<p>It's actually more similar to how we use shaders: <a href=\"https://appleseed.readthedocs.io/projects/appleseed-maya/en/master/shaders/material/as_sbs_pbrmaterial.html\">https://appleseed.readthedocs.io/projects/appleseed-maya/en/master/shaders/material/as_sbs_pbrmaterial.html</a></p>",
        "id": 201961280,
        "sender_full_name": "Sean",
        "timestamp": 1593087703
    },
    {
        "content": "<p>For example, in the initial appleseed setup tutorial where you set up a sphere, if you recall, you specified the Disney material...  That's where a base surface color is getting described: <a href=\"https://appleseed.readthedocs.io/projects/appleseed-maya/en/master/shaders/material/as_disney_material.html?highlight=color\">https://appleseed.readthedocs.io/projects/appleseed-maya/en/master/shaders/material/as_disney_material.html?highlight=color</a></p>",
        "id": 201961595,
        "sender_full_name": "Sean",
        "timestamp": 1593087905
    },
    {
        "content": "<p>appleseed goes even further where you can then perform color transforms and all sorts of other operations on a material using a shader network, but you can pretty much ignore all of that.</p>",
        "id": 201961722,
        "sender_full_name": "Sean",
        "timestamp": 1593087995
    },
    {
        "content": "<p>Right, so my concern was being able to assign multiple colors. I'm pretty sure that currently, only a single material can be assigned to the entire BRL-CAD geometry because of the way the BRL-CAD instance works, so I'm not completely sure how I'd be able to map colors to individual objects and such.</p>",
        "id": 202898235,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1593910317
    },
    {
        "content": "<p>Worst case scenario, I can try to rewrite art.cpp so that an object instance is created for each object, but I'm not completely sure how the rt resources will be distributed in that case. At the very least, it sounds like there would be a lot more overhead involved when raytracing.</p>",
        "id": 202898550,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1593910804
    },
    {
        "content": "<p>Another issue involved with that might be initializing the raytracing application again when, for example, the appleseed project is being opened again after art.cpp has already been called.</p>",
        "id": 202898637,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1593911011
    },
    {
        "content": "<p>However, on the other hand, there are a lot of pros involved with separating each BRL-CAD object into individual instances because it kind of makes more sense intuitively. Colors would be a lot easier to manage, and I imagine it would be easier to manage if different objects were different materials (plastic, glass, etc). if it's possible, I think it could be worth pursuing.</p>",
        "id": 202898767,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1593911282
    },
    {
        "content": "<p>If it makes intuitive sense I'd recommend trying it</p>",
        "id": 202903019,
        "sender_full_name": "starseeker",
        "timestamp": 1593919999
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/202898550\">said</a>:</p>\n<blockquote>\n<p>Worst case scenario, I can try to rewrite art.cpp so that an object instance is created for each object, but I'm not completely sure how the rt resources will be distributed in that case. At the very least, it sounds like there would be a lot more overhead involved when raytracing.</p>\n</blockquote>\n<p>The way we usually deal with embedded contexts like this is to map at the region level.  So you'd create a an art object for each region instead of just the top-level object, calculate bounding boxes for all of them, and appleseed will do it's traversal accordingly.</p>\n<p>Performance is unlikely an issue.  If anything, region-level lets appleseed be a lot smarter about ray traversal for really complex geometries instead of relying on librt traversal for all rays that get near.  Resource-wise, librt should just work and do the right thing -- one plus side of the global resource states.</p>",
        "id": 203305788,
        "sender_full_name": "Sean",
        "timestamp": 1594233634
    },
    {
        "content": "<p>there aren't multi-material regions -- by definition they represent a single material, so the mapping to a display material becomes naturally 1-to-1 also, so it should solve that problem as well.</p>",
        "id": 203305882,
        "sender_full_name": "Sean",
        "timestamp": 1594233707
    },
    {
        "content": "<p>Right, but if I'm understanding correctly, I feel like it'll be difficult to, say, initialize the rt application and be able to share it among object instances. Right now, since everything is under one object, it's easy for that object to simply just initialize the rt application. Once the regions are split into different objects, I'm struggling to think of a way for that to work out.</p>",
        "id": 203891933,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1594762812
    },
    {
        "content": "<p>This is the part that concerns me, which is in the constructor, and the resources are object attributes:</p>\n<div class=\"codehilite\"><pre><span></span><code>ap = static_cast&lt;application*&gt;(bu_calloc(1, sizeof(application), &quot;appleseed&quot;));\n    resources = static_cast&lt;resource*&gt;(bu_calloc(1, sizeof(resource) * MAX_PSW, &quot;appleseed&quot;));\n\n    char title[1024] = { 0 }; /* optional database title */\n    size_t npsw = 1; /* default number of worker PSWs*/\n\n    /* load the specified geometry database */\n    rtip = rt_dirbuild(path, title, sizeof(title));\n    if (rtip == RTI_NULL)\n    {\n    fprintf(output, &quot;Building the database directory for [%s] FAILED\\n&quot;, path);\n    fflush(output);\n    }\n\n    for (size_t i = 0; i &lt; MAX_PSW; i++)\n    {\n    rt_init_resource(&amp;resources[i], i, rtip);\n    RT_CK_RESOURCE(&amp;resources[i]);\n    }\n\n    /* display optional database title */\n    if (title[0])\n    {\n    fprintf(output, &quot;Database title: %s\\n&quot;, title);\n    fflush(output);\n    }\n\n    /* parse object arguments */\n    const char** objv = (const char**)bu_calloc(objc + 1, sizeof(char*), &quot;obj array&quot;);\n    for (int i = 0; i &lt; objc; i++)\n    {\n        objv[i] = objects.at(i).c_str();\n    }\n\n    /* include objects from database */\n    if (rt_gettrees(rtip, objc, objv, npsw) &lt; 0)\n    {\n    fprintf(output, &quot;Loading the geometry for [%s] FAILED\\n&quot;, objects[0].c_str());\n    fflush(output);\n    }\n\n    /* Prepare database for raytracing */\n    if (rtip-&gt;needprep)\n    rt_prep_parallel(rtip, 1);\n\n    /* Initialize values in application struct */\n    RT_APPLICATION_INIT(ap);\n\n    /* configure raytrace application */\n    ap-&gt;a_onehit = -1;\n    ap-&gt;a_rt_i = rtip;\n    ap-&gt;a_hit = brlcad_hit;\n    ap-&gt;a_miss = brlcad_miss;\n</code></pre></div>",
        "id": 203892489,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1594763205
    },
    {
        "content": "<p>I guess what I could try doing is making all of those attributes static, and then have a single object instance initialize everything while the others wait for the initialization to complete?</p>",
        "id": 203892721,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1594763360
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/203891933\">said</a>:</p>\n<blockquote>\n<p>Right, but if I'm understanding correctly, I feel like it'll be difficult to, say, initialize the rt application and be able to share it among object instances. Right now, since everything is under one object, it's easy for that object to simply just initialize the rt application. Once the regions are split into different objects, I'm struggling to think of a way for that to work out.</p>\n</blockquote>\n<p>Shouldn't be difficult at all, in fact you shouldn't really need to do anything special/different.</p>",
        "id": 203893036,
        "sender_full_name": "Sean",
        "timestamp": 1594763569
    },
    {
        "content": "<p>Resources are initialized per cpu core.  They have nothing to do with the object or application structure.  They're basically book-keeping structures used by librt parallelism.</p>",
        "id": 203893087,
        "sender_full_name": "Sean",
        "timestamp": 1594763610
    },
    {
        "content": "<p>so those resource structures just need to be initialized prior to rendering, and provided to the application structure.</p>",
        "id": 203893158,
        "sender_full_name": "Sean",
        "timestamp": 1594763652
    },
    {
        "content": "<p>similarly the application structure is once per <em>application</em>, and doesn't need to change.  the resources are set into it, which makes it safe for multithreaded ray shooting.</p>",
        "id": 203893934,
        "sender_full_name": "Sean",
        "timestamp": 1594764142
    },
    {
        "content": "<p>the only thing that really changes is the interface to appleseed.  instead of giving appleseed one bounding box / object, you need to provide a box for each region.  they can all be configured to go through the same app structure like they are doing now.</p>",
        "id": 203894460,
        "sender_full_name": "Sean",
        "timestamp": 1594764507
    },
    {
        "content": "<p>even the dirbuild shouldn't need to change (this is ultimately what is turned into the rt_i instance that goes into the app structure.</p>",
        "id": 203894531,
        "sender_full_name": "Sean",
        "timestamp": 1594764591
    },
    {
        "content": "<p>if you get lost, I can probably give more specific pointers in the code or help work with you on this.</p>",
        "id": 203894598,
        "sender_full_name": "Sean",
        "timestamp": 1594764617
    },
    {
        "content": "<p>Ah ok, thank you for the explanation about librt! I think that does clear some confusion. Sorry for taking so long to respond all the time - I've been a bit occupied. I'll take a look at it again as soon as I can.</p>",
        "id": 204394041,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1595230797
    },
    {
        "content": "<p>I think my main source of confusion was that an object would need to be created for each region, so I wasn't sure how the application structure could be shared, but I guess it can just be kept as a static variable.</p>",
        "id": 204394249,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1595230974
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> static var or better if you can find a way to pass it around.  I assume appleseed has some sort of data pointer you could set it to.  the application structure itself has a user data pointer where you can stash additional information.</p>",
        "id": 204495262,
        "sender_full_name": "Sean",
        "timestamp": 1595286299
    },
    {
        "content": "<p>Good point, I'll ask franz if appleseed has anything like that.</p>",
        "id": 205122364,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1595859548
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> It should be evident in the existing calls...</p>",
        "id": 205123543,
        "sender_full_name": "Sean",
        "timestamp": 1595860091
    },
    {
        "content": "<p>yeah, looks like you already have what you need.  instead of a data pointer, he's using inheritance.  see how BrlcadObject inherits from asr::ProcecuralObject</p>",
        "id": 205123820,
        "sender_full_name": "Sean",
        "timestamp": 1595860206
    },
    {
        "content": "<p>so any data you put into BrlcadObject will be accessible</p>",
        "id": 205123850,
        "sender_full_name": "Sean",
        "timestamp": 1595860223
    },
    {
        "content": "<p>you're already stashing ap, rtip, and resources there.</p>",
        "id": 205123895,
        "sender_full_name": "Sean",
        "timestamp": 1595860245
    },
    {
        "content": "<p>Ah got it, I'll look into that then.</p>",
        "id": 205123959,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1595860273
    },
    {
        "content": "<p>they are passed into the constructor for BrlcadObject</p>",
        "id": 205123979,
        "sender_full_name": "Sean",
        "timestamp": 1595860279
    },
    {
        "content": "<p>you'll just pass the same ap, rtip, and resources into ALL BrlcadObject objects.</p>",
        "id": 205124074,
        "sender_full_name": "Sean",
        "timestamp": 1595860318
    },
    {
        "content": "<p>so BrlcadObject doesn't even need to change</p>",
        "id": 205124123,
        "sender_full_name": "Sean",
        "timestamp": 1595860326
    },
    {
        "content": "<p>ah, i take it back -- there are some subtle changes needed.  I see the constructor calls configure_raytrace_application, which is where it actually calls rt_dirbuild, initializes the resources, and inits the ap structure.  that code needs to get pulled higher up before BrlcadObject is constructed.</p>",
        "id": 205124406,
        "sender_full_name": "Sean",
        "timestamp": 1595860465
    },
    {
        "content": "<p>looks like you can pull it into BrlcadObjectFactory::create() once you know the name of the object(s) being rendered</p>",
        "id": 205124701,
        "sender_full_name": "Sean",
        "timestamp": 1595860609
    },
    {
        "content": "<p>Ah, I see. Thanks for the advice! I'll test out the Factory creation stuff this week.</p>",
        "id": 205125054,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1595860757
    },
    {
        "content": "<p>yeah, that should do it. you should definitely be able to init there.</p>",
        "id": 205125085,
        "sender_full_name": "Sean",
        "timestamp": 1595860778
    },
    {
        "content": "<p>the only issue might be what you ran into with art.cpp and the plugin calling the two different constructors.  look like they both need to call the one art.cpp is using (where rtip, resources, and application struct are passed in)</p>",
        "id": 205125208,
        "sender_full_name": "Sean",
        "timestamp": 1595860823
    },
    {
        "content": "<p>Right. But you mentioned that BrlcadObjectFactory::create() might be able to pass the resources in instead, right? Also, if I'm understanding correctly, is it perfectly safe for multiple objects to hold the same rtip, resources, and application struct?</p>",
        "id": 205125522,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1595860953
    },
    {
        "content": "<p>yeah, it should be safe for them to all hold the same.</p>",
        "id": 205126100,
        "sender_full_name": "Sean",
        "timestamp": 1595861203
    },
    {
        "content": "<p>that's why there are resources ... those are <em>CPU</em> resources used during ray tracing.</p>",
        "id": 205126222,
        "sender_full_name": "Sean",
        "timestamp": 1595861280
    },
    {
        "content": "<p>the gist is that you create one main app structure where you set the resources and rtip.</p>",
        "id": 205126920,
        "sender_full_name": "Sean",
        "timestamp": 1595861596
    },
    {
        "content": "<p>the resources just have to be initialized once per app, from anywhere.</p>",
        "id": 205126958,
        "sender_full_name": "Sean",
        "timestamp": 1595861613
    },
    {
        "content": "<p>That makes a lot of sense, I don't know why I initially thought that it would be dangerous for there to be multiple pointers to the same resource. Thank you again for the help!</p>",
        "id": 205127125,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1595861686
    },
    {
        "content": "<p>the rtip holds a prepped model, which happens once per rendering.</p>",
        "id": 205127181,
        "sender_full_name": "Sean",
        "timestamp": 1595861712
    },
    {
        "content": "<p>both rtip and resources are typically set into a single \"main\" app structure.</p>",
        "id": 205127219,
        "sender_full_name": "Sean",
        "timestamp": 1595861729
    },
    {
        "content": "<p>that app structure is then copied for each ray that is fired</p>",
        "id": 205127253,
        "sender_full_name": "Sean",
        "timestamp": 1595861745
    },
    {
        "content": "<p>the typical multithreaded use can be see in src/rt/worker.c:do_pixel() ... look for the \"struct copy\" line where it tells that specific ap which cpu resource to use.</p>",
        "id": 205127373,
        "sender_full_name": "Sean",
        "timestamp": 1595861789
    },
    {
        "content": "<p>Ah, I see it. In this case, that's only necessary because it's being multithreaded, right? So in this case, where it's still single threaded at the moment, that's not something I have to worry about yet, is it?</p>",
        "id": 205128144,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1595862119
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> you are worrying about it (correctly) already... look at BrlcadObject::intersect()  instead of creating a copy of the AP, you just set the resource and call rt_shootray().</p>",
        "id": 205135570,
        "sender_full_name": "Sean",
        "timestamp": 1595865685
    },
    {
        "content": "<p>getting the cpu # using get_id()</p>",
        "id": 205135587,
        "sender_full_name": "Sean",
        "timestamp": 1595865698
    },
    {
        "content": "<p>if that's not working in parallel, that would probably be because of multiple threads overwriting that resource - creating a copy of the AP should solve it..</p>",
        "id": 205135707,
        "sender_full_name": "Sean",
        "timestamp": 1595865751
    },
    {
        "content": "<p>don't think I noticed that before</p>",
        "id": 205135735,
        "sender_full_name": "Sean",
        "timestamp": 1595865769
    },
    {
        "content": "<p>Multithreading with appleseed is definitely something I'll be looking into soon. For now though, I'm going to focus on splitting the BRL-CAD object into regions/instances, and then work on the color rendering.</p>",
        "id": 205143035,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1595869618
    },
    {
        "content": "<p>I remember there was some issue with multithreading before, but I didn't really have the knowledge to debug it at the time. Hopefully, it's something that can be sorted out soon.</p>",
        "id": 205143142,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1595869674
    },
    {
        "content": "<p>if there was an issue, it's almost certainly that simultaneous use of the same ap structure.  each ray should have its  own.</p>",
        "id": 205144479,
        "sender_full_name": "Sean",
        "timestamp": 1595870426
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> any progress, need me to  help with it?  I feel like you're super close!</p>",
        "id": 205561317,
        "sender_full_name": "Sean",
        "timestamp": 1596176315
    },
    {
        "content": "<p>Not yet sorry - I've been pretty busy recently and, well, I've also been without power for the past two days. Hopefully I'll get to look at it soon, I definitely have a solid idea as to what needs to be done.</p>",
        "id": 206094259,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1596674728
    },
    {
        "content": "<p>As a side note, do you think I could create a wikipage for this project at some point? I think it would help me and other contributors keep track of progress, create a to-do list, and so on.</p>",
        "id": 206094334,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1596674780
    },
    {
        "content": "<p>And... 5 minutes later power is restored. I'll try to take a look at it tonight then.</p>",
        "id": 206095362,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1596675986
    },
    {
        "content": "<p>Hm ok, so I do have a couple of \"questions\" and I would like to hear someone else's opinion on some things. Right now, since there's only one overarching object, it stores parameters like the object count and geometry file path. I guess the most straightforward way is just to make it so that each object ends up storing these parameters, but it seems a bit inefficient. Are there any better alternatives?</p>",
        "id": 206102204,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1596685838
    },
    {
        "content": "<p>Other than that, I think everything else is pretty straightforward - when the appleseed project is opened by appleseed, the BrlcadObjectFactory should be able to configure brlcad raytracing in its constructor, which it can then pass down to the objects.</p>",
        "id": 206102264,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1596685962
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> could I ask for your opinion on the details I mentioned above?</p>",
        "id": 206877390,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1597356349
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> sorry for the delay, I've been really deep in non-fun non-coding work this past week, so I'm playing catch up.</p>",
        "id": 206954281,
        "sender_full_name": "Sean",
        "timestamp": 1597425656
    },
    {
        "content": "<p>A wiki page for tracking progress sounds great!  <a href=\"https://brlcad.org/wiki/Appleseed\">https://brlcad.org/wiki/Appleseed</a> should work great, or could go more wordy like <a href=\"https://brlcad.org/wiki/Appleseed_renderer_integration\">https://brlcad.org/wiki/Appleseed_renderer_integration</a></p>",
        "id": 206954561,
        "sender_full_name": "Sean",
        "timestamp": 1597425819
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/206102204\">said</a>:</p>\n<blockquote>\n<p>Hm ok, so I do have a couple of \"questions\" and I would like to hear someone else's opinion on some things. Right now, since there's only one overarching object, it stores parameters like the object count and geometry file path. I guess the most straightforward way is just to make it so that each object ends up storing these parameters, but it seems a bit inefficient. Are there any better alternatives?</p>\n</blockquote>\n<p>Depends what the parameters are, but I wouldn't worry about efficiency unless it's visibly causing a problem.  There's a heck of a lot of room to create hundreds of thousands of objects  and not have it really affect performance, or for performance to be optimizable in other ways.</p>",
        "id": 206954868,
        "sender_full_name": "Sean",
        "timestamp": 1597425968
    },
    {
        "content": "<p>Object count would disappear if there was just one object per object</p>",
        "id": 206954941,
        "sender_full_name": "Sean",
        "timestamp": 1597426011
    },
    {
        "content": "<p>geometry file path sounds like a string pointer, which really should only matter for debugging or maybe uniqueness testing on creation.</p>",
        "id": 206955031,
        "sender_full_name": "Sean",
        "timestamp": 1597426063
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/206102264\">said</a>:</p>\n<blockquote>\n<p>Other than that, I think everything else is pretty straightforward - when the appleseed project is opened by appleseed, the BrlcadObjectFactory should be able to configure brlcad raytracing in its constructor, which it can then pass down to the objects.</p>\n</blockquote>\n<p>Remember that there's two modes of operation.  There's the 'art' application binary that is intended to be stand-alone and be a drop-in replacement for rt.  Then there's the appleseed plugin that hooks into librt and calls it for ray tracing.  The 'art' application binary hopefully can use the appleseed plugin (or at least use the same code), but it's not strictly necessary.</p>",
        "id": 206955221,
        "sender_full_name": "Sean",
        "timestamp": 1597426165
    },
    {
        "content": "<p>They could be separate code bases if needed.</p>",
        "id": 206955247,
        "sender_full_name": "Sean",
        "timestamp": 1597426184
    },
    {
        "content": "<p>Awesome, I'll get started on the wiki soon. I agree with you on the parameters - I guess it isn't that big of a deal. The geometry file path, however, is used by the application in order to actually get the geometry.</p>",
        "id": 207083476,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1597603273
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/206955221\">said</a>:</p>\n<blockquote>\n<p>Remember that there's two modes of operation.  There's the 'art' application binary that is intended to be stand-alone and be a drop-in replacement for rt.  Then there's the appleseed plugin that hooks into librt and calls it for ray tracing.  The 'art' application binary hopefully can use the appleseed plugin (or at least use the same code), but it's not strictly necessary.</p>\n</blockquote>\n<p>I'm a bit confused by this. My understanding was that the 'art' application binary isn't necessarily stand-alone, and still uses librt to test intersections with BRL-CAD geometry. It's true that there are two modes to actually render the image (either directly through art.exe or by opening the generated project through appleseed), but don't both methods rely on librt?</p>",
        "id": 207083587,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1597603476
    },
    {
        "content": "<p>I meant stand-alone in the sense that it's a binary application that isn't reliant upon the appleseed studio runtime, not that it doesn't require librt or appleseed libs.</p>",
        "id": 207085319,
        "sender_full_name": "Sean",
        "timestamp": 1597605320
    },
    {
        "content": "<p>both definitely go through librt</p>",
        "id": 207085328,
        "sender_full_name": "Sean",
        "timestamp": 1597605345
    },
    {
        "content": "<p>Ah ok, thank you for the clarification! I thought I had mistaken something this whole time. I created the wiki-page at <a href=\"https://brlcad.org/wiki/Appleseed\">https://brlcad.org/wiki/Appleseed</a>, but I've only updated the to-do list for now. Once I get back to my computer, I'll start on the other sections as well.</p>",
        "id": 207088127,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1597609314
    },
    {
        "content": "<p>cool, thanks for thinking to document it!</p>",
        "id": 207224670,
        "sender_full_name": "Sean",
        "timestamp": 1597728359
    },
    {
        "content": "<p>Hi, sorry for being so inactive recently. I've been pretty caught up in school/college apps, which is why I kinda wanted to document the appleseed progress beforehand.</p>",
        "id": 211692961,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1601418440
    },
    {
        "content": "<p>Unfortunately, I'm not sure how much I can contribute until maybe even January. However, if anyone is interested on working on the project in the meantime, I'd be happy to provide whatever assistance I can.</p>",
        "id": 211693904,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1601419118
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> it's understandable.  We're all getting tugged in different directions.  Just spent a week with my main dev laptop fully disassembled while I did some repairs/upgrades.  Kind of disruptive. :)</p>",
        "id": 211774109,
        "sender_full_name": "Sean",
        "timestamp": 1601478521
    },
    {
        "content": "<p>That said, I'll probably be calling on you for some assistance if you think you're not going to be able to work on it through the rest of the year.  We can't go too long without progress or the code and knowledge gets stale/lost and puts everything at risk. </p>\n<p>You made amazing progress, so hoping to at least get a baseline capability rolled out into user hands (e.g., a colorless single-threaded 'art' binary).</p>",
        "id": 211774827,
        "sender_full_name": "Sean",
        "timestamp": 1601478706
    },
    {
        "content": "<p>Sounds good! I'll try to check Zulip as frequently as I can :)</p>",
        "id": 212458035,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1602004644
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/211774827\">said</a>:</p>\n<blockquote>\n<p>That said, I'll probably be calling on you for some assistance if you think you're not going to be able to work on it through the rest of the year.  We can't go too long without progress or the code and knowledge gets stale/lost and puts everything at risk. </p>\n<p>You made amazing progress, so hoping to at least get a baseline capability rolled out into user hands (e.g., a colorless single-threaded 'art' binary).</p>\n</blockquote>\n<p>Hi, just wanted to check-in to say that I should have some more time on my hands now - I'll take a look at the source code again and catch up on what it is I was planning on doing! Now kinda glad that Appleseed wiki was created.</p>",
        "id": 222319588,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1610382049
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> How's it looking?</p>",
        "id": 222719947,
        "sender_full_name": "starseeker",
        "timestamp": 1610632827
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> Ditto, glad to hear you have more time on your hands!  Me too soon, woot!</p>",
        "id": 224970295,
        "sender_full_name": "Sean",
        "timestamp": 1612323493
    },
    {
        "content": "<p>That's great to hear! Sorry, for some reason I didn't receive any Zulip notifications. I've still been a little busier than anticipated, and taking a few months away definitely made me forget my understanding about a lot of the code, but hopefully I'll have something commit-worthy in a week or two.</p>",
        "id": 226263441,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1613245877
    },
    {
        "content": "<p>so I tried SVN updating to the latest commit and rerunning CMake, but I'm getting a strange error where it says some <code>.g</code> object already exists in <code>db/*</code>, but when I check <code>db\\</code>, only their <code>.asc</code> counterparts are there. Am I using CMake incorrectly here?</p>",
        "id": 226317528,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1613326332
    },
    {
        "content": "<p>.asc would be the source directory, are you using the src root as your build dir?</p>",
        "id": 226318361,
        "sender_full_name": "Erik",
        "timestamp": 1613327641
    },
    {
        "content": "<p>I believe I was in \\build but I'll check again. Thank you!</p>",
        "id": 226321315,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1613332055
    },
    {
        "content": "<p>I was in the src_root\\build directory when using CMake.</p>",
        "id": 226330734,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1613343835
    },
    {
        "content": "<p>First suggestion is to make sure you're building from a clean build dir - there are lots of strange intermediate states that are hard to diagnose if the generated CMake outputs and the CMake build files aren't in sync.</p>",
        "id": 226331471,
        "sender_full_name": "starseeker",
        "timestamp": 1613344827
    },
    {
        "content": "<p>Alright thanks, I guess I'll just do that then. I was just concerned that Ill forget about files that I manually arranged for Appleseed.</p>",
        "id": 226333186,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1613347133
    },
    {
        "content": "<p>You can always make a new build directory and leave the old one, unless you're too tight on space</p>",
        "id": 226333437,
        "sender_full_name": "starseeker",
        "timestamp": 1613347411
    },
    {
        "content": "<p>I think I'll do that actually -- thank you for the idea!</p>",
        "id": 226344095,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1613362951
    },
    {
        "content": "<p>Any progress building appleseed <span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> ?  I haven't checked their latest in a while...</p>",
        "id": 226772670,
        "sender_full_name": "Sean",
        "timestamp": 1613632337
    },
    {
        "content": "<p>Do you mean the Appleseed repository itself? I haven't tried building it recently, but the appleseed project in BRL-CAD seems to build with enough configuration.</p>",
        "id": 226866087,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1613676481
    },
    {
        "content": "<p>you mean it builds against the latest appleseed?  That's good to know, even better actually. :)</p>",
        "id": 226929310,
        "sender_full_name": "Sean",
        "timestamp": 1613720675
    },
    {
        "content": "<p>Ah I just meant I haven't built the latest appleseed recently. I can try to after finishing my changes; I don't suspect it should affect the work in any way.</p>",
        "id": 227176158,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1613923164
    },
    {
        "content": "<p>So I'm encountering another dilemma when trying to split the regions into separate appleseed objects. <code>rtip</code> is supposed to load the geometry instance into the application structure, but since each appleseed object is now only supposed to specify a specific region of the BRL-CAD geometry, it seems like I can't just load the same raytrace instance for each appleseed object (or else the raytracing will always intersect the same geometry for each appleseed object). Is there any way to circumvent this?</p>",
        "id": 227178992,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1613925558
    },
    {
        "content": "<p>One idea that comes to mind is to prepare different <code>rtip</code>s for each object, and then set <code>ap.a_rt_i = rtip</code> before intersecting each object. However, that sounds pretty inefficient and it seems like it would cause issues if multithreading were ever implemented.</p>",
        "id": 227179087,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1613925679
    },
    {
        "content": "<p>Any thoughts?</p>",
        "id": 227179175,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1613925751
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> first thought is that while using the same rtip will result in it always testing against the same geometry, it should/could still work like that.  Not optimal of course performancewise, but it shouldn't be a problem.  You'd just have to filter on only regions of interest for each appleseed object.</p>",
        "id": 227495214,
        "sender_full_name": "Sean",
        "timestamp": 1614110918
    },
    {
        "content": "<p>I think you're on the right track with the latter approach, though -- you can have a different rtip (and matrix) for each region and a corresponding appleseed object that sets that rtip during setup.</p>",
        "id": 227495959,
        "sender_full_name": "Sean",
        "timestamp": 1614111195
    },
    {
        "content": "<p>Note multithreaded access of rtip isn't/shouldn't be a problem -- librt accesses rtip in parallel as it is.  You'll just have to map threads to a cpu identifier and make sure librt \"resources\" are initialized.</p>",
        "id": 227496170,
        "sender_full_name": "Sean",
        "timestamp": 1614111274
    },
    {
        "content": "<p>Note that breaking things up by region really isn't any different than supporting multiple render paths.  Given appleseed is driving, you will have an application instance for each thread, so there's not contention within that structure.  The rtip structures can be accessed in parallel by multiple threads just fine, so you'll just have an rtip for each region and set it in that thread-specific application structure.</p>",
        "id": 227497104,
        "sender_full_name": "Sean",
        "timestamp": 1614111682
    },
    {
        "content": "<p>Make sense?</p>",
        "id": 227497114,
        "sender_full_name": "Sean",
        "timestamp": 1614111687
    },
    {
        "content": "<p>I think so... Sorry for such a late response. So would you recommend using a different rtip for each region, or using a filter on regions of interest? If it's the latter, is there an example I could use as reference?</p>",
        "id": 229249922,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1615181448
    },
    {
        "content": "<p>I'd do a diff rtip per region.</p>",
        "id": 229308037,
        "sender_full_name": "Sean",
        "timestamp": 1615214106
    },
    {
        "content": "<p>Hi, sorry again for not being able to work for so long - work, school, and college has really been a lot to handle. On the bright side, I got a new laptop so hopefully compiling things won't be an overnight process anymore, and developing things can be a bit more enjoyable. Although I can't guarantee that I'll be able to contribute anytime soon, I just wanted to catch up on things. I noticed that we switched over to GitHub -  does our development process still involve committing directly to master?</p>",
        "id": 246032608,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626303505
    },
    {
        "content": "<p>Yes, it does - trunk in SVN == main in Git</p>",
        "id": 246132341,
        "sender_full_name": "starseeker",
        "timestamp": 1626371989
    },
    {
        "content": "<p>Cool, thanks!</p>",
        "id": 246167821,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626390905
    },
    {
        "content": "<p>For now, yes, but you are welcome to work in a branch or work via pull requests to involve others, etc.  Whatever works for you.</p>",
        "id": 246396745,
        "sender_full_name": "Sean",
        "timestamp": 1626640281
    },
    {
        "content": "<p>Just built BRL-CAD again - went from an overnight built to a 20 minute build :)</p>",
        "id": 246417221,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626671972
    },
    {
        "content": "<p>I am getting one error for distcheck though, I feel like I had this error before but I forgot if it was a problem or not.</p>",
        "id": 246417231,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626672000
    },
    {
        "content": "<p>What's the error?</p>",
        "id": 246549859,
        "sender_full_name": "Sean",
        "timestamp": 1626763056
    },
    {
        "content": "<p>I believe the error said something like the repo does not match the dist or something - I'll try compiling again to see what it is</p>",
        "id": 246603674,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626793547
    },
    {
        "content": "<p>This is it: <code>CUSTOMBUILD : error : Distcheck cannot proceed until build files and repo are in sync (set\n3&gt;  -DFORCE_DISTCHECK=ON to override)</code></p>",
        "id": 246604721,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626793931
    },
    {
        "content": "<p>I may have fixed that earlier today - does latest main work?</p>",
        "id": 246653391,
        "sender_full_name": "starseeker",
        "timestamp": 1626816422
    },
    {
        "content": "<p>I'll try again right now!</p>",
        "id": 246658722,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626820025
    },
    {
        "content": "<p>Also something I've never really figured out concretely - when a CMakeLists.txt gets updated, what exactly do I need to \"refresh?\" Should I delete the whole build directory and try again? I've tried to run <code>cmake ..</code> again in the same build file, but it always seems like the generation or configuration never gets updated properly.</p>",
        "id": 246658823,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626820118
    },
    {
        "content": "<p>Tip of git main endeavours to always be buildable, and is recommended place from which to build new work?</p>",
        "id": 246658831,
        "sender_full_name": "bch",
        "timestamp": 1626820127
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"426645\">bch</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/246658831\">said</a>:</p>\n<blockquote>\n<p>Tip of git main endeavours to always be buildable, and is recommended place from which to build new work?</p>\n</blockquote>\n<p>Yes, I believe this is true but it may not always be tested across all platforms</p>",
        "id": 246658895,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626820204
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span> <span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> - is this at least an informal policy?</p>",
        "id": 246660356,
        "sender_full_name": "bch",
        "timestamp": 1626821508
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112516\">starseeker</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/246653391\">said</a>:</p>\n<blockquote>\n<p>I may have fixed that earlier today - does latest main work?</p>\n</blockquote>\n<p>just pulled and built, seems like there aren't any errors this time</p>",
        "id": 246660480,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626821606
    },
    {
        "content": "<p>tip of main is not guaranteed to always be building, but usually will be.  Part of the motivation for moving to Github was to leverage the CI system they have created, and we are starting to do so.</p>",
        "id": 246667402,
        "sender_full_name": "starseeker",
        "timestamp": 1626827998
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> The reason it failed for you earlier was because you were doing a distcheck build, and the main CI build doesn't run the full distcheck process.  I just added a test that will catch the most typical reason for a distcheck failure (failing to list files for the repository verification, which was the failure you were seeing.)</p>",
        "id": 246667550,
        "sender_full_name": "starseeker",
        "timestamp": 1626828134
    },
    {
        "content": "<p><a href=\"https://github.com/BRL-CAD/brlcad/actions\">https://github.com/BRL-CAD/brlcad/actions</a></p>",
        "id": 246667577,
        "sender_full_name": "starseeker",
        "timestamp": 1626828172
    },
    {
        "content": "<p>For example, the latest results are at:  <a href=\"https://github.com/BRL-CAD/brlcad/actions/runs/1050498354\">https://github.com/BRL-CAD/brlcad/actions/runs/1050498354</a></p>",
        "id": 246667598,
        "sender_full_name": "starseeker",
        "timestamp": 1626828206
    },
    {
        "content": "<p>You can see the steps that are being run at <a href=\"https://github.com/BRL-CAD/brlcad/blob/main/.github/workflows/check.yml\">https://github.com/BRL-CAD/brlcad/blob/main/.github/workflows/check.yml</a></p>",
        "id": 246667609,
        "sender_full_name": "starseeker",
        "timestamp": 1626828235
    },
    {
        "content": "<p>That's an evolving process - as I learn new tricks I'm adding more steps (for example, I recently enabled the Qt build elements for testing.)</p>",
        "id": 246667687,
        "sender_full_name": "starseeker",
        "timestamp": 1626828308
    },
    {
        "content": "<p>The runners will time out if they go too long, so individual tests can only be so long.  (A complete distcheck-full, for example, would be WAAAY too much...)</p>",
        "id": 246667775,
        "sender_full_name": "starseeker",
        "timestamp": 1626828413
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> The most reliable thing to do is delete the build directory and start fresh.  In many cases you don't have to, but there are situations where stale outputs can cause problems.  If you're seeing strange issues, a clean build is always the first thing to test.</p>",
        "id": 246668036,
        "sender_full_name": "starseeker",
        "timestamp": 1626828719
    },
    {
        "content": "<p>That makes sense, I was just wondering if there was any faster way because it still does add up to quite some time. As for the distcheck build, I was just building the generated CMake solution for VS 2019 - should I be building the ALL_BUILD project?</p>",
        "id": 246675303,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626837183
    },
    {
        "content": "<p>Also am a little curious about how all the CI stuff works, I haven't really worked with CI/CD stuff but am definitely interested</p>",
        "id": 246675309,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626837205
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"426645\">bch</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/246660356\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"112516\">starseeker</span> <span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> - is this at least an informal policy?</p>\n</blockquote>\n<p>Yes, that is our policy (HACKING mentions it as well).  Devs committing to main are expected to at least reasonably expect that their changes compiles on the platform they're using, not knowingly break other platforms, and to respond/fix quickly or revert when informed of changes they made do break other platforms.</p>",
        "id": 246680693,
        "sender_full_name": "Sean",
        "timestamp": 1626844895
    },
    {
        "content": "<p>The STABLE branch takes that a step further, nominally asserting that it compiles cleanly across multiple platforms and not allowing direct commits/merges without multiplatform testing.</p>",
        "id": 246680738,
        "sender_full_name": "Sean",
        "timestamp": 1626844944
    },
    {
        "content": "<p>Yes, you'll want to build the ALL_BUILD target for Visual Studio.   You don't have to build the distcheck target for day to day development - you can just do \"make -j8\" or \"ninja\" (if you're configuring using the Ninja generator (cmake -G Ninja) - ninja can sometimes build faster than make.)</p>",
        "id": 246713660,
        "sender_full_name": "starseeker",
        "timestamp": 1626871570
    },
    {
        "content": "<p><a href=\"https://docs.github.com/en/actions\">https://docs.github.com/en/actions</a></p>",
        "id": 246714541,
        "sender_full_name": "starseeker",
        "timestamp": 1626872004
    },
    {
        "content": "<p>CI/CD is a general concept - Actions are just Github's implementation - but for the moment they're the system we're targeting.</p>",
        "id": 246714663,
        "sender_full_name": "starseeker",
        "timestamp": 1626872051
    },
    {
        "content": "<p>Cool, thanks for letting me know!</p>",
        "id": 246767933,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1626896155
    },
    {
        "content": "<p>Hm, trying to override the Z-lib and PNG libraries with this: </p>\n<div class=\"codehilite\"><pre><span></span><code>cmake .. -DAPPLESEED_ROOT=&quot;C:\\Users\\JeffL\\Desktop\\Open-Source\\BRL-CAD\\appleseed&quot; -DBRLCAD_PNG=SYSTEM -DBRLCAD_ZLIB=SYSTEM -DZLIB_LIBRARY=&quot;C:\\Users\\JeffL\\Desktop\\Open-Source\\BRL-CAD\\appleseed\\windows-deps\\stage\\vc141\\zlib-debug\\lib\\zlibd.lib&quot; -DZLIB_INCLUDE_DIR=&quot;C:\\Users\\JeffL\\Desktop\\Open-Source\\BRL-CAD\\appleseed\\windows-deps\\stage\\vc141\\zlib-debug\\include&quot; -DPNG_LIBRARY=&quot;C:\\Users\\JeffL\\Desktop\\Open-Source\\BRL-CAD\\appleseed\\windows-deps\\stage\\vc141\\libpng-debug\\lib\\libpng16_staticd.lib&quot; -DPNG_PNG_INCLUDE_DIR=&quot;C:\\Users\\JeffL\\Desktop\\Open-Source\\BRL-CAD\\appleseed\\windows-deps\\stage\\vc141\\libpng-debug\\include&quot;\n</code></pre></div>\n<p>but the CMake is still telling me that Z-lib isn't found... any ideas?</p>",
        "id": 250081743,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629439719
    },
    {
        "content": "<p>Hmm.  I've not tried overriding on WIndows in that particular way - what if you set ZLIB_ROOT to the parent directory of the zlib installation?</p>",
        "id": 250116212,
        "sender_full_name": "starseeker",
        "timestamp": 1629465593
    },
    {
        "content": "<p>Interesting, I'll try that out. I just did it that way since it seemed like those were the two variables missing.</p>",
        "id": 250118767,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629466918
    },
    {
        "content": "<p>Well, looks like it worked - thanks!</p>",
        "id": 250118926,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629466977
    },
    {
        "content": "<p>I wonder if that's the same issue I've run into with zlib... There's some build configuration I keep running into where I get zlib NOTFOUND even though it was set to bundled.  I've only run into it 2 times I think, and each time was fixed by just doing it again.  Maybe a race/ordering issue?  Or something with the depth and subbuilds?</p>",
        "id": 250131832,
        "sender_full_name": "Sean",
        "timestamp": 1629472796
    },
    {
        "content": "<p>I don't think I'm familiar enough with CMake to know why ZLIB_ROOT works instead, but maybe it's also because CMake expects to automatically generate the two variables?</p>",
        "id": 250140057,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629476571
    },
    {
        "content": "<p>Also strange, when building Debug mode:</p>\n<div class=\"codehilite\"><pre><span></span><code>-- Configuring done\nCMake Error: The following variables are used in this project, but they are set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the CMake files:\nPNG_LIBRARY_RELEASE (ADVANCED)\n    linked by target &quot;libged-static&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/libged\n    linked by target &quot;libged&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/libged\n    linked by target &quot;libdm&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/libdm\n    linked by target &quot;libdm-static&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/libdm\n    linked by target &quot;libicv&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/libicv\n    linked by target &quot;libicv-static&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/libicv\n    linked by target &quot;fb-png&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/fb\n    linked by target &quot;png-fb&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/fb\n    linked by target &quot;bw-png&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/util\n    linked by target &quot;pix-png&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/util\n    linked by target &quot;png-bw&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/util\n    linked by target &quot;png-pix&quot; in directory C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/brlcad/src/util\n\n-- Generating done\nCMake Generate step failed.  Build files cannot be regenerated correctly.\n</code></pre></div>\n<p>I'm curious, does it matter which library is used when building Debug/Release? Just to be safe, I've been trying to use all the debug libraries built by appleseed, but this message clearly specifies Release.</p>",
        "id": 250140256,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629476693
    },
    {
        "content": "<p>Here's the CMakeCache:</p>\n<div class=\"codehilite\"><pre><span></span><code>//Directory containing libpng headers.\nPNG_INCLUDE_DIRS:STRING=C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/appleseed/windows-deps/stage/vc141/libpng-debug/include\n\n//libpng\nPNG_LIBRARIES:STRING=PNG_LIBRARY_RELEASE-NOTFOUND\n\n//Path to a library.\nPNG_LIBRARY_DEBUG:FILEPATH=C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/appleseed/windows-deps/stage/vc141/libpng-debug/lib/libpng16d.lib\n\n//Path to a library.\nPNG_LIBRARY_RELEASE:FILEPATH=PNG_LIBRARY_RELEASE-NOTFOUND\n\n//Path to a file.\nPNG_PNG_INCLUDE_DIR:PATH=C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/appleseed/windows-deps/stage/vc141/libpng-debug/include\n\n//No help, variable specified on the command line.\nPNG_ROOT:UNINITIALIZED=C:\\Users\\JeffL\\Desktop\\Open-Source\\BRL-CAD\\appleseed\\windows-deps\\stage\\vc141\\libpng-debug\n</code></pre></div>",
        "id": 250140304,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629476715
    },
    {
        "content": "<p>So the debug library is being found, which makes sense because I set the root directory as the libpng-debug directory, but it's also asking for release?</p>",
        "id": 250140603,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629476883
    },
    {
        "content": "<p>That's strange - libged is using PNG_LIBRARIES, which is supposed to be set in src/other/ext/png.cmake to either the png target (if building bundled) or (if defined) ${PNG_LIBRARY_RELEASE} or ${PNG_LIBRARY_DEBUG} - i.e., the contents of those variables.</p>",
        "id": 250142143,
        "sender_full_name": "starseeker",
        "timestamp": 1629477608
    },
    {
        "content": "<p>Debug builds of MSVC compilations aren't redistributable, so unless we're in a very specific debugging scenario where we need to walk into the png library we want the release build.</p>",
        "id": 250142281,
        "sender_full_name": "starseeker",
        "timestamp": 1629477706
    },
    {
        "content": "<p>It looks as if the test \"if (DEFINED PNG_LIBRARY_RELEASE)\" is passing despite PNG_LIBRARY_RELEASE having a \"NOTFOUND\" value.</p>",
        "id": 250142425,
        "sender_full_name": "starseeker",
        "timestamp": 1629477793
    },
    {
        "content": "<p>Ah okay, so in general, is it better to use the release version for these libraries?</p>",
        "id": 250142515,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629477844
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> in src/other/ext/png.cmake try changing the last block setting PNG_LIBRARIES to the following:</p>\n<div class=\"codehilite\"><pre><span></span><code>  if (PNG_LIBRARY_RELEASE)\n    set(PNG_LIBRARIES ${PNG_LIBRARY_RELEASE} CACHE STRING &quot;libpng&quot; FORCE)\n  else (PNG_LIBRARY_RELEASE)\n    set(PNG_LIBRARIES ${PNG_LIBRARY_DEBUG} CACHE STRING &quot;libpng&quot; FORCE)\n  endif (PNG_LIBRARY_RELEASE)\n</code></pre></div>",
        "id": 250142545,
        "sender_full_name": "starseeker",
        "timestamp": 1629477860
    },
    {
        "content": "<p>If that works we'll need to update the logic in the repo - I hadn't noticed that a NOTFOUND setting would also result in DEFINED passing, but it seems it does.</p>",
        "id": 250142638,
        "sender_full_name": "starseeker",
        "timestamp": 1629477928
    },
    {
        "content": "<p>Sounds good, I'll try it and rerun Cmake right now.</p>",
        "id": 250142677,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629477954
    },
    {
        "content": "<p>Looks like I'm just always using ZLIB_LIBRARY_RELEASE in the zlib.cmake logic - I suppose I should do the same thing as we do for PNG so it's consistent.</p>",
        "id": 250143754,
        "sender_full_name": "starseeker",
        "timestamp": 1629478515
    },
    {
        "content": "<p>What I can probably do is use the DEFINED test on ZLIB_LIBRARIES and PNG_LIBRARIES to see if the user has specified something in particular and not override it - otherwise, go with release if defined and if that doesn't work try debug.</p>",
        "id": 250143925,
        "sender_full_name": "starseeker",
        "timestamp": 1629478604
    },
    {
        "content": "<p>In retrospect I'm not surprised there are some kinks in this part of the logic - system installs of libs on Windows is a relatively uncommon build scenario, and not one I'm well set up to test.</p>",
        "id": 250144142,
        "sender_full_name": "starseeker",
        "timestamp": 1629478711
    },
    {
        "content": "<p>I think it worked, the CMake generation succeeded and I'm compiling now.</p>",
        "id": 250144927,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629479074
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> I pushed an update to the zlib and png logic - when you get a chance if you can try from a clean build directory and see if that works it would be helpful :-)</p>",
        "id": 250145438,
        "sender_full_name": "starseeker",
        "timestamp": 1629479348
    },
    {
        "content": "<p>Ugh, still an error with ZLib - looks like the include directory isn't actually being set properly. Will pull the changes and try a fresh build.</p>",
        "id": 250146898,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629480120
    },
    {
        "content": "<p>CMake looks good so far I think... compiling again.</p>",
        "id": 250148485,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629480861
    },
    {
        "content": "<p>I keep getting this error, even though I'm setting ZLIB_ROOT? <br>\n<code>424&gt;C:\\Users\\JeffL\\Desktop\\Open-Source\\BRL-CAD\\brlcad\\src\\other\\openNURBS\\opennurbs_zlib.h(42,10): fatal error C1083: Cannot open include file: 'zlib.h': No such file or directory</code></p>",
        "id": 250149394,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629481281
    },
    {
        "content": "<p>This is the Cmake cache, not entirely sure what it means: </p>\n<div class=\"codehilite\" data-code-language=\"//advanced\"><pre><span></span><code>ZLIB_INCLUDE_DIR-ADVANCED:INTERNAL=1\n//ADVANCED property for variable: ZLIB_LIBRARY_DEBUG\nZLIB_LIBRARY_DEBUG-ADVANCED:INTERNAL=1\n//ADVANCED property for variable: ZLIB_LIBRARY_RELEASE\nZLIB_LIBRARY_RELEASE-ADVANCED:INTERNAL=1```\n</code></pre></div>",
        "id": 250149555,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629481370
    },
    {
        "content": "<p>Also just a note, these compilation errors are being caused when trying to build appleseed with this command: <code>cmake .. -DAppleseed_ROOT=\"C:\\Users\\JeffL\\Desktop\\Open-Source\\BRL-CAD\\appleseed\" -DBRLCAD_PNG=SYSTEM -DBRLCAD_ZLIB=SYSTEM -DZLIB_ROOT=\"C:\\Users\\JeffL\\Desktop\\Open-Source\\BRL-CAD\\appleseed\\windows-deps\\stage\\vc141\\zlib-debug\" -DPNG_ROOT=\"C:\\Users\\JeffL\\Desktop\\Open-Source\\BRL-CAD\\appleseed\\windows-deps\\stage\\vc141\\libpng-debug\" -DCMAKE_BUILD_TYPE=Debug</code></p>",
        "id": 250149622,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629481406
    },
    {
        "content": "<p>Weird, I ran CMAKE with the <code>-LA</code> flag enabled, and this was printed:</p>\n<div class=\"codehilite\"><pre><span></span><code>ZLIB_INCLUDE_DIR:PATH=C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/appleseed/windows-deps/stage/vc141/zlib-debug/include\nZLIB_INCLUDE_DIRS:STRING=C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/appleseed/windows-deps/stage/vc141/zlib-debug/include\nZLIB_LIBRARIES:STRING=C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/appleseed/windows-deps/stage/vc141/zlib-debug/lib/zlibd.lib\nZLIB_LIBRARY_DEBUG:FILEPATH=C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/appleseed/windows-deps/stage/vc141/zlib-debug/lib/zlibd.lib\nZLIB_LIBRARY_RELEASE:FILEPATH=ZLIB_LIBRARY_RELEASE-NOTFOUND\n</code></pre></div>\n<p>which should mean that the include directory was set properly, right?</p>",
        "id": 250153259,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629483122
    },
    {
        "content": "<p>Seems like it's the compiler error for a ton of different projects too...</p>",
        "id": 250154047,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629483511
    },
    {
        "content": "<p>So there is a zlib.h in vc141/zlib-debug/include ?</p>",
        "id": 250163372,
        "sender_full_name": "starseeker",
        "timestamp": 1629488322
    },
    {
        "content": "<p>You can check what the openNURBS part of the build is seeing by putting the following in src/other/openNURBS/CMakeLists.txt:</p>\n<div class=\"codehilite\"><pre><span></span><code>message(&quot;ZLIB_INCLUDE_DIRS: ${ZLIB_INCLUDE_DIRS}&quot;)\n</code></pre></div>",
        "id": 250163730,
        "sender_full_name": "starseeker",
        "timestamp": 1629488509
    },
    {
        "content": "<p>Yeah, I can definitely see it through the file explorer. I think the issue is also occurring in other projects aside from openNURBs too though.</p>",
        "id": 250163907,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629488609
    },
    {
        "content": "<p>Can you check the visual studio project to make sure it does in fact have the include directory set?</p>",
        "id": 250164078,
        "sender_full_name": "starseeker",
        "timestamp": 1629488693
    },
    {
        "content": "<p>This is what it says, but I'm pretty sure most CMake projects end up doing this:<br>\n<code>$(VC_IncludePath);$(WindowsSDK_IncludePath);</code></p>",
        "id": 250164603,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629489003
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> Can you try the ninja generator?</p>",
        "id": 250165482,
        "sender_full_name": "starseeker",
        "timestamp": 1629489561
    },
    {
        "content": "<p>fwiw, I just tried pointing my Linux build to appleseed and it did find it and build (crashes at runtime, but does appear to try and do something...)</p>",
        "id": 250165924,
        "sender_full_name": "starseeker",
        "timestamp": 1629489792
    },
    {
        "content": "<p>The ZLIB_INCLUDE_DIRS above looks OK, assuming the file zlib.h is in fact present in appleseed/windows-deps/stage/vc141/zlib-debug/include</p>",
        "id": 250166342,
        "sender_full_name": "starseeker",
        "timestamp": 1629490015
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112516\">starseeker</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/250165482\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"250111\">Jeffrey Liu</span> Can you try the ninja generator?</p>\n</blockquote>\n<p>Sorry I've never done this before, is there a resource I could reference?</p>",
        "id": 250167418,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629490643
    },
    {
        "content": "<p>Yeah, printing the include directory also works: <br>\n<code>OPENNURBS: ZLIB_INCLUDE_DIRS: C:/Users/JeffL/Desktop/Open-Source/BRL-CAD/appleseed/windows-deps/stage/vc141/zlib-debug/include</code></p>",
        "id": 250167889,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629490910
    },
    {
        "content": "<p>This is so weird, I can even open zlib.h perfectly fine through VS2019, when trying to jump to it through openNURBS_zlib.h. I'm trying to recompile again but my hopes aren't high.</p>",
        "id": 250168466,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629491195
    },
    {
        "content": "<p>My guess is, even though some projects don't depend on Zlib, including OpenNURBS adds an inherent dependency because opennurbs.h includes opennurbs_zlib.h itself.</p>",
        "id": 250169936,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629492036
    },
    {
        "content": "<p>I wonder why this is only an issue when manually specifying Zlib though?</p>",
        "id": 250169990,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629492074
    },
    {
        "content": "<p>Tried to cheat and add <code>${ZLIB_INCLUDE_DIRS}</code> to the <code>${OPENNURBS_INCLUDE_DIRS}</code> definition, but it didn't seem to work. I'm not sure how to find a workaround for this...</p>",
        "id": 250176437,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1629495938
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span>  for Ninja on Windows, here are some starting points: </p>\n<p><a href=\"https://cmake.org/pipermail/cmake/2019-May/069457.html\">https://cmake.org/pipermail/cmake/2019-May/069457.html</a><br>\n<a href=\"https://cmake.org/pipermail/cmake/2019-May/069459.html\">https://cmake.org/pipermail/cmake/2019-May/069459.html</a><br>\n<a href=\"https://github.com/rwols/CMakeBuilder/wiki/Ninja-for-Windows-Installation-Instructions\">https://github.com/rwols/CMakeBuilder/wiki/Ninja-for-Windows-Installation-Instructions</a><br>\n<a href=\"https://docs.microsoft.com/en-us/visualstudio/ide/reference/command-prompt-powershell?view=vs-2019\">https://docs.microsoft.com/en-us/visualstudio/ide/reference/command-prompt-powershell?view=vs-2019</a></p>",
        "id": 250212411,
        "sender_full_name": "starseeker",
        "timestamp": 1629545059
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112516\">starseeker</span> <a href=\"#narrow/stream/104062-general/topic/Appleseed/near/250142425\">said</a>:</p>\n<blockquote>\n<p>It looks as if the test \"if (DEFINED PNG_LIBRARY_RELEASE)\" is passing despite PNG_LIBRARY_RELEASE having a \"NOTFOUND\" value.</p>\n</blockquote>\n<p>According to the docs, that's the correct behavior for \"if (defined VAR)\" as it says that takes no regard to the value, unlike if (VAR) that will consider NOTFOUND as false.  Was it supposed to be \"if (VAR)\"?</p>",
        "id": 250444194,
        "sender_full_name": "Sean",
        "timestamp": 1629783250
    },
    {
        "content": "<p>Some appleseed rendering progress pics.. <br>\n<a href=\"/user_uploads/1549/Uz4NfBVUixxtmcK1-FCtnKTu/image.png\">image.png</a><br>\n<a href=\"/user_uploads/1549/UsP7hVf30Eh0fJR7zn8FZiJc/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/Uz4NfBVUixxtmcK1-FCtnKTu/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/Uz4NfBVUixxtmcK1-FCtnKTu/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/1549/UsP7hVf30Eh0fJR7zn8FZiJc/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/UsP7hVf30Eh0fJR7zn8FZiJc/image.png\"></a></div>",
        "id": 260016630,
        "sender_full_name": "Sean",
        "timestamp": 1635868667
    },
    {
        "content": "<p>More progress!  <a href=\"/user_uploads/1549/LtbRwDO17sbwdcv8_PQfZhCl/merged_4.gif\">merged_4.gif</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/LtbRwDO17sbwdcv8_PQfZhCl/merged_4.gif\" title=\"merged_4.gif\"><img src=\"/user_uploads/1549/LtbRwDO17sbwdcv8_PQfZhCl/merged_4.gif\"></a></div>",
        "id": 263469147,
        "sender_full_name": "Sean",
        "timestamp": 1638464766
    },
    {
        "content": "<p>that looks awesome! could I ask what changes have been made?</p>",
        "id": 263628857,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1638560941
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> YES!  The biggest is probably that it now walks the hierarchy and registers each region individually with appleseed.</p>",
        "id": 263750557,
        "sender_full_name": "Sean",
        "timestamp": 1638681586
    },
    {
        "content": "<p>that required creating a bounding box callback in the plugin so each object would report its box correctly (pre-computed on the art side)</p>",
        "id": 263750603,
        "sender_full_name": "Sean",
        "timestamp": 1638681627
    },
    {
        "content": "<p>another big change was getting shaders working, so you can specify an OSL shader, specify per-object colors, etc..  that took some doing.  there's even a path (still not fully hooked up, but looks like it'll work) for going from materialx shaders to osl shaders.</p>",
        "id": 263750618,
        "sender_full_name": "Sean",
        "timestamp": 1638681709
    },
    {
        "content": "<p>chris also got a handful of rt's command-line options working including the az/el options for setting the view, background color, the set command, the number of samples to use</p>",
        "id": 263750665,
        "sender_full_name": "Sean",
        "timestamp": 1638681756
    },
    {
        "content": "<p>that's so cool! those were like the main few things on to-do list right? I'll try to read through the commits on the pull request to catch up on things</p>",
        "id": 263788955,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1638738259
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> I'll be on winter break after my last final in a few days - is there anything I can contribute to the appleseed project at the moment? I was originally planning on completing stuff from the to-do list on the wiki, but it seems like a lot of that has already been completed.</p>",
        "id": 265072643,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1639601132
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> Unless Sean chimes in, you might want to take a look at the process of translating to/from Y up and Z up coordinate systems.  From what I was told, there are still some issues lurking in that part of the logic.</p>",
        "id": 265638541,
        "sender_full_name": "starseeker",
        "timestamp": 1640051542
    },
    {
        "content": "<p>Also, I don't think threading is enabled yet.</p>",
        "id": 265638551,
        "sender_full_name": "starseeker",
        "timestamp": 1640051554
    },
    {
        "content": "<p>Got it, thanks - I'll try taking some time to set it up after the new year and see if I can contribute anything.</p>",
        "id": 265649843,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1640065569
    },
    {
        "content": "<p>Just chiming in again, in case there's anything I can do: is this where I can find the most updated version of the progress so far? <a href=\"https://github.com/BRL-CAD/brlcad/pull/11\">https://github.com/BRL-CAD/brlcad/pull/11</a>. I just wanted to make sure if this was the right place to look.</p>",
        "id": 266897566,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1641357694
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> the latest is actually mixed in that PR and another bigger monster PR.  I need to pull them out, but working on multithreading should be pretty isolated if you want to give that a go... that would be awesome!</p>",
        "id": 267280328,
        "sender_full_name": "Sean",
        "timestamp": 1641624524
    },
    {
        "content": "<p>Sounds good! should I wait for your merge then?</p>",
        "id": 267283112,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1641629065
    },
    {
        "content": "<p>just for awareness, I wrote up detailed appleseed plugin compilation steps at <a href=\"https://brlcad.org/wiki/Appleseed#Compiling_.27art.27\">https://brlcad.org/wiki/Appleseed#Compiling_.27art.27</a></p>",
        "id": 275113137,
        "sender_full_name": "Sean",
        "timestamp": 1647113446
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> I'm merging the monster patch today finally, so should be good to go.  I also updated the wiki page with status since several of the big items were resolved.</p>",
        "id": 275113146,
        "sender_full_name": "Sean",
        "timestamp": 1647113484
    },
    {
        "content": "<p>Awesome, I'll try to check it out and recompile this week. Do you know if any student has shown interest in this project for GSoC 2022?</p>",
        "id": 275175029,
        "sender_full_name": "Jeffrey Liu",
        "timestamp": 1647205540
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250111\">@Jeffrey Liu</span> none so far, but we do have a team of students in Texas working on it.  there's also an appleseed project someone could propose or work on that would greatly help: <a href=\"https://github.com/opencax/GSoC/issues/64\">https://github.com/opencax/GSoC/issues/64</a></p>",
        "id": 275383962,
        "sender_full_name": "Sean",
        "timestamp": 1647356151
    },
    {
        "content": "<p>If nobody proposes it, we'll likely have to do at least parts of that so we can do release builds..</p>",
        "id": 275384029,
        "sender_full_name": "Sean",
        "timestamp": 1647356169
    },
    {
        "content": "<p>Looks like fixing Z-up vs Y-up is going to be as simple as rotating the camera! <a href=\"/user_uploads/1549/WcevQ7oXZDgS8cDaQ6pHSTpu/f7e42faa-e9eb-4fe5-81ba-9457550adae3.jpg\">f7e42faa-e9eb-4fe5-81ba-9457550adae3.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/WcevQ7oXZDgS8cDaQ6pHSTpu/f7e42faa-e9eb-4fe5-81ba-9457550adae3.jpg\" title=\"f7e42faa-e9eb-4fe5-81ba-9457550adae3.jpg\"><img src=\"/user_uploads/1549/WcevQ7oXZDgS8cDaQ6pHSTpu/f7e42faa-e9eb-4fe5-81ba-9457550adae3.jpg\"></a></div>",
        "id": 276263797,
        "sender_full_name": "Sean",
        "timestamp": 1647988423
    },
    {
        "content": "<p>Ortho camera... <br>\n<a href=\"/user_uploads/1549/PtsMbJAl2I7UsFVhL98LbygB/m35.png\">m35.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/PtsMbJAl2I7UsFVhL98LbygB/m35.png\" title=\"m35.png\"><img src=\"/user_uploads/1549/PtsMbJAl2I7UsFVhL98LbygB/m35.png\"></a></div>",
        "id": 280580155,
        "sender_full_name": "Sean",
        "timestamp": 1651200286
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/JM-cJaztFkEQtYah4mYdHsDe/toyjeep_cc.png\">toyjeep_cc.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/JM-cJaztFkEQtYah4mYdHsDe/toyjeep_cc.png\" title=\"toyjeep_cc.png\"><img src=\"/user_uploads/1549/JM-cJaztFkEQtYah4mYdHsDe/toyjeep_cc.png\"></a></div>",
        "id": 280622098,
        "sender_full_name": "Sean",
        "timestamp": 1651233674
    },
    {
        "content": "<p>NURBS model<br>\n<a href=\"/user_uploads/1549/qcCD5elzE1-KIE8UYgbZUork/hydrant_cc.png\">hydrant_cc.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/qcCD5elzE1-KIE8UYgbZUork/hydrant_cc.png\" title=\"hydrant_cc.png\"><img src=\"/user_uploads/1549/qcCD5elzE1-KIE8UYgbZUork/hydrant_cc.png\"></a></div>",
        "id": 280752487,
        "sender_full_name": "Sean",
        "timestamp": 1651347609
    },
    {
        "content": "<p>This looks really cool, potentially useful for appleseed rendering.. <br>\n<a href=\"https://physicallybased.info\">https://physicallybased.info</a></p>",
        "id": 329348835,
        "sender_full_name": "Sean",
        "timestamp": 1677047177
    },
    {
        "content": "<p>Does anybody happen to know if BRL-CAD's use of Appleseed still requires Embree?  Or can we skip that dependency since we're using our ray intersections?</p>",
        "id": 390921423,
        "sender_full_name": "starseeker",
        "timestamp": 1694695321
    },
    {
        "content": "<p>Needs it.  It’s been a while since I looked but I believe it’s still using embree for the highest level spatial partitioning and traversal until it encounters a BRL-CAD entity.  You also could have non BRL-CAD entities in the scene.</p>",
        "id": 390930059,
        "sender_full_name": "Sean",
        "timestamp": 1694697941
    },
    {
        "content": "<p>Got it.</p>",
        "id": 390934082,
        "sender_full_name": "starseeker",
        "timestamp": 1694699134
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> are the updates to Appleseed that are pending upstream submission anywhere I can access?  I don't want to jinx myself but on Linux I've managed to build the newest versions of the  dependencies listed at <a href=\"https://github.com/appleseedhq/linux-deps/releases\">https://github.com/appleseedhq/linux-deps/releases</a> so I'm curious to try building Appleseed proper.</p>",
        "id": 390934403,
        "sender_full_name": "starseeker",
        "timestamp": 1694699230
    },
    {
        "content": "<p>I still need to handle flex/bison, which apparently are needed by OSL, and do a systematic check to see if I've inadvertently pulled in system libs anywhere  I shouldn't (not to mention actually testing if any of the built stuff actually <em>works</em>...)</p>",
        "id": 390934808,
        "sender_full_name": "starseeker",
        "timestamp": 1694699363
    },
    {
        "content": "<p>And \"mean\" doesn't even begin to describe what a full build of all of this looks like - it's a 17 gig build directory even without Appleseed proper (hi LLVM...)</p>",
        "id": 390934975,
        "sender_full_name": "starseeker",
        "timestamp": 1694699406
    },
    {
        "content": "<p>(Don't worry, I'm doing all this in a fork of brlcad_externals - I'm not moving that one beyond the existing set until we get things tied off for switching over.)</p>",
        "id": 390935480,
        "sender_full_name": "starseeker",
        "timestamp": 1694699592
    },
    {
        "content": "<p>Some of it is that some of it isn’t. There’s a pull request and get hub that has most of the python changes but some of the cmake changes I just have locally as I wasn’t trying to be clean.  I don’t think the student was able to figure it out but then you can probably figure it out faster than he did, some of the dependencies changed name and their variables changed others split to separate things so variables need to get updated. I think Boost needed a couple flags.</p>",
        "id": 390937085,
        "sender_full_name": "Sean",
        "timestamp": 1694700096
    },
    {
        "content": "<p>There’s also a pending pull request with a bunch of Mac changes, or at least there was.  One of the guys might have pulled that one in.</p>",
        "id": 390937402,
        "sender_full_name": "Sean",
        "timestamp": 1694700186
    },
    {
        "content": "<p>Got it.  OK, I'll try to at least rough out the logic for flex/bison and then give it a go - thanks!</p>",
        "id": 390937640,
        "sender_full_name": "starseeker",
        "timestamp": 1694700245
    },
    {
        "content": "<p>Sounds good.  I’d like to push back a few clean and easy unambiguous pull requests to hopefully earn some direct commit trust.  There’s not been an ounce of pushback but it’d be nice to help more directly and not have to sync.</p>",
        "id": 390939428,
        "sender_full_name": "Sean",
        "timestamp": 1694700654
    },
    {
        "content": "<p>I hadn't looked in a while - the upstream has been really quite since 2020.  Not too surprising if you look at the lead dev's day job since then I guess...</p>",
        "id": 390939708,
        "sender_full_name": "starseeker",
        "timestamp": 1694700720
    },
    {
        "content": "<p>Yeah I talked to Franz in private a few time since then.  Pandemic casualty like many other open source projects.  He just has zero time.</p>",
        "id": 390940423,
        "sender_full_name": "Sean",
        "timestamp": 1694700868
    },
    {
        "content": "<p>There’s about four other guys that are basically either active as needed (that is, they will respond and act) or in maintenance mode.</p>",
        "id": 390940845,
        "sender_full_name": "Sean",
        "timestamp": 1694700977
    },
    {
        "content": "<p>For patch/pull request purposes (or maintaining our own fork in a worst case scenario) should I make a BRL-CAD/appleseed fork?  Or would you prefer I keep it in my own project space for now?</p>",
        "id": 390941032,
        "sender_full_name": "starseeker",
        "timestamp": 1694701042
    },
    {
        "content": "<p>Their activity, notwithstanding, wouldn’t want to give me impression that we’re trying to take over the project. I think whatever makes it easier for us to make and provide clean patches, that is what we should probably do. I don’t know if that means a fork or your own space for now, but probably the latter? I think the immediate goal would be to get direct permit to help inspire their project activity.</p>",
        "id": 390941741,
        "sender_full_name": "Sean",
        "timestamp": 1694701247
    },
    {
        "content": "<p>Commit</p>",
        "id": 390941827,
        "sender_full_name": "Sean",
        "timestamp": 1694701274
    },
    {
        "content": "<p>&lt;nod&gt; I figured my own space was better, but I didn't want to leave anybody else out in the cold if they wanted to jump in</p>",
        "id": 390941890,
        "sender_full_name": "starseeker",
        "timestamp": 1694701295
    },
    {
        "content": "<p>I think that’s fine I mean that’s part of the reason for doing it as pull requests so that any collaboration or discussion happens over in their space.￼. If they don’t see that activity or don’t get in￼volved, then we will end up with a likely fork, and I don’t think that would be a good thing.</p>",
        "id": 390942720,
        "sender_full_name": "Sean",
        "timestamp": 1694701528
    },
    {
        "content": "<p>Agreed.</p>",
        "id": 390942797,
        "sender_full_name": "starseeker",
        "timestamp": 1694701557
    },
    {
        "content": "<p>Just in case, you’re not tracking, that’s a graph, Kronos announced a new API for configurable rendering systems, configurable raytracing. That may be a future direction if things get too complicated with appleseed, but for now it’s my favorite course because it’s working.</p>",
        "id": 390943297,
        "sender_full_name": "Sean",
        "timestamp": 1694701688
    },
    {
        "content": "<p>Sorry, text to speech is being just lovely. “That’s a graph “ should’ve said at Siggraph</p>",
        "id": 390943745,
        "sender_full_name": "Sean",
        "timestamp": 1694701815
    },
    {
        "content": "<p>I figured ;-)  Did they have any sort of reference implementation yet?</p>",
        "id": 390943855,
        "sender_full_name": "starseeker",
        "timestamp": 1694701842
    },
    {
        "content": "<p>Yeah, one of them is basically based off of Intel ospray￼, quite a few changes since our integration￼, and in some other ways, but they’ve been involved.  It’s a standard that other renderers are adopting so in theory we could do librt rendering in another renderer .</p>",
        "id": 390944780,
        "sender_full_name": "Sean",
        "timestamp": 1694702100
    },
    {
        "content": "<p>Hmm.  Sounds interesting.  Is our existing OSPray work potentially reusable in that context?</p>",
        "id": 390944918,
        "sender_full_name": "starseeker",
        "timestamp": 1694702148
    },
    {
        "content": "<p>It’s one of the key takeaways that I still need to summarize…</p>",
        "id": 390945089,
        "sender_full_name": "Sean",
        "timestamp": 1694702205
    },
    {
        "content": "<p>Ah, gotcha.</p>",
        "id": 390945117,
        "sender_full_name": "starseeker",
        "timestamp": 1694702215
    },
    {
        "content": "<p>I mean it’s roughly useful sure.  But some significant changes for sure.  We have direct hooks in ospray, embree, and Ispc to make that work.</p>",
        "id": 390945581,
        "sender_full_name": "Sean",
        "timestamp": 1694702355
    },
    {
        "content": "<p>Ah.  I'd forgotten we hooked into lspc directly.</p>",
        "id": 390945675,
        "sender_full_name": "starseeker",
        "timestamp": 1694702387
    },
    {
        "content": "<p>More render mods that are needed as ispc source code, but yeah.  Tight optimizations.</p>",
        "id": 390946253,
        "sender_full_name": "Sean",
        "timestamp": 1694702539
    },
    {
        "content": "<p>As long as I'm at it, I should probably see if I can get OSPray building in this setup as well.</p>",
        "id": 390955728,
        "sender_full_name": "starseeker",
        "timestamp": 1694704382
    },
    {
        "content": "<p>Ospray is even more does than Appleseed but pretty smooth.</p>",
        "id": 390971532,
        "sender_full_name": "Sean",
        "timestamp": 1694706647
    },
    {
        "content": "<p>even more dependencies you mean?</p>",
        "id": 390973569,
        "sender_full_name": "starseeker",
        "timestamp": 1694707288
    },
    {
        "content": "<p>Yes</p>",
        "id": 390975227,
        "sender_full_name": "Sean",
        "timestamp": 1694707792
    },
    {
        "content": "<p>That's intimidating - hopefully there's a fair bit of overlap.</p>",
        "id": 390975320,
        "sender_full_name": "starseeker",
        "timestamp": 1694707815
    },
    {
        "content": "<p>OK, so good news and bad news.  Good news is I finally got ISPC to compile on Linux.  The bad news is they apparently have a hard requirement for GNU m4 during build - I tried one of the BSD m4 implementations and it couldn't handle their m4.  I also confirmed with the ISPC project they have no interest in m4 portability - they use Cygwin's bundled m4.</p>",
        "id": 391032598,
        "sender_full_name": "starseeker",
        "timestamp": 1694733901
    },
    {
        "content": "<p>Porting GNU m4 to Windows... I supposed I can do it in the end if absolutely necessary, but that's looking to be a non-trivial exercise - and it's GPL to boot.</p>",
        "id": 391032672,
        "sender_full_name": "starseeker",
        "timestamp": 1694733961
    },
    {
        "content": "<p>Yikes.  They also require Python.  And of course that doesn't install cleanly even on Linux... grr.</p>",
        "id": 391273378,
        "sender_full_name": "starseeker",
        "timestamp": 1694816673
    },
    {
        "content": "<p>It cuts against the grain, but maybe the practical thing to do is require an install of Python3 to build the OSPray stack</p>",
        "id": 391274662,
        "sender_full_name": "starseeker",
        "timestamp": 1694817331
    },
    {
        "content": "<p>I think I immediately hit this issue:  <a href=\"https://github.com/python/cpython/issues/90737\">https://github.com/python/cpython/issues/90737</a></p>",
        "id": 391274755,
        "sender_full_name": "starseeker",
        "timestamp": 1694817365
    },
    {
        "content": "<p>Oh well - a bunch of asterisks, but stil:  <a href=\"/user_uploads/1549/d_WqLpnOmRTHGBr3MDM6dnim/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/d_WqLpnOmRTHGBr3MDM6dnim/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/d_WqLpnOmRTHGBr3MDM6dnim/image.png\"></a></div>",
        "id": 391286720,
        "sender_full_name": "starseeker",
        "timestamp": 1694821408
    },
    {
        "content": "<p>Ah hah. <br>\n<a href=\"/user_uploads/1549/ImNIom7NDLLM-gajlfU502rU/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/ImNIom7NDLLM-gajlfU502rU/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/ImNIom7NDLLM-gajlfU502rU/image.png\"></a></div>",
        "id": 391726342,
        "sender_full_name": "starseeker",
        "timestamp": 1695051255
    },
    {
        "content": "<p>Perhaps I'm missing something obvious:  when trying to use a bundled icu and xerces-c, I'm getting the following error:</p>\n<div class=\"codehilite\"><pre><span></span><code>./bin/art\n./bin/art: symbol lookup error: /home/user/brlcad/build/lib/libxerces-c-3.2.so: undefined symbol: UCNV_FROM_U_CALLBACK_SUBSTITUTE_73\n</code></pre></div>\n<p>If I check ldd I see what I expect:</p>\n<div class=\"codehilite\"><pre><span></span><code>$ ldd lib/libxerces-c-3.2.so\n    linux-vdso.so.1 (0x00007fff109f1000)\n    libicuuc.so.73 =&gt; /home/user/brlcad/build/lib/libicuuc.so.73 (0x00007f212c406000)\n    libstdc++.so.6 =&gt; /lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f212c000000)\n    libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007f212ce14000)\n    libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f212cdf0000)\n    libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f212bc00000)\n    libicudata.so.73 =&gt; /home/user/brlcad/build/lib/libicudata.so.73 (0x00007f212cde5000)\n    /lib64/ld-linux-x86-64.so.2 (0x00007f212cf20000)\n</code></pre></div>\n<p>And if I check nm -D on the files in question, I'm getting:</p>\n<div class=\"codehilite\"><pre><span></span><code>$ nm -D /home/user/brlcad/build/lib/libicuuc.so |grep UCNV_FROM_U_CALLBACK_SUBSTITUTE_73\n00000000000de680 T UCNV_FROM_U_CALLBACK_SUBSTITUTE_73\n$ nm -D /home/user/brlcad/build/lib/libxerces-c-3.2.so |grep UCNV_FROM_U_CALLBACK_SUBSTITUTE_73\n                 U UCNV_FROM_U_CALLBACK_SUBSTITUTE_73\n</code></pre></div>\n<p>How do I interpret this?  Why does <a href=\"http://libxerces-c-3.2.so\">libxerces-c-3.2.so</a> not get the definition from <a href=\"http://libicuuc.so\">libicuuc.so</a>?</p>",
        "id": 392052708,
        "sender_full_name": "starseeker",
        "timestamp": 1695191882
    },
    {
        "content": "<p>Nevermind, I figured it out - LIEF isn't handling the <a href=\"http://libicuuc.so\">libicuuc.so</a> file correctly:  <a href=\"https://github.com/lief-project/LIEF/issues/969\">https://github.com/lief-project/LIEF/issues/969</a></p>",
        "id": 392229448,
        "sender_full_name": "starseeker",
        "timestamp": 1695260158
    },
    {
        "content": "<p>Back to patchelf for now...</p>",
        "id": 392229510,
        "sender_full_name": "starseeker",
        "timestamp": 1695260188
    },
    {
        "content": "<p>Sweet - upstream was able to fix.  plief re-enabled</p>",
        "id": 392416979,
        "sender_full_name": "starseeker",
        "timestamp": 1695343109
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"484201\">@Christopher</span> possibly of assistance on the windows crash... <a href=\"https://drmemory.org\">https://drmemory.org</a></p>",
        "id": 417470633,
        "sender_full_name": "Sean",
        "timestamp": 1706023786
    },
    {
        "content": "<p>Hey Sean, out of curiosity do you know how the OpenMoonRay renderer from DreamWorks compares to Appleseed?</p>",
        "id": 433351921,
        "sender_full_name": "starseeker",
        "timestamp": 1713203202
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112516\">@starseeker</span> heh, that's like asking how NX compares with Solidworks...  They're both production renderers.  OpenMoonRay is certainly newer and with lots of really cool features.  However, the critical feature Appleseed provided was the hook that allows for the ray intersection query to be replaced with librt.  There has been a lot of standardization from Khronos to try and make that a thing all renderers provide, but I've not yet explored how much work that would entail.</p>",
        "id": 433835434,
        "sender_full_name": "Sean",
        "timestamp": 1713373388
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> Fair enough.  I suppose since OpenMoonRay was asking for help with a Windows port it wouldn't buy us much practically speaking anyway at this point, even if we could plug librt into it as-is...</p>",
        "id": 433842393,
        "sender_full_name": "starseeker",
        "timestamp": 1713375899
    },
    {
        "content": "<p>I mean I definitely had the same thought -- gave a nice talk last year at Kronos BoF last year siggraph.</p>",
        "id": 433843623,
        "sender_full_name": "Sean",
        "timestamp": 1713376391
    },
    {
        "content": "<p>Wasn't the only code in discussion too.  There's a couple others that might give us production plug-in rendering via librt if the standardization sticks and is adopted.  But it was all being announced, so little to go on just yet.</p>",
        "id": 433843891,
        "sender_full_name": "Sean",
        "timestamp": 1713376486
    },
    {
        "content": "<p>Gotcha.  I know a fair chunk of the dependency stack will be the same regardless thanks to everybody using that <a href=\"https://vfxplatform.com/\">VFX Platform</a>  set, so if it does make sense someday most of the painful part will probably already be handled.   I know at this point hunting down our Appleseed Windows issues almost has to be less work than any other option, but I'm a little leery of how quiet the Appleseed upstream is...</p>",
        "id": 433844622,
        "sender_full_name": "starseeker",
        "timestamp": 1713376725
    },
    {
        "content": "<p>Interesting and relevant, neutral PBR coloring for realistic CAD lighting:<br>\n<a href=\"https://www.khronos.org/news/press/khronos-pbr-neutral-tone-mapper-released-for-true-to-life-color-rendering-of-3d-products\">Press Release - The Khronos Group Inc</a></p>",
        "id": 439863695,
        "sender_full_name": "Sean",
        "timestamp": 1716311544
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> which version of <code>appleseed</code> can help for art? Currently I pulled the latest one <a href=\"https://github.com/appleseedhq/appleseed/releases/tag/2.1.0-beta\">2.1.0-beta</a> and tried to compile <code>art</code> and VS complaining for <code>#include \"foundation/containers/dictionary.h\"</code> not found. I saw that this <code>containers/dictionary.h</code> is not present inside appleseed.</p>",
        "id": 442891771,
        "sender_full_name": "Himanshu",
        "timestamp": 1717620901
    },
    {
        "content": "<p><code>log/consolelogtarget.h\"</code> and <code>utility/searchpaths.h</code> is also not present <code>appleseed/include/foundation</code>.</p>",
        "id": 442893526,
        "sender_full_name": "Himanshu",
        "timestamp": 1717621351
    },
    {
        "content": "<p>I am getting these errors from <code>art.cpp</code> and <code>brlcadplugin.cpp</code>.</p>",
        "id": 442893714,
        "sender_full_name": "Himanshu",
        "timestamp": 1717621408
    },
    {
        "content": "<p>I saw this PR in our brlcad repo <a href=\"https://github.com/BRL-CAD/brlcad/pull/117\">Fix appleseed error when appleseed version &gt; 2.0 #116 by Rainy-fall-end · Pull Request #117 · BRL-CAD/brlcad (github.com)</a></p>",
        "id": 442894009,
        "sender_full_name": "Himanshu",
        "timestamp": 1717621493
    },
    {
        "content": "<p>The Appleseed I've been using for testing is here:  <a href=\"https://github.com/BRL-CAD/appleseed\">https://github.com/BRL-CAD/appleseed</a></p>",
        "id": 442943525,
        "sender_full_name": "starseeker",
        "timestamp": 1717637971
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112516\">starseeker</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/442943525\">said</a>:</p>\n<blockquote>\n<p>The Appleseed I've been using for testing is here:  <a href=\"https://github.com/BRL-CAD/appleseed\">https://github.com/BRL-CAD/appleseed</a></p>\n</blockquote>\n<p>Btw any binary version of appleseed you know that is stable for windows?</p>",
        "id": 443372625,
        "sender_full_name": "Himanshu",
        "timestamp": 1717791869
    },
    {
        "content": "<p>I am asking because now I saw that I have to build it <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 443372731,
        "sender_full_name": "Himanshu",
        "timestamp": 1717791899
    },
    {
        "content": "<p>Btw I have Visual Studio 2022 so is it gonna work?</p>",
        "id": 443380217,
        "sender_full_name": "Himanshu",
        "timestamp": 1717794453
    },
    {
        "content": "<p>/me astonished by the download size of appleseed and its windows-deps.</p>",
        "id": 443380364,
        "sender_full_name": "Himanshu",
        "timestamp": 1717794511
    },
    {
        "content": "<p>I tested both the last stable build (from a couple years ago) and a recent dev build and got both to work.</p>",
        "id": 443380417,
        "sender_full_name": "Sean",
        "timestamp": 1717794543
    },
    {
        "content": "<p>Most recently used 2022 so that should be fine.  Bigger issue was dependencies, making sure to match the compile settings.</p>",
        "id": 443380560,
        "sender_full_name": "Sean",
        "timestamp": 1717794608
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443380417\">said</a>:</p>\n<blockquote>\n<p>I tested both the last stable build (from a couple years ago) and a recent dev build and got both to work.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> you tried this one <a href=\"https://github.com/appleseedhq/appleseed/releases/tag/2.1.0-beta\">2.1.0-beta</a> ?</p>",
        "id": 443380968,
        "sender_full_name": "Himanshu",
        "timestamp": 1717794801
    },
    {
        "content": "<p>Is this step <code>Edit Boost_* component variables to have 'lib' prefix (e.g., libboost_atomic... instead of boost_atomic...)</code> is still required mentioned in <a href=\"https://brlcad.org/wiki/Appleseed#Compiling_.27art.27:~:text=Edit%20Boost_*%20component%20variables%20to%20have%20%27lib%27%20prefix%20(e.g.%2C%20libboost_atomic...%20instead%20of%20boost_atomic...)\">readme</a>?</p>",
        "id": 443382104,
        "sender_full_name": "Himanshu",
        "timestamp": 1717795322
    },
    {
        "content": "<p>Because I am not able to find how to edit it using CMake GUI.</p>",
        "id": 443382202,
        "sender_full_name": "Himanshu",
        "timestamp": 1717795358
    },
    {
        "content": "<p>Yeah I think I tried the beta too but there are even more recent builds on Discord</p>",
        "id": 443382667,
        "sender_full_name": "Sean",
        "timestamp": 1717795588
    },
    {
        "content": "<p>I do believe the boost mods are required for all the versions, it’s a cmake issue.</p>",
        "id": 443382761,
        "sender_full_name": "Sean",
        "timestamp": 1717795639
    },
    {
        "content": "<p>Turn on advanced variables and run configure once, the you’ll see them.</p>",
        "id": 443382795,
        "sender_full_name": "Sean",
        "timestamp": 1717795670
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443382667\">said</a>:</p>\n<blockquote>\n<p>Yeah I think I tried the beta too but there are even more recent builds on Discord</p>\n</blockquote>\n<p>I extracted the beta and I saw the errors that I am getting is for missing files.<br>\n<a href=\"/user_uploads/1549/5Z71tLfe06Il5id37zTA2fAb/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/5Z71tLfe06Il5id37zTA2fAb/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/5Z71tLfe06Il5id37zTA2fAb/image.png\"></a></div>",
        "id": 443382994,
        "sender_full_name": "Himanshu",
        "timestamp": 1717795756
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443382795\">said</a>:</p>\n<blockquote>\n<p>Turn on advanced variables and run configure once, the you’ll see them.</p>\n</blockquote>\n<p>Done that. And I find boost too there but those variables names of boost I'm not able to edit it. Only values I can edit I see.</p>",
        "id": 443383028,
        "sender_full_name": "Himanshu",
        "timestamp": 1717795779
    },
    {
        "content": "<p>Does the latest trunk have the files?  I don’t recall</p>",
        "id": 443383181,
        "sender_full_name": "Sean",
        "timestamp": 1717795832
    },
    {
        "content": "<p>Yes latest main branch contain that file which is missing in beta build binaries. <a href=\"https://github.com/appleseedhq/appleseed/blob/master/src/appleseed/foundation/containers/dictionary.h\">appleseed/src/appleseed/foundation/containers/dictionary.h at master · appleseedhq/appleseed (github.com)</a></p>",
        "id": 443383332,
        "sender_full_name": "Himanshu",
        "timestamp": 1717795908
    },
    {
        "content": "<p>Containers directory is missing from beta binaries.</p>",
        "id": 443383419,
        "sender_full_name": "Himanshu",
        "timestamp": 1717795938
    },
    {
        "content": "<p>Yeah so then don’t bother with the beta.  I think I manually added the missing headers but that was a long time ago</p>",
        "id": 443383502,
        "sender_full_name": "Sean",
        "timestamp": 1717795977
    },
    {
        "content": "<p>Any stable binary version you know that I can use now to test art?</p>",
        "id": 443383583,
        "sender_full_name": "Himanshu",
        "timestamp": 1717796022
    },
    {
        "content": "<p>Wow I am shocked that I downloaded a latest one from their discord channel and those files which are missing now present inside.</p>",
        "id": 443388225,
        "sender_full_name": "Himanshu",
        "timestamp": 1717798225
    },
    {
        "content": "<p>/me happy for now until I start building art tomorrow.</p>",
        "id": 443388273,
        "sender_full_name": "Himanshu",
        "timestamp": 1717798254
    },
    {
        "content": "<p>Yeah give that a try first.  The trick is finding the same boost that they compiled with</p>",
        "id": 443389850,
        "sender_full_name": "Sean",
        "timestamp": 1717798897
    },
    {
        "content": "<p>Has to be the same version as boost has various incompatibilities</p>",
        "id": 443389923,
        "sender_full_name": "Sean",
        "timestamp": 1717798922
    },
    {
        "content": "<p>The beta was five years ago</p>",
        "id": 443389963,
        "sender_full_name": "Sean",
        "timestamp": 1717798934
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> here what I got but I didn't see the output:<br>\n<a href=\"/user_uploads/1549/7ihTZDhqnan-27190juw1kjP/image.png\">image.png</a><br>\n<a href=\"/user_uploads/1549/9hL1o_vYeMRxu66C99LnGUuH/art.png\">art.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/7ihTZDhqnan-27190juw1kjP/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/7ihTZDhqnan-27190juw1kjP/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/1549/9hL1o_vYeMRxu66C99LnGUuH/art.png\" title=\"art.png\"><img src=\"/user_uploads/1549/9hL1o_vYeMRxu66C99LnGUuH/art.png\"></a></div>",
        "id": 443515153,
        "sender_full_name": "Himanshu",
        "timestamp": 1717875891
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443515153\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> here what I got but I didn't see the output:<br>\n<a href=\"/user_uploads/1549/7ihTZDhqnan-27190juw1kjP/image.png\">image.png</a><br>\n<a href=\"/user_uploads/1549/9hL1o_vYeMRxu66C99LnGUuH/art.png\">art.png</a></p>\n</blockquote>\n<p>It can’t find the bundled appleseed oso shader (as_plastic). art.exe needs to be able to find it in one of the paths in the line that reads “Setting osl shader search paths to..”</p>",
        "id": 443515535,
        "sender_full_name": "Christopher",
        "timestamp": 1717876234
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"484201\">Christopher</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443515535\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443515153\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> here what I got but I didn't see the output:<br>\n<a href=\"/user_uploads/1549/7ihTZDhqnan-27190juw1kjP/image.png\">image.png</a><br>\n<a href=\"/user_uploads/1549/9hL1o_vYeMRxu66C99LnGUuH/art.png\">art.png</a></p>\n</blockquote>\n<p>It can’t find the bundled appleseed oso shader (as_plastic). art.exe needs to be able to find it in one of the paths in the line that reads “Setting osl shader search paths to..”</p>\n</blockquote>\n<p>Oops I forgot to build brlcad.</p>",
        "id": 443515631,
        "sender_full_name": "Himanshu",
        "timestamp": 1717876361
    },
    {
        "content": "<p>After compiling art, I ran that command.</p>",
        "id": 443515672,
        "sender_full_name": "Himanshu",
        "timestamp": 1717876407
    },
    {
        "content": "<p>Hmm still OSL is complaining.</p>",
        "id": 443518729,
        "sender_full_name": "Himanshu",
        "timestamp": 1717878258
    },
    {
        "content": "<p>Are these .oso files present inside appleseed?</p>",
        "id": 443518906,
        "sender_full_name": "Himanshu",
        "timestamp": 1717878369
    },
    {
        "content": "<p>I haven’t poked in the appleseed binary in a while, but they should be. In example shaders or something of the sort</p>",
        "id": 443519016,
        "sender_full_name": "Christopher",
        "timestamp": 1717878449
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"484201\">Christopher</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443519016\">said</a>:</p>\n<blockquote>\n<p>I haven’t poked in the appleseed binary in a while, but they should be. In example shaders or something of the sort</p>\n</blockquote>\n<p>Ahh I see as_plastic.oso file is not present in appleseed</p>",
        "id": 443519212,
        "sender_full_name": "Himanshu",
        "timestamp": 1717878549
    },
    {
        "content": "<p>Oh.. okay it' s present. My bad.</p>",
        "id": 443519344,
        "sender_full_name": "Himanshu",
        "timestamp": 1717878618
    },
    {
        "content": "<p>Why it is not finding then <span aria-label=\"face with peeking eye\" class=\"emoji emoji-1fae3\" role=\"img\" title=\"face with peeking eye\">:face_with_peeking_eye:</span></p>",
        "id": 443519462,
        "sender_full_name": "Himanshu",
        "timestamp": 1717878684
    },
    {
        "content": "<p>Quick / dirty check would be to copy it over into your brl-cad debug bin/output/shaders and see if it can find it</p>",
        "id": 443519510,
        "sender_full_name": "Christopher",
        "timestamp": 1717878707
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"484201\">Christopher</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443519510\">said</a>:</p>\n<blockquote>\n<p>Quick / dirty check would be to copy it over into your brl-cad debug bin/output/shaders and see if it can find it</p>\n</blockquote>\n<p>Yeah, now it is able to find that <code>as_plastic.so</code> but new shader is missing <code>as_closure2surface.oso</code></p>",
        "id": 443519927,
        "sender_full_name": "Himanshu",
        "timestamp": 1717878928
    },
    {
        "content": "<p>Finally: <br>\n<a href=\"/user_uploads/1549/mTc9LH9pWYqhDbjmb92KzAO5/art.png\">art.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/mTc9LH9pWYqhDbjmb92KzAO5/art.png\" title=\"art.png\"><img src=\"/user_uploads/1549/mTc9LH9pWYqhDbjmb92KzAO5/art.png\"></a></div>",
        "id": 443520234,
        "sender_full_name": "Himanshu",
        "timestamp": 1717879104
    },
    {
        "content": "<p>Darn. So it is missing the path somewhere then <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 443520243,
        "sender_full_name": "Christopher",
        "timestamp": 1717879114
    },
    {
        "content": "<p>Samples here are so low? Why it is looking so blurry.</p>",
        "id": 443520271,
        "sender_full_name": "Himanshu",
        "timestamp": 1717879140
    },
    {
        "content": "<p>There’s a sampling knob you can turn somewhere. Let me see if I can hunt up the magic to do it</p>",
        "id": 443520317,
        "sender_full_name": "Christopher",
        "timestamp": 1717879184
    },
    {
        "content": "<p>Btw when I given path for <code>appleseed_ROOT</code>, other two variables include and lib didn't recognize the path after I hit configure. So manually I have given the path to both two.<br>\n<a href=\"/user_uploads/1549/tDxcmopvkjJN3yKmyi4n--3q/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/tDxcmopvkjJN3yKmyi4n--3q/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/tDxcmopvkjJN3yKmyi4n--3q/image.png\"></a></div>",
        "id": 443520538,
        "sender_full_name": "Himanshu",
        "timestamp": 1717879302
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443520271\">said</a>:</p>\n<blockquote>\n<p>Samples here are so low? Why it is looking so blurry.</p>\n</blockquote>\n<p>try adding</p>\n<blockquote>\n<p>-c “set samples=50”<br>\nto your command line</p>\n</blockquote>",
        "id": 443520848,
        "sender_full_name": "Christopher",
        "timestamp": 1717879478
    },
    {
        "content": "<p>looks like default samples is 25. Keep in mind, the more samples the longer the render time</p>",
        "id": 443520948,
        "sender_full_name": "Christopher",
        "timestamp": 1717879547
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"484201\">Christopher</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443520848\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443520271\">said</a>:</p>\n<blockquote>\n<p>Samples here are so low? Why it is looking so blurry.</p>\n</blockquote>\n<p>try adding</p>\n<blockquote>\n<p>-c “set samples=50”<br>\nto your command line</p>\n</blockquote>\n</blockquote>\n<p>Hmm, now I just saw it.<br>\n<a href=\"/user_uploads/1549/KHuUSc-muGZekUL4gN1hP6PC/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/KHuUSc-muGZekUL4gN1hP6PC/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/KHuUSc-muGZekUL4gN1hP6PC/image.png\"></a></div>",
        "id": 443521050,
        "sender_full_name": "Himanshu",
        "timestamp": 1717879583
    },
    {
        "content": "<p>Btw <span class=\"user-mention\" data-user-id=\"484201\">@Christopher</span> what device it is using for rendering? CPU or GPU?</p>",
        "id": 443521250,
        "sender_full_name": "Himanshu",
        "timestamp": 1717879691
    },
    {
        "content": "<p>I ran the command and I didn't see any spike in performance in task manager for both cpu and gpu. I ran that command using 100 samples.</p>",
        "id": 443521295,
        "sender_full_name": "Himanshu",
        "timestamp": 1717879725
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443521295\">said</a>:</p>\n<blockquote>\n<p>I ran the command and I didn't see any spike in performance in task manager for both cpu and gpu. I ran that command using 100 samples.</p>\n</blockquote>\n<p>Did you see the upped samples improve the image? It’s possible that command isn’t the correct foo. <br>\nIf it did, moss world is pretty trivial, it may need a lot of work to notice a spike in the task manager</p>",
        "id": 443521478,
        "sender_full_name": "Christopher",
        "timestamp": 1717879890
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443521250\">said</a>:</p>\n<blockquote>\n<p>Btw <span class=\"user-mention silent\" data-user-id=\"484201\">Christopher</span> what device it is using for rendering? CPU or GPU?</p>\n</blockquote>\n<p>It hooks directly into BRL-CADs rt - which I believe is cpu bound</p>",
        "id": 443521550,
        "sender_full_name": "Christopher",
        "timestamp": 1717879936
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"484201\">Christopher</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443521478\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443521295\">said</a>:</p>\n<blockquote>\n<p>I ran the command and I didn't see any spike in performance in task manager for both cpu and gpu. I ran that command using 100 samples.</p>\n</blockquote>\n<p>Did you see the upped samples improve the image? It’s possible that command isn’t the correct foo. <br>\nIf it did, moss world is pretty trivial, it may need a lot of work to notice a spike in the task manager</p>\n</blockquote>\n<p>I upped it to 500 samples. Now I saw some visible difference <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 443521574,
        "sender_full_name": "Himanshu",
        "timestamp": 1717879973
    },
    {
        "content": "<p>Okay I saw a spike where my cpu was 2% and raised to 10-17%.</p>",
        "id": 443521613,
        "sender_full_name": "Himanshu",
        "timestamp": 1717880030
    },
    {
        "content": "<p>Ah ok. That seems correct</p>",
        "id": 443521664,
        "sender_full_name": "Christopher",
        "timestamp": 1717880048
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"484201\">Christopher</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443521550\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/443521250\">said</a>:</p>\n<blockquote>\n<p>Btw <span class=\"user-mention silent\" data-user-id=\"484201\">Christopher</span> what device it is using for rendering? CPU or GPU?</p>\n</blockquote>\n<p>It hooks directly into BRL-CADs rt - which I believe is cpu bound</p>\n</blockquote>\n<p>So we can't switch it to GPU for now I guess.</p>",
        "id": 443521669,
        "sender_full_name": "Himanshu",
        "timestamp": 1717880059
    },
    {
        "content": "<p>Hmm I see art complains for <code>OSL headers not found.</code></p>",
        "id": 443521779,
        "sender_full_name": "Himanshu",
        "timestamp": 1717880196
    },
    {
        "content": "<p>So how to fix that? Again build it?</p>",
        "id": 443521789,
        "sender_full_name": "Himanshu",
        "timestamp": 1717880211
    },
    {
        "content": "<p>idk but I followed this <a href=\"https://brlcad.org/wiki/Appleseed#Compiling_.27art.27\">Appleseed - BRL-CAD (brlcad.org)</a></p>",
        "id": 443521815,
        "sender_full_name": "Himanshu",
        "timestamp": 1717880234
    },
    {
        "content": "<p>I don't think you need the headers at that point.  It possibly affects the compilation of new shaders as that is done on the fly.</p>",
        "id": 444315957,
        "sender_full_name": "Sean",
        "timestamp": 1718220782
    },
    {
        "content": "<p>Most concerning quality-wise is the lighting setup it still not decent.  It's too dark by default.  I think it's just using default hard-coded value right now.</p>",
        "id": 444316149,
        "sender_full_name": "Sean",
        "timestamp": 1718220839
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/444315957\">said</a>:</p>\n<blockquote>\n<p>I don't think you need the headers at that point.  It possibly affects the compilation of new shaders as that is done on the fly.</p>\n</blockquote>\n<p>Did I miss something during cmake part? Because after I compiled art and ran it, it's complaining for OSL headers.</p>",
        "id": 444688967,
        "sender_full_name": "Himanshu",
        "timestamp": 1718367892
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> Where I should start looking for the files? Because the goal here will be to make art read and work with any OSL or MaterialX shader networks, including ones using texturing, emission, subsurface scattering, etc. applied to BRL-CAD geometry.</p>",
        "id": 444695623,
        "sender_full_name": "Himanshu",
        "timestamp": 1718370052
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/444695623\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> Where I should start looking for the files? Because the goal here will be to make art read and work with any OSL or MaterialX shader networks, including ones using texturing, emission, subsurface scattering, etc. applied to BRL-CAD geometry.</p>\n</blockquote>\n<p>art is relying on precompiled osl shaders (.oso). The first step would be to get appleseed to recognize the need, and compile .osl on demand. There is already skeleton code tying in MaterialX, so the jump after supporting osl compilation should be pretty straight forward</p>",
        "id": 444701599,
        "sender_full_name": "Christopher",
        "timestamp": 1718371996
    },
    {
        "content": "<p>I remember seeing code for compiling .osl files on the fly, but definitely not seeing it in there now...</p>",
        "id": 444721319,
        "sender_full_name": "Sean",
        "timestamp": 1718377905
    },
    {
        "content": "<p>there's just one mention in region registration that the form for uncompiled osl's is different.</p>",
        "id": 444721455,
        "sender_full_name": "Sean",
        "timestamp": 1718377941
    },
    {
        "content": "<p>It may be something that Appleseed does automatically -- I'd check the code to asr:: Shader_Group to see what they do -- could very well be automatic if the headers and such are found properly.</p>",
        "id": 444721624,
        "sender_full_name": "Sean",
        "timestamp": 1718378012
    },
    {
        "content": "<p>So I need to see first why OSL headers are not being found by art. Then only I can proceed with <a href=\"https://github.com/opencax/GSoC/issues/71\">Physically-Based Rendering (PBR) advanced shaders · Issue #71 · opencax/GSoC (github.com)</a></p>",
        "id": 444781755,
        "sender_full_name": "Himanshu",
        "timestamp": 1718396325
    },
    {
        "content": "<p>Idk if I did something wrong during doing cmake and build but one way is still there that I didn't test it yet which is building appleseed in windows which is maintained here <a href=\"https://github.com/BRL-CAD/appleseed\">BRL-CAD/appleseed: DEPENDENCY: A modern open source rendering engine for animation and visual effects (github.com)</a>.</p>",
        "id": 444782168,
        "sender_full_name": "Himanshu",
        "timestamp": 1718396478
    },
    {
        "content": "<p>Because idk which binary version actually going to make it work.</p>",
        "id": 444782209,
        "sender_full_name": "Himanshu",
        "timestamp": 1718396500
    },
    {
        "content": "<p>Initially I have set Appleseed_ROOT but still after one time configure it shows it can't find include and libs of appleseed:<br>\n<a href=\"/user_uploads/1549/HoLF8Ts4DUDT0LWmTbQgcISI/image.png\">image.png</a><br>\n<a href=\"/user_uploads/1549/5jEORsivRMtG7a5W2HX5vdwd/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/HoLF8Ts4DUDT0LWmTbQgcISI/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/HoLF8Ts4DUDT0LWmTbQgcISI/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/1549/5jEORsivRMtG7a5W2HX5vdwd/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/5jEORsivRMtG7a5W2HX5vdwd/image.png\"></a></div>",
        "id": 444786644,
        "sender_full_name": "Himanshu",
        "timestamp": 1718398036
    },
    {
        "content": "<p>Oh I see now. I just copied <code>shaders</code> dir from appleseed to <code>brlcad_appleseed</code> so that <code>art</code> can find all those .oso file that is required for rendering.</p>",
        "id": 444837903,
        "sender_full_name": "Himanshu",
        "timestamp": 1718436117
    },
    {
        "content": "<p>Is there any way  I can see objects of a .g file using art so that I can pass that object instead of all.g?</p>",
        "id": 444838004,
        "sender_full_name": "Himanshu",
        "timestamp": 1718436207
    },
    {
        "content": "<p>Using rt:<br>\n<a href=\"/user_uploads/1549/_UUQqUldBZWBsZEn7fTKr-g5/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/_UUQqUldBZWBsZEn7fTKr-g5/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/_UUQqUldBZWBsZEn7fTKr-g5/image.png\"></a></div>",
        "id": 444838236,
        "sender_full_name": "Himanshu",
        "timestamp": 1718436435
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> rt vs art ?</p>",
        "id": 444838242,
        "sender_full_name": "Himanshu",
        "timestamp": 1718436458
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"252475\">@Himanshu</span> you can use mged for that:  mged file.g tops</p>",
        "id": 445459074,
        "sender_full_name": "Sean",
        "timestamp": 1718743934
    },
    {
        "content": "<p>It just happens to be named all.g for moss.g but could be named anything.  You can run ls instead of tops to see all objects or search / to print a hierarchical listing, etc.</p>",
        "id": 445459250,
        "sender_full_name": "Sean",
        "timestamp": 1718743998
    },
    {
        "content": "<p>If you have at rt command working you should be able to replace it with art to get the same rendering using Appleseed optics instead of rt’s, if that wasn’t obvious also.</p>",
        "id": 445459474,
        "sender_full_name": "Sean",
        "timestamp": 1718744066
    },
    {
        "content": "<p>Sigh.  Well, the good news is I got virtually all the dependencies updated, make check passes, and I got art to compile on Ubuntu with the latest LLVM 18 and OSL 1.3.10.0.  The bad news is all I get is a black silhouette of moss in the output image, and I don't have a clue what's wrong.</p>",
        "id": 447356941,
        "sender_full_name": "starseeker",
        "timestamp": 1719444872
    },
    {
        "content": "<p>99% of the OSL tests pass, at least from the build directory.</p>",
        "id": 447357678,
        "sender_full_name": "starseeker",
        "timestamp": 1719445175
    },
    {
        "content": "<p>Might help to check the OSL release notes.  I'd guess some default light value / variable was introduced that is initialized to zero.  The fact that you get a silhouette implies the ray tracing itself is just fine, but does point at OSL update introducing some change.</p>",
        "id": 447391131,
        "sender_full_name": "Sean",
        "timestamp": 1719467101
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/hH2IWGdDOTgqHr6cad9Xrsup/art.png\">art.png</a><br>\n500 samples.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/hH2IWGdDOTgqHr6cad9Xrsup/art.png\" title=\"art.png\"><img src=\"/user_uploads/1549/hH2IWGdDOTgqHr6cad9Xrsup/art.png\"></a></div>",
        "id": 447985029,
        "sender_full_name": "Himanshu",
        "timestamp": 1719672951
    },
    {
        "content": "<p>That looks pretty good.  Can you see if you can figure out why it’s so dark and washed out?  It might be a setting automatically being written to the project in art.cpp probably wherever it’s setting that blue background.</p>",
        "id": 447991482,
        "sender_full_name": "Sean",
        "timestamp": 1719675925
    },
    {
        "content": "<p>With rt, we have a notion of default environment ambient lighting.  For art, we probably need to make a global light source that is tied to the default ambient value so it’s both brighter by default but also can be made brighter or darker based on the -A value.</p>",
        "id": 447991746,
        "sender_full_name": "Sean",
        "timestamp": 1719676046
    },
    {
        "content": "<p>Lights are one thing that hasn’t been implemented yet because someone will need to figure out a way to map lights or specify lighting via shaders the way Appleseed does it.  Our existing light settings are liboptical so they don’t have to be preserved or used, but if would be convenient if they did map to something.</p>",
        "id": 447992085,
        "sender_full_name": "Sean",
        "timestamp": 1719676265
    },
    {
        "content": "<p>An example of that is in moss where there is a little light sphere right in the middle of the model.</p>",
        "id": 447992124,
        "sender_full_name": "Sean",
        "timestamp": 1719676305
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/447992124\">said</a>:</p>\n<blockquote>\n<p>An example of that is in moss where there is a little light sphere right in the middle of the model.</p>\n</blockquote>\n<p><a href=\"/user_uploads/1549/FYREt5VKxuNnwLjNC0gOi6NX/image.png\">image.png</a><br>\nAre you talking about this one?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/FYREt5VKxuNnwLjNC0gOi6NX/image.png\" title=\"image.png\"><img src=\"/user_uploads/1549/FYREt5VKxuNnwLjNC0gOi6NX/image.png\"></a></div>",
        "id": 447992899,
        "sender_full_name": "Himanshu",
        "timestamp": 1719676565
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span>  Here what I found <code>light_intensity *= AmbientIntensity;</code> in line 253 of art.cpp, I guess <code>light_intensity</code> determines how bright the light source is and <code>AmbientIntensity</code> is a general light that affects all objects in the scene equally.</p>",
        "id": 448098979,
        "sender_full_name": "Himanshu",
        "timestamp": 1719742444
    },
    {
        "content": "<p><code>size_t light_intensity = 200.0;</code></p>",
        "id": 448099041,
        "sender_full_name": "Himanshu",
        "timestamp": 1719742475
    },
    {
        "content": "<p>Hmm, I see <code>AmbientIntensity = 0.4;</code> in main.c for <code>rt</code>.</p>",
        "id": 448103381,
        "sender_full_name": "Himanshu",
        "timestamp": 1719744603
    },
    {
        "content": "<p><code>double AmbientIntensity = 0.4;</code> this is used by art.</p>",
        "id": 448105042,
        "sender_full_name": "Himanshu",
        "timestamp": 1719745980
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/3XmnB6zItGv3e8EVbQbHbeDO/art1.png\">art1.png</a><br>\nCastle rendered per pixel 25 samples.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/3XmnB6zItGv3e8EVbQbHbeDO/art1.png\" title=\"art1.png\"><img src=\"/user_uploads/1549/3XmnB6zItGv3e8EVbQbHbeDO/art1.png\"></a></div>",
        "id": 448723569,
        "sender_full_name": "Himanshu",
        "timestamp": 1719964028
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/447992899\">said</a>:</p>\n<blockquote>\n<p>Are you talking about this one?</p>\n</blockquote>\n<p>Yup!</p>",
        "id": 448723662,
        "sender_full_name": "Sean",
        "timestamp": 1719964060
    },
    {
        "content": "<p>Note that AmbientIntensity in rt (and presumably art, but maybe not) is controlled via the existing -A option, so you can specify -A1 for example</p>",
        "id": 448723853,
        "sender_full_name": "Sean",
        "timestamp": 1719964120
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/448723853\">said</a>:</p>\n<blockquote>\n<p>Note that AmbientIntensity in rt (and presumably art, but maybe not) is controlled via the existing -A option, so you can specify -A1 for example</p>\n</blockquote>\n<p><a href=\"/user_uploads/1549/tf9QcXeddf8_mN9WZrwTZCdW/art.png\">art.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/tf9QcXeddf8_mN9WZrwTZCdW/art.png\" title=\"art.png\"><img src=\"/user_uploads/1549/tf9QcXeddf8_mN9WZrwTZCdW/art.png\"></a></div>",
        "id": 448725070,
        "sender_full_name": "Himanshu",
        "timestamp": 1719964585
    },
    {
        "content": "<p>hmm now it's bright I can see.</p>",
        "id": 448725093,
        "sender_full_name": "Himanshu",
        "timestamp": 1719964610
    },
    {
        "content": "<p>So 0.4 is playing the part here I see.</p>",
        "id": 448725124,
        "sender_full_name": "Himanshu",
        "timestamp": 1719964631
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/FDixrMugHcAq63_2dtxA2r3h/art.png\">art.png</a><br>\nHow I can change the color of bishop?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/FDixrMugHcAq63_2dtxA2r3h/art.png\" title=\"art.png\"><img src=\"/user_uploads/1549/FDixrMugHcAq63_2dtxA2r3h/art.png\"></a></div>",
        "id": 448725782,
        "sender_full_name": "Himanshu",
        "timestamp": 1719965014
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/448725782\">said</a>:</p>\n<blockquote>\n<p><a href=\"/user_uploads/1549/FDixrMugHcAq63_2dtxA2r3h/art.png\">art.png</a><br>\nHow I can change the color of bishop?</p>\n</blockquote>\n<p>the color is coming from the bishop model. You could use the 'mater' command (something like \"mater bishop.r . 0 255 0 .\") would set the bishop green, for example</p>",
        "id": 448754574,
        "sender_full_name": "Christopher",
        "timestamp": 1719981872
    },
    {
        "content": "<p><a href=\"/user_uploads/1549/X8aBzbGGvJDJqH9fhFMLe32S/art.png\">art.png</a><br>\n500 samples. Looks good now.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/X8aBzbGGvJDJqH9fhFMLe32S/art.png\" title=\"art.png\"><img src=\"/user_uploads/1549/X8aBzbGGvJDJqH9fhFMLe32S/art.png\"></a></div>",
        "id": 448967606,
        "sender_full_name": "Himanshu",
        "timestamp": 1720048845
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"484201\">@Christopher</span> I am confused little bit for what is shader? I know shader is like a program that runs in gpu. So here shaders have different meaning?</p>",
        "id": 448968072,
        "sender_full_name": "Himanshu",
        "timestamp": 1720049158
    },
    {
        "content": "<p>oops these are material shaders I guess.</p>",
        "id": 448968247,
        "sender_full_name": "Himanshu",
        "timestamp": 1720049257
    },
    {
        "content": "<p>I am wondering now if entire graphics pipeline is written in C++ like Vulkan then what does shaders play a role in graphics pipeline?</p>",
        "id": 448971916,
        "sender_full_name": "Himanshu",
        "timestamp": 1720051343
    },
    {
        "content": "<p>A shader is a bit of logic that gives geometry appearance.  Does not have to involve a gpu as it is a general concept with many kinds of implementations.  Imagine you have an empty window or image and I tell you which pixels have geometry.  Shaders are the bit of logic that colors the pixels.</p>",
        "id": 448977307,
        "sender_full_name": "Sean",
        "timestamp": 1720054648
    },
    {
        "content": "<p>A classic shader taught in intro graphics classes is the phong shader.  You can read the wiki page but the basic idea is to consider the color and angle of the surface for a given hit point and that gives a nice simplified appearance of the surface curvature.  With a couple other inputs, you can make things appear shiny, flat, transparent, etc with very little code and very few parameters.</p>",
        "id": 448977813,
        "sender_full_name": "Sean",
        "timestamp": 1720054941
    },
    {
        "content": "<p>For production rendering, you typically do not use gpu shaders like glsl for various reasons.  In BRL-CAD there is liboptical shaders (see src/liboptical) which is what rt uses and there are shaders supported by appleseed which includes their own old-style shaders like rt’s as well as a newer general production rendering shader framework called Open Shading Language or OSL shaders for more advanced rendering.  Art creates an OSL shader definition automatically when loading and preparing geometry for rendering.</p>",
        "id": 448978336,
        "sender_full_name": "Sean",
        "timestamp": 1720055324
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"102902\">@Sean</span> So deafult value of AmbientIntensity is set to 0.4. <code>light_intensity *= ambient_intensity</code> scales light intensity based on the ambient intensity. This is why scene looks darker when the ambient intensity is 0.4 and brighter when it is 1.0.</p>",
        "id": 449980058,
        "sender_full_name": "Himanshu",
        "timestamp": 1720472381
    },
    {
        "content": "<p>I guess now it's time to start <a href=\"https://github.com/opencax/GSoC/issues/71\">Physically-Based Rendering (PBR) advanced shaders · Issue #71 · opencax/GSoC (github.com)</a>.</p>",
        "id": 449980548,
        "sender_full_name": "Himanshu",
        "timestamp": 1720472484
    },
    {
        "content": "<p>my question is why the default value is 0.4 when we know we will be getting darker image . Why not always 1.0? Or it will depend on light intensity always?</p>",
        "id": 449981855,
        "sender_full_name": "Himanshu",
        "timestamp": 1720472763
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/449981855\">said</a>:</p>\n<blockquote>\n<p>my question is why the default value is 0.4 when we know we will be getting darker image . Why not always 1.0? Or it will depend on light intensity always?</p>\n</blockquote>\n<p>I don't think there is any specific reason 0.4 was settled on. In well defined scenes, with multiple light sources, too high of a value will white-wash the image. And, as you've seen with a single light source in the example models, too low a value will make it darker. Somewhere in the middle gives flexibility from render to render.</p>",
        "id": 449993095,
        "sender_full_name": "Christopher",
        "timestamp": 1720476666
    },
    {
        "content": "<p>So to start with I should do this \"The first step would be to get appleseed to recognize the need, and compile .osl on demand.\" So where I should look at? I mean code files.</p>",
        "id": 449993763,
        "sender_full_name": "Himanshu",
        "timestamp": 1720477077
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/449981855\">said</a>:</p>\n<blockquote>\n<p>my question is why the default value is 0.4 when we know we will be getting darker image . Why not always 1.0? Or it will depend on light intensity always?</p>\n</blockquote>\n<p>With rt, we don't necessarily get a darker image as the default lighting has been calibrated for ambient+direct so that you typically see something when you render, and it's typically not too bright and not too dark.</p>\n<p>As for why that value -- I can only speculate as it's always been 0.4 for rt.  That value goes all the way back to 1989 and wasn't documented.  Now that said, the intention of the value is the contribution of ambient light to the rendering equation, and the 0.4 means 40% of the illumination is from ambient and 60% is coming from direct lighting.</p>\n<p>There are default direct lights in rt that are automatically created -- I don't believe we create the same default direct lights in art, so we're only/mostly seeing the contribution from the ambient parameter.</p>",
        "id": 449995808,
        "sender_full_name": "Sean",
        "timestamp": 1720477836
    },
    {
        "content": "<p>BUT they're also entirely different light spaces with different rendering approaches so getting rt and art to roughly match using the same value was probably wishful thinking.  What's really needed is to calibrate the intensity of a test image with controlled light conditions against an identical render environment.</p>\n<p>That would be like creating a simple sphere on a black background, rendering with rt, calculating the average intensity at 0.4 and a couple other values like A=0.0 through A=2.0 in 0.1 increments.  The default lights rt creates would need to be created in art as well, or eliminate the default light in rt and compare with a similar light definition with art, make art's background also black, then calibrate the AmbientIntensity value across that same sepectrum to produce the same intensity from art.</p>",
        "id": 449996668,
        "sender_full_name": "Sean",
        "timestamp": 1720478092
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/449993763\">said</a>:</p>\n<blockquote>\n<p>So to start with I should do this \"The first step would be to get appleseed to recognize the need, and compile .osl on demand.\" So where I should look at? I mean code files.</p>\n</blockquote>\n<p>That will hinge largely on building and bundling appleseed with BRL-CAD. The pipeline is in place with 'bext', but building appleseed, OSL, and the rest of the dependency stack is still very fragile. That is actively being worked on by starseeker and myself.</p>\n<p>It may be an easier starting point, since you're also getting familiar with the lighting system, to look at translating BRL-CAD designated light sources into appleseed light sources.</p>",
        "id": 449998863,
        "sender_full_name": "Christopher",
        "timestamp": 1720479301
    },
    {
        "content": "<p>Right now, only one point light is being generated with each scene (src/art/art.cpp ~733). Ideally, this would not only be a hard coded light source but would use BRL-CAD material shaders designated as lights and create them</p>",
        "id": 449999175,
        "sender_full_name": "Christopher",
        "timestamp": 1720479455
    },
    {
        "content": "<p>Yeah, Rt creates three lights by default that are auto positioned for a given scene being rendered.  Art needs to do that and ideally support custom lights too.</p>",
        "id": 450002980,
        "sender_full_name": "Sean",
        "timestamp": 1720480493
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/450002980\">said</a>:</p>\n<blockquote>\n<p>Yeah, Rt creates three lights by default that are auto positioned for a given scene being rendered.  Art needs to do that and ideally support custom lights too.</p>\n</blockquote>\n<p>Is there any specific thing like deciding how many lights will be there in a scene? Like art now have only one light. So the number of lights in a scene can be decided through a user I guess? So what I came to know up to now is that BRL-CAD material shaders can be designated to define lights. This means that instead of hard-coding light sources, we can use material shaders within BRL-CAD to specify lighting properties.</p>",
        "id": 450004018,
        "sender_full_name": "Himanshu",
        "timestamp": 1720480941
    },
    {
        "content": "<p>So ambient intensity, light intensity, light color and light position value will be extracted from the shaders I guess?</p>",
        "id": 450004621,
        "sender_full_name": "Himanshu",
        "timestamp": 1720481150
    },
    {
        "content": "<p>What I was going to say is that in Rt, there are different lighting modes (see src/rt/view.c header comments) where it creates either one or three default lights (see light_maker() in src/liboptical/sh_light.c) depending on the lighting mode UNLESS there are explicit lights in the scene (e.g., moss.g's all.g scene has a light).  </p>\n<p>The default for as long as I can remember is supposed to be 3 lights, but I just now noticed that it appears another dev changed the default back to just one light back in 2004.  So looks like current is just one light at the eye.</p>",
        "id": 450350107,
        "sender_full_name": "Sean",
        "timestamp": 1720590670
    },
    {
        "content": "<p>Got to say, the 3-light model looks much better on havoc:<br>\n<a href=\"/user_uploads/1549/5MpTHqEw1_y5BO9na4Ozryup/Screenshot-2024-07-10-at-1.40.22-AM.png\">Screenshot-2024-07-10-at-1.40.22-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/1549/5MpTHqEw1_y5BO9na4Ozryup/Screenshot-2024-07-10-at-1.40.22-AM.png\" title=\"Screenshot-2024-07-10-at-1.40.22-AM.png\"><img src=\"/user_uploads/1549/5MpTHqEw1_y5BO9na4Ozryup/Screenshot-2024-07-10-at-1.40.22-AM.png\"></a></div><p>Looks like it was disabled due to too much blooming on some models.</p>",
        "id": 450350254,
        "sender_full_name": "Sean",
        "timestamp": 1720590780
    },
    {
        "content": "<p>Now I kind of want to revisit whether we can restore 3-light as a brighter default.  Will have to run a slew of tests to see if I can get at the blooming issues Lee encountered, how prevalent and if they can be overcome.</p>",
        "id": 450804355,
        "sender_full_name": "Sean",
        "timestamp": 1720729388
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/450004621\">said</a>:</p>\n<blockquote>\n<p>So ambient intensity, light intensity, light color and light position value will be extracted from the shaders I guess?</p>\n</blockquote>\n<p>It's both -- even with PBR, you have some notion of global light and users need to be able to configure what that light is like.  In rt, we just have the -A ambient knob, -l lighting model type, and a default automatic light.  If the user creates lights manually, the default light is disabled and it just uses what they specified (so they get that light plus  the -A ambient light).  In those manually specified lights, they can control light intensity, color, and position as classical/old/liboptical shader settings.</p>\n<p>With art, it's kind of the same situation with there needing to be default automatic light(s), possibly some ambient light separately, and definitely explicit lights defined via new/pbr/osl shaders.</p>\n<p>Make sense?</p>",
        "id": 451196474,
        "sender_full_name": "Sean",
        "timestamp": 1720888546
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/450350254\">said</a>:</p>\n<blockquote>\n<p>Got to say, the 3-light model looks much better on havoc:<br>\n<a href=\"/user_uploads/1549/5MpTHqEw1_y5BO9na4Ozryup/Screenshot-2024-07-10-at-1.40.22-AM.png\">Screenshot-2024-07-10-at-1.40.22-AM.png</a></p>\n<p>Looks like it was disabled due to too much blooming on some models.</p>\n</blockquote>\n<p>left one havoc have three lights compared to right one where it only contain one light?</p>",
        "id": 452108177,
        "sender_full_name": "Himanshu",
        "timestamp": 1721229937
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/450804355\">said</a>:</p>\n<blockquote>\n<p>Now I kind of want to revisit whether we can restore 3-light as a brighter default.  Will have to run a slew of tests to see if I can get at the blooming issues Lee encountered, how prevalent and if they can be overcome.</p>\n</blockquote>\n<p>So we can apply three lights to bishop too.</p>",
        "id": 452110315,
        "sender_full_name": "Himanshu",
        "timestamp": 1721230533
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"102902\">Sean</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/451196474\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/450004621\">said</a>:</p>\n<blockquote>\n<p>So ambient intensity, light intensity, light color and light position value will be extracted from the shaders I guess?</p>\n</blockquote>\n<p>It's both -- even with PBR, you have some notion of global light and users need to be able to configure what that light is like.  In rt, we just have the -A ambient knob, -l lighting model type, and a default automatic light.  If the user creates lights manually, the default light is disabled and it just uses what they specified (so they get that light plus  the -A ambient light).  In those manually specified lights, they can control light intensity, color, and position as classical/old/liboptical shader settings.</p>\n<p>With art, it's kind of the same situation with there needing to be default automatic light(s), possibly some ambient light separately, and definitely explicit lights defined via new/pbr/osl shaders.</p>\n<p>Make sense?</p>\n</blockquote>\n<p>Hmm now I understand.</p>",
        "id": 452111197,
        "sender_full_name": "Himanshu",
        "timestamp": 1721230815
    },
    {
        "content": "<blockquote>\n<p>BRL-CAD has preliminary support for material objects including OSL shaders and MaterialX shaders in art, however their support has only been tested with basic shaders such as the Disney Principled Shader. It's hard-wired to single-file shaders.</p>\n</blockquote>\n<p>Where I can find disney principled shader so that I can test it too? Also what do you mean by hard-wired to single-file shaders?</p>",
        "id": 452111737,
        "sender_full_name": "Himanshu",
        "timestamp": 1721230942
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/452111737\">said</a>:</p>\n<blockquote>\n<p>Where I can find disney principled shader so that I can test it too?</p>\n</blockquote>\n<p>appleseed bundles with as_disney_material (I think is the name)</p>\n<blockquote>\n<p>Also what do you mean by hard-wired to single-file shaders?</p>\n</blockquote>\n<p>art is using a default plastic osl shader with color mapping. logic around 395-510 in src/art/art.cpp</p>",
        "id": 452116980,
        "sender_full_name": "Christopher",
        "timestamp": 1721232231
    },
    {
        "content": "<p>So we need to expand it. Like art will be able to read any osl shader.</p>",
        "id": 452118305,
        "sender_full_name": "Himanshu",
        "timestamp": 1721232563
    },
    {
        "content": "<p>Ahh, now I realize that is the goal mentioned <a href=\"https://github.com/opencax/GSoC/issues/71\">Physically-Based Rendering (PBR) advanced shaders · Issue #71 · opencax/GSoC (github.com)</a> here.</p>",
        "id": 452118470,
        "sender_full_name": "Himanshu",
        "timestamp": 1721232601
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252475\">Himanshu</span> <a href=\"#narrow/stream/104062-brlcad/topic/Appleseed/near/452118305\">said</a>:</p>\n<blockquote>\n<p>So we need to expand it. Like art will be able to read any osl shader.</p>\n</blockquote>\n<p>Yes, that is the eventual goal. There is a rough mechanism through the 'material' command that will use the shader if it can find it (art.cpp: lines 400-415), but that will need to get much more user friendly.</p>",
        "id": 452119369,
        "sender_full_name": "Christopher",
        "timestamp": 1721232766
    },
    {
        "content": "<p>I am again going to compile art. At that time, idk what I downloaded for boost but now I saw that there are multiple .exe files here <a href=\"https://sourceforge.net/projects/boost/files/boost-binaries/1.70.0/\">https://sourceforge.net/projects/boost/files/boost-binaries/1.70.0/</a>. Usually 64 bit is the way to go but I saw MSVC 14.0 to 14.2. What should I take from here?</p>",
        "id": 479945361,
        "sender_full_name": "Himanshu",
        "timestamp": 1730402369
    }
]