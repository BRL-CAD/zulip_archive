<html>
<head><meta charset="utf-8"><title>appleseed-help · Google Summer of Code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/index.html">Google Summer of Code</a></h2>
<h3>Topic: <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/appleseed-help.html">appleseed-help</a></h3>

<hr>

<base href="https://brlcad.zulipchat.com">

<head><link href="https://brl-cad.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="386930459"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/appleseed-help/near/386930459" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhiram <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/appleseed-help.html#386930459">(Aug 23 2023 at 18:31)</a>:</h4>
<p>I am trying to build OSL shared libs locally for appleseed ( I have built a compatible version of LLVM before this). No matter what I do the OSL is unable to find the built LLVM libs. <br>
It gives me this error when I do so,</p>
<div class="spoiler-block"><div class="spoiler-header">
<p>Error</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>geck@geck:~/Downloads/osl_build$ cmake -DLLVM_VERSION=5.0.1 -DLLVM_DIRECTORY=/usr/local ../OpenShadingLanguage-Release-1.10.3<br>
-- The CXX compiler identification is GNU 11.4.0<br>
-- The C compiler identification is GNU 11.4.0<br>
-- Detecting CXX compiler ABI info<br>
-- Detecting CXX compiler ABI info - done<br>
-- Check for working CXX compiler: /usr/bin/c++ - skipped<br>
-- Detecting CXX compile features<br>
-- Detecting CXX compile features - done<br>
-- Detecting C compiler ABI info<br>
-- Detecting C compiler ABI info - done<br>
-- Check for working C compiler: /usr/bin/cc - skipped<br>
-- Detecting C compile features<br>
-- Detecting C compile features - done<br>
-- Building OSL 1.10.3<br>
-- CMake version is 3.22.1<br>
CMake Deprecation Warning at CMakeLists.txt:20 (cmake_policy):<br>
  The OLD behavior for policy CMP0046 will be removed from a future version<br>
  of CMake.</p>
<p>The cmake-policies(7) manual explains that the OLD behaviors of all<br>
  policies are deprecated and that a policy should be set to OLD only under<br>
  specific short-term circumstances.  Projects should be ported to the NEW<br>
  behavior and not rely on setting a policy to OLD.</p>
<p>-- Project build dir   = /home/geck/Downloads/osl_build<br>
-- Project install dir = /usr/local<br>
-- platform = linux64<br>
-- CMAKE_CXX_COMPILER is /usr/bin/c++<br>
-- CMAKE_CXX_COMPILER_ID is GNU<br>
-- Building for C++11<br>
-- Setting Namespace to: OSL_v1_10<br>
-- Using OpenImageIO 2.2.18<br>
CMake Error at /usr/share/cmake-3.22/Modules/FindPackageHandleStandardArgs.cmake:230 (message):<br>
  Could NOT find LLVM (missing: LLVM_LIBRARIES) (found suitable version<br>
  "5.0.1", minimum required is "4.0")<br>
Call Stack (most recent call first):<br>
  /usr/share/cmake-3.22/Modules/FindPackageHandleStandardArgs.cmake:594 (_FPHSA_FAILURE_MESSAGE)<br>
  src/cmake/modules/FindLLVM.cmake:113 (find_package_handle_standard_args)<br>
  src/cmake/externalpackages.cmake:70 (find_package)<br>
  CMakeLists.txt:133 (include)</p>
<p>-- Configuring incomplete, errors occurred!</p>
</div></div>
<p>i've been at this for a while now and I am unable to figure out what to do.<br>
I have tried multiple flags for the CMake command, here is what the <code>make help</code> command for OSL returns</p>
<div class="codehilite"><pre><span></span><code> LLVM-related options:
      LLVM_VERSION=4.0         Specify which LLVM version to use
      LLVM_DIRECTORY=xx        Specify where LLVM lives
      LLVM_NAMESPACE=xx        Specify custom LLVM namespace
      LLVM_STATIC=1            Use static LLVM libraries
      USE_LLVM_BITCODE=0       Don&#39;t generate embedded LLVM bitcode
      USE_BOOST_WAVE=1         Force boost wave rather than clang preprocessor
</code></pre></div>



<a name="387063741"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/appleseed-help/near/387063741" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/appleseed-help.html#387063741">(Aug 24 2023 at 12:37)</a>:</h4>
<p>It's a while ago, since I successfully build OSL. Therefore, I cannot help with a success story. But, did you had a look at the CMake GUI? Do the values make sense there?</p>



<a name="387210291"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/appleseed-help/near/387210291" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhiram <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/appleseed-help.html#387210291">(Aug 25 2023 at 05:24)</a>:</h4>
<p>No, I haven't used the CMake GUI  yet. I have been trying to use CMake CLI flags itself. Will try and build it using GUI</p>



<a name="387426379"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/appleseed-help/near/387426379" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhiram <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/appleseed-help.html#387426379">(Aug 26 2023 at 13:24)</a>:</h4>
<p>I started from scratch by building LLVM libs again, now I used CMake GUI to set it up. OSL is able to detect LLVM after some modifications!</p>



<a name="387429564"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/appleseed-help/near/387429564" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/appleseed-help.html#387429564">(Aug 26 2023 at 14:08)</a>:</h4>
<p>The point with using the CMake GUI is not that it generates different makefiles, but it shows you all options with their values. There you can look for suspicious ones.</p>



<a name="387445726"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/appleseed-help/near/387445726" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abhiram <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/appleseed-help.html#387445726">(Aug 26 2023 at 17:44)</a>:</h4>
<p>Yes got it. Seeing all the options definitely helped me get a clear picture, maybe the re-building fixed the issue because values seemed correct to me in the GUI</p>



<hr><p>Last updated: Aug 07 2024 at 00:40 UTC</p>
</html>