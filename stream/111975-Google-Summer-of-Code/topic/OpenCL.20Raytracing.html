<html>
<head><meta charset="utf-8"><title>OpenCL Raytracing · Google Summer of Code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/index.html">Google Summer of Code</a></h2>
<h3>Topic: <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html">OpenCL Raytracing</a></h3>

<hr>

<base href="https://brlcad.zulipchat.com">

<head><link href="https://brl-cad.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="192180571"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/192180571" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#192180571">(Mar 29 2020 at 15:49)</a>:</h4>
<p>Hi, I've submitted a patch for CLINE primitive here <a href="https://sourceforge.net/p/brlcad/patches/541/" title="https://sourceforge.net/p/brlcad/patches/541/">https://sourceforge.net/p/brlcad/patches/541/</a> . Please review. I've tested it locally and it is building without error. Also, I saw a bunch of unmerged patches from 2 years back, are they wrong?</p>



<a name="192279915"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/192279915" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#192279915">(Mar 30 2020 at 16:20)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="102902">@Sean</span> , I've submitted a proposal. Please review and let me know if I can include anything else in it.</p>



<a name="192283857"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/192283857" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#192283857">(Mar 30 2020 at 16:49)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="276372">@Rishabh Suthar</span>, I had just a look at your proposal. It is a bit short, but this isn't the biggest problem. There is a reason why these primitives aren't yet available with OpenCL. If I understood it right, the main problem is their dynamic size. You should say something about how you plan to overcome this issue.</p>



<a name="192313174"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/192313174" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#192313174">(Mar 30 2020 at 20:30)</a>:</h4>
<p>Thanks for the input <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> . Given tomorrow's deadline for submitting proposal, I'll try to address the issue in it or else will just acknowledge in it while I'll keep working on it later.</p>



<a name="192347621"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/192347621" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#192347621">(Mar 31 2020 at 05:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276372">Rishabh Suthar</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/192180571" title="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/192180571">said</a>:</p>
<blockquote>
<p>Hi, I've submitted a patch for CLINE primitive here <a href="https://sourceforge.net/p/brlcad/patches/541/" title="https://sourceforge.net/p/brlcad/patches/541/">https://sourceforge.net/p/brlcad/patches/541/</a> . Please review. I've tested it locally and it is building without error. Also, I saw a bunch of unmerged patches from 2 years back, are they wrong?</p>
</blockquote>
<p>Old patches are a combination of mixed priority and other issues that prevented merging the patch (like untested or broken compilation or other problems).  They also take considerable time to review and integrate, so they often sit.  It doesn't typically imply anything.</p>



<a name="192347701"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/192347701" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#192347701">(Mar 31 2020 at 05:52)</a>:</h4>
<p>Like Daniel said, the biggest issue <span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> is a lack of detail.  Try to add as much as possible in the time remaining, keep an editable draft handy for discussion.</p>



<a name="192349139"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/192349139" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#192349139">(Mar 31 2020 at 06:26)</a>:</h4>
<p>Also, don't forget to submit a final before the deadline, but detail, detail, detail regardless.  Did you test your patch?  Can you show it working?</p>



<a name="192412686"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/192412686" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#192412686">(Mar 31 2020 at 16:16)</a>:</h4>
<p>Hi, I didn't get much time to look into this. I've included as much details in the proposal as possible for now and will keep looking into issues later. Hope that is fine.</p>



<a name="194837170"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/194837170" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#194837170">(Apr 21 2020 at 17:40)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> Have you had a chance to sort out any more progress on your proposal or code?</p>



<a name="194949213"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/194949213" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#194949213">(Apr 22 2020 at 15:35)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="102902">@Sean</span> ,  I'm currently getting myself familiarised with the mged commands and the primitives getting to know how they work and process.</p>



<a name="196268872"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/196268872" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#196268872">(May 05 2020 at 05:21)</a>:</h4>
<p>Hi team, thank you for choosing me as one of the interns. It means a lot to me. Eagerly looking forward to making successful and effective contributions to this community. :)</p>



<a name="196270277"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/196270277" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#196270277">(May 05 2020 at 05:58)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> thank you for all your efforts on the proposal.  few applicants actually followed all of the application criteria this year, so it was good to see you step up and follow through with discussion too.  open source is all about communication.</p>
<p>on that note, GSoC is different from an internship!  internships come and go.  this is hopefully the beginning of something new and interesting that you'll want to continue with well beyond GSoC, even beyond employment opportunities.  it's the open source way for you to find something that is of interest to you that you want to keep working on.</p>
<p>glad to have you with us!</p>



<a name="197940103"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/197940103" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#197940103">(May 18 2020 at 14:12)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="102902">@Sean</span> , I was wondering if there is any scope to use C++ multi-threading along with OpenCL for these primitives?</p>



<a name="197980503"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/197980503" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#197980503">(May 18 2020 at 18:55)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> no, that's not within scope, but whatever you work on does need to be thread safe.  the opencl codebase you're working already runs in parallel with threading.  you don't need to do anything in that regard.</p>



<a name="197980742"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/197980742" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#197980742">(May 18 2020 at 18:57)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> why do you ask?  did you try running in parallel?</p>



<a name="198213529"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/198213529" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#198213529">(May 20 2020 at 15:17)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> thank you for filling out the wiki and starting a web log -- did you finish all the checklist?</p>



<a name="198532754"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/198532754" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#198532754">(May 23 2020 at 12:13)</a>:</h4>
<p>Yes, I've finished the checklist. Sorry for the delay in reply, internet services were hit due to supercyclone Amphan here. Everything is normal now.</p>



<a name="198532882"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/198532882" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#198532882">(May 23 2020 at 12:14)</a>:</h4>
<p>Regarding the C++ parallel, I'd read this concept earlier, hence I wanted to explore the possible scope for this.</p>



<a name="198540473"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/198540473" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#198540473">(May 23 2020 at 15:36)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span>  If you make progress on opencl in other areas quick enough, there will probably be some things you would work on with C++ parallelism.   Where's your project plan at?  We can make sure there is some time allocated to explore this at the end if it's something that interests you a lot.</p>



<a name="198541047"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/198541047" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#198541047">(May 23 2020 at 15:53)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I'd be happy to explore that. I've kept some buffer time in my proposed project plan. If all goes well, I'll try to wrap up the OpenCL primitives part in 2 months and dedicate the last month to work on C++ parallelism.  I'll now start working on arbn primitive in the first week as proposed.</p>



<a name="198542990"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/198542990" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#198542990">(May 23 2020 at 16:51)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> that sounds good.  Where's your development plan at?  Would you post the link?</p>



<a name="198820629"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/198820629" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#198820629">(May 26 2020 at 20:57)</a>:</h4>
<p>Sure. <a href="https://brlcad.org/wiki/User:Rishabhsuthar32/GSoC20/Project">https://brlcad.org/wiki/User:Rishabhsuthar32/GSoC20/Project</a> is the proposed plan for now.</p>



<a name="199613519"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/199613519" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#199613519">(Jun 03 2020 at 12:39)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="102902">@Sean</span> , did you have a look and review the CLINE primitive patch which I submitted earlier? I'll make the necessary changes, if required.</p>



<a name="199938560"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/199938560" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#199938560">(Jun 05 2020 at 21:56)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="102902">@Sean</span> , I've submitted the ARBN patch as well. Here is the link : <a href="https://sourceforge.net/p/brlcad/patches/543">https://sourceforge.net/p/brlcad/patches/543</a>. Please review.</p>



<a name="200010425"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200010425" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200010425">(Jun 07 2020 at 06:27)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="102902">@Sean</span> , I was testing the opencl kernel with -z flag. But it seems that after compiling nothing happens, the log prints out raytracing aborted and no rendering is happening.<br>
Following is the commands I used:<br>
mged&gt; rt -z 1<br>
and its prints out:<br>
Compiling OpenCL programs...<br>
Raytrace aborted.<br>
Could you please let me know the correct usage of -z flag. I could not find anything much regarding this flag in documentation.</p>



<a name="200139531"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200139531" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200139531">(Jun 08 2020 at 18:42)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> are you on trunk or the ocl branch?</p>



<a name="200139622"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200139622" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200139622">(Jun 08 2020 at 18:43)</a>:</h4>
<p>I'm not sure the -z flag takes an option.  Specifying it tells rt to use OpenCL during rendering if it was enabled during compile.</p>



<a name="200139759"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200139759" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200139759">(Jun 08 2020 at 18:44)</a>:</h4>
<p>Ah, looks like it does take an arg, an int that is just set to 1 like you did to turn on opencl.</p>



<a name="200139876"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200139876" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200139876">(Jun 08 2020 at 18:45)</a>:</h4>
<p>It sounds like something made it stop during the opencl compilation step.  Maybe try with a simpler model or even fewer rt flags if others were specified, or run in GDB debugger to see if you see why it's aborting.</p>



<a name="200239142"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200239142" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200239142">(Jun 09 2020 at 14:47)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="102902">@Sean</span> , I am using trunk. I just use -z flag for rendering using opencl and I did build with opencl enabled, I tried this with the simplest model only, on arb8, I was expecting all the primitives which have been previously parallelized should work successfully, but none of them is renders with -z flag. Sure i will try GDB debugger and let you know.</p>



<a name="200239339"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200239339" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200239339">(Jun 09 2020 at 14:48)</a>:</h4>
<p>Yeah, a simple arb8 should work.  A generic failure like that could mean almost anything.  Have you confirmed that you have an opencl driver installed and working?</p>



<a name="200239649"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200239649" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200239649">(Jun 09 2020 at 14:50)</a>:</h4>
<p>Yes opencl works fine on my laptop, I have written some general codes which run fine.</p>



<a name="200240390"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200240390" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200240390">(Jun 09 2020 at 14:54)</a>:</h4>
<p>Could you please try rendering any simple primitive on your machine? using the same command which I am using, rt -z 1. It might also be that building BRL-CAD did not catch the opencl driver in my machine, which I will check once again.</p>



<a name="200241565"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200241565" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200241565">(Jun 09 2020 at 15:01)</a>:</h4>
<p>yeah, I can check this.  I have to recompile trunk for that.</p>



<a name="200241793"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200241793" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200241793">(Jun 09 2020 at 15:02)</a>:</h4>
<p>yes please check this whenever you get time, thank you!</p>



<a name="200918096"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/200918096" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#200918096">(Jun 15 2020 at 17:08)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="102902">@Sean</span> , did you test rendering using opencl? My build has opencl enabled, but still it doesn't render.</p>



<a name="201762463"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/201762463" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#201762463">(Jun 23 2020 at 18:19)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="102902">@Sean</span>, I have submitted the pipe patch, it was a long one so took some time sorry for the delay and I have already started working on next item in the list. Please let me know if you have tried rendering on your machine. Is there any documentation specific to opencl, which can help me with rendering in opencl.</p>



<a name="201762573"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/201762573" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#201762573">(Jun 23 2020 at 18:20)</a>:</h4>
<p>Great!  I will give it a check here in a bit</p>



<a name="202159079"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/202159079" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#202159079">(Jun 27 2020 at 00:40)</a>:</h4>
<p>how're things going? :)</p>



<a name="202537825"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/202537825" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#202537825">(Jul 01 2020 at 07:20)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> Can you write up a summary of all your progress to date?  I'd like to send out an announcement.  If you can show a video render of one of the opencl primitives compared with non-opencl, that would be great to include.  It can be just 1 page on google docs, a pdf, or a blog post, maybe link to it in your log and here so people can read it.</p>
<p>I'm almost through your patches, so will update you soon on that status.  I have some feedback to give.</p>



<a name="202771843"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/202771843" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#202771843">(Jul 03 2020 at 06:19)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="102902">@Sean</span> I have been updating my logs, you can find it here: <br>
<a href="https://brlcad.org/wiki/User:Rishabhsuthar32/GSoC20/Log">https://brlcad.org/wiki/User:Rishabhsuthar32/GSoC20/Log</a></p>



<a name="202802910"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/202802910" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#202802910">(Jul 03 2020 at 13:19)</a>:</h4>
<p>starting into dsp, neato :) Are there images to share and/or is this close to where I could drop it on some real hw to see if there's a good speed-up? (I seem to have some interesting nvidia stuff handy... can't ask for a100 time for something like this, but heck, v100, sure...)</p>



<a name="202804133"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/202804133" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#202804133">(Jul 03 2020 at 13:33)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> I would really like to see a bit more detail than that.    I can't help you at all when you write "Worked on..." though that is good context to start with.  Just need like 3 sentences.  Not just awareness of what you worked on, but what did you get working, what did you not get working.  What you're working on is intrinsically graphical, so it would be good to see a picture or statistic at least once a week.</p>



<a name="202917312"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/202917312" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#202917312">(Jul 05 2020 at 11:15)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> got it. Will update the logs accordingly.</p>



<a name="202917553"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/202917553" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#202917553">(Jul 05 2020 at 11:21)</a>:</h4>
<p><span class="user-mention" data-user-id="103542">@Erik</span> yeahh, dsp seems to be most challenging till now. I've developed arbn and pipe primitive. Can you give it a try? I wanna know how they perform in that hw. :D I'll send the MR links.</p>



<a name="202933340"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/202933340" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#202933340">(Jul 05 2020 at 18:50)</a>:</h4>
<p><span class="user-mention" data-user-id="103542">@Erik</span> <br>
<a href="https://sourceforge.net/p/brlcad/patches/543/">https://sourceforge.net/p/brlcad/patches/543/</a><br>
<a href="https://sourceforge.net/p/brlcad/patches/545/">https://sourceforge.net/p/brlcad/patches/545/</a><br>
<a href="https://sourceforge.net/p/brlcad/patches/541/">https://sourceforge.net/p/brlcad/patches/541/</a></p>



<a name="203746227"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/203746227" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#203746227">(Jul 13 2020 at 17:46)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I've kept dsp primitive on hold for now. Would want to get hands-on on other primitives to get the ball rolling. I've submitted VOL primitive patch and am working on metaball now. <br>
Let me know when you review it.</p>



<a name="203748149"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/203748149" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#203748149">(Jul 13 2020 at 18:00)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  also, I was trying to update the wiki logs but I'm unable to access the website. Is it having some issue?</p>



<a name="203760468"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/203760468" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#203760468">(Jul 13 2020 at 19:35)</a>:</h4>
<p>Yes, <span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> apache crashed for some unknown reason, but it's back up.  keeping an eye on it.  try again?</p>



<a name="204669310"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/204669310" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#204669310">(Jul 22 2020 at 14:02)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> how's it going?  It's time for an in-depth review of where you're at on the project.  Please let me know when you're available.</p>



<a name="204715969"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/204715969" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#204715969">(Jul 22 2020 at 20:07)</a>:</h4>
<p>First up on the agenda after updating logs, we can discuss the -z option to make sure opencl compilation is working.  First and foremost, re-run cmake for me and show me the entire cmake output -- if you're on linux, you can save the output to a log file while seeing it output with something like:</p>
<div class="codehilite"><pre><span></span><code>cmake -DBRLCAD_ENABLE_OPENCL=ON path/to/src 2&gt;&amp;1 | tee cmake.log
</code></pre></div>



<a name="204803280"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/204803280" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#204803280">(Jul 23 2020 at 14:20)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102902">@Sean</span> , good news! I made the -z flag running as expected, finally! I'd to change FindOpenCL.cmake file to ensure it catches the right path of OpenCL in my system. Huhhh. I'll revisit the patches and update them again. Also, will include a documentation around this so that next time someone else doesn't face the same issue. :D</p>



<a name="204811192"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/204811192" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#204811192">(Jul 23 2020 at 15:18)</a>:</h4>
<p>that's great to hear <span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> and yes please do update all the patches now that you can test them to make sure they compile and run.  if you have a change to the cmake file, that'd be a good patch too.</p>



<a name="204811521"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/204811521" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#204811521">(Jul 23 2020 at 15:19)</a>:</h4>
<p>your log updates for week 8 look good too, thank you</p>



<a name="204831974"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/204831974" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#204831974">(Jul 23 2020 at 18:03)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  Yeah, will keep the logs in similar format. thanks. <br>
I wanted to know if there is any predefined file or inputs for rendering VOL primitive. It gets 'segmentation fault' most of the time.</p>



<a name="205151320"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/205151320" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#205151320">(Jul 27 2020 at 18:24)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102902">@Sean</span> , it seems there was a bug in master code itself. None of the previously done primitives were working in OpenCL. It said "Failed to set OpenCL arguments". I tried with ELL and ARB8. However, I've resolved the code with immense effort. It was due to a mismatch between uchar2 and uchar3 in different function declaration. They are now rendering fine. I'll include a patch for this.</p>



<a name="205151385"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/205151385" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#205151385">(Jul 27 2020 at 18:25)</a>:</h4>
<p>That is good news!</p>



<a name="205151585"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/205151585" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#205151585">(Jul 27 2020 at 18:27)</a>:</h4>
<p>Indeed!</p>



<a name="205375748"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/205375748" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#205375748">(Jul 29 2020 at 15:54)</a>:</h4>
<p>Rishabh, how goes it? Good luck with the metaball primitive?</p>



<a name="205560561"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/205560561" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#205560561">(Jul 31 2020 at 05:58)</a>:</h4>
<p><span class="user-mention" data-user-id="103542">@Erik</span> Hey, I'm trying to see how can I pass r_min and r_max for metaball primitive or if I can calculate it inside the shot function itself!</p>



<a name="205723036"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/205723036" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#205723036">(Aug 02 2020 at 11:11)</a>:</h4>
<p>Hey, I've added the documentation of the issues I faced in the dev logs. Can you have a look and let me know if anything else should be added for better clarification?</p>



<a name="205763594"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/205763594" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#205763594">(Aug 03 2020 at 06:39)</a>:</h4>
<p>I will take a look later today, thanks!</p>



<a name="205882635"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/205882635" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#205882635">(Aug 04 2020 at 08:17)</a>:</h4>
<p>It seems like I missed out on doing "svn add" of <a href="http://cline_shot.cl">cline_shot.cl</a> file in cline primitve patch submitted during the GSoC application period. My bad! It is missing from the patch file. Will redo it and test again.</p>



<a name="205944509"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/205944509" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#205944509">(Aug 04 2020 at 18:44)</a>:</h4>
<p>sounds good</p>



<a name="206075469"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206075469" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206075469">(Aug 05 2020 at 20:42)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102902">@Sean</span> , how can I render CLINE primitive? I can't find any sample fastgen4 file. Is there any documentation around this which can help me?</p>



<a name="206081154"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206081154" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206081154">(Aug 05 2020 at 21:34)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> just run rt to render them.  You’ll of course need to create one.  I don’t think the “in” command will make one, but you should check.  We have some sample fastgen files in the repo (regress or db dir), check them first.</p>



<a name="206081175"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206081175" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206081175">(Aug 05 2020 at 21:34)</a>:</h4>
<p>As for docs, see <a href="https://brlcad.org/~starseeker/cline.pdf">https://brlcad.org/~starseeker/cline.pdf</a></p>



<a name="206081757"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206081757" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206081757">(Aug 05 2020 at 21:41)</a>:</h4>
<p>Latest trunk can create a cline object with "make cline.s cline"</p>



<a name="206111470"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206111470" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206111470">(Aug 06 2020 at 07:25)</a>:</h4>
<p><span class="user-mention" data-user-id="112516">@starseeker</span> yeah, it worked. thanks! :)</p>



<a name="206111653"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206111653" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206111653">(Aug 06 2020 at 07:28)</a>:</h4>
<p>I was using  "in" for making all primitives.</p>



<a name="206430670"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206430670" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206430670">(Aug 10 2020 at 06:02)</a>:</h4>
<p><span class="user-mention" data-user-id="112516">@starseeker</span> any idea on how to make vol primitive?</p>



<a name="206432248"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206432248" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206432248">(Aug 10 2020 at 06:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276372">Rishabh Suthar</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/206430670">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> any idea on how to make vol primitive?</p>
</blockquote>
<p>there was a conversation between Sean and Thusal about making a <code>vol</code> in the <a class="stream" data-stream-id="104062" href="/#narrow/stream/104062-general">#general</a>  stream</p>



<a name="206437459"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206437459" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thusal Ranawaka <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206437459">(Aug 10 2020 at 08:13)</a>:</h4>
<p><span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="206487282"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206487282" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206487282">(Aug 10 2020 at 17:19)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="247135">@Sumagna Das</span> , let me look into it. :)</p>



<a name="206865963"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206865963" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206865963">(Aug 13 2020 at 20:22)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102902">@Sean</span> , I'm still unable to do printf in _shot functions. I tried both printf and bu_log, nothing worked. Any suggestion on what else should I try?</p>



<a name="206866105"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/206866105" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#206866105">(Aug 13 2020 at 20:23)</a>:</h4>
<p>It becomes difficult to debug for the primitives which are compiling error-free for not rendering. I can't understand where is it facing the logical error.</p>



<a name="207023161"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207023161" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207023161">(Aug 15 2020 at 13:59)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="102902">@Sean</span> ,  I tried with the Superell patch. I'm attaching the .c and .cl renderings. They do not seem exactly the same, is this expected or do I debug it further? <a href="/user_uploads/1549/omT8cLhNDUwGKmi6SKmOFIpx/sup_c.png">sup_c.png</a> <a href="/user_uploads/1549/Bg0nGSD8bbW85EgM9dCJSy73/sup_cl.png">sup_cl.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/omT8cLhNDUwGKmi6SKmOFIpx/sup_c.png" title="sup_c.png"><img src="/user_uploads/1549/omT8cLhNDUwGKmi6SKmOFIpx/sup_c.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/Bg0nGSD8bbW85EgM9dCJSy73/sup_cl.png" title="sup_cl.png"><img src="/user_uploads/1549/Bg0nGSD8bbW85EgM9dCJSy73/sup_cl.png"></a></div>



<a name="207082621"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207082621" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207082621">(Aug 16 2020 at 18:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276372">Rishabh Suthar</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207023161">said</a>:</p>
<blockquote>
<p>Hi <span class="user-mention silent" data-user-id="102902">Sean</span> ,  I tried with the Superell patch. I'm attaching the .c and .cl renderings. They do not seem exactly the same, is this expected or do I debug it further? <a href="/user_uploads/1549/omT8cLhNDUwGKmi6SKmOFIpx/sup_c.png">sup_c.png</a> <a href="/user_uploads/1549/Bg0nGSD8bbW85EgM9dCJSy73/sup_cl.png">sup_cl.png</a></p>
</blockquote>
<p>Neither of those look valid to my eyes.. maybe zoom out more so you can see what's going on?  Try very simple superell parameters.</p>



<a name="207110467"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207110467" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207110467">(Aug 17 2020 at 06:26)</a>:</h4>
<p>I tried "in" command with  input parameters but it fails to make one. It throws in some error wrt major/minor axis. So I did this with "make" command in MGED and rendered it. Let me try again.</p>



<a name="207110511"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207110511" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207110511">(Aug 17 2020 at 06:27)</a>:</h4>
<p>I've also started documenting MGED commands in my wiki logs with simple input parameters for making different primitives. I'll keep on adding as and when I find a command for respective primitive. It might help others who face similar issue in future.</p>



<a name="207226644"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207226644" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207226644">(Aug 18 2020 at 06:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276372">Rishabh Suthar</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/206865963">said</a>:</p>
<blockquote>
<p>Hey <span class="user-mention silent" data-user-id="102902">Sean</span> , I'm still unable to do printf in _shot functions. I tried both printf and bu_log, nothing worked. Any suggestion on what else should I try?</p>
</blockquote>
<p>did you try a simple opencl demo to see if you can get it to print inside a compute kernel?  I would have expected bu_log to give you a compilation error, so that's a very odd if it didn't.</p>



<a name="207226717"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207226717" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207226717">(Aug 18 2020 at 06:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276372">Rishabh Suthar</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207110467">said</a>:</p>
<blockquote>
<p>I tried "in" command with  input parameters but it fails to make one. It throws in some error wrt major/minor axis. So I did this with "make" command in MGED and rendered it. Let me try again.</p>
</blockquote>
<p>This implies that the values you used are probably not valid, not in range.  Can search the web to find a set of real parameters that should work.</p>



<a name="207226739"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207226739" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207226739">(Aug 18 2020 at 06:17)</a>:</h4>
<p>looks like this lets one play interactively: <a href="https://www.maplesoft.com/support/help/Maple/view.aspx?path=MathApps/Superellipsoid">https://www.maplesoft.com/support/help/Maple/view.aspx?path=MathApps/Superellipsoid</a></p>



<a name="207226800"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207226800" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207226800">(Aug 18 2020 at 06:18)</a>:</h4>
<p>ah, that's only interactive in maple, but there are some actual values there you can try</p>



<a name="207241235"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207241235" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207241235">(Aug 18 2020 at 09:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207226739">said</a>:</p>
<blockquote>
<p>looks like this lets one play interactively: <a href="https://www.maplesoft.com/support/help/Maple/view.aspx?path=MathApps/Superellipsoid">https://www.maplesoft.com/support/help/Maple/view.aspx?path=MathApps/Superellipsoid</a></p>
</blockquote>
<p>Yeah, this should help! Thanks.</p>



<a name="207242431"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207242431" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207242431">(Aug 18 2020 at 10:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207226644">said</a>:</p>
<blockquote>
<p>did you try a simple opencl demo to see if you can get it to print inside a compute kernel?  I would have expected bu_log to give you a compilation error, so that's a very odd if it didn't.</p>
</blockquote>
<p>Yeah, I tried that. With printf, it was not able to create context itself. The bu_log did give errors. I imported all the necessary functions in <a href="http://common.cl">common.cl</a> but didn't work.</p>



<a name="207305206"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207305206" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207305206">(Aug 18 2020 at 19:36)</a>:</h4>
<p><a href="/user_uploads/1549/p5x047pyZGwNqK7a5JcsAsfT/sup2_c.png">sup2_c.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/p5x047pyZGwNqK7a5JcsAsfT/sup2_c.png" title="sup2_c.png"><img src="/user_uploads/1549/p5x047pyZGwNqK7a5JcsAsfT/sup2_c.png"></a></div>



<a name="207305287"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207305287" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207305287">(Aug 18 2020 at 19:37)</a>:</h4>
<p>Does this look ok for superell primitive? I did "az35, el25" view.</p>



<a name="207305508"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207305508" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207305508">(Aug 18 2020 at 19:38)</a>:</h4>
<p>I did this via "make" command. I'm not yet able to use "in" command. I used ell parameters and added 0/1/2 values for n,e parameter in superell but it still gave "rt_db_external5_to_internal5(superell.s):  unable to import non-BRL-CAD object, major=255 minor=35" error log.</p>



<a name="207305832"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207305832" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207305832">(Aug 18 2020 at 19:41)</a>:</h4>
<p>I'm checking now why is it getting 255 as majortype instead of  1 or 9</p>



<a name="207449239"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207449239" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207449239">(Aug 19 2020 at 19:10)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102902">@Sean</span> , I cloned the repository again and started from scratch, superell C rendering worked with parameter values. I don't know why it was not working in my previous repository. Blah.</p>



<a name="207449283"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207449283" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207449283">(Aug 19 2020 at 19:11)</a>:</h4>
<p>Anyway, I tried with HYP primitive and was able to successfully render both C and CL versions.</p>



<a name="207449315"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207449315" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207449315">(Aug 19 2020 at 19:11)</a>:</h4>
<p><a href="/user_uploads/1549/fImscjjBx-Kpa31r3Nf092MU/hyp_cl.png">hyp_cl.png</a> <a href="/user_uploads/1549/YPjELEm6sNK-lnI3kGWH96yK/hyp_c.png">hyp_c.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/fImscjjBx-Kpa31r3Nf092MU/hyp_cl.png" title="hyp_cl.png"><img src="/user_uploads/1549/fImscjjBx-Kpa31r3Nf092MU/hyp_cl.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/YPjELEm6sNK-lnI3kGWH96yK/hyp_c.png" title="hyp_c.png"><img src="/user_uploads/1549/YPjELEm6sNK-lnI3kGWH96yK/hyp_c.png"></a></div>



<a name="207449332"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207449332" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207449332">(Aug 19 2020 at 19:11)</a>:</h4>
<p>This looks fine, right?</p>



<a name="207449434"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207449434" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207449434">(Aug 19 2020 at 19:12)</a>:</h4>
<p>I think with the other primitives, I'm facing issue with memory allocation which is not working well. Probably that's why they are not rendering an image in CL versions.</p>



<a name="207449608"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207449608" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207449608">(Aug 19 2020 at 19:14)</a>:</h4>
<p>Also, did the security certificate of <a href="http://brlcag.org">brlcag.org</a> expire? It is giving me safety warnings while trying to visit.</p>



<a name="207474414"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207474414" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207474414">(Aug 19 2020 at 23:43)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> : can you re-render with the light at the same place and pixdiff?</p>



<a name="207474506"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207474506" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207474506">(Aug 19 2020 at 23:44)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> : ^^ <a href="http://brlcad.org">brlcad.org</a> ssl cert expired on the 18th, re-up!</p>



<a name="207474577"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207474577" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207474577">(Aug 19 2020 at 23:45)</a>:</h4>
<p><span class="user-mention" data-user-id="103542">@Erik</span> dag nab it.. again??!  There's a cron job that runs their updater daily, but it's been not working reliably (usually something in python updates and it stops running).</p>



<a name="207474671"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207474671" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207474671">(Aug 19 2020 at 23:47)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> what's the difference between the two hyp rendering's performance?  Can you show me the summary from both their logs (the RTFM lines in particular)?</p>



<a name="207474697"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207474697" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207474697">(Aug 19 2020 at 23:47)</a>:</h4>
<p>if you're not already, you'll probably want to keep two directories -- one with opencl enabled and one without so you can keep two compiles for comparison.</p>



<a name="207552437"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207552437" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207552437">(Aug 20 2020 at 17:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207474671">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="276372">Rishabh Suthar</span> what's the difference between the two hyp rendering's performance?  Can you show me the summary from both their logs (the RTFM lines in particular)?</p>
</blockquote>
<p><a href="/user_uploads/1549/LYFYVdIFecpxgDwQoPvE8J5d/hyplog_cl.png">hyplog_cl.png</a> <a href="/user_uploads/1549/RGd1xQloo8DdpWrYl6apipjy/hyplog_c.png">hyplog_c.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/LYFYVdIFecpxgDwQoPvE8J5d/hyplog_cl.png" title="hyplog_cl.png"><img src="/user_uploads/1549/LYFYVdIFecpxgDwQoPvE8J5d/hyplog_cl.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/RGd1xQloo8DdpWrYl6apipjy/hyplog_c.png" title="hyplog_c.png"><img src="/user_uploads/1549/RGd1xQloo8DdpWrYl6apipjy/hyplog_c.png"></a></div>



<a name="207552484"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207552484" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207552484">(Aug 20 2020 at 17:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207474697">said</a>:</p>
<blockquote>
<p>if you're not already, you'll probably want to keep two directories -- one with opencl enabled and one without so you can keep two compiles for comparison.</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span> How can I save the logs in a file from MGED terminal?</p>



<a name="207563726"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207563726" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207563726">(Aug 20 2020 at 19:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="103542">Erik</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207474414">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="276372">Rishabh Suthar</span> : can you re-render with the light at the same place and pixdiff?</p>
</blockquote>
<p><span class="user-mention" data-user-id="103542">@Erik</span>  How can I use pixdiff ? I saw this <a href="https://brlcad.org/~nouhrasofat/man1/en/pixdiff.php">https://brlcad.org/~nouhrasofat/man1/en/pixdiff.php</a> but it is not working. I wrote a short python code for pix diff. Both have same size and channels but there are few non zero in b,g,r arrays! Is this fine or are we just trying to verify the intersection points?</p>



<a name="207563791"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207563791" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207563791">(Aug 20 2020 at 19:25)</a>:</h4>
<p>It says pixdiff is not a command. It needs npm install and couldn't find any other command similar to this!</p>



<a name="207565593"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207565593" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207565593">(Aug 20 2020 at 19:41)</a>:</h4>
<p><a href="/user_uploads/1549/OjdkeSMpy265FKdIWvG5vBUZ/hyp2_cl.png">hyp2_cl.png</a> <a href="/user_uploads/1549/AYqOsiZlQIzmdC0T7FRx2cSK/hyp2_c.png">hyp2_c.png</a> <a href="/user_uploads/1549/dKnSou7-iAXXs4l0gOP0ZVJw/diff.png">diff.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/OjdkeSMpy265FKdIWvG5vBUZ/hyp2_cl.png" title="hyp2_cl.png"><img src="/user_uploads/1549/OjdkeSMpy265FKdIWvG5vBUZ/hyp2_cl.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/AYqOsiZlQIzmdC0T7FRx2cSK/hyp2_c.png" title="hyp2_c.png"><img src="/user_uploads/1549/AYqOsiZlQIzmdC0T7FRx2cSK/hyp2_c.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/dKnSou7-iAXXs4l0gOP0ZVJw/diff.png" title="diff.png"><img src="/user_uploads/1549/dKnSou7-iAXXs4l0gOP0ZVJw/diff.png"></a></div>



<a name="207565734"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207565734" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207565734">(Aug 20 2020 at 19:42)</a>:</h4>
<p><span class="user-mention" data-user-id="103542">@Erik</span> Does this work? I did it via python opencv2 library.</p>



<a name="207653050"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207653050" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207653050">(Aug 21 2020 at 16:12)</a>:</h4>
<p>there's not a save log option, so you can either run copy-paste or run rt outside mged and redirect output to a file using usual means</p>



<a name="207735797"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207735797" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207735797">(Aug 22 2020 at 18:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207653050">said</a>:</p>
<blockquote>
<p>there's not a save log option, so you can either run copy-paste or run rt outside mged and redirect output to a file using usual means</p>
</blockquote>
<p>Got it. Anyway, did you get a chance to look at the logs I shared? The CPU performance has increased. I used -s2048 flag for heavy rendering.</p>



<a name="207857408"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207857408" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207857408">(Aug 24 2020 at 15:27)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> , this being the last week of GSoC, I wanted to document this well for future reference. Are there any protocols as to how should I document this or any other last week tasks of GSoC?</p>



<a name="207887014"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207887014" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207887014">(Aug 24 2020 at 19:38)</a>:</h4>
<p>So if you didn't catch it in that summary there <span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> -- the performance logs you shared show it being 0.3 seconds in non-ocl and 0.02 seconds in ocl mode.  That's more than a 10x improvement</p>



<a name="207887109"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207887109" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207887109">(Aug 24 2020 at 19:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276372">Rishabh Suthar</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207563791">said</a>:</p>
<blockquote>
<p>It says pixdiff is not a command. It needs npm install and couldn't find any other command similar to this!</p>
</blockquote>
<p>pixdiff is installed in BRL-CAD.... it's in the same dir as mged and rt and company</p>



<a name="207887469"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207887469" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207887469">(Aug 24 2020 at 19:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276372">Rishabh Suthar</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207857408">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> , this being the last week of GSoC, I wanted to document this well for future reference. Are there any protocols as to how should I document this or any other last week tasks of GSoC?</p>
</blockquote>
<p>Yes, you should pull together a final report that shows before and after for all the entities that you got converted, ideally with a picture and performance number for each.  Make sure all your patches work with the latest trunk sources too, just in case something changed recently, and I'll work with you to get it all integrated asap.</p>



<a name="207888062"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207888062" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207888062">(Aug 24 2020 at 19:47)</a>:</h4>
<p>Should I make the final report in BRL-CAD wiki itself or a Google Doc?</p>



<a name="207888210"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207888210" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207888210">(Aug 24 2020 at 19:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207887014">said</a>:</p>
<blockquote>
<p>So if you didn't catch it in that summary there <span class="user-mention silent" data-user-id="276372">Rishabh Suthar</span> -- the performance logs you shared show it being 0.3 seconds in non-ocl and 0.02 seconds in ocl mode.  That's more than a 10x improvement</p>
</blockquote>
<p>Yeah! Also, the pixdiff image I sent, is it expected?</p>



<a name="207888266"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207888266" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207888266">(Aug 24 2020 at 19:49)</a>:</h4>
<p>Whatever is most comfortable for you is fine for writing it, but the final one should end up on our site so it remains available -- in case you accidentally move/delete the doc from your Google Drive, for example</p>



<a name="207888388"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207888388" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207888388">(Aug 24 2020 at 19:50)</a>:</h4>
<p>you said you used opencv, not pixdiff right?  I don't know what they do or what routines you used or what their output means without reading up on it more.</p>



<a name="207888415"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207888415" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207888415">(Aug 24 2020 at 19:50)</a>:</h4>
<p>if that's a pixdiff output, then I can answer the question <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="207888498"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207888498" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207888498">(Aug 24 2020 at 19:51)</a>:</h4>
<p>I basically calculated the pixel difference between the two images using opencv. Let me try pixdiff you mentioned.</p>



<a name="207889002"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207889002" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207889002">(Aug 24 2020 at 19:55)</a>:</h4>
<p><a href="/user_uploads/1549/GChEpFxFeKmXYexG_VbxgqFZ/hyp_diff.pix">hyp_diff.pix</a></p>



<a name="207889013"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207889013" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207889013">(Aug 24 2020 at 19:55)</a>:</h4>
<p>I used this command: pixdiff file1.pix file2.pix &gt; out.pix</p>



<a name="207889034"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207889034" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207889034">(Aug 24 2020 at 19:56)</a>:</h4>
<p>It's a 12 mb file! :/</p>



<a name="207889104"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207889104" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207889104">(Aug 24 2020 at 19:56)</a>:</h4>
<p>pixdiff bytes: 5887661 matching,  887771 off by 1, 5807480 off by many<br>
This was the terminal output</p>



<a name="207896367"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207896367" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207896367">(Aug 24 2020 at 20:54)</a>:</h4>
<p>o.O .. next time run pix-png afterwards <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="207896525"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207896525" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207896525">(Aug 24 2020 at 20:56)</a>:</h4>
<p><a href="/user_uploads/1549/YofYx-5T7sA7FJY8_HY_9Bkj/file.png">file.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/YofYx-5T7sA7FJY8_HY_9Bkj/file.png" title="file.png"><img src="/user_uploads/1549/YofYx-5T7sA7FJY8_HY_9Bkj/file.png"></a></div>



<a name="207897714"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207897714" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207897714">(Aug 24 2020 at 21:07)</a>:</h4>
<p>Difference in the normal calculation?</p>



<a name="207917175"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207917175" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207917175">(Aug 25 2020 at 01:39)</a>:</h4>
<p>Looks like it, maybe.  RGB values on the top face (ocl) go from 117/117/117 to 124/124/124 and on the bottom face (rt) from 110/110/110 to 115/115/115.</p>



<a name="207917257"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207917257" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207917257">(Aug 25 2020 at 01:40)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> so the pixdiff image shows where the color values differ by more than 1 value in one or more of the RGB channels.  Most of the pixels are offset in intensity by just a little bit, which implies some calculation is just slightly off.</p>



<a name="207917302"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207917302" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207917302">(Aug 25 2020 at 01:41)</a>:</h4>
<p>The most important part is that hits vs miss appears to be correct.  It would be informative to compare the same nirt shotline in both to make sure the hits are at least identical.  If they are, it would confirm this is a normal issue.</p>



<a name="207928138"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207928138" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207928138">(Aug 25 2020 at 06:19)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> for what it's worth, your project is a highlight on our facebook feed tody</p>



<a name="207934657"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/207934657" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#207934657">(Aug 25 2020 at 08:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/207917302">said</a>:</p>
<blockquote>
<p>The most important part is that hits vs miss appears to be correct.  It would be informative to compare the same nirt shotline in both to make sure the hits are at least identical.  If they are, it would confirm this is a normal issue.</p>
</blockquote>
<p>I'll check and revert with the nirt usage and command.</p>



<a name="208381235"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208381235" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208381235">(Aug 28 2020 at 18:49)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I've prepared a rough draft for the report here: <a href="https://brlcad.org/wiki/User:Rishabhsuthar32/GSoC20/Report">https://brlcad.org/wiki/User:Rishabhsuthar32/GSoC20/Report</a> . Can you look into it and suggest any further modifications I should make?</p>



<a name="208381376"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208381376" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208381376">(Aug 28 2020 at 18:50)</a>:</h4>
<p>I tried out the nirt command. Just to confirm, I used 'nirt' command in the MGED terminal after rendering both C and OpenCL versions. The output was same in  both.</p>



<a name="208381483"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208381483" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208381483">(Aug 28 2020 at 18:51)</a>:</h4>
<p>I'll  be modifying the ToDo part a bit more with technical details for better clarification.</p>



<a name="208385406"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208385406" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208385406">(Aug 28 2020 at 19:27)</a>:</h4>
<p>Can you show the output of nirt?  There's different output forms that will print more precision than the default.  Might be needed to detect if they're actually identical.  Post the .g's and I can help take a look at them.</p>



<a name="208386277"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208386277" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208386277">(Aug 28 2020 at 19:35)</a>:</h4>
<p>Origin (x y z) = (0.00000000 0.00000000 0.00000000)  (h v d) = (0.0000 0.0000 0.0000)<br>
Direction (x y z) = (-1.00000000 0.00000000 0.00000000)  (az el) = (0.00000000 0.00000000)<br>
    Region Name               Entry (x y z)              LOS  Obliq_in Attrib<br>
hyp.s                ( 100.0000    0.0000    0.0000) 200.0000   0.0000</p>



<a name="208386768"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208386768" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208386768">(Aug 28 2020 at 19:40)</a>:</h4>
<p><a href="/user_uploads/1549/61QMivcyfexGqhNzLlwjcFUb/hyp_cl.g">hyp_cl.g</a> <a href="/user_uploads/1549/yWU3eLA7yWPcpjkFNgYNagCY/hyp_c.g">hyp_c.g</a></p>



<a name="208386863"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208386863" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208386863">(Aug 28 2020 at 19:41)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> this is what is needed, right? anything else?</p>



<a name="208469566"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208469566" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208469566">(Aug 30 2020 at 05:22)</a>:</h4>
<p>sort of... is that the c or cl output?  is the other character-for-character identical output?</p>



<a name="208481341"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208481341" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208481341">(Aug 30 2020 at 11:46)</a>:</h4>
<p>Same output comes for both C and CL .</p>



<a name="208513298"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208513298" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208513298">(Aug 31 2020 at 01:28)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> so you shot directly down the X axis.  instead can you shoot through one of the upper sides where we know the hits or normals deviate?  If anything, we should be able to see the normal change -- I think you'll have to pick a different nirt output format in order for it to print the normal (see the NIRT guide on <a href="http://brlcad.org/wiki/Documentation">brlcad.org/wiki/Documentation</a> for details and/or nirt -? .. it's the -fmt option)</p>



<a name="208513307"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208513307" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208513307">(Aug 31 2020 at 01:28)</a>:</h4>
<p>If you run saveview in one, you can then run loadview in the other mged to make sure you're shooting the same ray.</p>



<a name="208657010"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208657010" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208657010">(Sep 01 2020 at 08:14)</a>:</h4>
<p>Okay, let me check.</p>



<a name="208720373"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208720373" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208720373">(Sep 01 2020 at 17:27)</a>:</h4>
<p>Origin (x y z) = (0.00000000 0.00000000 0.00000000)  (h v d) = (0.0000 0.0000 0.0000)<br>
Direction (x y z) = (0.42426407 0.56568542 0.70710678)  (az el) = (-126.86989765 -45.00000000)<br>
    Region Name               Entry (x y z)              LOS  Obliq_in Attrib<br>
hyp.s                (-107.7632 -143.6842 -179.6053) 508.0005  70.7960</p>



<a name="208720425"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208720425" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208720425">(Sep 01 2020 at 17:28)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> , I tried via a different angle.</p>



<a name="208720529"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208720529" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208720529">(Sep 01 2020 at 17:29)</a>:</h4>
<p>I however am not sure the difference b/w c and cl one. Nirt will shoot irrespective of rt is done via c or opencl. How can we ensure it shoots through the cl primitive made?</p>



<a name="208720698"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208720698" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208720698">(Sep 01 2020 at 17:30)</a>:</h4>
<p>I mean, doing nirt after make command also gives the output, which means it is shooting through the primitive formed. Will it shoot through the rendered primitive as well?</p>



<a name="208729531"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208729531" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208729531">(Sep 01 2020 at 18:41)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> oh, that's a good question.  hadn't considered that.</p>



<a name="208729640"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208729640" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208729640">(Sep 01 2020 at 18:42)</a>:</h4>
<p>does nirt have a -z option?  if not, maybe add one to it as well that makes it enable opencl like rt does</p>



<a name="208729774"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208729774" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208729774">(Sep 01 2020 at 18:43)</a>:</h4>
<p>it's not a c or cl primitive -- the geometry is one and the same no matter  what.  we're just evaluating that geometry with either c ray tracing or cl ray tracing.</p>



<a name="208729835"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208729835" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208729835">(Sep 01 2020 at 18:43)</a>:</h4>
<p>my asking you for two .g's was probably misleading in hindsight.  I just wanted to make sure you weren't using different geometry for each.</p>



<a name="208730077"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208730077" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208730077">(Sep 01 2020 at 18:45)</a>:</h4>
<p>there should be no problem using just one .g file. the questions  we need to confirm is 1) whether the hit point of some random non-axis-aligned ray is identical with -z and without -z and 2) whether the calculated normal is identical with and without -z</p>



<a name="208827543"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208827543" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208827543">(Sep 02 2020 at 13:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/208729640">said</a>:</p>
<blockquote>
<p>does nirt have a -z option?  if not, maybe add one to it as well that makes it enable opencl like rt does</p>
</blockquote>
<p>It doesn't have a -z flag. Yeah, we could add one. Will include this task in final report as well.</p>



<a name="208827911"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208827911" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208827911">(Sep 02 2020 at 14:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/208730077">said</a>:</p>
<blockquote>
<p>there should be no problem using just one .g file. the questions  we need to confirm is 1) whether the hit point of some random non-axis-aligned ray is identical with -z and without -z and 2) whether the calculated normal is identical with and without -z</p>
</blockquote>
<p>without nirt, for now maybe we can compare the view in different angles in c and cl cases. I'll look online if there is any other tool to check this.</p>



<a name="208843637"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208843637" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208843637">(Sep 02 2020 at 15:37)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> rt might be able to give us what we need since it already has the -z option.  i'm not sure any other tool is going to help as we need it to go through the opencl pipeline which is only accessible through rt currently.</p>



<a name="208843681"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208843681" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208843681">(Sep 02 2020 at 15:37)</a>:</h4>
<p>rt has ways to shoot just one ray at a time, and we can turn on debugging</p>



<a name="208847098"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208847098" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208847098">(Sep 02 2020 at 15:58)</a>:</h4>
<p>okay, I figured it out ... I don't use this very often but it should be exactly what we need</p>



<a name="208847119"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208847119" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208847119">(Sep 02 2020 at 15:58)</a>:</h4>
<p>run this: rt -b "256 256" -F/dev/debug -X10</p>



<a name="208847329"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208847329" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208847329">(Sep 02 2020 at 16:00)</a>:</h4>
<p>that should give a non-cl output, then of course run again with with -z1 to get cl output:  rt -b "256 256" -F/dev/debug -X10 -z1</p>



<a name="208847369"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208847369" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208847369">(Sep 02 2020 at 16:00)</a>:</h4>
<p>we'll want to compare the two outputs</p>



<a name="208847577"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208847577" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208847577">(Sep 02 2020 at 16:01)</a>:</h4>
<p>actually, lets add the -x4 debug flag too: rt -b "256 256" -F/dev/debug -X10 -x4</p>



<a name="208847595"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208847595" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208847595">(Sep 02 2020 at 16:01)</a>:</h4>
<p>and rt -b "256 256" -F/dev/debug -X10 -x4 -z1</p>



<a name="208847879"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208847879" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208847879">(Sep 02 2020 at 16:03)</a>:</h4>
<p>and just copy paste the whole output of each between two ``` blocks, so it looks like:</p>



<a name="208847892"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208847892" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208847892">(Sep 02 2020 at 16:03)</a>:</h4>
<div class="codehilite"><pre><span></span><code>mged&gt; rt -b &quot;256 256&quot; -F/dev/debug -X10 -x4
BRL-CAD Release 7.31.0  The BRL-CAD Raytracer RT
    Sun, 30 Aug 2020 14:34:09 -0400, Compilation 10
    morrison@agua.local
BRL-CAD Release 7.31.0  The BRL-CAD Ray-Tracing Library
    Sun, 30 Aug 2020 14:34:09 -0400, Compilation 10
    morrison@agua.local
BRL-CAD Release 7.31.0  The BRL-CAD Numerical Computation Library
    Sun, 30 Aug 2020 14:34:09 -0400, Compilation 10
    morrison@agua.local
BRL-CAD Release 7.31.0  The BRL-CAD Utility Library
    Sun, 30 Aug 2020 14:34:09 -0400, Compilation 10
    morrison@agua.local

Compile-time debug symbols are available
Running on agua.local
libbu bu_debug=x1 &lt;COREDUMP&gt;
librt rt_debug=x4 &lt;SHOOT&gt;
rt optical_debug=x10 &lt;SHADE&gt;
/Users/morrison/brlcad.trunk/.build/bin/rt -M -b 256 256 -F/dev/debug -X10 -x4 -u model
opendb /Users/morrison/brlcad.trunk/.build/test.g;
tree ;
db title:  Untitled BRL-CAD Database
DIRBUILD: cpu = 0.000275 sec, elapsed = 0.000456 sec
    parent: 0.0user 0.0sys 0:00real 0% i+d maxrss +pf csw
  children: 0.0user 0.0sys 0:00real 0% i+d maxrss +pf csw
Additional #malloc=244, #free=214, #realloc=14 (30 retained)
0x109c68030 TOL 5.000000e-04 (sq=2.500000e-07) perp=1.000000e-06, para=9.999990e-01
BRL-CAD Release 7.31.0  The BRL-CAD Optical Shader Library
    Sun, 30 Aug 2020 14:34:09 -0400, Compilation 10
    morrison@agua.local
Additional #malloc=2053, #free=5, #realloc=1 (2048 retained)
GETTREE: cpu = 0.000326 sec, elapsed = 0.000437 sec
    parent: 0.0user 0.0sys 0:00real 0% i+d maxrss +pf csw
  children: 0.0user 0.0sys 0:00real 0% i+d maxrss +pf csw
fb_open(0x7f98edc110d0, &quot;/dev/debug&quot;, 512, 512)
fb_view(0x7f98edc110d0,  256,  256,    1,    1)

...................Frame     0...................
PREP: cpu = 0.000128 sec, elapsed = 0.000142 sec
    parent: 0.0user 0.0sys 0:00real 0% i+d maxrss +pf csw
  children: 0.0user 0.0sys 0:00real 0% i+d maxrss +pf csw
Additional #malloc=1409, #free=1373, #realloc=10 (36 retained)
NUBSP: 0 cut, 1 box (1 empty)
Tree: 1 solids in 1 regions
Model: X(-500, 500), Y(-500, 500), Z(-500, 500)
View: 35 azimuth, 25 elevation off of front view
Orientation: 0.248097, 0.476591, 0.748097, 0.389435
Eye_pos: 2571.76, 1800.77, 1463.99
Size: 2000mm
Grid: (3.90625, 3.90625) mm, (512, 512) pixels
Beam: radius=1.95312 mm, divergence=0 mm/1mm
only pixel 256 256
Mode: scanline-per-CPU buffering
Lighting: Ambient = 40%
  Implicit light 0: (3887.74, 1501.45, 1886.61), aimed at (0, 0, -1)
  Implicit light 0: invisible, no shadows, 1 lumens (83%), halfang=180


  **********shootray cpu=0  256, 256 lvl=0 a_onehit=-1 (main ray)
  Pnt (2571.7624676893201467, 1800.767466360870003, 1463.9926030826702572)
  Dir (-0.74240387650610395465, -0.51983679072568422797, -0.42261826174070005191)
  BOX #1 interval is 2790.61..4137.59
  0x109c681d8 BOX Contains 1 primitives (2 alloc), 0 primitives with pieces:
           min (-500.000000, -500.000000, -500.000000)
         max (500.000000, 500.000000, 500.000000)
            sph
  shooting sph
  Waiting segs:
    0x7f98ee016c00: SEG sph (2964.1, 3964.1) st_bit=0 xray#=0
  ------a_hit()
    0x7f98edd17750: PT sph (SPH#0) sph (SPH#0) (2964.1, 3964.1)
      InHIT dist=2964.1 (surf 0)
     OutHIT dist=3964.1 (surf 0)
      Primitives: sph,
      Untrimmed Segments spanning this interval:
        0x7f98ee016c00: SEG sph (2964.1, 3964.1) st_bit=0 xray#=0
      Region: /s.r
  ------
colorview calling viewshade
  viewshade(/s.r)
   Using &quot;plastic&quot; shader, mfp_inputs=x1 &lt;NORMAL&gt;
  Surface normal for shader:
  hit pt: 371.202 259.918 211.309 end pt: 384.061 268.922 218.629
  Shadeworkbefore mf_render: 0x7ffeeb507538
   sw_inputs=x9 &lt;HIT,NORMAL&gt; sw_hit.dist:2964.1 @ sw_hit.point(371.202 259.918 211.309)
   sw_hit.normal(0.742404 0.519837 0.422618)
   sw_transmit 0.000000
   sw_reflect 0.000000
   sw_refract_index 1.000000
   sw_extinction 0.000000
   sw_color (1.000000, 0.000000, 0.000000)
 sw_basecolor (1.000000, 0.000000, 0.000000)
 sw_uv  0.000000 0.000000
   sw_dudv  0.000000 0.000000
   sw_xmitonly 0

  phong_render
    shine=10
    specular=0.699999999999999955591079
    diffuse=0.2999999999999999888977698
    transmit=0
    reflect=0
    ri=1
    extinction_per_meter=0
    emission=0,0,0
  Shadeworkafter mf_render: 0x7ffeeb507538
   sw_inputs=x9 &lt;HIT,NORMAL&gt; sw_hit.dist:2964.1 @ sw_hit.point(371.202 259.918 211.309)
   sw_hit.normal(0.742404 0.519837 0.422618)
   sw_transmit 0.000000
   sw_reflect 0.000000
   sw_refract_index 1.000000
   sw_extinction 0.000000
   sw_color (1.086587, 0.444181, 0.444181)
 sw_basecolor (1.000000, 0.000000, 0.000000)
 sw_uv  0.000000 0.000000
   sw_dudv  0.000000 0.000000
   sw_xmitonly 0


  ----------shootray cpu=0  256, 256 lvl=0 (main ray) HIT ret=1
SHOT: cpu = 0.000236 sec, elapsed = 0.000306 sec
    parent: 0.0user 0.0sys 0:00real 0% i+d maxrss +pf csw
  children: 0.0user 0.0sys 0:00real 0% i+d maxrss +pf csw
Additional #malloc=310, #free=300, #realloc=31 (10 retained)
1 solid/ray intersections: 1 hits + 0 miss
pruned 100.0%:  0 model RPP, 0 dups skipped, 0 solid RPP
Frame  0:     262144 pixels in      0.00 sec = 1110779661.02 pixels/sec
Frame  0:          1 rays   in      0.00 sec =      4237.29 rays/sec (RTFM)
Frame  0:          1 rays   in      0.00 sec =      4237.29 rays/CPU_sec
Frame  0:          1 rays   in      0.00 sec =      3267.97 rays/sec (wallclock)

if_flush(0x7f98edc110d0)
fb_close(0x7f98edc110d0)
</code></pre></div>



<a name="208848340"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/208848340" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#208848340">(Sep 02 2020 at 16:06)</a>:</h4>
<p>the most important lines we'll be paying attention to are the Pnt,Dir lines, the InHit,OutHit lines, the hit,end pt shading lines, and the sw_* lines.</p>



<a name="209009710"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209009710" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209009710">(Sep 03 2020 at 18:24)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> , I don't see such logs while rendering the OpenCL version</p>



<a name="209009777"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209009777" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209009777">(Sep 03 2020 at 18:25)</a>:</h4>
<p>can you show me what you're seeing?</p>



<a name="209009859"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209009859" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209009859">(Sep 03 2020 at 18:26)</a>:</h4>
<p><a href="/user_uploads/1549/pI7VFKP2H4_IUhOK3ke_EWn5/logs_cl.png">logs_cl.png</a> <a href="/user_uploads/1549/SriZPWKoFIrHMtm1wGejH_mL/logs_c.png">logs_c.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/pI7VFKP2H4_IUhOK3ke_EWn5/logs_cl.png" title="logs_cl.png"><img src="/user_uploads/1549/pI7VFKP2H4_IUhOK3ke_EWn5/logs_cl.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/SriZPWKoFIrHMtm1wGejH_mL/logs_c.png" title="logs_c.png"><img src="/user_uploads/1549/SriZPWKoFIrHMtm1wGejH_mL/logs_c.png"></a></div>



<a name="209010042"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209010042" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209010042">(Sep 03 2020 at 18:27)</a>:</h4>
<p>well... then I guess we probably have our answer for why the images are different</p>



<a name="209010093"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209010093" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209010093">(Sep 03 2020 at 18:27)</a>:</h4>
<p>it's apparently not going through liboptical for the lighting, must be doing its own thing</p>



<a name="209010484"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209010484" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209010484">(Sep 03 2020 at 18:30)</a>:</h4>
<p>I tried with previously merged primitives as well, like ell. Same response.</p>



<a name="209010952"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209010952" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209010952">(Sep 03 2020 at 18:34)</a>:</h4>
<p>yeah, looks like that's what's going on</p>



<a name="209010987"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209010987" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209010987">(Sep 03 2020 at 18:34)</a>:</h4>
<p>ideally, the cl version should go through liboptical? what exactly does it do?</p>



<a name="209011004"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209011004" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209011004">(Sep 03 2020 at 18:34)</a>:</h4>
<p>the code ends up calling clt_frame() which is up in src/librt/primitives/primitive_util.c .. and in there it's doing shading in opencl too</p>



<a name="209011317"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209011317" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209011317">(Sep 03 2020 at 18:37)</a>:</h4>
<p>ah, there it is</p>



<a name="209011395"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209011395" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209011395">(Sep 03 2020 at 18:37)</a>:</h4>
<p>src/librt/primitives/rt.cl has a shade_segs() function that is doing something similar, but obviously not identical to what liboptical is doing</p>



<a name="209013808"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209013808" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209013808">(Sep 03 2020 at 18:57)</a>:</h4>
<p>ohh</p>



<a name="209013834"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209013834" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209013834">(Sep 03 2020 at 18:57)</a>:</h4>
<p>so what would be the next steps?</p>



<a name="209033893"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209033893" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209033893">(Sep 03 2020 at 21:52)</a>:</h4>
<p>Well it just means we have a different set of problems :)</p>



<a name="209033906"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209033906" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209033906">(Sep 03 2020 at 21:52)</a>:</h4>
<p>next step would probably be to teach nirt -z</p>



<a name="209033952"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209033952" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209033952">(Sep 03 2020 at 21:53)</a>:</h4>
<p>since that way we can get the in/out hit point and normal without involving optics</p>



<a name="209268147"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209268147" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209268147">(Sep 07 2020 at 08:12)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> what are your thoughts on turning your GSoC report into a formal write-up report?  If that's something you'd be interested in, I'd be happy to sponsor and help you with getting it submitted to some technical journal interested in OpenCL/GPGPU conversion.</p>



<a name="209268188"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209268188" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209268188">(Sep 07 2020 at 08:12)</a>:</h4>
<p>Regardless, where do we stand on the other patches -- which ones compile cleanly with OpenCL enabled?</p>



<a name="209269971"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209269971" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209269971">(Sep 07 2020 at 08:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/209268147">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="276372">Rishabh Suthar</span> what are your thoughts on turning your GSoC report into a formal write-up report?  If that's something you'd be interested in, I'd be happy to sponsor and help you with getting it submitted to some technical journal interested in OpenCL/GPGPU conversion.</p>
</blockquote>
<p>That'd be indeed be interesting. I've never done this before. Please give me some time while I get back to you on this after clearing out all my upcoming commitments.</p>



<a name="209270104"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/OpenCL%20Raytracing/near/209270104" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rishabh Suthar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/OpenCL.20Raytracing.html#209270104">(Sep 07 2020 at 08:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/OpenCL.20Raytracing/near/209268188">said</a>:</p>
<blockquote>
<p>Regardless, where do we stand on the other patches -- which ones compile cleanly with OpenCL enabled?</p>
</blockquote>
<p>There is one with the bug resolution (551), one with updated FindOpenCL.cmake (549) and the HYP primitive (553) which can be merged in master.</p>



<hr><p>Last updated: Feb 27 2025 at 00:47 UTC</p>
</html>