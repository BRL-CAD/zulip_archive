<html>
<head><meta charset="utf-8"><title>Annotations · Google Summer of Code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/index.html">Google Summer of Code</a></h2>
<h3>Topic: <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html">Annotations</a></h3>

<hr>

<base href="https://brlcad.zulipchat.com">

<head><link href="https://brl-cad.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="161131906"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161131906" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161131906">(Mar 19 2019 at 08:59)</a>:</h4>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span> (switching to a more appropriate stream)<br>
The final commit to the X Window display manager (src/libdm/dm-X.c) which made it working was the one for revision 70165. I would expect the same thing to work with the TK display manager. If it's so, it would be a nice patch to prove once coding abilities.</p>



<a name="161133767"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161133767" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161133767">(Mar 19 2019 at 09:26)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="211316">Chetan Shinde</span> (switching to a more appropriate stream)<br>
The final commit to the X Window display manager (src/libdm/dm-X.c) which made it working was the one for revision 70165. I would expect the same thing to work with the TK display manager. If it's so, it would be a nice patch to prove once coding abilities.</p>
</blockquote>
<p>Can you please share the link to the last commit to the X window display manager. It would help a lot.</p>



<a name="161135569"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161135569" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161135569">(Mar 19 2019 at 09:56)</a>:</h4>
<p>Use Subversion for displaying the logs of dm-X.c. You should make yourself familiar with it. There are nice file manager plugins which provide GUIs too.</p>
<p>On Sourceforge: <a href="https://sourceforge.net/p/brlcad/code/72663/log/?path=/brlcad/trunk/src/libdm/dm-X.c" target="_blank" title="https://sourceforge.net/p/brlcad/code/72663/log/?path=/brlcad/trunk/src/libdm/dm-X.c">https://sourceforge.net/p/brlcad/code/72663/log/?path=/brlcad/trunk/src/libdm/dm-X.c</a></p>



<a name="161163944"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161163944" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161163944">(Mar 19 2019 at 16:07)</a>:</h4>
<blockquote>
<p>You can create it by yourself, e.g. as a cylinder: <a href="https://brlcad.org/wiki/BRL-CAD_Primitives#rcc" target="_blank" title="https://brlcad.org/wiki/BRL-CAD_Primitives#rcc">https://brlcad.org/wiki/BRL-CAD_Primitives#rcc</a><br>
You can find example geometries in the directory, where your BRL-CAD installation is, under share/db.<br>
In general, I recommend to go through the BRL-CAD tutorial (<a href="https://brlcad.org/w/images/c/cf/Introduction_to_MGED.pdf" target="_blank" title="https://brlcad.org/w/images/c/cf/Introduction_to_MGED.pdf">https://brlcad.org/w/images/c/cf/Introduction_to_MGED.pdf</a>), at least the first chapters, to become familiar with mged.</p>
</blockquote>
<p>As suggested by Daniel i have gone through the wiki page and the first chapter of mged as well,along with that i also tried to google the error but no results were found and still, I am still facing the error " rt_db_external5_to_internal5(annot_test): unable to import non-BRL-CAD object, major = 225 minor = 42   rt_db_get_internal(annot_test) failure" How can i resolve this error so that i can understand the annot module created by <span class="user-mention" data-user-id="103555">@Shubham Rathore</span></p>



<a name="161166486"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161166486" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161166486">(Mar 19 2019 at 16:34)</a>:</h4>
<blockquote>
<blockquote>
<p>You can create it by yourself, e.g. as a cylinder: <a href="https://brlcad.org/wiki/BRL-CAD_Primitives#rcc" target="_blank" title="https://brlcad.org/wiki/BRL-CAD_Primitives#rcc">https://brlcad.org/wiki/BRL-CAD_Primitives#rcc</a><br>
You can find example geometries in the directory, where your BRL-CAD installation is, under share/db.<br>
In general, I recommend to go through the BRL-CAD tutorial (<a href="https://brlcad.org/w/images/c/cf/Introduction_to_MGED.pdf" target="_blank" title="https://brlcad.org/w/images/c/cf/Introduction_to_MGED.pdf">https://brlcad.org/w/images/c/cf/Introduction_to_MGED.pdf</a>), at least the first chapters, to become familiar with mged.</p>
</blockquote>
<p>As suggested by Daniel i have gone through the wiki page and the first chapter of mged as well,along with that i also tried to google the error but no results were found and still, I am still facing the error " rt_db_external5_to_internal5(annot_test): unable to import non-BRL-CAD object, major = 225 minor = 42   rt_db_get_internal(annot_test) failure" How can i resolve this error so that i can understand the annot module created by <span class="user-mention silent" data-user-id="103555">Shubham Rathore</span></p>
</blockquote>
<p><a href="/user_uploads/1549/6oEgW_t7aWKiQH06EIzVhTpX/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/6oEgW_t7aWKiQH06EIzVhTpX/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/6oEgW_t7aWKiQH06EIzVhTpX/pasted_image.png"></a></div><p>The screenshot might help in understanding better the context of this error.</p>



<a name="161184573"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161184573" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161184573">(Mar 19 2019 at 19:57)</a>:</h4>
<p>I can reproduce this issue. The version from some weeks before doesn't has it. It will need some time to identify the cause.</p>



<a name="161197281"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161197281" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161197281">(Mar 19 2019 at 22:40)</a>:</h4>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span> this is why getting annotations into a finished usable statue would be a good project.  ;)  What's there was working for a few limited cases, but there aren't any regression tests so it's easy for what was working to stop working.  Also, it simply wasn't finished even for basic labels as labels need to display in the 3D world or alternatively in the 2D display, and need to work at different positions and scalings.  From my understanding and observations, there were a few bugs that need to be resolved too.</p>



<a name="161369416"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161369416" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161369416">(Mar 21 2019 at 17:45)</a>:</h4>
<p>@Sean  <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> While going through the code i came across some bu_logs which print certain string given if the project is running into debug mode can you tell me how to start the project in debug mode.</p>



<a name="161371928"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161371928" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161371928">(Mar 21 2019 at 18:14)</a>:</h4>
<blockquote>
<p>@Sean  <span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> While going through the code i came across some bu_logs which print certain string given if the project is running into debug mode can you tell me how to start the project in debug mode.</p>
</blockquote>
<p>Hey thanks got it..       <a href="http://brlcad.org/~maths22/HACKING_BRL-CAD.pdf" target="_blank" title="http://brlcad.org/~maths22/HACKING_BRL-CAD.pdf">http://brlcad.org/~maths22/HACKING_BRL-CAD.pdf</a>   thanks for the book <span class="user-mention" data-user-id="102902">@Sean</span>  :)</p>



<a name="161371991"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161371991" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161371991">(Mar 21 2019 at 18:15)</a>:</h4>
<blockquote>
<blockquote>
<p>@Sean  <span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> While going through the code i came across some bu_logs which print certain string given if the project is running into debug mode can you tell me how to start the project in debug mode.</p>
</blockquote>
<p>Hey thanks got it..       <a href="http://brlcad.org/~maths22/HACKING_BRL-CAD.pdf" target="_blank" title="http://brlcad.org/~maths22/HACKING_BRL-CAD.pdf">http://brlcad.org/~maths22/HACKING_BRL-CAD.pdf</a>   thanks for the book <span class="user-mention silent" data-user-id="102902">Sean</span>  :)</p>
</blockquote>
<p>page no 31 helps you to configure the project into debug mode.</p>



<a name="161434282"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161434282" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161434282">(Mar 22 2019 at 09:57)</a>:</h4>
<blockquote>
<p>I can reproduce this issue. The version from some weeks before doesn't has it. It will need some time to identify the cause.</p>
</blockquote>
<p>Was the issue identified <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> ?</p>



<a name="161478067"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161478067" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161478067">(Mar 22 2019 at 19:50)</a>:</h4>
<p>Not yet. I have the idea that there could be something wrong with the memory allocation and cause a write behind the allocated area and corrupting the major value.</p>



<a name="161503828"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161503828" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161503828">(Mar 23 2019 at 03:14)</a>:</h4>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span> you're welcome!  any feedback on the book is appreciated.</p>



<a name="161504069"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161504069" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161504069">(Mar 23 2019 at 03:20)</a>:</h4>
<blockquote>
<p>@Sean  <span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> While going through the code i came across some bu_logs which print certain string given if the project is running into debug mode can you tell me how to start the project in debug mode.</p>
</blockquote>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span> for most applications that support it, there are debug command line switches like -x -X and -!  ... not all applications support them, but most of the complex ones do.  For mged/archer, there are different embedded commands you can run on their individual command prompts (e.g., the "debugbu" command)</p>



<a name="161528673"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161528673" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161528673">(Mar 23 2019 at 14:46)</a>:</h4>
<blockquote>
<p>Not yet. I have the idea that there could be something wrong with the memory allocation and cause a write behind the allocated area and corrupting the major value.</p>
</blockquote>
<p>Oh yes ! Its getting set to "-1" in the export function and ending up with "255" in external-&gt;internal in db5_io somehow. Still need to find the exact point where its getting corrupted !</p>



<a name="161528810"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161528810" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161528810">(Mar 23 2019 at 14:50)</a>:</h4>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span> I found the cause of the error. But, I don't know why it ever worked.</p>
<p>Maybe you can find the cause by yourself, es an exercise in debugging BRL-CAD: Run mged in a debugger of your choice and investigate the ged_in() (in src/libged/typein.c) function there. This function is the entry point of the <code>in</code> command. Create several primitives in mged with <code>in</code> and look especially for the major and minor values from the error message while debugging this function: How are the different &lt;primitive name&gt;_in() functions setting them, and why annot_in() has an issue there?</p>



<a name="161528838"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161528838" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161528838">(Mar 23 2019 at 14:51)</a>:</h4>
<blockquote>
<blockquote>
<p>Not yet. I have the idea that there could be something wrong with the memory allocation and cause a write behind the allocated area and corrupting the major value.</p>
</blockquote>
<p>Oh yes ! Its getting set to "-1" in the export function and ending up with "255" in external-&gt;internal in db5_io somehow. Still need to find the exact point where its getting corrupted !</p>
</blockquote>
<p>Unfortunately, it looks like this wasn't one of my best guesses.</p>



<a name="161557810"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161557810" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161557810">(Mar 24 2019 at 04:03)</a>:</h4>
<blockquote>
<blockquote>
<blockquote>
<p>Not yet. I have the idea that there could be something wrong with the memory allocation and cause a write behind the allocated area and corrupting the major value.</p>
</blockquote>
<p>Oh yes ! Its getting set to "-1" in the export function and ending up with "255" in external-&gt;internal in db5_io somehow. Still need to find the exact point where its getting corrupted !</p>
</blockquote>
<p>This is mostly happening because of the directory structure defined in brlcad-svn-trunk/include/rt/directory.h , this structure is used for representing each named object in the database. In this structure the d_major_type and d_minor_type are defined as unsigned char , as the major and minor are getting set to -1 in the export function because of been assigned as unsigned the value is changing to 255 from -1.</p>
</blockquote>



<a name="161564859"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161564859" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161564859">(Mar 24 2019 at 07:46)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="211316">Chetan Shinde</span> I found the cause of the error. But, I don't know why it ever worked.</p>
</blockquote>
<p>Found it ! Its works now.  No idea why it was previously working.<br>
<span class="user-mention" data-user-id="211316">@Chetan Shinde</span>   Try looking at the annot_in() in typein.c w.r.t the major_type variable setting. Should be an easy catch now !</p>



<a name="161564995"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161564995" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161564995">(Mar 24 2019 at 07:50)</a>:</h4>
<div class="codehilite"><pre><span></span>This is mostly happening because of the directory structure defined in brlcad-svn-trunk/include/rt/directory.h , this structure is used for representing each named object in the database. In this structure the d_major_type and d_minor_type are defined as unsigned char , as the major and minor are getting set to -1 in the export function because of been assigned as unsigned the value is changing to 255 from -1.
</pre></div>


<p>Well it doesn't seem to go this way. You could investigate better by putting in some bu_logs in the export functions and comparing the major_type with the DB5_MAJORTYPE_BRLCAD. Not initializing a variable usually results in some gibberish values !</p>



<a name="161567985"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161567985" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161567985">(Mar 24 2019 at 09:17)</a>:</h4>
<p>This is mostly happening because of the directory structure defined in brlcad-svn-trunk/include/rt/directory.h , this structure is used for representing each named object in the database. In this structure the d_major_type and d_minor_type are defined as unsigned char , as the major and minor are getting set to -1 in the export function because of been assigned as unsigned the value is changing to 255 from -1.</p>
<div class="codehilite"><pre><span></span>Well it doesn&#39;t seem to go this way. You could investigate better by putting in some bu_logs in the export functions and comparing the major_type with the DB5_MAJORTYPE_BRLCAD. Not initializing a variable usually results in some gibberish values !
</pre></div>


<p>Hey thanks! <span class="user-mention" data-user-id="103555">@Shubham Rathore</span>   and @Sean , <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> </p>
<p><a href="/user_uploads/1549/W4vH2JHj0c2gZ1Q-JGu1RvjF/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/W4vH2JHj0c2gZ1Q-JGu1RvjF/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/W4vH2JHj0c2gZ1Q-JGu1RvjF/pasted_image.png"></a></div><p>Should i create a pull request for the change ?</p>



<a name="161570230"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161570230" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161570230">(Mar 24 2019 at 10:12)</a>:</h4>
<p>Yea, go ahead submit a patch (commit rights are restricted as of now :P).</p>



<a name="161576783"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161576783" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161576783">(Mar 24 2019 at 12:42)</a>:</h4>
<p>While compiling the project i came across this warning</p>
<p><a href="/user_uploads/1549/2ah9C7q-BtmR1VHaDVAc70KW/Screenshot-from-2019-03-24-18-06-51.png" target="_blank" title="Screenshot-from-2019-03-24-18-06-51.png">Screenshot-from-2019-03-24-18-06-51.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/2ah9C7q-BtmR1VHaDVAc70KW/Screenshot-from-2019-03-24-18-06-51.png" target="_blank" title="Screenshot-from-2019-03-24-18-06-51.png"><img src="/user_uploads/1549/2ah9C7q-BtmR1VHaDVAc70KW/Screenshot-from-2019-03-24-18-06-51.png"></a></div><p>The warning will go away by initializing the __n long variable. Should i ignore it or carry out the change?</p>



<a name="161613913"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161613913" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161613913">(Mar 25 2019 at 04:31)</a>:</h4>
<p>Was trying to checkout other available primitives similar issue was found with hrt.  <br>
<a href="/user_uploads/1549/hTHXIdGPj7_4HvqFhg-5cbQ5/Hrt-prblem.png" target="_blank" title="Hrt-prblem.png">Hrt-prblem.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/hTHXIdGPj7_4HvqFhg-5cbQ5/Hrt-prblem.png" target="_blank" title="Hrt-prblem.png"><img src="/user_uploads/1549/hTHXIdGPj7_4HvqFhg-5cbQ5/Hrt-prblem.png"></a></div><p>Tried to fix this bug as well by the previous approach,  now getting insufficient memory allocation.</p>
<p><a href="/user_uploads/1549/sNfc4iJmeWmjy1TCIZNyuVmg/hrt-problem2.png" target="_blank" title="hrt-problem2.png">hrt-problem2.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/sNfc4iJmeWmjy1TCIZNyuVmg/hrt-problem2.png" target="_blank" title="hrt-problem2.png"><img src="/user_uploads/1549/sNfc4iJmeWmjy1TCIZNyuVmg/hrt-problem2.png"></a></div>



<a name="161614423"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161614423" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161614423">(Mar 25 2019 at 04:46)</a>:</h4>
<blockquote>
<p>While compiling the project i came across this warning</p>
<p><a href="/user_uploads/1549/2ah9C7q-BtmR1VHaDVAc70KW/Screenshot-from-2019-03-24-18-06-51.png" target="_blank" title="Screenshot-from-2019-03-24-18-06-51.png">Screenshot-from-2019-03-24-18-06-51.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/2ah9C7q-BtmR1VHaDVAc70KW/Screenshot-from-2019-03-24-18-06-51.png" target="_blank" title="Screenshot-from-2019-03-24-18-06-51.png"><img src="/user_uploads/1549/2ah9C7q-BtmR1VHaDVAc70KW/Screenshot-from-2019-03-24-18-06-51.png"></a></div><p>The warning will go away by initializing the __n long variable. Should i ignore it or carry out the change?</p>
</blockquote>
<p>That is a warning in a system header.</p>



<a name="161614427"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161614427" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161614427">(Mar 25 2019 at 04:46)</a>:</h4>
<p>You should not change system headers.</p>



<a name="161614439"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161614439" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161614439">(Mar 25 2019 at 04:47)</a>:</h4>
<p>If you can find what code is calling into that header, you might be able to quiet the warning in a better way.</p>



<a name="161614487"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161614487" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161614487">(Mar 25 2019 at 04:48)</a>:</h4>
<blockquote>
<blockquote>
<p>While compiling the project i came across this warning</p>
<p><a href="/user_uploads/1549/2ah9C7q-BtmR1VHaDVAc70KW/Screenshot-from-2019-03-24-18-06-51.png" target="_blank" title="Screenshot-from-2019-03-24-18-06-51.png">Screenshot-from-2019-03-24-18-06-51.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/2ah9C7q-BtmR1VHaDVAc70KW/Screenshot-from-2019-03-24-18-06-51.png" target="_blank" title="Screenshot-from-2019-03-24-18-06-51.png"><img src="/user_uploads/1549/2ah9C7q-BtmR1VHaDVAc70KW/Screenshot-from-2019-03-24-18-06-51.png"></a></div><p>The warning will go away by initializing the __n long variable. Should i ignore it or carry out the change?</p>
</blockquote>
<p>That is a warning in a system header.</p>
</blockquote>
<p>Yea, that's the reason i thought of asking before breaking anything :) Thanks  <span class="user-mention" data-user-id="102902">@Sean</span> !</p>



<a name="161614490"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161614490" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161614490">(Mar 25 2019 at 04:48)</a>:</h4>
<p>The insufficient memory allocation bug would be a perfect one to debug and submit a patch for.  If you know how to use a debugger like gdb or lldb, they can help you pinpoint the issue in just a couple minutes.</p>



<a name="161614555"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161614555" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161614555">(Mar 25 2019 at 04:50)</a>:</h4>
<blockquote>
<p>The insufficient memory allocation bug would be a perfect one to debug and submit a patch for.  If you know how to use a debugger like gdb or lldb, they can help you pinpoint the issue in just a couple minutes.</p>
</blockquote>
<p>Yes I have used gdb a couple of times will work on it. (Will seek help if needed).</p>



<a name="161680183"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161680183" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161680183">(Mar 25 2019 at 19:41)</a>:</h4>
<blockquote>
<p>Should i create a pull request for the change ?</p>
</blockquote>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span> How is the creation of the patch going?</p>



<a name="161826049"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161826049" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161826049">(Mar 27 2019 at 03:41)</a>:</h4>
<blockquote>
<blockquote>
<p>Should i create a pull request for the change ?</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="211316">Chetan Shinde</span> How is the creation of the patch going?</p>
</blockquote>
<p>Have made that changes locally, regarding the annotation bug and was thinking of submitting patch for both the hrt and annotation bug together initially, but as i am not done with hrt bug yet, atleast i will upload patch for annotation bug by today it self.</p>
<p>As this is my first patch I guess i am expected follow instructions from this page.  <a href="https://brlcad.org/wiki/Patches" target="_blank" title="https://brlcad.org/wiki/Patches">https://brlcad.org/wiki/Patches</a>  ?</p>



<a name="161826718"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161826718" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161826718">(Mar 27 2019 at 03:59)</a>:</h4>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span> yes, those are the typical steps for making a patch file.</p>



<a name="161826780"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161826780" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161826780">(Mar 27 2019 at 04:00)</a>:</h4>
<p>also, please do not combine them even if you do complete hrt.  patches should be separated for each logical change.  this makes them easier to review, modify, and/or apply.</p>



<a name="161850946"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161850946" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161850946">(Mar 27 2019 at 11:44)</a>:</h4>
<blockquote>
<p>also, please do not combine them even if you do complete hrt.  patches should be separated for each logical change.  this makes them easier to review, modify, and/or apply.</p>
</blockquote>
<p><a href="https://sourceforge.net/p/brlcad/patches/521/" target="_blank" title="https://sourceforge.net/p/brlcad/patches/521/">https://sourceforge.net/p/brlcad/patches/521/</a> I have created the patch.</p>



<a name="161852176"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161852176" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161852176">(Mar 27 2019 at 12:02)</a>:</h4>
<blockquote>
<blockquote>
<p>also, please do not combine them even if you do complete hrt.  patches should be separated for each logical change.  this makes them easier to review, modify, and/or apply.</p>
</blockquote>
<p><a href="https://sourceforge.net/p/brlcad/patches/521/" target="_blank" title="https://sourceforge.net/p/brlcad/patches/521/">https://sourceforge.net/p/brlcad/patches/521/</a> I have created the patch.</p>
</blockquote>
<p>While creating the patch I was asked about Owner of the ticket which i am generating.. does that mean the person who should address that ticket or is there any more relevant meaning behind that option? Just asking our of curiosity :)</p>



<a name="161852348"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161852348" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161852348">(Mar 27 2019 at 12:05)</a>:</h4>
<p>The same fix is working for hrt as well.  :)<br>
<a href="/user_uploads/1549/LuxnNLjkYnTkhnNMnhiUWjz9/hrt_pic.png" target="_blank" title="hrt_pic.png">hrt_pic.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/LuxnNLjkYnTkhnNMnhiUWjz9/hrt_pic.png" target="_blank" title="hrt_pic.png"><img src="/user_uploads/1549/LuxnNLjkYnTkhnNMnhiUWjz9/hrt_pic.png"></a></div>



<a name="161852864"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161852864" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161852864">(Mar 27 2019 at 12:13)</a>:</h4>
<blockquote>
<p>The same fix is working for hrt as well.  :)<br>
<a href="/user_uploads/1549/LuxnNLjkYnTkhnNMnhiUWjz9/hrt_pic.png" target="_blank" title="hrt_pic.png">hrt_pic.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/LuxnNLjkYnTkhnNMnhiUWjz9/hrt_pic.png" target="_blank" title="hrt_pic.png"><img src="/user_uploads/1549/LuxnNLjkYnTkhnNMnhiUWjz9/hrt_pic.png"></a></div></blockquote>
<p>Now the new patch file which i have made is having both the changes now i am suppose to edit the new patch file and upload only the current changes made right?</p>



<a name="161860958"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161860958" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161860958">(Mar 27 2019 at 13:54)</a>:</h4>
<p>That looks good <span class="user-mention" data-user-id="211316">@Chetan Shinde</span> !  Owner is just who it's assigned to -- ideally anyone who you've been working with on this that could commit it for you.  One of us will take a look at the patch ASAP regardless,  but can you explain what the bug was?</p>



<a name="161861129"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161861129" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161861129">(Mar 27 2019 at 13:56)</a>:</h4>
<p>Since this is a thread about annotations, here's a few relevant images I came across that are good examples of where we want to get to:<br>
<a href="/user_uploads/1549/DHg_KjhEi2ovgOkzAxqw79-g/tolerance-drawing-box.gif" target="_blank" title="tolerance-drawing-box.gif">tolerance-drawing-box.gif</a> <a href="/user_uploads/1549/YYvCWhIhxy8-XXmMnkmQybIE/images.jpeg" target="_blank" title="images.jpeg">images.jpeg</a> <a href="/user_uploads/1549/vGz-eKbL8TfBhGVQAOLEtxIJ/3d-authority-model.jpg" target="_blank" title="3d-authority-model.jpg">3d-authority-model.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/DHg_KjhEi2ovgOkzAxqw79-g/tolerance-drawing-box.gif" target="_blank" title="tolerance-drawing-box.gif"><img src="/user_uploads/1549/DHg_KjhEi2ovgOkzAxqw79-g/tolerance-drawing-box.gif"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/YYvCWhIhxy8-XXmMnkmQybIE/images.jpeg" target="_blank" title="images.jpeg"><img src="/user_uploads/1549/YYvCWhIhxy8-XXmMnkmQybIE/images.jpeg"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/vGz-eKbL8TfBhGVQAOLEtxIJ/3d-authority-model.jpg" target="_blank" title="3d-authority-model.jpg"><img src="/user_uploads/1549/vGz-eKbL8TfBhGVQAOLEtxIJ/3d-authority-model.jpg"></a></div>



<a name="161861229"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161861229" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161861229">(Mar 27 2019 at 13:57)</a>:</h4>
<p>The last one is particularly good example because it shows a variety of annotations on the geometry as well as view-aligned annotations (the notes / text up in the top-left).</p>



<a name="161865498"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161865498" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161865498">(Mar 27 2019 at 14:41)</a>:</h4>
<blockquote>
<p>That looks good <span class="user-mention silent" data-user-id="211316">Chetan Shinde</span> !  Owner is just who it's assigned to -- ideally anyone who you've been working with on this that could commit it for you.  One of us will take a look at the patch ASAP regardless,  but can you explain what the bug was?</p>
</blockquote>
<p>Before answering this question can I ask a question regarding the brlcad repository.</p>
<p>On the brlcad wiki there are two links to clone latest  repository.</p>
<p>1. svn checkout svn://svn.code.sf.net/p/brlcad/code/brlcad/trunk brlcad-svn-trunk<br>
(I had initially downloaded the project from the above link)    <br>
 (the above mentioned link is on this wiki page <a href="https://brlcad.org/wiki/Compiling" target="_blank" title="https://brlcad.org/wiki/Compiling">https://brlcad.org/wiki/Compiling</a>  and states that to download latest repository which are not to be runned on a virtual machine, but i guess it is pointing to the repo which is to be meant to run on virtual machine).</p>
<p>As i had initially tried many changes to the code base to fix the hrt problem, I was not able to create a clean patch file for the first issue.<br>
so, I noted down the changes made for the first patch and deleted the whole project and downloaded it from the second link. </p>
<p>2. svn checkout <a href="https://svn.code.sf.net/p/brlcad/code/brlcad/trunk" target="_blank" title="https://svn.code.sf.net/p/brlcad/code/brlcad/trunk">https://svn.code.sf.net/p/brlcad/code/brlcad/trunk</a> brlcad <br>
(This link is on this wiki page <a href="https://brlcad.org/wiki/Patches" target="_blank" title="https://brlcad.org/wiki/Patches">https://brlcad.org/wiki/Patches</a> ) , I carried out changes which were need for the first patch and created a ticket for it.</p>
<p>Then again i went back to the hrt issue. Initially again i tried to create hrt which gave the same error of major-value not initiallised, then i solved that issue and again tried to create a new hrt and this time it work.</p>
<p>the function was not working for link 1 as the "slides" was randomly getting initialised to -2,147,483,647, i tried to follow the trail but was not able to figure out why initially it was getting assigned (the variable "slides" of rt_ell function) to -2,147,483,647 and now it was not.</p>
<p>If a wild guess is allowed, what i can say that is as initially (still assuming) as i had download the repository from a link which is ment to run on a virtual machine, i was getting a segmentation fault as i was not running it on a virtual machine and now with the proper link i was just able to fix hrt as well as i did it for annot.</p>
<p>If this above made assumption is correct we need to state that link mentioned on this wiki <a href="https://brlcad.org/wiki/Compiling" target="_blank" title="https://brlcad.org/wiki/Compiling">https://brlcad.org/wiki/Compiling</a> is ment for running brlcad on virtual machine.</p>
<p>I guess, the reply turned to be to long, but will help us to get the complete picture.</p>



<a name="161866923"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161866923" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161866923">(Mar 27 2019 at 14:54)</a>:</h4>
<blockquote>
<p>That looks good <span class="user-mention silent" data-user-id="211316">Chetan Shinde</span> !  Owner is just who it's assigned to -- ideally anyone who you've been working with on this that could commit it for you.  One of us will take a look at the patch ASAP regardless,  but can you explain what the bug was?</p>
</blockquote>
<p>I have created second ticket as well <a href="https://sourceforge.net/p/brlcad/patches/522/" target="_blank" title="https://sourceforge.net/p/brlcad/patches/522/">https://sourceforge.net/p/brlcad/patches/522/</a> please review it if it is done correctly.</p>



<a name="161867411"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/161867411" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#161867411">(Mar 27 2019 at 14:58)</a>:</h4>
<blockquote>
<p>Since this is a thread about annotations, here's a few relevant images I came across that are good examples of where we want to get to:<br>
<a href="/user_uploads/1549/DHg_KjhEi2ovgOkzAxqw79-g/tolerance-drawing-box.gif" target="_blank" title="tolerance-drawing-box.gif">tolerance-drawing-box.gif</a> <a href="/user_uploads/1549/YYvCWhIhxy8-XXmMnkmQybIE/images.jpeg" target="_blank" title="images.jpeg">images.jpeg</a> <a href="/user_uploads/1549/vGz-eKbL8TfBhGVQAOLEtxIJ/3d-authority-model.jpg" target="_blank" title="3d-authority-model.jpg">3d-authority-model.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/DHg_KjhEi2ovgOkzAxqw79-g/tolerance-drawing-box.gif" target="_blank" title="tolerance-drawing-box.gif"><img src="/user_uploads/1549/DHg_KjhEi2ovgOkzAxqw79-g/tolerance-drawing-box.gif"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/YYvCWhIhxy8-XXmMnkmQybIE/images.jpeg" target="_blank" title="images.jpeg"><img src="/user_uploads/1549/YYvCWhIhxy8-XXmMnkmQybIE/images.jpeg"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/vGz-eKbL8TfBhGVQAOLEtxIJ/3d-authority-model.jpg" target="_blank" title="3d-authority-model.jpg"><img src="/user_uploads/1549/vGz-eKbL8TfBhGVQAOLEtxIJ/3d-authority-model.jpg"></a></div></blockquote>
<p>Regarding the proposal I had shortlised few annotations which can be considered for this gsoc considering the limited time we are having, will try to complete my proposal in day or 2 and will submit it for review :)</p>



<a name="162017168"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162017168" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162017168">(Mar 29 2019 at 04:38)</a>:</h4>
<p><a href="/user_uploads/1549/A5UPhRjGvpAc1jrye_r5v_Mz/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/A5UPhRjGvpAc1jrye_r5v_Mz/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/A5UPhRjGvpAc1jrye_r5v_Mz/pasted_image.png"></a></div><p>in the annotation primitive structure for the pointer *reverse is used, (was not able to get it from the comment written beside it.)</p>



<a name="162063919"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162063919" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162063919">(Mar 29 2019 at 17:00)</a>:</h4>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span>  regarding the patch, you had to remove the extra whitespaces in the blank line rather than removing the line itself  ( The blank line above "intern-&gt;idb_major_type = DB5_MAJORTYPE_BRLCAD;" had some spaces). Go through the indentation routines or either have a look at the other primitive functions.  <br>
P.S. : you may also go through the sh/ws.sh and sh/indent.sh. ;)</p>



<a name="162083354"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162083354" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162083354">(Mar 29 2019 at 20:58)</a>:</h4>
<p>hello , my name is ali I am a civil engineer I have experience in C++ and graphics using directx i would like to participate in this project but i don't know if my skills is enough to this project. I have read the patch of 2017 project for annotations is it weird that I didn't under stand what the magic.h do ? . and for understanding the layout of the code can you provide me with specific references talks about the namespace and defined data types ?</p>



<a name="162085131"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162085131" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162085131">(Mar 29 2019 at 21:27)</a>:</h4>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span> I'm not sure either, but I'd guess that it describes which direction the annotation is to be traversed.  for example, you might have a segment going from 0,0,0 left to -1,0,0 then up to 1,0,1 making an "L" shape from the bottom up.  If the reversed flags were set on those two segments, it'd make an L shape from the top-down.  Difference being more obvious when you put a label at the end of the last point, either at the top of the L or on the bottom-right.</p>



<a name="162085233"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162085233" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162085233">(Mar 29 2019 at 21:29)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> welcome!  if you have experience with c++ and directx, you shouldn't have too much trouble with a variety of projects, but it just depends how much experience you have</p>



<a name="162085391"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162085391" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162085391">(Mar 29 2019 at 21:31)</a>:</h4>
<p>magic.h is simply a manual way of adding a "type" integer onto the beginning of a structure.  that way, if memory ever gets corrupted for any reason, the magic number will change, code that checks the magic number can detect that it's not right, and stop the program instead of letting it try to work on corrupted memory.</p>



<a name="162140024"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162140024" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162140024">(Mar 30 2019 at 21:36)</a>:</h4>
<p>thank you my problem is how to recognizes  each header file purpose is there any specific documentations for that ?</p>



<a name="162243857"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162243857" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162243857">(Apr 01 2019 at 14:28)</a>:</h4>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span> please keep discussions public, and thank you for your proposal submission!  it looks pretty good though I would make a few suggestions.  first, I think you actually need to reduce the scope a little bit.  before introducing new concepts like balloons and dimensions, basic labeling need to be completely demonstrated, debugged, and working well for both view-aligned and world-aligned annotations.  I refer you again to that last image pasted above which has both types displayed together.  second, I'd like to see a week-to-week timeline in your proposal that includes what work would be completed during the bonding period and what you'd intend to be working on each of the coding weeks.  included in that plan should be time for testing, debugging, documentation, etc, (but not just at the very end) while still being mostly writing code.</p>



<a name="162259646"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162259646" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162259646">(Apr 01 2019 at 17:24)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="211316">Chetan Shinde</span> please keep discussions public, and thank you for your proposal submission!  it looks pretty good though I would make a few suggestions.  first, I think you actually need to reduce the scope a little bit.  before introducing new concepts like balloons and dimensions, basic labeling need to be completely demonstrated, debugged, and working well for both view-aligned and world-aligned annotations.  I refer you again to that last image pasted above which has both types displayed together.  second, I'd like to see a week-to-week timeline in your proposal that includes what work would be completed during the bonding period and what you'd intend to be working on each of the coding weeks.  included in that plan should be time for testing, debugging, documentation, etc, (but not just at the very end) while still being mostly writing code.</p>
</blockquote>
<p>Sure! I have uploaded the proposal on gsoc site as suggested by <span class="user-mention" data-user-id="103555">@Shubham Rathore</span> , will help to gather input from the whole brlcad organisation. Second, will keep balloons in future possible work domain. </p>
<p>Second, Can you please elaborate on the second point basic labelling ....  </p>
<p>Third,  "Last Image pasted above" (assuming we are taking about Unilateral Tolerance.) in this type of tolerance either the upper limit or the lower limit is set to 0 i.e it is defining that variation in that  direction is not allowed example,  referring the image into consideration from 0.375<br>
 variation upto 0.875 is allowed but 0.374 that is 0.001 less value is not allowed.</p>
<p>and  the limit tolerance type is another way of representation, the dimension's range is represented instead of representing the base measurement and tolerance. example ( 0.775 +- 0.500 ) can be represented as (1.275,  0.275).</p>
<p>Fourth, will come up with a more detailed timeline.</p>



<a name="162272131"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162272131" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162272131">(Apr 01 2019 at 19:42)</a>:</h4>
<p>By basic labeling, I mean making sure even simple labels area working correctly with the position, lines, and text drawn in the right way for both view-aligned and world-aligned labels, for objects not at the origin, objects with scales applied, objects rotated, and combinations thereof.  Last I tested, most of those were not working right and view-aligned wasn't implemented at all.</p>



<a name="162272425"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162272425" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162272425">(Apr 01 2019 at 19:45)</a>:</h4>
<p>Tolerances are also something not of immediate concern -- I'd suggest those be deferred until later when dimensions are implemented.  What is implied by 3d-authority-model.jpg is having world-aligned and view-aligned labels.</p>



<a name="162273219"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162273219" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162273219">(Apr 01 2019 at 19:57)</a>:</h4>
<blockquote>
<p>Tolerances are also something not of immediate concern -- I'd suggest those be deferred until later when dimensions are implemented.  What is implied by 3d-authority-model.jpg is having world-aligned and view-aligned labels.</p>
</blockquote>
<p>Can you please tell me about the BRL-CAD coordinate system and in which files I can find the logic for it. this will help me in restructuring my proposal. info about the tcl rendering will be an add-on.</p>



<a name="162277369"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162277369" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162277369">(Apr 01 2019 at 20:44)</a>:</h4>
<p>this is best described at <a href="https://brlcad.org/wiki/Documentation" target="_blank" title="https://brlcad.org/wiki/Documentation">https://brlcad.org/wiki/Documentation</a> in various documents like the intro mged, principles of effective modeling, and the quick ref card</p>



<a name="162277619"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162277619" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162277619">(Apr 01 2019 at 20:47)</a>:</h4>
<p>the logic for it very much depends on exactly what you're doing, it's nearly everywhere in a sense.  better would be to follow an example that does similar things to what you're needing to do, like seeing the drawing code when a primitive is edited</p>



<a name="162277824"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162277824" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162277824">(Apr 01 2019 at 20:49)</a>:</h4>
<p>a good example might be to follow what the Sketch object does: <a href="https://brlcad.org/wiki/Sketch" target="_blank" title="https://brlcad.org/wiki/Sketch">https://brlcad.org/wiki/Sketch</a> <br>
the code for drawing wireframes starts in src/libged/draw.c and eventually calls into src/librt/primitives/* (e.g. sketch/sketch.c)</p>



<a name="162320559"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162320559" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162320559">(Apr 02 2019 at 10:17)</a>:</h4>
<p>Understanding the different coordinate systems is crucial for this project. The world coordinate system is the coordinate system of the main group. This is usually the coordinate system i which you add the primitives. E.g., when you put in a sphere, the center and radius are meant as a point and dimension in the world. I said usually because these values can be altered by transformations given in the compinations.</p>
<p>However, the annotation primitive lives at a different coordinate system: The screen or paper system. I.e., if an annotation text shall be 5mm heigh, this means 5mm on the screnn or on the paper, when printed out.</p>
<p>Knowing how to do this is annother essential part of the project. I highly recommend to provide a patch which makes the current annot primitive work on OpelGL windows to get selected.</p>
<p>And, if you complete the implementation of the annot primitive in the GSoC project, multi-line annotations should work automatically.</p>



<a name="162366815"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162366815" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162366815">(Apr 02 2019 at 19:35)</a>:</h4>
<blockquote>
<p>a good example might be to follow what the Sketch object does: <a href="https://brlcad.org/wiki/Sketch" target="_blank" title="https://brlcad.org/wiki/Sketch">https://brlcad.org/wiki/Sketch</a> <br>
the code for drawing wireframes starts in src/libged/draw.c and eventually calls into src/librt/primitives/* (e.g. sketch/sketch.c)</p>
</blockquote>
<p>that is what I meant by my question how to draw the annotation after constructing it in the code.<br>
this is very helpful <br>
is there a code example of drawing just a line segment ?<br>
and does the program support drawing fonts or we should construct the letters using line segments ? <br>
thank you</p>



<a name="162381511"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162381511" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162381511">(Apr 02 2019 at 22:55)</a>:</h4>
<p>for drawing a line I found vdraw.c .</p>



<a name="162395112"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162395112" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162395112">(Apr 03 2019 at 03:28)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> the details are for you to discover, but there is lots of code examples that add to the wireframe, both lines and letters via a built-in font.  for understanding that, you'll want to search the codebase on related keywords like RT_ADD_VLIST and BN_VLIST_POLY_MOVE or simply all occurrences of "grep -r -i vlist ."</p>



<a name="162441171"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162441171" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162441171">(Apr 03 2019 at 15:51)</a>:</h4>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span>  There is an extra line in your patch.</p>



<a name="162528728"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162528728" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162528728">(Apr 04 2019 at 14:14)</a>:</h4>
<blockquote>
<p>Sure! I have uploaded the proposal on gsoc site as suggested by <span class="user-mention silent" data-user-id="103555">Shubham Rathore</span> , will help to gather input from the whole brlcad organisation. Second, will keep balloons in future possible work domain. </p>
</blockquote>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span> . Regarding the proposal, your first aim should be to fix all the bugs that the annot primitive currently encounters, before you move on to dimensions and tolerances.  Moreover single and multi line notes aren't different things.  As Daniel said, there needs to be proper understanding about the coordinate systems.  SCALING of the annotations is another thing that needs attention.</p>
<p>It will be good if you keep the scope limited, rather than promising things that wont end up in time.  I feel focusing on a limited scope and demonstrating the approach to be taken in detail would look better. There are a number of extension ideas for example, support for an annotation editing command that enables users to edit the properties of the annotations, but again these will only be useful if we have a bug free structure for the annot.</p>



<a name="162545156"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162545156" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162545156">(Apr 04 2019 at 16:55)</a>:</h4>
<p><a href="/user_uploads/1549/ZNblhxM8Gb_ZTFZ4bqjASr_V/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a><br>
<a href="/user_uploads/1549/wt97b1FKTzb8_BCA1KjbnRWV/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a><br>
I am still struggling with under standing the code but i have a small idea like encapsulate vlist functions inside the annotations that we can make an editable shape for each annotations  like the image above I know  It is not very advanced but it can take advantage of the resizing and transformations built in the environment ? ( this a statement and a question <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>   )</p>
<div class="message_inline_image"><a href="/user_uploads/1549/ZNblhxM8Gb_ZTFZ4bqjASr_V/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/ZNblhxM8Gb_ZTFZ4bqjASr_V/pasted_image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/wt97b1FKTzb8_BCA1KjbnRWV/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/wt97b1FKTzb8_BCA1KjbnRWV/pasted_image.png"></a></div>



<a name="162549480"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162549480" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162549480">(Apr 04 2019 at 17:43)</a>:</h4>
<blockquote>
<blockquote>
<p>Sure! I have uploaded the proposal on gsoc site as suggested by <span class="user-mention silent" data-user-id="103555">Shubham Rathore</span> , will help to gather input from the whole brlcad organisation. Second, will keep balloons in future possible work domain. </p>
</blockquote>
<p><span class="user-mention silent" data-user-id="211316">Chetan Shinde</span> . Regarding the proposal, your first aim should be to fix all the bugs that the annot primitive currently encounters, before you move on to dimensions and tolerances.  Moreover single and multi line notes aren't different things.  As Daniel said, there needs to be proper understanding about the coordinate systems.  SCALING of the annotations is another thing that needs attention.</p>
<p>It will be good if you keep the scope limited, rather than promising things that wont end up in time.  I feel focusing on a limited scope and demonstrating the approach to be taken in detail would look better. There are a number of extension ideas for example, support for an annotation editing command that enables users to edit the properties of the annotations, but again these will only be useful if we have a bug free structure for the annot.</p>
</blockquote>
<p>Yes, I am working towards limiting the scope of the project so, that some realistic contribution can be made to the period in gsoc timeframe.</p>



<a name="162588731"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162588731" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162588731">(Apr 05 2019 at 02:55)</a>:</h4>
<blockquote>
<p>I am still struggling with under standing the code but i have a small idea like encapsulate vlist functions inside the annotations that we can make an editable shape for each annotations  like the image above I know  It is not very advanced but it can take advantage of the resizing and transformations built in the environment ? ( this a statement and a question <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>   )</p>
</blockquote>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> that sounds quite reasonable for dimension-style and symbolic annotations like in the examples that were pasted, but it cannot be emphasized enough that the focus does need to be on proving that simple text labels are working perfectly.  If you read the BUGS file, there is an example of one of the current annotation bugs -- see if you can reproduce the bad behavior.    You'll also want to read the TOD file as there's a significant section on annotations in there that are some of the foundations for what is needed.</p>



<a name="162983472"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/162983472" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#162983472">(Apr 10 2019 at 08:11)</a>:</h4>
<p>you mean the bug  page on the sourceforg websit or there is a bug file some where ? can you provide some links ? thank you</p>



<a name="163016144"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/163016144" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#163016144">(Apr 10 2019 at 15:39)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> no, you need to get a checkout of the repository from subversion, and there you will find a file named BUGS and TODO</p>



<a name="163810791"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/163810791" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#163810791">(Apr 20 2019 at 16:55)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> and everybody else interested in the annotation topic:</p>
<blockquote>
<p>Since this is a thread about annotations, here's a few relevant images I came across that are good examples of where we want to get to:<br>
<a href="/user_uploads/1549/DHg_KjhEi2ovgOkzAxqw79-g/tolerance-drawing-box.gif" target="_blank" title="tolerance-drawing-box.gif">tolerance-drawing-box.gif</a> <a href="/user_uploads/1549/YYvCWhIhxy8-XXmMnkmQybIE/images.jpeg" target="_blank" title="images.jpeg">images.jpeg</a> <a href="/user_uploads/1549/vGz-eKbL8TfBhGVQAOLEtxIJ/3d-authority-model.jpg" target="_blank" title="3d-authority-model.jpg">3d-authority-model.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/DHg_KjhEi2ovgOkzAxqw79-g/tolerance-drawing-box.gif" target="_blank" title="tolerance-drawing-box.gif"><img src="/user_uploads/1549/DHg_KjhEi2ovgOkzAxqw79-g/tolerance-drawing-box.gif"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/YYvCWhIhxy8-XXmMnkmQybIE/images.jpeg" target="_blank" title="images.jpeg"><img src="/user_uploads/1549/YYvCWhIhxy8-XXmMnkmQybIE/images.jpeg"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/vGz-eKbL8TfBhGVQAOLEtxIJ/3d-authority-model.jpg" target="_blank" title="3d-authority-model.jpg"><img src="/user_uploads/1549/vGz-eKbL8TfBhGVQAOLEtxIJ/3d-authority-model.jpg"></a></div></blockquote>
<p>These images aren't wrong but give a wrong impression about how annotations shall look like in BRL-CAD. With their symbols, they are obviously conform with a standard, but it's hard to believe that this standard allows skewness or arbitrary letter size. These images only make sense with one or more paper planes for blueprints with associated scales behind.</p>
<p>As "paper plane" and "scale" are usual entities in a CAD, there are no adequate objects in BRL-CAD for expressing them. That's why for the first implementation of annotations in BRL-CAD the <em>natural</em> paper plane and scale was chosen: The current display plane and scale.</p>
<p>I.e., the annotations size shall be its size on the screen. The annotation shall always be displayed at the same size and front-on on the screen. Unfortunately, this doesn't work with OpenGL and therefore on Windows yet. I would expect that displaying annotations had to work somehow similar to displaying the faceplate in mged with OpenGL.</p>



<a name="163811479"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/163811479" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#163811479">(Apr 20 2019 at 17:16)</a>:</h4>
<p>I tend think of it not so much as which plane they are drawn or skew as it is a screen space vs world space perspective.  We're focused on screen space for now, and obviously eventually want to get to annotations in world space, but not until screen space is fully fleshed out and working right. </p>
<p>The standards those images conform with are ASME Y14.5 2009, which is more about what the boxes mean and should contain, not how they are presented in a 3D view.  For simplicity, most CAD systems I've seen let the user specify annotations on either the XY plane, YZ plane, XZ plane, or aligned to the view.  Some allow arbitrary user-defined planes too.</p>



<a name="163811603"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/163811603" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#163811603">(Apr 20 2019 at 17:20)</a>:</h4>
<p>Where it can imply a usability difference is that one doesn't usually need to be concerned with z-depth when working in screen space.  Everything is a projected 2d coordinate.  So you could, for example, draw a label in the 0,0 bottom left (assuming 1st quadrant coordinate system) corner of the screen with the name of the object and a leader line pointing towards the object.  Alternatively, I might define a 3-space coordinate at 123.0, 234.0, 345.0 that we can project into the screen space plane, and that might end up in the bottom left, but that is quite a different input and handling.</p>



<a name="163811673"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/163811673" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#163811673">(Apr 20 2019 at 17:22)</a>:</h4>
<p>Maybe it'd be worthwhile to draw up a picture of the 3 styles in question.  The point wasn't to be misleading, but to increase awareness that there are different types and it would be good to be aware of their differences as there are usability and design implications.</p>



<a name="163811748"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/163811748" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#163811748">(Apr 20 2019 at 17:25)</a>:</h4>
<p>To oversimplify, say we had a label command that created annotations.  It's the difference between:</p>
<div class="codehilite"><pre><span></span>label 0,0 &quot;some string in the bottom left, always in view&quot;
</pre></div>


<p>and</p>
<div class="codehilite"><pre><span></span>label 0,0,0 &quot;some string at the origin, maybe or maybe not in view&quot;
</pre></div>



<a name="163851049"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/163851049" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#163851049">(Apr 21 2019 at 13:04)</a>:</h4>
<p>Introducing the concept of "paper" and "scale" in BRL-CAD isn't complicated, I think. At least the database representation should work with the existing objects. There nothing new had to be programmed. The depiction requires some work/programming. But, maybe, with a new GUI, it could even feel natural to have this.</p>



<a name="163873021"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/163873021" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#163873021">(Apr 21 2019 at 23:42)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> thank you I will try to thhink in this way . I have fixed the patch of leader line.</p>



<a name="163926777"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/163926777" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#163926777">(Apr 22 2019 at 18:45)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  <span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  Hello, everyone. Just got done with my practical examinations :). In the mean time along with studying for my examination, managed to solve the no numerical label issue in brlcad :)</p>
<p>(from Bugs file)<br>
 in ann3.s annot 0 0 0 1 10 10 3 1<br>
  # using numbers for a label results in no label<br>
(Bug reproduced) <a href="user_uploads/1549/n7aubXLg-NQm4B90hLZvwOan/Reason-for-1-not-printing.png" target="_blank" title="user_uploads/1549/n7aubXLg-NQm4B90hLZvwOan/Reason-for-1-not-printing.png">Reason-for-1-not-printing.png</a></p>
<div class="message_inline_image"><a href="user_uploads/1549/n7aubXLg-NQm4B90hLZvwOan/Reason-for-1-not-printing.png" target="_blank" title="Reason-for-1-not-printing.png"><img src="user_uploads/1549/n7aubXLg-NQm4B90hLZvwOan/Reason-for-1-not-printing.png"></a></div><p>(Solved the bug.)<br>
<a href="/user_uploads/1549/UX8RbrRzitivJIab3oJetV_E/Solved-The-bug-.png" target="_blank" title="Solved-The-bug-.png">Solved-The-bug-.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/UX8RbrRzitivJIab3oJetV_E/Solved-The-bug-.png" target="_blank" title="Solved-The-bug-.png"><img src="/user_uploads/1549/UX8RbrRzitivJIab3oJetV_E/Solved-The-bug-.png"></a></div><p>(Printing decimal values as well)<br>
<a href="/user_uploads/1549/phDF3oD7GhDs6hnRX3o7vv5R/Priting-complex-decimal-value.png" target="_blank" title="Priting-complex-decimal-value.png">Priting-complex-decimal-value.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/phDF3oD7GhDs6hnRX3o7vv5R/Priting-complex-decimal-value.png" target="_blank" title="Priting-complex-decimal-value.png"><img src="/user_uploads/1549/phDF3oD7GhDs6hnRX3o7vv5R/Priting-complex-decimal-value.png"></a></div><p>(This bug help me to understand the code's flow and get a complete inside of the annotation module.) #great experience :)</p>



<a name="163927437"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/163927437" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#163927437">(Apr 22 2019 at 18:53)</a>:</h4>
<p>As i had mentioned this bug solving in my proposal, now i can utilized that allocated time, to work on adding some other required feature for the annotation module <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="163927778"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/163927778" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#163927778">(Apr 22 2019 at 18:56)</a>:</h4>
<blockquote>
<p>Introducing the concept of "paper" and "scale" in BRL-CAD isn't complicated, I think. At least the database representation should work with the existing objects. There nothing new had to be programmed. The depiction requires some work/programming. But, maybe, with a new GUI, it could even feel natural to have this.</p>
</blockquote>
<p>Thanks <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> Will work further in this direction. <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="164900623"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/164900623" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#164900623">(May 05 2019 at 03:59)</a>:</h4>
<p>Came across a relevant screenshot I'd stashed related to annotations: <a href="/user_uploads/1549/Po7vgNnjsTI9Sb3CPRshqU2C/fig11-B_1.png" target="_blank" title="fig11-B_1.png">fig11-B_1.png</a> <a href="/user_uploads/1549/Re09wSN6bc4QdRmrlj6H4e5h/draftproannotations.jpg" target="_blank" title="draftproannotations.jpg">draftproannotations.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/Po7vgNnjsTI9Sb3CPRshqU2C/fig11-B_1.png" target="_blank" title="fig11-B_1.png"><img src="/user_uploads/1549/Po7vgNnjsTI9Sb3CPRshqU2C/fig11-B_1.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/Re09wSN6bc4QdRmrlj6H4e5h/draftproannotations.jpg" target="_blank" title="draftproannotations.jpg"><img src="/user_uploads/1549/Re09wSN6bc4QdRmrlj6H4e5h/draftproannotations.jpg"></a></div>



<a name="165027566"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165027566" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165027566">(May 06 2019 at 23:16)</a>:</h4>
<p>I am very happy that I was selected , thank you very much for you help , <span class="user-mention" data-user-id="102902">@Sean</span>  <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> , I hope I will be a good choice and I will do me best.</p>



<a name="165152473"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165152473" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165152473">(May 08 2019 at 10:59)</a>:</h4>
<p>they said we should start bonding now <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <span class="user-mention" data-user-id="102902">@Sean</span> <span class="user-mention" data-user-id="103555">@Shubham Rathore</span> , my name is louis I have two brothers and two sisters <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>  <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span> , I want to ask what should I do next and if we will keep contacting here or in the IRC or in some where else ? thank you very much .</p>



<a name="165153490"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165153490" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165153490">(May 08 2019 at 11:14)</a>:</h4>
<p>First of all please add your project description to <a href="http://brlcad.org/wiki/Google_Summer_of_Code/2019" target="_blank" title="http://brlcad.org/wiki/Google_Summer_of_Code/2019">http://brlcad.org/wiki/Google_Summer_of_Code/2019</a> , there is a pre-existing template there to help you out. You may take reference from the previous year wiki <a href="https://brlcad.org/wiki/Google_Summer_of_Code/2018" target="_blank" title="https://brlcad.org/wiki/Google_Summer_of_Code/2018">https://brlcad.org/wiki/Google_Summer_of_Code/2018</a> .<br>
Secondly, upload the abstract and your proposal to the wiki. <br>
Finally, you must have a platform for your daily logs, you may use the wiki or any other platform for this. Make sure you update it regularly even in the community bonding period (you should mention the content that you coded up or went through in that day). This will serve as an update for us and we will be able to analyze the direction in which the project is going. </p>
<p>P.S. - You may upload a more refined proposal  than you submitted previously.</p>



<a name="165185577"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165185577" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165185577">(May 08 2019 at 17:59)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> Thirsty for action? Good!<br>
In addition to what Shubham said, you should have a Linux handy. Your main development environment is Visual Studio on MS Windows(?). This is OK, but Linux serves often as a reference/primary system for BRL-CAD. Especially for the annotations, their representation on X Window is currently the reference. I.e. you should have a Linux installed, for example in a virtual machine or dual boot, and make BRL-CAD compile there.</p>



<a name="165197191"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165197191" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165197191">(May 08 2019 at 20:19)</a>:</h4>
<p><span class="user-mention" data-user-id="103555">@Shubham Rathore</span> thank you , I have read some parts of  your blog on the 2017 project can I do one like it ? or its better to make one on the wiki ? , I was thinking about refining the proposal before adding it on the wiki.</p>



<a name="165198084"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165198084" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165198084">(May 08 2019 at 20:27)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> actually I am exited and a little bit scared of the evaluation <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> , so I wanted to start as early as possible , yes i usually use Visual studio but my first build of the code was on Linux using virtual box but it takes too much time to compile and several tries, it took 21:00 hours , do I have to do all the work using Linux  or maybe write the code and then check if it works on Linux ?. thank you.</p>



<a name="165273477"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165273477" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165273477">(May 09 2019 at 17:44)</a>:</h4>
<p>You don't have to be scared of the evaluations. In the many years BRL-CAD took part in GSoC we had also to fail some students there, but this were cases when something really went wrong, and we will communicate in advance if we see a problem there.</p>
<p>You can use Visual Studio as your main development environment. I used it as mine for many years too. But you should have Linux for checks an as reference handy.</p>
<p>Is your computer slow in general or VirtualBox only? If the latter applies, you should check if the virtualization support is enabled in your BIOS.</p>



<a name="165285760"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165285760" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165285760">(May 09 2019 at 20:21)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I will do my best ,I am going to dual boot my machine , it is not slow usually the build on Vs takes 20 minutes . <br>
do you have some suggestions to refine the proposal before adding it to the wiki ?</p>



<a name="165293110"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165293110" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165293110">(May 09 2019 at 22:14)</a>:</h4>
<p>like organizing the Ideas and seeing which of them is applicable in the frame of the project .</p>



<a name="165345299"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165345299" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165345299">(May 10 2019 at 15:26)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> You'll be getting an e-mail shortly with additional details, but congratulations on getting selected for GSoC -- I'm very much excited for your project and glad to see you getting started right away.  For the bonding period, I encourage you to ask as many questions as possible, read the code, get your development environment set up, and maybe try a few of the mged tutorials.  That will give you some basic that help with understanding how to create, visualize, and edit annotation objects. </p>
<p>For what it's worth, you can do all your development on Windows but just realize that you may end up needing to fix things there as several of the other devs don't like doing that as frequently as it's required, myself included.  If you have trouble getting Linux set up, let me know and we can get you an account set up on another system. </p>
<p>As for what specifically you need to do in the bonding period, there's a nice checklist for you at <a href="https://brlcad.org/wiki/Summer_of_Code/Checklist" target="_blank" title="https://brlcad.org/wiki/Summer_of_Code/Checklist">https://brlcad.org/wiki/Summer_of_Code/Checklist</a></p>



<a name="165412018"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165412018" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165412018">(May 11 2019 at 13:34)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> At first, you should fix the issues in the current implementation. This includes the wrong depiction with OpenGL, for example on Windows.<br>
Next, you would need to extend the data structure by references. When you want to display symbols and texts side by side, you need a way to say something like "from the right border of the segment with id xxx go 2 mm to the right and then display this segment there".</p>
<p>When you are able to do this, very much of what's in <a href="https://www.3dcadworld.com/leveraging-3d-cad-data/" target="_blank" title="https://www.3dcadworld.com/leveraging-3d-cad-data/">https://www.3dcadworld.com/leveraging-3d-cad-data/</a> can be seen could be done. What't would be missing for the full functionality are references to the BRL-CAD database elements for the dimension lines and a notation for display planes ("paper"), which I would implement as a flag in the combinations, similar to the regions.</p>



<a name="165523857"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165523857" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165523857">(May 13 2019 at 12:37)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  thank you I hope I can be as good as required , I installed Ubuntu in dual boot is there any specific IDE and debugger you advice? , I have also a problem with the Payoneer account  they rejected my application they said due to limitations imposed on U.S companies and they asked for more documents. I know this is not the place to ask about that but I know you have experiences with students from last years.</p>



<a name="165525870"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165525870" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165525870">(May 13 2019 at 13:03)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> you are the hardest Mr. Daniel <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> .is there any references to understand the wrong depiction with OpenGL ? thank you .</p>



<a name="165531739"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165531739" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165531739">(May 13 2019 at 14:08)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> if you're looking for a graphical IDE, you might want to try Eclipse, NetBeans, or Atom.  Personally, I use Emacs.  As for debugger, you're going to want to use either gdb or lldb depending on whether you're using the gcc or clang compiler.</p>
<p>As  for Payoneer issues, I don't have any advice.  I suggest reading what they sent you in detail and submit the additional documentation.</p>



<a name="165551799"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165551799" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165551799">(May 13 2019 at 17:55)</a>:</h4>
<p>As you are coming from Windows I recommend to have a look at KDevelop. Because you already know Visual Studio, you should get used to it. There is a KDevelop back-end in CMake, but I recommend to let KDevelop create the project files from the CMake configuration.</p>



<a name="165553492"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165553492" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165553492">(May 13 2019 at 18:12)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> you are the hardest Mr. Daniel <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> .is there any references to understand the wrong depiction with OpenGL ? thank you .</p>
</blockquote>
<p>Why isn't it reasonable to correctly depict the annotations with OpenGL too ;)</p>
<p>You can see the correct depiction of annotation with the X Window display manager on Linux.<br>
The annotation, as it's currently implemented, is defined in screen screen coordinates in mm. I.e., a test with height 5 should always be 5 mm height on the screen, independently from the zoom and rotation of the model. In this sense, it should behave similar to the face plate in mged. The routines which depict this face plate could be a reference for how this can be achieved.</p>
<p>And the good part is, that OpenGL is used for the draw routines on Windows. You can develop it with Visual Studio there.</p>



<a name="165863713"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165863713" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165863713">(May 17 2019 at 01:11)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <span class="user-mention" data-user-id="102902">@Sean</span> <span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  I have installed ubuntu and build the code successfully, I think we should discuss the proposal before uploading it on the wiki ? tell me you opinions about the goals and if you think some things could not be implemented in the time of the project .</p>



<a name="165863990"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165863990" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165863990">(May 17 2019 at 01:17)</a>:</h4>
<blockquote>
<p>As you are coming from Windows I recommend to have a look at KDevelop. Because you already know Visual Studio, you should get used to it. There is a KDevelop back-end in CMake, but I recommend to let KDevelop create the project files from the CMake configuration.</p>
</blockquote>
<p>I used KDevelop</p>



<a name="165876810"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165876810" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165876810">(May 17 2019 at 06:36)</a>:</h4>
<p>First of all please complete the checklist items as said by  Sean previously. I couldn't find your project details on the wiki. It's high time now, that you complete these tasks and move over to the code base. Regarding your proposal, I couldn't find a well defined timeline in the proposal that you uploaded. Primarily come with a timeline and then we should be able to improvise.</p>



<a name="165896000"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165896000" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165896000">(May 17 2019 at 12:29)</a>:</h4>
<p>First, you should eliminate the shortfalls of the current annotations. I.e. fix the bugs, enlarge the mged (and archer) commands to input arbitrary annotations (as they are currently possible), ....<br>
Then, introduce a feature like referring other segments inside an annotation. This is needed for the creation of boxes, underlines, putting texts and symbols side by side, etc.. For example, when you want to draw a box around a text, the line segments need to know the length and height of this text, but how?</p>



<a name="165939137"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165939137" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165939137">(May 17 2019 at 21:41)</a>:</h4>
<p><span class="user-mention" data-user-id="103555">@Shubham Rathore</span> I am sorry for being late but i was trying to under stand the X window depiction(faild <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>  )and struggling with payoneer live chat   , starting with the check list the first item says I have to agree on the acceptance requirements in writing , where I have to write that I agree ? for the proposal i am working on it , what do we mean by milestones? for submitting batches can you give me feed back about the two bugs that I suggested  a solution for 1- the debug assertion error 2- annotation points at origin?  and I will try to solve some more.</p>



<a name="165940661"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165940661" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165940661">(May 17 2019 at 22:07)</a>:</h4>
<blockquote>
<p>where I have to write that I agree ?</p>
</blockquote>
<p>You send me an e-mail.</p>
<blockquote>
<p>for the proposal i am working on it , what do we mean by milestones?</p>
</blockquote>
<p>Check out some of the previous year GSoC proposals (they are ALL on our wiki) for examples, but basically you need to have a general notion of what you plan to be doing for each week of the coding period and when you think major tasks will be completed.</p>



<a name="165943449"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165943449" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165943449">(May 17 2019 at 22:58)</a>:</h4>
<p><a href="/user_uploads/1549/qx8bJQzIIrK-m8Xq5LUC2A-9/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
but I am living in Italy they are not reading my emails !!!!!</p>
<div class="message_inline_image"><a href="/user_uploads/1549/qx8bJQzIIrK-m8Xq5LUC2A-9/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/qx8bJQzIIrK-m8Xq5LUC2A-9/pasted_image.png"></a></div>



<a name="165952781"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165952781" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165952781">(May 18 2019 at 02:24)</a>:</h4>
<p><a href="/user_uploads/1549/BgW8eS68QvZyFFHurKe_1Zim/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  problem solved she said that I can continue my project .</p>
<div class="message_inline_image"><a href="/user_uploads/1549/BgW8eS68QvZyFFHurKe_1Zim/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/BgW8eS68QvZyFFHurKe_1Zim/pasted_image.png"></a></div>



<a name="165982032"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165982032" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165982032">(May 18 2019 at 16:51)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="103555">Shubham Rathore</span> I am sorry for being late but i was trying to under stand the X window depiction(faild <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>  )and struggling with payoneer live chat   , starting with the check list the first item says I have to agree on the acceptance requirements in writing , where I have to write that I agree ? for the proposal i am working on it , what do we mean by milestones? for submitting batches can you give me feed back about the two bugs that I suggested  a solution for 1- the debug assertion error 2- annotation points at origin?  and I will try to solve some more.</p>
</blockquote>
<ul>
<li>What's the matter with the X Window depiction?</li>
<li>The "debug assertion error" is in pix-bw.c, right?And, you provided a patch for it. I haven't looked at it yet.</li>
<li>Have you done something with the "annotation points at origin" error? Did I missed something? BTW, the depiction with the X Window display manager is correct. I.e., it's an OpenGL issue. You should really start to look into OpenGL <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></li>
</ul>



<a name="165984009"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165984009" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165984009">(May 18 2019 at 17:43)</a>:</h4>
<blockquote>
<blockquote>
<p>This is how it looks at my computer: <a href="/user_uploads/1549/euI-x6Oof0A1W72EQz7ux-5C/Screenshot_20190413_180624.png" target="_blank" title="Screenshot_20190413_180624.png">Screenshot_20190413_180624.png</a> <br>
Revision 72903 (version 7.30.3) on Linux (Debian 9).</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> <span class="user-mention silent" data-user-id="102902">Sean</span>   I found the error causing the first bug in the bug file where the annotation appear to be pointing to (0 , 0 , 0) and I made a fix it works but I have another tow Ideas for the fix <a href="/user_uploads/1549/mCXBaCP9e0nzBQQJmJhRGoSG/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a><br>
the cause of the error is in seg_to_vlist() <br>
<a href="/user_uploads/1549/v0x-KKx0n6abjYiyktG0pPYL/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
when trying to send the annotated point to the list <a href="/user_uploads/1549/vVFW-6MCs6Jxm6lYyr8I8KNQ/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
we can see that annot_ip-&gt;verts[lsg-&gt;end] is not a point or is not initialized correctly and it didn't contain the coordinates of the annotated point so me fix is to save the coordinates of the annotated points in a point and pass it to the list<br>
<a href="/user_uploads/1549/_OF0cbBuDhX03fg98oZCtsHZ/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
<a href="/user_uploads/1549/f8_Uu-zi80ffrkzSaJ1X5p9D/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
so the error may be  in annot-ip-&gt;verts . the second Idea is fix verts to be verts[1] contains the annotated point.<br>
the third Idea is when you go to wgl_drawVlist() the annotated point is the first point in the list but with a cmd=15 which I don't know what it means but even if we fix it from here the third point in the list pt[2] will always be (0,0,0) because of the annot_ip-&gt;verts[1] error . I hope you give me feed back thank you very much .</p>
</blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  this is what i did with annotation appear to point to (0,0,0)</p>



<a name="165984120"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165984120" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165984120">(May 18 2019 at 17:46)</a>:</h4>
<p><a href="/user_uploads/1549/Svf4707FTvSytLO4Q_6tSydN/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  <br>
 it all existed in <a class="stream" data-stream-id="104062" href="/#narrow/stream/104062-general">#general</a>  build channel</p>
<div class="message_inline_image"><a href="/user_uploads/1549/Svf4707FTvSytLO4Q_6tSydN/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/Svf4707FTvSytLO4Q_6tSydN/pasted_image.png"></a></div>



<a name="165992643"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165992643" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165992643">(May 18 2019 at 21:49)</a>:</h4>
<div class="codehilite"><pre><span></span>* What&#39;s the matter with the X Window depiction?
Window display manager is correct. I.e., it&#39;s an OpenGL issue. You should really start to look into OpenGL :wink:
</pre></div>


<p>the matter with x window is I am new to Linux and you told me that the right depiction is in X window but I don't know where to find the code written for it so i can have an idea abut the right solution to make like it in OpenGl .</p>



<a name="165992699"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/165992699" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#165992699">(May 18 2019 at 21:50)</a>:</h4>
<p>can you mention some code example to see ?</p>



<a name="166029681"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166029681" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166029681">(May 19 2019 at 16:17)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span><br>
Annotation points at origin error: OK, still a bunch of screen shots only. In case we shall review your code, you have to provide us with a patch file, for example at <a href="https://sourceforge.net/p/brlcad/patches/" target="_blank" title="https://sourceforge.net/p/brlcad/patches/">https://sourceforge.net/p/brlcad/patches/</a>. With your comments in <a class="stream" data-stream-id="104062" href="/#narrow/stream/104062-general">#general</a> I should be able to understand it.</p>
<p>X Window display manager: Start mged with the "-c" option <code>mged -c</code>.</p>



<a name="166029906"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166029906" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166029906">(May 19 2019 at 16:23)</a>:</h4>
<p>... and select "X" then.</p>



<a name="166116328"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166116328" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166116328">(May 20 2019 at 20:17)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> I want to ask you if there where a channel on zulip for the 2017 annotations project and if i can find it some where ?</p>



<a name="166116738"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166116738" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166116738">(May 20 2019 at 20:22)</a>:</h4>
<p>We were not using Zulip back in 2017.  We do also have an IRC channel running and were more actively using it back then, so you could search our IRC archives, but it's a slow search process: <a href="http://infobot.rikers.org/%23brlcad/" target="_blank" title="http://infobot.rikers.org/%23brlcad/">http://infobot.rikers.org/%23brlcad/</a></p>



<a name="166134731"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166134731" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166134731">(May 21 2019 at 01:32)</a>:</h4>
<p>this is extended description of the project on the wiki , I am sorry for being late its because our university is taking us to Poland will  be back on 23th . <a href="https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/project" target="_blank" title="https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/project">https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/project</a><br>
I hope you give me feed back and I hope I will finish the time table tomorrow. <br>
Thank you.</p>



<a name="166136052"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166136052" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166136052">(May 21 2019 at 02:06)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> Thank you, that's looking like a good start.  The checklist deadline is mostly to help make sure everyone is prepared and not procrastinating to the last minute (or worse).  It's important to get all the prep work out of the way so when the coding period begins, people are actually able to write code every day, not get started, not research, not study code, etc.  It's usually recommended to intentionally schedule a little bit of time every day.  Time management, especially with overlapping school work, is a skill in itself but worthwhile (and in many instances, absolutely necessary).</p>



<a name="166137669"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166137669" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166137669">(May 21 2019 at 02:50)</a>:</h4>
<p>So looking over your plan, I have to say that it is lacking in details.  You really will to have more of a specific plan, particularly with regards to the milestones.  It also has a few items in it that are probably too far out of scope for your abilities.  I suggest, for example, that you drop plans for adding angular dimensions.  It's very important that simple text labels with leader lines is working solid and well before moving on to other annotation types.</p>



<a name="166170518"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166170518" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166170518">(May 21 2019 at 13:11)</a>:</h4>
<p><a href="/user_uploads/1549/k9msmtI3OoBRHYbbVKL3sdVF/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> i have a problem in building on windows any ideas?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/k9msmtI3OoBRHYbbVKL3sdVF/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/k9msmtI3OoBRHYbbVKL3sdVF/pasted_image.png"></a></div>



<a name="166180598"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166180598" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166180598">(May 21 2019 at 15:02)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> you mean programming details? Like which functions i will change?</p>



<a name="166180748"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166180748" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166180748">(May 21 2019 at 15:04)</a>:</h4>
<p>No that’s way too specific</p>



<a name="166180845"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166180845" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166180845">(May 21 2019 at 15:05)</a>:</h4>
<p>You say what at a very high level but nothing about how</p>



<a name="166181205"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166181205" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166181205">(May 21 2019 at 15:09)</a>:</h4>
<p>This is no longer a proposal, it’s a project plan.  It should be more specific than your proposal on what you are doing and how you plan to go about doing that.</p>
<p>If you don’t know what to write yet, then you are behind in studying the code and will need to put in more study effort.</p>



<a name="166236196"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166236196" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166236196">(May 22 2019 at 04:30)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I have submitted  the patch for annotation points to origin</p>



<a name="166236321"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166236321" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166236321">(May 22 2019 at 04:32)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  yes you are correct I have to put more effort in studying the code . so the details is mentioning every type of annotations and describing how I will do it ?</p>



<a name="166236388"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166236388" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166236388">(May 22 2019 at 04:34)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> Mr. Daniel you asked me how to calculate the dimensions of the box surrounding the label , I have mentioned an Idea in the project page  <a href="https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/project" target="_blank" title="https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/project">https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/project</a> , tell me what do you think ? thank you</p>



<a name="166273126"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166273126" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166273126">(May 22 2019 at 14:32)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> try updating.  I think you just caught a typo (missing open curly brace) on the previous commit that was fixed a few minutes later.  Bad timing.</p>



<a name="166274252"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166274252" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166274252">(May 22 2019 at 14:42)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span>  yes you are correct I have to put more effort in studying the code . so the details is mentioning every type of annotations and describing how I will do it ?</p>
</blockquote>
<p>It's not about breadth, it's about depth.  Even for the first one you listed, to fix labels -- what exactly does that mean?  What's currently wrong?  What are you going to fix?  How long do you think it'll take to fix it?  How will you know when it's fixed?  Are there any documentation or tests needed? ... there's questions like that you can answer already for every one of your major milestones. </p>
<p>It's also probably more work that you realize to be thorough, so you may find that you need to reduce your milestones.  I recommend added a week-to-week plan so you can have an idea what will be worked on each week, to help make sure you are not planning to do too much.</p>



<a name="166282014"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166282014" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166282014">(May 22 2019 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> Please make sure you complete the Checklist ASAP.  I believe you are the last one to add  yourself to <a href="http://brlcad.org/wiki/Google_Summer_of_Code/2019" target="_blank" title="http://brlcad.org/wiki/Google_Summer_of_Code/2019">http://brlcad.org/wiki/Google_Summer_of_Code/2019</a> ...  Please check the other steps as well to make sure you've not missed anything.</p>



<a name="166289784"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166289784" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166289784">(May 22 2019 at 17:24)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I am very sorry for being late , it was because of building on windows Now it works there is another error other than the brace I will send it to you. and because of the trip to Poland , my flight is tomorrow morning , I am working my best in this conditions . now I under stand what you mean by details I will try to fix some thing today. and because of google problem .</p>



<a name="166295534"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166295534" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166295534">(May 22 2019 at 18:25)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  I have submitted  the patch for annotation points to origin</p>
</blockquote>
<p>I've seen it, but it doesn't compile, at least on Linux. And, I've a bad feeling with it, because for me it looks like an OpenGL issue. But, I'll test your patch - when it builds.</p>



<a name="166296802"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166296802" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166296802">(May 22 2019 at 18:39)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> Please don't promise something you can not keep. For example extending the mged in command: You should not put your main emphasis on the dimension line but enabling the creation of arbitrary vlists.</p>



<a name="166297343"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166297343" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166297343">(May 22 2019 at 18:42)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> Mr. Daniel you asked me how to calculate the dimensions of the box surrounding the label , I have mentioned an Idea in the project page  <a href="https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/project" target="_blank" title="https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/project">https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/project</a> , tell me what do you think ? thank you</p>
</blockquote>
<p>Do you have an idea of how to code this in the vlist structure?</p>



<a name="166298305"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166298305" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166298305">(May 22 2019 at 18:55)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  Until now no but i think i can give you specific answer in 2 days or tomorrow at night</p>



<a name="166298321"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166298321" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166298321">(May 22 2019 at 18:55)</a>:</h4>
<p>But the idea is okay?</p>



<a name="166300624"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166300624" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166300624">(May 22 2019 at 19:20)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  it is not compile because the annot_point has to be fastf_t not point_t as you can see in the picture in general channel I am sorry i put it by mistake</p>



<a name="166300954"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166300954" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166300954">(May 22 2019 at 19:24)</a>:</h4>
<p>But what do you mean by arbitrary vlist? It has to be described as one of the types  of the annotations correct?</p>



<a name="166326706"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166326706" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166326706">(May 23 2019 at 02:20)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> if you're going to submit a patch, please make sure that it compiles and works for you, otherwise you will be wasting other people's time.  mistakes can obviously happen and that's okay too, just not a great first impression... :)</p>



<a name="166428968"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166428968" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166428968">(May 24 2019 at 07:15)</a>:</h4>
<blockquote>
<p>But what do you mean by arbitrary vlist? It has to be described as one of the types  of the annotations correct?</p>
</blockquote>
<p>I see that I was a bit vague.<br>
First, there are no annotation types and probable won't be. There could be different in commands for mged and archer which make it easier to create annotations for different uses, but the core of the annotation will always be a segment list <code>rt_annot_internal-&gt;ant-&gt;segments</code>. This list consists of any number of segments with type line_seg, carc_seg, nurb_seg, bezier_seg, and txt_seg. Now, it would be on you to write a general input method for any of these sequences. Maybe because the annotation is similar to the sketch, the code for the sketch primitive may provide some help here.</p>



<a name="166530115"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166530115" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166530115">(May 25 2019 at 14:43)</a>:</h4>
<blockquote>
<p>But the idea is okay?</p>
</blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I manged to draw the box around a label by code <a href="/user_uploads/1549/Xz-ckmyQaNemIO9ve5TOSiHK/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/Xz-ckmyQaNemIO9ve5TOSiHK/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/Xz-ckmyQaNemIO9ve5TOSiHK/pasted_image.png"></a></div>



<a name="166530865"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166530865" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166530865">(May 25 2019 at 15:01)</a>:</h4>
<p><a href="/user_uploads/1549/C0qdrb4dVRklPY4vAgx8OJWc/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/C0qdrb4dVRklPY4vAgx8OJWc/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/C0qdrb4dVRklPY4vAgx8OJWc/pasted_image.png"></a></div>



<a name="166531760"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166531760" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166531760">(May 25 2019 at 15:25)</a>:</h4>
<p>I am shy to post the code because you will see my mind naked <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>  Its not the prefect solution and I don't know if this is the right place to put the code , and this is not the best way to modify the list I should have used RT_ADD_VLIST but I didn't find its Definition</p>



<a name="166531836"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166531836" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166531836">(May 25 2019 at 15:27)</a>:</h4>
<p><a href="/user_uploads/1549/9bhZ0sJxNQAKsguVHKzdLdrg/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/9bhZ0sJxNQAKsguVHKzdLdrg/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/9bhZ0sJxNQAKsguVHKzdLdrg/pasted_image.png"></a></div>



<a name="166532542"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166532542" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166532542">(May 25 2019 at 15:46)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="215774">Louis Googl</span> if you're going to submit a patch, please make sure that it compiles and works for you, otherwise you will be wasting other people's time.  mistakes can obviously happen and that's okay too, just not a great first impression... :)</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span> <br>
sorry for the inconvenience  it will not happen again</p>



<a name="166547563"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166547563" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166547563">(May 25 2019 at 22:59)</a>:</h4>
<p>and I adjusted this so the text don't touch the box<br>
<a href="/user_uploads/1549/V9JrPvYhMSOnc2eVoYd90XGP/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/V9JrPvYhMSOnc2eVoYd90XGP/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/V9JrPvYhMSOnc2eVoYd90XGP/pasted_image.png"></a></div>



<a name="166547565"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166547565" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166547565">(May 25 2019 at 22:59)</a>:</h4>
<p>like this <a href="/user_uploads/1549/T0hIqSHaSsaegFJRVYnZZqLg/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/T0hIqSHaSsaegFJRVYnZZqLg/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/T0hIqSHaSsaegFJRVYnZZqLg/pasted_image.png"></a></div>



<a name="166574799"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166574799" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166574799">(May 26 2019 at 13:18)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I think I completed the  check list please give me your feed back on the time table and millstones.</p>



<a name="166585049"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166585049" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166585049">(May 26 2019 at 17:48)</a>:</h4>
<blockquote>
<p>I am shy to post the code because you will see my mind naked <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>  Its not the prefect solution and I don't know if this is the right place to put the code , and this is not the best way to modify the list I should have used RT_ADD_VLIST but I didn't find its Definition</p>
</blockquote>
<p>But you got an impression about what's necessary to draw the box, which points (coordinates) you need and how to handle them? Is it possible to code this somehow in the rt_annot_internal structure?</p>
<p>BTW, RT_ADD_VLIST is defined in include/rt/global.h. I used <code>grep</code> to find it.</p>



<a name="166590150"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166590150" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166590150">(May 26 2019 at 20:06)</a>:</h4>
<p><a href="/user_uploads/1549/AFQUEqlSZv_DfcsX3GdIRX46/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
this is the code I wrote it in dm-wgl.c  , yes I have the idea about the points and how to calculate them and add them to the vlist but not in a professional way you can see the code. I don't know if it can be written in rt_annot_internal but it has to be written in a place where the label vlist is already constructed .</p>
<div class="message_inline_image"><a href="/user_uploads/1549/AFQUEqlSZv_DfcsX3GdIRX46/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/AFQUEqlSZv_DfcsX3GdIRX46/pasted_image.png"></a></div>



<a name="166590234"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166590234" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166590234">(May 26 2019 at 20:09)</a>:</h4>
<p>I will see if I can put it in rt_annot_internal .</p>



<a name="166652677"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166652677" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166652677">(May 27 2019 at 17:22)</a>:</h4>
<p>I've reviewed your patch (<a href="https://sourceforge.net/p/brlcad/patches/525/" target="_blank" title="https://sourceforge.net/p/brlcad/patches/525/">https://sourceforge.net/p/brlcad/patches/525/</a>). This is the result with OpenGL: <a href="/user_uploads/1549/QLbf6vBSeUKvq5M9R4hcgTA5/OpenGL_new.png" target="_blank" title="OpenGL_new.png">OpenGL_new.png</a> and with X Window <a href="/user_uploads/1549/leVtHhMgoc59GBC1Scl0B_PM/X_new.png" target="_blank" title="X_new.png">X_new.png</a>.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/QLbf6vBSeUKvq5M9R4hcgTA5/OpenGL_new.png" target="_blank" title="OpenGL_new.png"><img src="/user_uploads/1549/QLbf6vBSeUKvq5M9R4hcgTA5/OpenGL_new.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/leVtHhMgoc59GBC1Scl0B_PM/X_new.png" target="_blank" title="X_new.png"><img src="/user_uploads/1549/leVtHhMgoc59GBC1Scl0B_PM/X_new.png"></a></div><p>But it should look like this: <a href="/user_uploads/1549/u0tdEk3yywUa8qwLnXACM6Jt/right.png" target="_blank" title="right.png">right.png</a> which is the current X Window depiction. The .g file I used is <a href="/user_uploads/1549/eDr54TTP-FiALNweg8zOTco5/annot_origin.g" target="_blank" title="annot_origin.g">annot_origin.g</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/u0tdEk3yywUa8qwLnXACM6Jt/right.png" target="_blank" title="right.png"><img src="/user_uploads/1549/u0tdEk3yywUa8qwLnXACM6Jt/right.png"></a></div>



<a name="166653405"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166653405" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166653405">(May 27 2019 at 17:35)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span>  The X Window depiction is correct and the OpenGL version wrong. Every change you are doing on code which is used by both graphic libraries isn't likely to be helpful. You have to start working with the OpenGL code.</p>
<p>BTW, screen shots are not optimal for publishing code work. You can upload patch files here instead.</p>



<a name="166803969"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166803969" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166803969">(May 29 2019 at 11:01)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
<a href="/user_uploads/1549/X7zgputvZigOYpwofYyU9I1O/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
this is the result for me it works you are right i shouldn't adjust a code used by the two libraries but the as you can see<br>
<a href="/user_uploads/1549/OsOM8csFMzbD8t5V7Y4iSRcC/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
the annot_ip-&gt;verts[1]  is not the correct point  am I correct ?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/X7zgputvZigOYpwofYyU9I1O/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/X7zgputvZigOYpwofYyU9I1O/pasted_image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/OsOM8csFMzbD8t5V7Y4iSRcC/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/OsOM8csFMzbD8t5V7Y4iSRcC/pasted_image.png"></a></div>



<a name="166804189"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166804189" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166804189">(May 29 2019 at 11:05)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="215774">Louis Googl</span>  The X Window depiction is correct and the OpenGL version wrong. Every change you are doing on code which is used by both graphic libraries isn't likely to be helpful. You have to start working with the OpenGL code.</p>
<p>BTW, screen shots are not optimal for publishing code work. You can upload patch files here instead.</p>
</blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> I think if I asked a  stupid question is better that wasting time <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span>  what OpenGl code you mean ? the codes that i am modifying is responsible of drawing the annotation in the wire frame so it interact with the graphic library used for that. can you help me more to know what code you are talking about ?</p>



<a name="166805784"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166805784" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166805784">(May 29 2019 at 11:32)</a>:</h4>
<p><a href="/user_uploads/1549/ABFFR4HcGnN0Ov8QA-7WsQQW/boxdrawing.patch" target="_blank" title="boxdrawing.patch">boxdrawing.patch</a> <a href="/user_uploads/1549/S-QlgN-8UvtufoT2etod0dhh/space_between_box_and_label.patch" target="_blank" title="space_between_box_and_label.patch">space_between_box_and_label.patch</a> <br>
this is the codes I changed to draw the box around the label . but I have a question the vlist is constructed from 35 points always ? if we are going to add the box coordinates we need 5 points what if the label takes the hall vlist we will have a problem with memory allocation . any suggestions ?</p>



<a name="166805845"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166805845" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166805845">(May 29 2019 at 11:33)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/ABFFR4HcGnN0Ov8QA-7WsQQW/boxdrawing.patch" target="_blank" title="boxdrawing.patch">boxdrawing.patch</a> <a href="/user_uploads/1549/S-QlgN-8UvtufoT2etod0dhh/space_between_box_and_label.patch" target="_blank" title="space_between_box_and_label.patch">space_between_box_and_label.patch</a> <br>
this is the codes I changed to draw the box around the label . but I have a question the vlist is constructed from 35 points always ? if we are going to add the box coordinates we need 5 points what if the label takes the hall vlist we will have a problem with memory allocation . any suggestions ?</p>
</blockquote>
<p><span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  where do you think is the better place to put such logic ? and please give me feed back about the code practice  thank you.</p>



<a name="166850400"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166850400" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166850400">(May 29 2019 at 19:52)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/OsOM8csFMzbD8t5V7Y4iSRcC/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
the annot_ip-&gt;verts[1]  is not the correct point  am I correct ?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/OsOM8csFMzbD8t5V7Y4iSRcC/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/OsOM8csFMzbD8t5V7Y4iSRcC/pasted_image.png"></a></div></blockquote>
<p>Probably not, the piece of code you are referring is in annot.c. I don't know what's your problem with this line, but, it's very simple to find out: Write a fix that works with both the X Window and OpenGL versions. As the X Window version already works, I expect the code changes in OpenGL. Let's see, how long do you need to find out what's wrong there.</p>



<a name="166850758"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166850758" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166850758">(May 29 2019 at 19:57)</a>:</h4>
<blockquote>
<blockquote>
<p><span class="user-mention silent" data-user-id="215774">Louis Googl</span>  The X Window depiction is correct and the OpenGL version wrong. Every change you are doing on code which is used by both graphic libraries isn't likely to be helpful. You have to start working with the OpenGL code.</p>
<p>BTW, screen shots are not optimal for publishing code work. You can upload patch files here instead.</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> I think if I asked a  stupid question is better that wasting time <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span>  what OpenGl code you mean ? the codes that i am modifying is responsible of drawing the annotation in the wire frame so it interact with the graphic library used for that. can you help me more to know what code you are talking about ?</p>
</blockquote>
<p>No, this code in annot.c doesn't draw the stuff but creates a vlist. This vlist is drawn by a display manager. The X Window display manager (src/libdm/dm-X.* ) seems to be OK, the OpenGL display managers (src/libdm/dm-ogl.* , src/libdm/dm-wgl.* ) seem to have issues.</p>



<a name="166851316"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/166851316" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#166851316">(May 29 2019 at 20:02)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/ABFFR4HcGnN0Ov8QA-7WsQQW/boxdrawing.patch" target="_blank" title="boxdrawing.patch">boxdrawing.patch</a> <a href="/user_uploads/1549/S-QlgN-8UvtufoT2etod0dhh/space_between_box_and_label.patch" target="_blank" title="space_between_box_and_label.patch">space_between_box_and_label.patch</a> <br>
this is the codes I changed to draw the box around the label . but I have a question the vlist is constructed from 35 points always ? if we are going to add the box coordinates we need 5 points what if the label takes the hall vlist we will have a problem with memory allocation . any suggestions ?</p>
</blockquote>
<p>You modified the display manager, but to have this in rt_annot_plot() could be better, because all display managers would use this. However, concentrate on the bugs first.</p>



<a name="167000272"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167000272" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167000272">(May 31 2019 at 14:11)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="215774">@Louis Googl</span> , sorry I was travelling in the last few days hence couldn't reply to your thread. Meanwhile could you share the link to your daily logs. I couldn't find it on the wiki.  :)</p>



<a name="167036125"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167036125" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167036125">(May 31 2019 at 21:31)</a>:</h4>
<blockquote>
<p>First, there are no annotation types and probable won't be. </p>
</blockquote>
<p>Eventually there may be.  The current approach is static and declarative, which is obviously not very flexible nor adaptable.  We'll want annotations that are both static and dynamic, e.g., a linear dimension that updates as the thing it is pointed to changes in size.  If/When we add support for decorators, that may not be suited well to vlists too (e.g., switching to a stippled leader line or a thicker line with different types of arrows on the endpoints, etc).</p>



<a name="167036452"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167036452" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167036452">(May 31 2019 at 21:36)</a>:</h4>
<blockquote>
<p>I am shy to post the code because you will see my mind naked <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>  Its not the prefect solution and I don't know if this is the right place to put the code , and this is not the best way to modify the list I should have used RT_ADD_VLIST but I didn't find its Definition</p>
</blockquote>
<p>I know it's easier to say than to do it, but you do not need to be shy when it comes to open source software development.  You'll quickly learn that we're all constantly learning and forgetting and relearning and finding new/better ways and just trying to work together to make this all better.  We might even have different ideas on how to go about doing that and not always agree, and that's okay too.</p>
<p>The advice I would recommend is to at least always try your best, check your work, try to figure things out first, but then ask for help when you need it.  Sharing code for feedback is also very different from submitting code for integration.  If you're going to submit a patch to the tracker, you should make sure it applies, compiles, and works for you first.  If you're just getting feedback, though, you can share that code all day every day without fear.</p>



<a name="167102116"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167102116" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167102116">(Jun 02 2019 at 03:21)</a>:</h4>
<blockquote>
<blockquote>
<p>I expect the code changes in OpenGL. Let's see, how long do you need to find out what's wrong there.</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> I think I am going to stay all summer here <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> , 48 h of trying no thing works , my findings the annotation is a vlist eventually the regular vlist is resized but the annotation vlist is not but I didn't find any deference in the dm-vars between a regular vlist and annotation vlist . so its not clear how the program knows this is an annotation vlist <span class="user-mention silent" data-user-id="103555">Shubham Rathore</span> we need your help here.</p>
</blockquote>



<a name="167102239"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167102239" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167102239">(Jun 02 2019 at 03:25)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  by searching the way to make an object  stay in the same size after zooming is done by reverse the zooming factor and adjusting the display matrix accordingly am I going in the right way ?</p>



<a name="167102415"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167102415" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167102415">(Jun 02 2019 at 03:30)</a>:</h4>
<p>I tried to compare the logic in dm-x.c and dm-wgl.c but for me its like comparing  tomatoes and apples  because I know some opengl but I don't know any thing about X11 programming .  any help will be great Thank you . as it is working in xwindow can I work on the goals of the project keeping this bug in mind , trying to fix it on the way ?</p>



<a name="167111862"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167111862" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167111862">(Jun 02 2019 at 08:19)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span>  Regarding the bounding box, we need a solid logic to emboss the feature into annot.c(plot) , we'll not want to use any kind of hack for this functionality.  As far as your patch is concerned, it doesn't solve the issue (I tried it on macos), anyway the solution ought to be platform independent.<br>
If you might have noticed, in  X window the annotations always remain in the plane of the screen whereas this isn't the case in opengl. I suggest you to thoroughly go through the display manager code, to get a better insight.<br>
P.S. - another unusual behavior that I noticed on my system was that: <br>
1) I rendered an annotation that was supposed to point at the origin, but it didn't.<br>
2) In a separate case, I first rendered a sphere with its centre at the origin. Then I rendered an annotation that was supposed to point at the origin and guess what, it pointed at the origin! <br>
We'll have to work on this too !</p>



<a name="167115004"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167115004" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167115004">(Jun 02 2019 at 09:53)</a>:</h4>
<blockquote>
<blockquote>
<p>I expect the code changes in OpenGL. Let's see, how long do you need to find out what's wrong there.</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> I think I am going to stay all summer here <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> , 48 h of trying no thing works , my findings the annotation is a vlist eventually the regular vlist is resized but the annotation vlist is not but I didn't find any deference in the dm-vars between a regular vlist and annotation vlist . so its not clear how the program knows this is an annotation vlist <span class="user-mention silent" data-user-id="103555">Shubham Rathore</span> we need your help here.</p>
</blockquote>
<p>I didn't completely understand your question; vlist is just a list of vectors that's generic, basically the display information, that the display manager uses to render. In the case of annotation, the vlist will have a reference to the line seg and the string that the dm will render sequentially. I'll suggest to go through the dm- ogl and dm-wgl for a better overview.</p>



<a name="167117286"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167117286" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167117286">(Jun 02 2019 at 10:57)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  by searching the way to make an object  stay in the same size after zooming is done by reverse the zooming factor and adjusting the display matrix accordingly am I going in the right way ?</p>
</blockquote>
<p>Write it in code, test it, and post it here (as .patch, not a screen shot) for questions. It's time to code! Your development log has still no entry for the last week.</p>
<p>I would expect, that the OpenGL code for face plates could provide some help in how to draw something "directly" on the screen. Maybe, you can reuse the faceplate_mat and shift it to the right place.</p>



<a name="167140460"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167140460" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167140460">(Jun 02 2019 at 21:58)</a>:</h4>
<blockquote>
<p>I didn't completely understand your question; vlist is just a list of vectors that's generic, basically the display information, that the display manager uses to render. In the case of annotation, the vlist will have a reference to the line seg and the string that the dm will render sequentially. I'll suggest to go through the dm- ogl and dm-wgl for a better overview.</p>
</blockquote>
<p><span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  the question is a regular vlist doesn't have to be in the plane of the screen and can be zoomed but the annotation vlist stay in the plane of the screen so there is something to tell the program this is annotation vlist which I didn't find any condition in the dm-X.c or in dm-wgl.c can you tell me how it knows this is an annotation vlist ?</p>



<a name="167163624"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167163624" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167163624">(Jun 03 2019 at 07:47)</a>:</h4>
<p>Ah okay,  have a look into bn/vlist.h, you'll find two defines namely, BN_VLIST_DISPLAY_MAT and BN_VLIST_MODEL_MAT.  And also there are mod_mat and disp_mat in x_vars in dm-X.h.  X-drawVlist() in dm-X.c  has the logic behind mod_mat and disp_mat i.e. the logic behind the plane of the screen display. Just go through these files precisely and you'll find answers to all the dm related queries.</p>



<a name="167264721"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167264721" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167264721">(Jun 04 2019 at 07:17)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> Your development log <a href="https://brlcad.org/wiki/Ali_Haydar_Dev_log" target="_blank" title="https://brlcad.org/wiki/Ali_Haydar_Dev_log">https://brlcad.org/wiki/Ali_Haydar_Dev_log</a> is still empty and I'm not aware of any code you've written last week. How do you want to catch up?</p>



<a name="167265588"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167265588" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167265588">(Jun 04 2019 at 07:32)</a>:</h4>
<p>The flag BN_VLIST_DISPLAY_MAT tells the display manager to switch to a transformation with the following properties:</p>
<ul>
<li>(0, 0, 0) maps to the same point on the screen as the model coordinate which follows the BN_VLIST_DISPLAY_MAT flag (the origin of the annotation)</li>
<li>the line (0, 0, 0) - (1, 0, 0) maps to a horizontal line on the screen which is 1 mm long and on the right side of the annotation's origin</li>
<li>the line (0, 0, 0) - (0, 1, 0) maps to a vertical line on the screen which is 1 mm long and above of the annotation's origin</li>
<li>points which differ in their z coordinate only map to the same point on the screen</li>
</ul>
<p>The z coordinate becomes relevant when we distinct between the paper plane and the screen plane, e.g. when creating blueprints sometime.</p>



<a name="167363732"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167363732" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167363732">(Jun 05 2019 at 07:17)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I am very sorry I am working very hard but with no results in opengl i have tried every thing it didn't work I noticed that the model matrix in dm-X is the same in dm-ogl but the order is different and I noticed a modification on the display matrix in dm-x I tried to do the same in opengl but the result is a leader line with no annotation <a href="/user_uploads/1549/0KLESp2wqPyVbrx4d3ph7x23/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  in this picture you can see i have tried to copy the logic from dm-x but it didn't work and the description you put in the last message correspond to glOrtho I tried it too but it didn't work , I am not quitting the problem but i am going to start with my functions and keep learning opengl and trying to fix it today I will try to finish the bounding box function and see what happens and i will update the dev_log soon</p>
<div class="message_inline_image"><a href="/user_uploads/1549/0KLESp2wqPyVbrx4d3ph7x23/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/0KLESp2wqPyVbrx4d3ph7x23/pasted_image.png"></a></div>



<a name="167363825"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167363825" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167363825">(Jun 05 2019 at 07:18)</a>:</h4>
<p>maybe its over the level of  my experience.</p>



<a name="167364526"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167364526" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167364526">(Jun 05 2019 at 07:33)</a>:</h4>
<blockquote>
<p>maybe its over the level of  my experience.</p>
</blockquote>
<p>Maybe, but you can gain <em>new</em> experience, what GSoC is for too.</p>
<p>I try to guide you, but you had to follow my advice. I already wrote you, that I expect that it should work somehow similar to the face-plate mode. There is a faceplate_mat which could be useful. And, what is wgl_normal() doing?</p>
<p>Maybe, you can create another attempt with this information, post its code here in patch file format, and discuss it here.</p>



<a name="167454242"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167454242" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167454242">(Jun 06 2019 at 05:51)</a>:</h4>
<p>I am not leaving it i will fix it but I want to write some thing <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="167454382"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167454382" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167454382">(Jun 06 2019 at 05:54)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <a href="/user_uploads/1549/oDMGS_8T-E8Xz-mZt6BidxEy/ant_label_box1.patch" target="_blank" title="ant_label_box1.patch">ant_label_box1.patch</a>  this is the function to draw a box around the label it works for wgl ogl X but just for short label if the label was long 2 letters <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>  there will be a memory allocation problem can you look at it and tell me what do you think about the code and the memory error thank you .</p>



<a name="167454518"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167454518" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167454518">(Jun 06 2019 at 05:58)</a>:</h4>
<p><a href="/user_uploads/1549/oPq9TzdwhuvJppXPk-EzZzDj/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a><br>
<a href="/user_uploads/1549/UKT2x7ZWnVP5Ing6W0AGpnTE/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
this what happens when I called my function after calling the macro which set the model matrix so i think this will help me fix the projection problem in opengl</p>
<div class="message_inline_image"><a href="/user_uploads/1549/oPq9TzdwhuvJppXPk-EzZzDj/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/oPq9TzdwhuvJppXPk-EzZzDj/pasted_image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/UKT2x7ZWnVP5Ing6W0AGpnTE/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/UKT2x7ZWnVP5Ing6W0AGpnTE/pasted_image.png"></a></div>



<a name="167454614"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167454614" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167454614">(Jun 06 2019 at 06:00)</a>:</h4>
<p>I didn't sleep for two days the rule of four hours a day is not working with me <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>  <span aria-label="sunglasses" class="emoji emoji-1f60e" role="img" title="sunglasses">:sunglasses:</span></p>



<a name="167454877"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167454877" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167454877">(Jun 06 2019 at 06:07)</a>:</h4>
<p><a href="/user_uploads/1549/Uu4InECnvh3AhnUikK4RjJHi/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  final result</p>
<div class="message_inline_image"><a href="/user_uploads/1549/Uu4InECnvh3AhnUikK4RjJHi/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/Uu4InECnvh3AhnUikK4RjJHi/pasted_image.png"></a></div>



<a name="167454982"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167454982" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167454982">(Jun 06 2019 at 06:09)</a>:</h4>
<blockquote>
<p>Maybe, but you can gain <em>new</em> experience, what GSoC is for too.</p>
</blockquote>
<p>this is my first goal I will keep trying with it. thank you</p>



<a name="167460033"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167460033" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167460033">(Jun 06 2019 at 07:57)</a>:</h4>
<p>I'll have a look at it today night.</p>



<a name="167511392"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167511392" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167511392">(Jun 06 2019 at 18:58)</a>:</h4>
<p><a href="/user_uploads/1549/ZfBhe70dGuxm7e9maaSFifWh/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> the memory problem is fixed when I used RT_ADD_VLIST but I faced another one you can see it in this picture.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/ZfBhe70dGuxm7e9maaSFifWh/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/ZfBhe70dGuxm7e9maaSFifWh/pasted_image.png"></a></div>



<a name="167511574"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167511574" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167511574">(Jun 06 2019 at 19:00)</a>:</h4>
<p>I think it is because the long annotation is constructed from more than one vlist I am working on fixing it</p>



<a name="167559147"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167559147" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167559147">(Jun 07 2019 at 08:48)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> Please have a look at the BRL-CAD revision 73265.</p>



<a name="167608000"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167608000" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167608000">(Jun 07 2019 at 19:49)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  the revision of the patch is not correct ?</p>



<a name="167613589"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167613589" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167613589">(Jun 07 2019 at 21:03)</a>:</h4>
<p>I mean the revision in BRL-CADs subversion repisitory.</p>



<a name="167616957"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167616957" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167616957">(Jun 07 2019 at 21:51)</a>:</h4>
<p><a href="/user_uploads/1549/IDB6XFRk4vXdUw0zzaK6675p/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  I fixed the problem of long annotation</p>
<div class="message_inline_image"><a href="/user_uploads/1549/IDB6XFRk4vXdUw0zzaK6675p/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/IDB6XFRk4vXdUw0zzaK6675p/pasted_image.png"></a></div>



<a name="167625556"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167625556" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167625556">(Jun 08 2019 at 00:43)</a>:</h4>
<p><a href="/user_uploads/1549/watWicN71CWCSK2eQYuxuOu7/ant_label_box.patch" target="_blank" title="ant_label_box.patch">ant_label_box.patch</a> this is the function it works perfectly I hope</p>



<a name="167625634"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167625634" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167625634">(Jun 08 2019 at 00:45)</a>:</h4>
<blockquote>
<p>I mean the revision in BRL-CADs subversion repisitory.</p>
</blockquote>
<p>I didn't understand what should I do? I made the patch on this revision it is not the head revision ?</p>



<a name="167630701"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167630701" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167630701">(Jun 08 2019 at 03:06)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>   the display matrix is fixed <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="167657908"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167657908" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167657908">(Jun 08 2019 at 16:37)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/Uu4InECnvh3AhnUikK4RjJHi/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  final result</p>
<div class="message_inline_image"><a href="/user_uploads/1549/Uu4InECnvh3AhnUikK4RjJHi/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/Uu4InECnvh3AhnUikK4RjJHi/pasted_image.png"></a></div></blockquote>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> How have you done this? I don't mean the box but to display an annotation with a single number only.</p>



<a name="167658609"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167658609" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167658609">(Jun 08 2019 at 16:56)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  the same way this good man did it <span class="user-mention" data-user-id="211316">@Chetan Shinde</span></p>



<a name="167659396"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167659396" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167659396">(Jun 08 2019 at 17:16)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/watWicN71CWCSK2eQYuxuOu7/ant_label_box.patch" target="_blank" title="ant_label_box.patch">ant_label_box.patch</a> this is the function it works perfectly I hope</p>
</blockquote>
<p>For the one line and text annotation maybe, but even there, not all annotations shall be displayed in a box. Rather, there is a list of geometric primitives in rt_annot_internal-&gt;ant which should allow the exact definition of how the result shall look like.</p>
<p>However, you know now what's necessary to draw the lines of a box. You need a reference to entry in rt_annot_internal-&gt;ant.segments, or to be more precise, the bounding box of the segment. Then you add an offset to the points an draw the lines between them.</p>
<p>I.e., you know what's missing in the current annotation primitive: The possibility to refer to other segments (or other segments' bounding boxes), add offsets to points, etc.. Can this be done with the current segment structs or do we need new ones?</p>
<p>One possibility would be to use negative indices for the vertices. I.e., to use the minus sign as a flag for something special. The index of the referenced segment, the corner of the bounding box, and the offsets could be coded in the remaining bits of the integer.<br>
Or, you might consider this as improper, and want to extend the rt_annot_internal structs instead.</p>



<a name="167659989"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167659989" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167659989">(Jun 08 2019 at 17:31)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  the same way this good man did it <span class="user-mention silent" data-user-id="211316">Chetan Shinde</span></p>
</blockquote>
<p>You mean the disp_mode in the bounding box computation? This shouldn't be the reason, because why should the content or length of the text matter there? I.e., there is probable something more behind this ...</p>



<a name="167661630"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167661630" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167661630">(Jun 08 2019 at 18:17)</a>:</h4>
<p>You mean by the segments the words in one annotation? We want to put line between words ? There is another thing you cant put a label with two words without the under dash because the entering in mged is like a c console we should do something about that?</p>



<a name="167661677"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167661677" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167661677">(Jun 08 2019 at 18:18)</a>:</h4>
<p>Yes it is the disp_mode i will try another way .</p>



<a name="167667696"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167667696" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167667696">(Jun 08 2019 at 21:04)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  the same way this good man did it <span class="user-mention silent" data-user-id="211316">Chetan Shinde</span></p>
</blockquote>
<p>Thanks <span class="user-mention" data-user-id="215774">@Louis Googl</span>  for the complement! <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> , means a ton!</p>



<a name="167670359"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167670359" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167670359">(Jun 08 2019 at 22:14)</a>:</h4>
<blockquote>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  the same way this good man did it <span class="user-mention silent" data-user-id="211316">Chetan Shinde</span></p>
</blockquote>
<p>You mean the disp_mode in the bounding box computation? This shouldn't be the reason, because why should the content or length of the text matter there? I.e., there is probable something more behind this ...</p>
</blockquote>
<p>Knowing, for what reason disp_mode, is been used will help us to understand why the error is occurring.Can we ask <span class="user-mention" data-user-id="103555">@Shubham Rathore</span>.</p>
<p><span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  can you please help us with it...  </p>
<p>Patch link where disp_mode has been introduced.<br>
<a href="https://sourceforge.net/p/brlcad/patches/471/#cd2e" target="_blank" title="https://sourceforge.net/p/brlcad/patches/471/#cd2e">https://sourceforge.net/p/brlcad/patches/471/#cd2e</a> </p>
<p>Thanks.</p>



<a name="167676594"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167676594" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167676594">(Jun 09 2019 at 01:18)</a>:</h4>
<p><span class="user-mention" data-user-id="211316">@Chetan Shinde</span> : but why you had this idea ? what lead you that the disp_mode is the problem ?</p>



<a name="167688809"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167688809" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Shinde <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167688809">(Jun 09 2019 at 07:50)</a>:</h4>
<p>There is inbuilt logic in brlcad which is used for plotting any character on the screen. The logic defines how the lines are to be drawn, with consideration to a reference point.  now the bn_vlist_bbox function where the disp_mode is defined is responsible for the rendering of the text.</p>
<p>the rendering is done, by calculating the points which are actually to be plotted with the help of line no. 89 to 94 in the vlist file.</p>
<p>turning the disp_mode =1 shortcircuits the code and the line no  89 to 94 are not reached.</p>
<p>You can observe, this by initially trying to render a single 1 with disp_mode not been commented. and then again debugging the code with disp_mode = 1 been commented. We observed in the former case that once the disp_mode gets set to 1 it never turn to zero again and the for loop jumps to the next iteration.</p>



<a name="167702730"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167702730" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167702730">(Jun 09 2019 at 14:43)</a>:</h4>
<blockquote>
<p>now the bn_vlist_bbox function where the disp_mode is defined is responsible for the rendering of the text.</p>
</blockquote>
<p>This is not true. bn_vlist_bbox() doesn't draw anything. It calculates a min and max point (bmin. bmax) only.</p>



<a name="167702905"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167702905" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167702905">(Jun 09 2019 at 14:47)</a>:</h4>
<blockquote>
<p>You mean by the segments the words in one annotation? We want to put line between words ? There is another thing you cant put a label with two words without the under dash because the entering in mged is like a c console we should do something about that?</p>
</blockquote>
<p>I mean with segments the segments in rt_annot_internal or rather it substructure. Are you familiar with it?</p>



<a name="167705704"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167705704" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167705704">(Jun 09 2019 at 16:04)</a>:</h4>
<p>I know there is segments inside rt_ant but i don't know what they represent it is not obvious . can you explain more ? <br>
I think that you are thinking of making the annotation as line segment and curve segment and text segment ? if so we don't have curve segment yet ?  and we want to make one and this curves has to be static ? or can be manipulated ?</p>



<a name="167705735"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167705735" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167705735">(Jun 09 2019 at 16:05)</a>:</h4>
<p>What I could see in bn_vlist_bbox() is, that there is a special treatment for vlists which consist of a single point only. This is probable done, because from the bounding box the size of the drawing <em>s_size</em> is computed. And, if this size is 0, the vlist won't be drawn (see <em>ratio</em> in dm_draw_display_list()).</p>
<p>The bounding box of an annotation will be determined from a single point as well.</p>



<a name="167705906"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167705906" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167705906">(Jun 09 2019 at 16:09)</a>:</h4>
<blockquote>
<p>I know there is segments inside rt_ant but i don't know what they represent it is not obvious . can you explain more ? <br>
I think that you are thinking of making the annotation as line segment and curve segment and text segment ? if so we don't have curve segment yet ?  and we want to make one and this curves has to be static ? or can be manipulated ?</p>
</blockquote>
<p>Why do you think that annotations can't have curve segments? They can have lines, arcs, NURBs, Bezier curves, and texts in any order and number right now. Look at src/librt/primitives/annot/annot.c!</p>



<a name="167706137"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167706137" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167706137">(Jun 09 2019 at 16:14)</a>:</h4>
<blockquote>
<p>I know there is segments inside rt_ant but i don't know what they represent it is not obvious . can you explain more ? <br>
I think that you are thinking of making the annotation as line segment and curve segment and text segment ? if so we don't have curve segment yet ?  and we want to make one and this curves has to be static ? or can be manipulated ?</p>
</blockquote>
<p>There are a number of segment types, i.e. txt, line, curve , nurbs, beizer. The current support only encompasses  a line and a text segment. ant-&gt;count is the count of the number of segments present in the primitive container and ant-&gt;segments has the pointers to the segments present. I suggest you to go through the import function in the annot.c for a better overview.</p>



<a name="167706243"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167706243" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167706243">(Jun 09 2019 at 16:17)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span></p>
<blockquote>
<p>First, you should eliminate the shortfalls of the current annotations. I.e. fix the bugs, enlarge the mged (and archer) commands to input arbitrary annotations (as they are currently possible), ....</p>
</blockquote>
<p>You may remember this post of mine mentioning to <code>enlarge the mged (and archer) commands to input arbitrary annotations (as they are currently possible)</code>. This refers to the input of arbitrary segment lists.</p>



<a name="167724002"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167724002" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167724002">(Jun 10 2019 at 00:30)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  <span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  now I understand we have the CURVE_CARC CURVE_NURB CURVE_BEZIER which can be made as vlist in the function seg_to_vlist but we have to allow the user to enter their properties through the annot menu?</p>



<a name="167724015"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167724015" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167724015">(Jun 10 2019 at 00:30)</a>:</h4>
<p>then I have to obtain a pointer to the segment to draw a box around it if the user wants?</p>



<a name="167724031"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167724031" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167724031">(Jun 10 2019 at 00:31)</a>:</h4>
<p>I am trying to imagine your Idea, am I correct?</p>



<a name="167737184"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167737184" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167737184">(Jun 10 2019 at 06:41)</a>:</h4>
<blockquote>
<p>There is inbuilt logic in brlcad which is used for plotting any character on the screen. The logic defines how the lines are to be drawn, with consideration to a reference point.  now the bn_vlist_bbox function where the disp_mode is defined is responsible for the rendering of the text.</p>
<p>the rendering is done, by calculating the points which are actually to be plotted with the help of line no. 89 to 94 in the vlist file.</p>
<p>turning the disp_mode =1 shortcircuits the code and the line no  89 to 94 are not reached.</p>
<p>You can observe, this by initially trying to render a single 1 with disp_mode not been commented. and then again debugging the code with disp_mode = 1 been commented. We observed in the former case that once the disp_mode gets set to 1 it never turn to zero again and the for loop jumps to the next iteration.</p>
</blockquote>
<p>This isn't exactly true ! disp_mode is just a flag that tells the application to use the plane of the screen or not.</p>



<a name="167737482"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167737482" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167737482">(Jun 10 2019 at 06:49)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  <span class="user-mention silent" data-user-id="103555">Shubham Rathore</span>  now I understand we have the CURVE_CARC CURVE_NURB CURVE_BEZIER which can be made as vlist in the function seg_to_vlist but we have to allow the user to enter their properties through the annot menu?</p>
</blockquote>
<p>To include nurb or beizer into the annotation, we'll have to prompt the user to enter the corresponding details. Currently there is no support for that ! Let me again tell you, our main focus as of now is to make the normal leader lines work i.e. remove all the existing bugs before adding other features or functionalities. Once the bugs in the basic leader lines are sorted, it wont be a difficult task to emboss other features. </p>
<p>P.S. : You are not uploading your daily logs despite being reminded by all the mentors. Dev logs are very essential for the mentors to see if you are going in the right direction or not. Kindly update your logs. Regarding the code, there happens to be one relevant submitted patch that doesn't solve anything. Please give some more time to the code base and come up with some acceptable patches.</p>



<a name="167764520"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167764520" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167764520">(Jun 10 2019 at 14:37)</a>:</h4>
<p><a href="/user_uploads/1549/0LdqGSkK5YGvJwmLPhRSxG-N/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  for the leader line pointing to origin this picture proves that it is not, you can see the vlists I draw shows the real coordinates that the leader line is pointing to am I wrong?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/0LdqGSkK5YGvJwmLPhRSxG-N/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/0LdqGSkK5YGvJwmLPhRSxG-N/pasted_image.png"></a></div>



<a name="167766090"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167766090" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167766090">(Jun 10 2019 at 14:55)</a>:</h4>
<p>The "leader line origin" bug was fixed with my patches to dm-wgl.c and dm-ogl.d. They are included in the BRL-CAD repository and can be retrieved with a <code>svn update</code>.</p>



<a name="167766237"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167766237" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167766237">(Jun 10 2019 at 14:57)</a>:</h4>
<p>There are specific steps in the BUGS file you can check, and a separate bug (numbers as a label) you can test too.</p>



<a name="167766575"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167766575" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167766575">(Jun 10 2019 at 15:01)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> </p>
<blockquote>
<p>What I could see in bn_vlist_bbox() is, that there is a special treatment for vlists which consist of a single point only. This is probable done, because from the bounding box the size of the drawing <em>s_size</em> is computed. And, if this size is 0, the vlist won't be drawn (see <em>ratio</em> in dm_draw_display_list()).</p>
<p>The bounding box of an annotation will be determined from a single point as well.</p>
</blockquote>
<p>For the next bug-fix you can start here. Try to understand everything I wrote there, and come up with a patch.</p>



<a name="167802370"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167802370" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167802370">(Jun 10 2019 at 22:30)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I fixed it, it works but I don't know which solution you prefer, the error is produced with any solid constructed from less than 35 points we can fix it either by treating it like a point as you suggested <a href="/user_uploads/1549/6dJvr3J7AqCNO4MjjRFCWlbz/pointfix.c.patch" target="_blank" title="pointfix.c.patch">pointfix.c.patch</a> in this case the s_size will always be 2 for any solid that has less than 35 points there is another way to fix it by changing the condition that makes the loop sees just the first point in the first 35 points of the solid <a href="/user_uploads/1549/w7ujtm4pQ3TJ4lVmuomWfI_u/conditionfix.c.patch" target="_blank" title="conditionfix.c.patch">conditionfix.c.patch</a>  in this case when cmd = 16 which is the enum BN_VLIST_MODEL_MAT this exists in cmd at the end of the solid points wither it was constructed from 35 points or more ( in this case the s_size is calculated correctly always not just 2 for short solids or we can just omit the disp_mode from the condition like this <a href="/user_uploads/1549/Inm2mLikB3uejPF4YfPaPIWA/condition.c.patch" target="_blank" title="condition.c.patch">condition.c.patch</a> which also works and calculate the s_size correctly .</p>



<a name="167802980"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167802980" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167802980">(Jun 10 2019 at 22:41)</a>:</h4>
<p>and I don't see the need for this condition because the loop will end automatically when i=nused for each list of the solid it may be useful just to make fewer comparisons between points coordinates but it is not very crucial in my opinion.</p>



<a name="167803004"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167803004" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167803004">(Jun 10 2019 at 22:41)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> I've just read what you wrote twice and still am not sure what you're saying.  so much punctuation missing...  but the gist to me seems to be some strictly defined C container is causing a problem, yes?  what exactly is the problem, the error?</p>



<a name="167803160"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167803160" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167803160">(Jun 10 2019 at 22:44)</a>:</h4>
<p>the error is when the solid constructed from one vlist less than 35 points this comparison occurs just for the first point <a href="/user_uploads/1549/zPaa3gBhEAqkKLeA5zRBlDKY/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/zPaa3gBhEAqkKLeA5zRBlDKY/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/zPaa3gBhEAqkKLeA5zRBlDKY/pasted_image.png"></a></div>



<a name="167803187"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167803187" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167803187">(Jun 10 2019 at 22:45)</a>:</h4>
<p><a href="/user_uploads/1549/BGA5UDwCZg2dE8htSxS7llVJ/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  because of this condtion</p>
<div class="message_inline_image"><a href="/user_uploads/1549/BGA5UDwCZg2dE8htSxS7llVJ/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/BGA5UDwCZg2dE8htSxS7llVJ/pasted_image.png"></a></div>



<a name="167803316"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167803316" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167803316">(Jun 10 2019 at 22:47)</a>:</h4>
<blockquote>
<p>the error is when the solid constructed from one vlist less than 35 points this comparison occurs just for the first point <a href="/user_uploads/1549/zPaa3gBhEAqkKLeA5zRBlDKY/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/zPaa3gBhEAqkKLeA5zRBlDKY/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/zPaa3gBhEAqkKLeA5zRBlDKY/pasted_image.png"></a></div></blockquote>
<p>because of this, the s_size is being zero for solids which have just one vlist.</p>



<a name="167804070"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167804070" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167804070">(Jun 10 2019 at 23:00)</a>:</h4>
<p>the bottom line is the s_size is not calculated correctly because of this condition.</p>



<a name="167831520"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167831520" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167831520">(Jun 11 2019 at 08:57)</a>:</h4>
<p>The answer to the miracle why the length of the annotation matters is not in bu_vlist_bbox() but in the function calling it ;)</p>



<a name="167832217"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167832217" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167832217">(Jun 11 2019 at 09:08)</a>:</h4>
<p>The <em>pointfix.c.patch</em> is wrong, because it changes the bounding boxes for lines and triangles as well.</p>
<p>As I've already said: An annotation has only a single point (the reference point) in the model space. The other points are all in display coordinates. Because it's hard to predict, with which points in the model space they will coincide, it's reasonable to ignore them. To simply ignore the matrix flags would be definitely wrong.</p>
<p>More interesting is the question regarding the role of the vlist length. You can find it out when looking at the function which calls bu_vlist_bbox(). There you can see, that the vlist has a very special construction ...</p>
<p>I could imagine, that there could be something improved regarding the matrix flags there too.</p>



<a name="167870364"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167870364" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167870364">(Jun 11 2019 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> What were you working on today? Did you debugged bu_vlist_bbox() and saw how it's called with a short and a long annotation?</p>



<a name="167872016"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167872016" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167872016">(Jun 11 2019 at 17:37)</a>:</h4>
<p>I just started I was going to update the log for not accepted solutions.</p>



<a name="167872760"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167872760" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167872760">(Jun 11 2019 at 17:46)</a>:</h4>
<p>But, this was today morning ;)<br>
However, it looks like you worked at night. Therefore, for today night I recommend to debug bu_vlist_bbox() and explore its behavior and usage.</p>



<a name="167873912"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167873912" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167873912">(Jun 11 2019 at 17:59)</a>:</h4>
<p>actually, a usually work at night I had an oral interview with a professor at the university and just came back and started working  I am making long and short annotations and see what happens when bound_solid() calls bu_vlist_bbox() in the two cases.</p>



<a name="167874401"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167874401" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167874401">(Jun 11 2019 at 18:04)</a>:</h4>
<p>Working at night is quite OK. People here work in different time zones anyway.</p>



<a name="167874917"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167874917" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167874917">(Jun 11 2019 at 18:09)</a>:</h4>
<p>you said that all the points of the annotation should be ignored just considering reference point  which is happening with short annotations but in long annotations the points in the second vlist is not ignored that what makes  the s_size is correct for long annotations again because of the condition at the top of the loop { if(disp_mode == 1 &amp;&amp; *cmd != BN_VLIST_MODEL_MAT) }</p>



<a name="167876678"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167876678" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167876678">(Jun 11 2019 at 18:28)</a>:</h4>
<p>Let me correct some misunderstanding here, which hopefully makes things more clear:<br>
There is no second vlist but only one: sp-&gt;s_vlist in bound_solid()<br>
But, it's organized in chunks. For short annotation one chunk is enough, but longer annotations need more than that.</p>
<p>And there is the second misunderstanding: s_size is not correct with the second chunk<br>
In the second run of bu_vlist_bbox() the points are interpreted as model-space points, but they are in fact in display coordinates, which may result in a wrong bounding box.</p>



<a name="167880138"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167880138" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167880138">(Jun 11 2019 at 19:03)</a>:</h4>
<p>I didn't mean it is correct correct I meant it is not zero so the things are drawn,  what I understand is we have to treat the annotation as one point so we have to call bb_box() in a different way in bound_solid() pseudo " if this solid represent annotation call bbox() with a vlist contains one point(refrance point) and cmd[0]=12 " am I correct ? but I don't know what the difference between a solid contains a sphere and a solid contain an annotation.</p>



<a name="167904851"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167904851" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167904851">(Jun 12 2019 at 00:54)</a>:</h4>
<p><a href="/user_uploads/1549/7gu0CB3Cx4OVr1TLDdxUOrjk/onetry.patch" target="_blank" title="onetry.patch">onetry.patch</a> <br>
here another try it ignores all the points of long annotation, but I am not feeling good about putting the disp_mode under the BN_VLIST_POINT_DRAW I hope it is correct or close to the approach you are thinking about.</p>



<a name="167965833"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167965833" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167965833">(Jun 12 2019 at 16:48)</a>:</h4>
<p>Try to separate the two things:</p>
<ul>
<li>An annotation provides only a point for the boinding box, and</li>
<li>The vlist is organized in chunks.</li>
</ul>
<p>Maybe, its easier to start with a patch for the first bullet only. Here, I can't see your motivation for moving the <code>disp_mode = 1;</code> around. It looks like you forgot something there.</p>
<p>And for the second bullet, you can't assume that the annotation is alone in the vlist.</p>



<a name="167966065"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167966065" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167966065">(Jun 12 2019 at 16:51)</a>:</h4>
<p>I moved the disp_mode because if I didn't change it the other points will be seen in the first chunk.</p>



<a name="167966090"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167966090" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167966090">(Jun 12 2019 at 16:51)</a>:</h4>
<p>so there is no way to know what the solid vlist contains ?</p>



<a name="167966182"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167966182" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167966182">(Jun 12 2019 at 16:52)</a>:</h4>
<blockquote>
<p>I moved the disp_mode because if I didn't change it the other points will be seen in the first chunk.</p>
</blockquote>
<p>??? Which points?</p>



<a name="167966234"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167966234" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167966234">(Jun 12 2019 at 16:53)</a>:</h4>
<blockquote>
<p>so there is no way to know what the solid vlist contains ?</p>
</blockquote>
<p>You see the BN_VLIST_~ macros? This is what a vlist can contain.</p>



<a name="167966360"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167966360" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167966360">(Jun 12 2019 at 16:55)</a>:</h4>
<p>the points that we wanted to ignore in the first place they are ignored because when cm[0]=BN_VLIST_DISPLAY_MAT the disp_mode became 1 and I changed cmd[0] =BN_VLIST_POINT_DRAW so the disp_mode is still zero and the loop is entering the  points that are in display coordinates</p>



<a name="167966596"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167966596" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167966596">(Jun 12 2019 at 16:58)</a>:</h4>
<blockquote>
<p>I didn't mean it is correct correct I meant it is not zero so the things are drawn,  ...</p>
</blockquote>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> Think twice, before you write something down. It's important to be precise.</p>



<a name="167966728"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167966728" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167966728">(Jun 12 2019 at 17:00)</a>:</h4>
<p>sorry I didn't think it is important because considering the annotation as a point will not get us a correct size any way</p>



<a name="167966805"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167966805" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167966805">(Jun 12 2019 at 17:01)</a>:</h4>
<blockquote>
<p>the points that we wanted to ignore in the first place they are ignored because when cm[0]=BN_VLIST_DISPLAY_MAT the disp_mode became 1 and I changed cmd[0] =BN_VLIST_POINT_DRAW so the disp_mode is still zero and the loop is entering the  points that are in display coordinates</p>
</blockquote>
<p><code>cmd[0] =BN_VLIST_POINT_DRAW</code> what's that? (see my previous post)<br>
And, you shall ignore the display coordinates!</p>



<a name="167967047"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167967047" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167967047">(Jun 12 2019 at 17:05)</a>:</h4>
<blockquote>
<p>The other points are all in display coordinates. Because it's hard to predict, with which points in the model space they will coincide, it's reasonable to ignore them. To simply ignore the matrix flags would be definitely wrong.</p>
<p>I could imagine, that there could be something improved regarding the matrix flags there too.</p>
</blockquote>
<p>I though if we change the matrix flag it will go to the point case .</p>



<a name="167967186"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167967186" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167967186">(Jun 12 2019 at 17:07)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/7gu0CB3Cx4OVr1TLDdxUOrjk/onetry.patch" target="_blank" title="onetry.patch">onetry.patch</a> <br>
here another try it ignores all the points of long annotation, but I am not feeling good about putting the disp_mode under the BN_VLIST_POINT_DRAW I hope it is correct or close to the approach you are thinking about.</p>
</blockquote>
<p>is there any thing correct in this patch ?</p>



<a name="167967816"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167967816" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167967816">(Jun 12 2019 at 17:15)</a>:</h4>
<p>Only one point of the annotation's vlist shall be considered for the bounding box: The reference point (which is in the model space, the other coordinates are all in the display space). And, this coordinate has to be treat like single point case. Do I need to say more?</p>



<a name="167968063"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167968063" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167968063">(Jun 12 2019 at 17:18)</a>:</h4>
<blockquote>
<blockquote>
<p><a href="/user_uploads/1549/7gu0CB3Cx4OVr1TLDdxUOrjk/onetry.patch" target="_blank" title="onetry.patch">onetry.patch</a> <br>
here another try it ignores all the points of long annotation, but I am not feeling good about putting the disp_mode under the BN_VLIST_POINT_DRAW I hope it is correct or close to the approach you are thinking about.</p>
</blockquote>
<p>is there any thing correct in this patch ?</p>
</blockquote>
<p>Your thoughts were going into the right direction there. You have seen where the issues are. But, it still needs some improvements.</p>



<a name="167968146"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167968146" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167968146">(Jun 12 2019 at 17:19)</a>:</h4>
<p>No I understand but I have to find how to test if this vlist is an annotation vlist and if it is contains just annotation and construct new list contains the reference point only and pass it to the bbox()</p>



<a name="167968151"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167968151" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167968151">(Jun 12 2019 at 17:20)</a>:</h4>
<p>To make it easier for you, I want to separate the two sub-issues (which points to consider and how, vlist in chunks).</p>



<a name="167968328"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167968328" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167968328">(Jun 12 2019 at 17:21)</a>:</h4>
<p>In your last patch you set the disp_mode to 1 if you get the BN_VLIST_POINT_DRAW flag, which is absolute meaningless. Can you do better?</p>



<a name="167968583"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167968583" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167968583">(Jun 12 2019 at 17:24)</a>:</h4>
<blockquote>
<p>No I understand but I have to find how to test if this vlist is an annotation vlist and if it is contains just annotation and construct new list contains the reference point only and pass it to the bbox()</p>
</blockquote>
<p>I see, you didn't understood: Every annotation has exactly one reference point in the model space. All other points are in the display space. How many doesn't matter. You can test it with the examples you already have.</p>



<a name="167968667"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167968667" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167968667">(Jun 12 2019 at 17:25)</a>:</h4>
<p>so i separated the wanted point correctly ?</p>



<a name="167968734"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167968734" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167968734">(Jun 12 2019 at 17:26)</a>:</h4>
<p>No.</p>



<a name="167968817"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167968817" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167968817">(Jun 12 2019 at 17:27)</a>:</h4>
<p>You set the disp_mode for the BN_VLIST_POINT_DRAW flag. Why that?</p>



<a name="167969137"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167969137" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167969137">(Jun 12 2019 at 17:30)</a>:</h4>
<p>because of this if(disp_mode == 1 &amp;&amp; *cmd != BN_VLIST_MODEL_MAT)</p>



<a name="167969216"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167969216" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167969216">(Jun 12 2019 at 17:31)</a>:</h4>
<blockquote>
<p>because of this if(disp_mode == 1 &amp;&amp; *cmd != BN_VLIST_MODEL_MAT)</p>
</blockquote>
<p>I can't see a BN_VLIST_POINT_DRAW there. Does any of your examples contain a BN_VLIST_POINT_DRAW?</p>



<a name="167969321"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167969321" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167969321">(Jun 12 2019 at 17:32)</a>:</h4>
<p>yes but when disp_mode=0 the points that we want to ignore is not ignored</p>



<a name="167969346"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167969346" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167969346">(Jun 12 2019 at 17:33)</a>:</h4>
<p>No I didn't fined how to draw single point in mged</p>



<a name="167969471"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167969471" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167969471">(Jun 12 2019 at 17:34)</a>:</h4>
<blockquote>
<p>yes but when disp_mode=0 the points that we want to ignore is not ignored</p>
</blockquote>
<p>That's right, to ignore the points in display coordinates you had to set disp_mode to 1. But with your change it will be never set to 1. Debug it!</p>



<a name="167969666"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167969666" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167969666">(Jun 12 2019 at 17:37)</a>:</h4>
<p>Ups, I just saw that you have left the disp_mode line after the case BN_VLIST_DISPLAY_MAT: in your code. Now it makes less sense.</p>



<a name="167969791"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167969791" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167969791">(Jun 12 2019 at 17:38)</a>:</h4>
<p>The <code>disp_mode = 1;</code> after the <code>case BN_VLIST_POINT_DRAW:</code> will probably never be called.</p>



<a name="167969825"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167969825" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167969825">(Jun 12 2019 at 17:38)</a>:</h4>
<p>And I can't see the reason for it.</p>



<a name="167970164"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167970164" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167970164">(Jun 12 2019 at 17:42)</a>:</h4>
<p>can we initialize it to one ?</p>



<a name="167970323"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167970323" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167970323">(Jun 12 2019 at 17:44)</a>:</h4>
<p>You can initialize it to any integer ;)</p>
<p>However, what's your problem with the disp_mode? It works perfectly as it should.</p>



<a name="167970515"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167970515" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167970515">(Jun 12 2019 at 17:46)</a>:</h4>
<blockquote>
<p>And I can't see the reason for it.</p>
</blockquote>
<p>the reason for it because I changed cmd[0] from BN_VLIST_DISPLAY_MAT to BN_VLIST_POINT_DRAW</p>



<a name="167970816"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167970816" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167970816">(Jun 12 2019 at 17:50)</a>:</h4>
<blockquote>
<p>You can initialize it to any integer ;)</p>
<p>However, what's your problem with the disp_mode? It works perfectly as it should.</p>
</blockquote>
<p>I know that I can but is this the solution <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>  i am sorry maybe you are pulling your hair now, but you are not telling me if changing the cmd for the reference point is correct and I have the idea of making a new vlist with one point and cmd[0]=BN_VLIST_POINT_DRAW is this right?</p>



<a name="167970943"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167970943" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167970943">(Jun 12 2019 at 17:51)</a>:</h4>
<p>OK. That's a reason. It won't work if BN_VLIST_DISPLAY_MAT isn't at index 0, but OK.</p>
<p>However, because of this (BN_VLIST_DISPLAY_MAT not at index 0) and the disp_mode is OK in general, this should be treated a different way.</p>



<a name="167971115"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167971115" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167971115">(Jun 12 2019 at 17:53)</a>:</h4>
<p>The BN_VLIST_DISPLAY_MAT reference point has to be treated like the BN_VLIST_POINT_DRAW point. That's all.</p>



<a name="167972562"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167972562" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167972562">(Jun 12 2019 at 18:08)</a>:</h4>
<blockquote>
<p>The BN_VLIST_DISPLAY_MAT reference point has to be treated like the BN_VLIST_POINT_DRAW point. That's all.</p>
</blockquote>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> Write a patch which implements this. Why do you want to change the flag in bound_solid() when you can do the right thing in bn_vlist_bbox() directly?</p>



<a name="167981812"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167981812" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167981812">(Jun 12 2019 at 19:57)</a>:</h4>
<p><a href="/user_uploads/1549/EX4xYWjcpjXWGVW_AhffRj2Y/try1.c.patch" target="_blank" title="try1.c.patch">try1.c.patch</a>  <br>
this works for the short annotations , is it correct ? it is like changing cmd[0].</p>



<a name="167981990"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167981990" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167981990">(Jun 12 2019 at 19:59)</a>:</h4>
<p>now the problem of annotation constructed from more than one chunk . and whither the vlist contains annotation only</p>



<a name="167983442"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167983442" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167983442">(Jun 12 2019 at 20:15)</a>:</h4>
<p>The patch looks good. You should create a patch task on sourceforge with it</p>



<a name="167983596"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167983596" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167983596">(Jun 12 2019 at 20:17)</a>:</h4>
<p>The issue with the many chunks is, that the disp_mode isn't memorized between them. Do you have an idea how this could be done?</p>



<a name="167993045"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167993045" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167993045">(Jun 12 2019 at 22:07)</a>:</h4>
<p>can you refer to an example about distinguishing the continents of a vlist all the magic in the solid is the same either BU_LIST_HEAD_MAGIC or BN_VLIST_MAGIC and I have searched in the code it seems nobody cares about the continents of the vlist</p>



<a name="167994561"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/167994561" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#167994561">(Jun 12 2019 at 22:29)</a>:</h4>
<p>if we intialized disp_mode to 1 it works also for the long annotations.</p>



<a name="168006435"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168006435" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168006435">(Jun 13 2019 at 02:07)</a>:</h4>
<blockquote>
<p>The issue with the many chunks is, that the disp_mode isn't memorized between them. Do you have an idea how this could be done?</p>
</blockquote>
<p><a href="/user_uploads/1549/eFo4x1r0vGTCc6l69kdxHyWT/try2.c.patch" target="_blank" title="try2.c.patch">try2.c.patch</a>  I tried this it works but I don't know if this is what you are hoping</p>



<a name="168069371"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168069371" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168069371">(Jun 13 2019 at 18:00)</a>:</h4>
<p>For the next patch keep in mind, that the problem arises, because bn_vlist_bbox() forgets about the disp_mode value.</p>
<p>For more variety in the vlist you could put some other objects in the database, ab8s, spheres, etc..</p>



<a name="168069779"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168069779" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168069779">(Jun 13 2019 at 18:04)</a>:</h4>
<blockquote>
<p>if we intialized disp_mode to 1 it works also for the long annotations.</p>
</blockquote>
<p>It should already "work" with your current patch on sourceforge. The bounding box for the long annotations is not correct yet, but to display it it's enough to have a size greater 0.</p>



<a name="168075568"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168075568" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168075568">(Jun 13 2019 at 19:04)</a>:</h4>
<blockquote>
<blockquote>
<p>The issue with the many chunks is, that the disp_mode isn't memorized between them. Do you have an idea how this could be done?</p>
</blockquote>
<p><a href="/user_uploads/1549/eFo4x1r0vGTCc6l69kdxHyWT/try2.c.patch" target="_blank" title="try2.c.patch">try2.c.patch</a>  I tried this it works but I don't know if this is what you are hoping</p>
</blockquote>
<p>have you seen this patch?</p>



<a name="168075906"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168075906" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168075906">(Jun 13 2019 at 19:08)</a>:</h4>
<p>this way memorize the state of the disp_mode and calculate the bbox() on the reference point coordinates always, or maybe you want to change the bbox() function? and make the disp_mode one of its parameters?</p>



<a name="168087510"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168087510" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168087510">(Jun 13 2019 at 21:41)</a>:</h4>
<p><a href="/user_uploads/1549/k7VHTUuiTL9Aue2_jAcZtJQ0/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  I managed to draw a carc between the tow ends of the leader line replacing the text segment by a carc segment Now i will try to make three segments with the entering logic</p>
<div class="message_inline_image"><a href="/user_uploads/1549/k7VHTUuiTL9Aue2_jAcZtJQ0/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/k7VHTUuiTL9Aue2_jAcZtJQ0/pasted_image.png"></a></div>



<a name="168089994"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168089994" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168089994">(Jun 13 2019 at 22:19)</a>:</h4>
<p>I am doing this while you see the patch try2 if it is good or approaches the problem in a good way.</p>



<a name="168097578"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168097578" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168097578">(Jun 14 2019 at 00:50)</a>:</h4>
<p><a href="/user_uploads/1549/ofPMe38a94eO3H-CLJuzDIHx/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/ofPMe38a94eO3H-CLJuzDIHx/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/ofPMe38a94eO3H-CLJuzDIHx/pasted_image.png"></a></div>



<a name="168103697"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168103697" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168103697">(Jun 14 2019 at 03:25)</a>:</h4>
<p><a href="/user_uploads/1549/1M3HaeLeV3T-88rqP7_uhlTV/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
at first i couldn't add the third segment it always gives magic not recognised  now it works</p>
<div class="message_inline_image"><a href="/user_uploads/1549/1M3HaeLeV3T-88rqP7_uhlTV/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/1M3HaeLeV3T-88rqP7_uhlTV/pasted_image.png"></a></div>



<a name="168157040"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168157040" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168157040">(Jun 14 2019 at 17:55)</a>:</h4>
<blockquote>
<p>this way memorize the state of the disp_mode and calculate the bbox() on the reference point coordinates always, or maybe you want to change the bbox() function? and make the disp_mode one of its parameters?</p>
</blockquote>
<p>Yes, I've seen your try2.c.patch. It has however still the old problem, that it makes not necessarily true assumptions about the vlist, e.g. that the display flag is at index 0.</p>
<p>I'm afraid, the only neat solution includes the change of bn_vlist_bbox(). Only bn_vlist_bbox() analyses the vlist the right way.</p>



<a name="168157820"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168157820" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168157820">(Jun 14 2019 at 18:04)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/1M3HaeLeV3T-88rqP7_uhlTV/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
at first i couldn't add the third segment it always gives magic not recognised  now it works</p>
<div class="message_inline_image"><a href="/user_uploads/1549/1M3HaeLeV3T-88rqP7_uhlTV/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/1M3HaeLeV3T-88rqP7_uhlTV/pasted_image.png"></a></div></blockquote>
<p>I see that you make yourself familiar with the other segment types. That's good. Do you have an idea how an "in" command could be constructed, such that any combination of segments can be created?</p>



<a name="168158375"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168158375" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168158375">(Jun 14 2019 at 18:12)</a>:</h4>
<blockquote>
<blockquote>
<p><a href="/user_uploads/1549/1M3HaeLeV3T-88rqP7_uhlTV/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
at first i couldn't add the third segment it always gives magic not recognised  now it works</p>
<div class="message_inline_image"><a href="/user_uploads/1549/1M3HaeLeV3T-88rqP7_uhlTV/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/1M3HaeLeV3T-88rqP7_uhlTV/pasted_image.png"></a></div></blockquote>
<p>I see that you make yourself familiar with the other segment types. That's good. Do you have an idea how an "in" command could be constructed, such that any combination of segments can be created?</p>
</blockquote>
<p>I know how to ask for the parameter of each segment and I can imagine how to chose how many segments the user wants to put in the annotation</p>



<a name="168158687"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168158687" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168158687">(Jun 14 2019 at 18:15)</a>:</h4>
<p>but do we want to make ready to use segments or just prompt the user to enter whatever he wants and take care of the placement and you think we should use the same function annot_in() or create another one ? with a dynamic menu for each case?</p>



<a name="168159772"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168159772" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168159772">(Jun 14 2019 at 18:28)</a>:</h4>
<p>I would say, at the first place, it needs a syntax for the in command implemented. Then, this could be supported by prompts.</p>
<p>What came into my mind is, that the annotation is very similar to the sketch. Can something from the sketch primitive be reused for the annotation? There is a graphical sketch editor too.</p>



<a name="168159845"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168159845" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168159845">(Jun 14 2019 at 18:29)</a>:</h4>
<blockquote>
<p>Yes, I've seen your try2.c.patch. It has however still the old problem, that it makes not necessarily true assumptions about the vlist, e.g. that the display flag is at index 0.</p>
<p>I'm afraid, the only neat solution includes the change of bn_vlist_bbox(). Only bn_vlist_bbox() analyses the vlist the right way.</p>
</blockquote>
<p>so I will make a display list contains more than one primitive and see how it works and changes the bbox() accordingly</p>



<a name="168160075"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168160075" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168160075">(Jun 14 2019 at 18:32)</a>:</h4>
<p>I thought about using the sketch primitive but it is not supported by the in command, the best way is using the sketch editor ?or add support to sketch in the in command ?</p>



<a name="168170107"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168170107" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168170107">(Jun 14 2019 at 20:42)</a>:</h4>
<p>Adding an annotation editor based on the sketch editor in addition to the existing in command?</p>



<a name="168178834"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168178834" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168178834">(Jun 14 2019 at 23:07)</a>:</h4>
<p>No, I meant creating a sketch in sketch editor and put its segments inside the annotation.</p>



<a name="168178884"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168178884" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168178884">(Jun 14 2019 at 23:08)</a>:</h4>
<p>as you described the annotation may be anything or any combination of segments.  so creating an annotation will be as hard as creating the model or even more. a lot of CAD programs uses fixed shapes of annotations we are not thinking of that? we want the user to be free to add any segment he wants?</p>



<a name="168187016"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168187016" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168187016">(Jun 15 2019 at 02:37)</a>:</h4>
<p><a href="/user_uploads/1549/hBx1OQBOOlVwYSRlnQcdFn5m/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
do you think this is the way to expand the segments or make a new in command ?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/hBx1OQBOOlVwYSRlnQcdFn5m/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/hBx1OQBOOlVwYSRlnQcdFn5m/pasted_image.png"></a></div>



<a name="168187071"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168187071" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168187071">(Jun 15 2019 at 02:38)</a>:</h4>
<p>the points entered by the user are not final we can adjust them for the positioning of the annotation segments in a nicer way</p>



<a name="168187146"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168187146" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168187146">(Jun 15 2019 at 02:40)</a>:</h4>
<p>there is something weird if you notice the starting and the end points of the carc has the same X coordinates but they don't appear like that in the drawing</p>



<a name="168187636"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168187636" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168187636">(Jun 15 2019 at 02:54)</a>:</h4>
<blockquote>
<p>there is something weird if you notice the starting and the end points of the carc has the same X coordinates but they don't appear like that in the drawing</p>
</blockquote>
<p>forget this it was my mistake <span aria-label="octopus" class="emoji emoji-1f419" role="img" title="octopus">:octopus:</span></p>



<a name="168189858"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168189858" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168189858">(Jun 15 2019 at 04:03)</a>:</h4>
<p><a href="/user_uploads/1549/GwMnLV12DimHNHG4Cf2m165m/remember.patch" target="_blank" title="remember.patch">remember.patch</a>  this batch for remembering the display mode</p>



<a name="168215288"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168215288" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168215288">(Jun 15 2019 at 16:59)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/GwMnLV12DimHNHG4Cf2m165m/remember.patch" target="_blank" title="remember.patch">remember.patch</a>  this batch for remembering the display mode</p>
</blockquote>
<p>Your patch isn't bad. The only real issue I see is that you forgot to initialize disp_mode.</p>
<p>However, rethinking the whole thing, I think the best solution would be to write a "real" bounding box function for vlists which includes the BU_LIST_FOR loop to. I.e. write a function <code>int bn_vlist_bbox(struct bu_list *vlistp, point_t *bmin, point_t *bmax)</code> which gets the sp-&gt;s_vlist as parameter and does the BU_LIST_FOR loop. This function calls then a <code>static int bn_vlist_bbox_internal(struct bn_vlist *vp, point_t *bmin, point_t *bmax, int *disp_mode)</code> which is mainly the current bn_vlist_bbox() function. Both functions would have their implementation in src/libbn/vlist.c.</p>



<a name="168215587"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168215587" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168215587">(Jun 15 2019 at 17:08)</a>:</h4>
<p>I can do that thank you . I will try to submit it today</p>



<a name="168215995"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168215995" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168215995">(Jun 15 2019 at 17:21)</a>:</h4>
<p><a href="/user_uploads/1549/lf35-S84kDiILfXr_nD2TvTT/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  I tried to prompt the user for a carc segment like this what do you think ? if he answers No the annotation the behaviour will be the same as always</p>
<div class="message_inline_image"><a href="/user_uploads/1549/lf35-S84kDiILfXr_nD2TvTT/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/lf35-S84kDiILfXr_nD2TvTT/pasted_image.png"></a></div>



<a name="168216056"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168216056" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168216056">(Jun 15 2019 at 17:23)</a>:</h4>
<p>Do you know the graphical sketch editor in mged?</p>



<a name="168216057"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168216057" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168216057">(Jun 15 2019 at 17:23)</a>:</h4>
<p>yes</p>



<a name="168216066"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168216066" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168216066">(Jun 15 2019 at 17:24)</a>:</h4>
<p>and I know how to use it</p>



<a name="168216116"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168216116" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168216116">(Jun 15 2019 at 17:25)</a>:</h4>
<p>Then how about copying its code and make an annotation editor of it?</p>



<a name="168216126"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168216126" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168216126">(Jun 15 2019 at 17:25)</a>:</h4>
<p>it will be a very nice Idea</p>



<a name="168216170"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168216170" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168216170">(Jun 15 2019 at 17:26)</a>:</h4>
<p>There will be an additional segment type, the text, but in general it should be very similar.</p>



<a name="168216181"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168216181" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168216181">(Jun 15 2019 at 17:27)</a>:</h4>
<p>I have read some documentation said that the sketch editor uses the get and put commands under the hood but i couldn't find the Gui code for the sketch editor.</p>



<a name="168216296"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168216296" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168216296">(Jun 15 2019 at 17:31)</a>:</h4>
<p>I will do the research</p>



<a name="168216409"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168216409" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168216409">(Jun 15 2019 at 17:34)</a>:</h4>
<p>src/tclscripts/mged/skt_ed.tcl?</p>



<a name="168216549"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168216549" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168216549">(Jun 15 2019 at 17:39)</a>:</h4>
<p>we are going to add an annotation editor here? in the Create menu <a href="/user_uploads/1549/JDiHzqIuyUVgivD0TWIrsO1Z/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/JDiHzqIuyUVgivD0TWIrsO1Z/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/JDiHzqIuyUVgivD0TWIrsO1Z/pasted_image.png"></a></div>



<a name="168216956"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168216956" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168216956">(Jun 15 2019 at 17:51)</a>:</h4>
<p>Yes. Let's see where this will lead to :)</p>



<a name="168217162"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168217162" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168217162">(Jun 15 2019 at 17:57)</a>:</h4>
<p>I have imagine what you are thinking about , but in this case I have to make changes on the mged gui and the sketch editor gui . do I have to use a gui editor ? or learn how to do it be the existed code ?</p>



<a name="168218110"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168218110" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168218110">(Jun 15 2019 at 18:25)</a>:</h4>
<p>I'm afraid, you have to learn how to do it in code ;)</p>



<a name="168220070"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168220070" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168220070">(Jun 15 2019 at 19:24)</a>:</h4>
<p>Can you advise from where to start?</p>



<a name="168261323"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168261323" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168261323">(Jun 16 2019 at 17:46)</a>:</h4>
<p><a href="/user_uploads/1549/YkCyE8fjj48gDUTAVi85D_aG/first.patch" target="_blank" title="first.patch">first.patch</a> <br>
I don't know if we have to keep the bbox() function in the old implementation but I changed its name and defined new function to call it with the loop as you described</p>



<a name="168261402"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168261402" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168261402">(Jun 16 2019 at 17:48)</a>:</h4>
<p><a href="/user_uploads/1549/-RbkbWJHCoWxR1iOnTI6pH3Z/dodraw.c.patch" target="_blank" title="dodraw.c.patch">dodraw.c.patch</a> <br>
here you can see in dodraw.c we have to enter the loop to change the sp-&gt;s_vlen  I made this changes give me your opinion</p>



<a name="168261519"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168261519" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168261519">(Jun 16 2019 at 17:53)</a>:</h4>
<blockquote>
<p>Can you advise from where to start?</p>
</blockquote>
<p>you can help me here to save time if you lead me to the place where the event loop of the two Gui exists and where I can find the implementation of the buttons in the mged gui. I am doing the research but I need some help .</p>



<a name="168261770"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168261770" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168261770">(Jun 16 2019 at 18:01)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/YkCyE8fjj48gDUTAVi85D_aG/first.patch" target="_blank" title="first.patch">first.patch</a> <br>
I don't know if we have to keep the bbox() function in the old implementation but I changed its name and defined new function to call it with the loop as you described</p>
</blockquote>
<p>Make the old function, i.e. bn_vlist_bbox_internal(), static and don't mention it in the header file.</p>



<a name="168261949"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168261949" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168261949">(Jun 16 2019 at 18:07)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/-RbkbWJHCoWxR1iOnTI6pH3Z/dodraw.c.patch" target="_blank" title="dodraw.c.patch">dodraw.c.patch</a> <br>
here you can see in dodraw.c we have to enter the loop to change the sp-&gt;s_vlen  I made this changes give me your opinion</p>
</blockquote>
<p>BU_LIST_FOR is now in bn_vlist_bbox()!</p>



<a name="168262007"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168262007" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168262007">(Jun 16 2019 at 18:09)</a>:</h4>
<p>bn_vlist_bbox() shouldn't log anything. If it finds an unknown command it should return it.</p>



<a name="168262071"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168262071" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168262071">(Jun 16 2019 at 18:11)</a>:</h4>
<p>I know but we are passing to the bn_vlist_bbox() just the sp-&gt;s_vlist so to change the sp-&gt;s_vlen we have to pass the hall solid !</p>



<a name="168262205"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168262205" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168262205">(Jun 16 2019 at 18:14)</a>:</h4>
<blockquote>
<p>I think the best solution would be to write a "real" bounding box function for vlists which includes the BU_LIST_FOR loop to. I.e. write a function <code>int bn_vlist_bbox(struct bu_list *vlistp, point_t *bmin, point_t *bmax)</code> which gets the sp-&gt;s_vlist as parameter and does the BU_LIST_FOR loop.</p>
</blockquote>
<p>I put the loop inside the function as you described her</p>



<a name="168262220"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168262220" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168262220">(Jun 16 2019 at 18:15)</a>:</h4>
<blockquote>
<p>I know but we are passing to the bn_vlist_bbox() just the sp-&gt;s_vlist so to change the sp-&gt;s_vlen we have to pass the hall solid !</p>
</blockquote>
<p>Then you have to pass the solid.</p>



<a name="168262285"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168262285" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168262285">(Jun 16 2019 at 18:17)</a>:</h4>
<blockquote>
<p>I put the loop inside the function as you described her</p>
</blockquote>
<p>I don't look at every detail. This is your work. If you find, that it's better to pass the solid, than it's fine <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="168262336"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168262336" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168262336">(Jun 16 2019 at 18:19)</a>:</h4>
<p>okay , but in the display_list.c the old loop doesn't change the sp-&gt;s_vlen , so we have to make another function called by dodraw is this correct ?</p>



<a name="168262444"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168262444" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168262444">(Jun 16 2019 at 18:22)</a>:</h4>
<p>or just keep the loop in its old position.</p>



<a name="168262754"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168262754" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168262754">(Jun 16 2019 at 18:33)</a>:</h4>
<blockquote>
<blockquote>
<p>Can you advise from where to start?</p>
</blockquote>
<p>you can help me here to save time if you lead me to the place where the event loop of the two Gui exists and where I can find the implementation of the buttons in the mged gui. I am doing the research but I need some help .</p>
</blockquote>
<p>OK: The first step is to insert annot in the list at line 34 of src/tclscripts/mged/openw.tcl.</p>



<a name="168262880"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168262880" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168262880">(Jun 16 2019 at 18:36)</a>:</h4>
<blockquote>
<p>okay , but in the display_list.c the old loop doesn't change the sp-&gt;s_vlen , so we have to make another function called by dodraw is this correct ?</p>
</blockquote>
<p>This means, that it determines the length of the vlist too? I.e. it would need something like n_vlist_bbox(struct solid* vlistp, point_t* bmin, point_t* bmax, int *length)?</p>



<a name="168333225"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168333225" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168333225">(Jun 17 2019 at 18:07)</a>:</h4>
<blockquote>
<blockquote>
<blockquote>
<p>Can you advise from where to start?</p>
</blockquote>
<p>you can help me here to save time if you lead me to the place where the event loop of the two Gui exists and where I can find the implementation of the buttons in the mged gui. I am doing the research but I need some help .</p>
</blockquote>
<p>OK: The first step is to insert annot in the list at line 34 of src/tclscripts/mged/openw.tcl.</p>
</blockquote>
<p><a href="/user_uploads/1549/K406gRQwV0oiSFqHO1eXhjkK/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a><br>
<a href="/user_uploads/1549/NI2SNCbq1YHrRSgyqvntlgjN/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  <br>
need some more help <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>
<div class="message_inline_image"><a href="/user_uploads/1549/K406gRQwV0oiSFqHO1eXhjkK/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/K406gRQwV0oiSFqHO1eXhjkK/pasted_image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/NI2SNCbq1YHrRSgyqvntlgjN/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/NI2SNCbq1YHrRSgyqvntlgjN/pasted_image.png"></a></div>



<a name="168333506"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168333506" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168333506">(Jun 17 2019 at 18:11)</a>:</h4>
<p>if I added a new value for the esolint_type which is annot and modified the auto index to a copay of skt_ed named ant_ed this will open the skt_ed if we press the annot menu element that you told me to add at line 34 in openw.tcl</p>



<a name="168333905"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168333905" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168333905">(Jun 17 2019 at 18:15)</a>:</h4>
<p>and add the ant_ed.tcl to the cmake list also</p>



<a name="168334307"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168334307" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168334307">(Jun 17 2019 at 18:21)</a>:</h4>
<p>or just as experiment keep the skt_ed but add new value to esolint_type "annot_edtior" and put the value of auto index as annot and its value is the directory of skt_ed.tcl</p>



<a name="168336054"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168336054" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168336054">(Jun 17 2019 at 18:43)</a>:</h4>
<p>Maybe, i.e. keeping it in the skt_ed.tcl and have an Annot_editor class there and using the already existing functions for the section types.</p>



<a name="168336258"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168336258" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168336258">(Jun 17 2019 at 18:45)</a>:</h4>
<p>BTW, if you got stuck and I shall help, having a patch file with your code would be usefull ;)</p>



<a name="168336396"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168336396" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168336396">(Jun 17 2019 at 18:47)</a>:</h4>
<p>I am searching , I am new to tcl/tk.</p>



<a name="168403597"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168403597" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168403597">(Jun 18 2019 at 14:01)</a>:</h4>
<p><a href="/user_uploads/1549/Y2VmMMgANbbjZgomVwxujL5m/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
I made the new class and the auto_mkindex recognizes it but the menu button still not working it gives an error message as if I write in the terminal "make annot "</p>
<div class="message_inline_image"><a href="/user_uploads/1549/Y2VmMMgANbbjZgomVwxujL5m/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/Y2VmMMgANbbjZgomVwxujL5m/pasted_image.png"></a></div>



<a name="168427428"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168427428" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168427428">(Jun 18 2019 at 17:37)</a>:</h4>
<p>OK, but where is the problem?</p>



<a name="168439946"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168439946" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168439946">(Jun 18 2019 at 18:07)</a>:</h4>
<p><a href="/user_uploads/1549/pgQyPKMPqJOco7bxXrTVQfBi/mged2.patch" target="_blank" title="mged2.patch">mged2.patch</a> <br>
this is the patch and I make the call back goes to annot_editor insted of sketch editor to check if it is working the copied class seems to work nice</p>



<a name="168440046"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168440046" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168440046">(Jun 18 2019 at 18:08)</a>:</h4>
<p>but when I press save it goes back to the sketch_editor</p>



<a name="168440216"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168440216" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168440216">(Jun 18 2019 at 18:10)</a>:</h4>
<blockquote>
<p>OK, but where is the problem?</p>
</blockquote>
<p>the problem is with the menu I didn't know how after i name the primitive and hit apply  it doesn't go to the new calss</p>



<a name="168441241"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168441241" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168441241">(Jun 18 2019 at 18:20)</a>:</h4>
<p><a href="/user_uploads/1549/fr4wONMYG9GIeUaLQ3DwfFVJ/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  this is the problem</p>
<div class="message_inline_image"><a href="/user_uploads/1549/fr4wONMYG9GIeUaLQ3DwfFVJ/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/fr4wONMYG9GIeUaLQ3DwfFVJ/pasted_image.png"></a></div>



<a name="168445252"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168445252" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168445252">(Jun 18 2019 at 19:04)</a>:</h4>
<p><a href="/user_uploads/1549/h18fu0H396kXu7ZkOHNizBTB/Screenshot-from-2019-06-18-20-57-16.png" target="_blank" title="Screenshot-from-2019-06-18-20-57-16.png">Screenshot-from-2019-06-18-20-57-16.png</a> we can see that the value of esolint_type is taken from esolint_info <a href="/user_uploads/1549/vlj4NbjWsnz0xrbxbKucTaJy/Screenshot-from-2019-06-18-20-58-49.png" target="_blank" title="Screenshot-from-2019-06-18-20-58-49.png">Screenshot-from-2019-06-18-20-58-49.png</a> and esolint_info value is taken from get_sed which seems to be a c function registered to use in tcl correct ? <a href="/user_uploads/1549/LhVmkYTXRr8UvqRXCeL8qdoI/Screenshot-from-2019-06-18-21-00-35.png" target="_blank" title="Screenshot-from-2019-06-18-21-00-35.png">Screenshot-from-2019-06-18-21-00-35.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/h18fu0H396kXu7ZkOHNizBTB/Screenshot-from-2019-06-18-20-57-16.png" target="_blank" title="Screenshot-from-2019-06-18-20-57-16.png"><img src="/user_uploads/1549/h18fu0H396kXu7ZkOHNizBTB/Screenshot-from-2019-06-18-20-57-16.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/vlj4NbjWsnz0xrbxbKucTaJy/Screenshot-from-2019-06-18-20-58-49.png" target="_blank" title="Screenshot-from-2019-06-18-20-58-49.png"><img src="/user_uploads/1549/vlj4NbjWsnz0xrbxbKucTaJy/Screenshot-from-2019-06-18-20-58-49.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/LhVmkYTXRr8UvqRXCeL8qdoI/Screenshot-from-2019-06-18-21-00-35.png" target="_blank" title="Screenshot-from-2019-06-18-21-00-35.png"><img src="/user_uploads/1549/LhVmkYTXRr8UvqRXCeL8qdoI/Screenshot-from-2019-06-18-21-00-35.png"></a></div>



<a name="168445444"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168445444" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168445444">(Jun 18 2019 at 19:06)</a>:</h4>
<p>If I interpret the message right, the make (or _mged_make) needs to get known the annot.</p>



<a name="168445612"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168445612" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168445612">(Jun 18 2019 at 19:08)</a>:</h4>
<p>so my problem is to know if esolint_type is getting annot as a value and this condition will work ? if {$esolint_type == "annot"}</p>



<a name="168445673"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168445673" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168445673">(Jun 18 2019 at 19:09)</a>:</h4>
<blockquote>
<p>If I interpret the message right, the make (or _mged_make) needs to get known the annot.</p>
</blockquote>
<p>you think this is a problem in tcl code ?</p>



<a name="168445819"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168445819" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168445819">(Jun 18 2019 at 19:11)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/pgQyPKMPqJOco7bxXrTVQfBi/mged2.patch" target="_blank" title="mged2.patch">mged2.patch</a> <br>
this is the patch and I make the call back goes to annot_editor insted of sketch editor to check if it is working the copied class seems to work nice</p>
</blockquote>
<p>if you can look at the patch I didn't copy the methods outside the class is there a need to do that ? it seems the two classes can use this functions.</p>



<a name="168446094"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168446094" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168446094">(Jun 18 2019 at 19:14)</a>:</h4>
<p>It could be worth to have a look at ged_make() in src/libged/make.c.</p>



<a name="168446195"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168446195" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168446195">(Jun 18 2019 at 19:15)</a>:</h4>
<p>there is _mged_make in make_solid.tcl  I will look at the booth thank you</p>



<a name="168446271"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168446271" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168446271">(Jun 18 2019 at 19:16)</a>:</h4>
<blockquote>
<blockquote>
<p><a href="/user_uploads/1549/pgQyPKMPqJOco7bxXrTVQfBi/mged2.patch" target="_blank" title="mged2.patch">mged2.patch</a> <br>
this is the patch and I make the call back goes to annot_editor insted of sketch editor to check if it is working the copied class seems to work nice</p>
</blockquote>
<p>if you can look at the patch I didn't copy the methods outside the class is there a need to do that ? it seems the two classes can use this functions.</p>
</blockquote>
<p>It's probably OK.</p>



<a name="168446426"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168446426" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168446426">(Jun 18 2019 at 19:18)</a>:</h4>
<blockquote>
<p>there is _mged_make in make_solid.tcl  I will look at the booth thank you</p>
</blockquote>
<p>I think it uses the ged_make().</p>



<a name="168446535"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168446535" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168446535">(Jun 18 2019 at 19:19)</a>:</h4>
<p>What's the status of the vlist bounding box function?</p>



<a name="168446669"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168446669" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168446669">(Jun 18 2019 at 19:20)</a>:</h4>
<blockquote>
<p>What's the status of the vlist bounding box function?</p>
</blockquote>
<p>I should have done it yesterday but I was trying to get a result in annot_editor I will send you the patch today in the night</p>



<a name="168461413"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168461413" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168461413">(Jun 18 2019 at 22:32)</a>:</h4>
<p><a href="/user_uploads/1549/2yV7qNIsUHwn6AFQt0yibQkW/second.patch" target="_blank" title="second.patch">second.patch</a> <br>
I made this changes, in this case no need to pass the solid , and if we didn't want to log any thing in bbox() function we can move the loop to the bbox_internal() function .</p>



<a name="168462667"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168462667" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168462667">(Jun 18 2019 at 22:53)</a>:</h4>
<p>also for the error capturing it may be done inside the calling function or inside the new bbox() function.</p>



<a name="168531475"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168531475" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168531475">(Jun 19 2019 at 18:14)</a>:</h4>
<p>now the menu button works correctly and goes to annot in make command but it construct an empty annotation</p>



<a name="168531530"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168531530" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168531530">(Jun 19 2019 at 18:15)</a>:</h4>
<p>I discovered  that puts command in tcl prints on the mged command window</p>



<a name="168531583"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168531583" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168531583">(Jun 19 2019 at 18:15)</a>:</h4>
<p>and now there is error in importing the annotation it seems like it is assuming that it is a sketch <a href="/user_uploads/1549/KRs9tEDl6xuS_Ge0gFcUmXs4/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/KRs9tEDl6xuS_Ge0gFcUmXs4/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/KRs9tEDl6xuS_Ge0gFcUmXs4/pasted_image.png"></a></div>



<a name="168531903"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168531903" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168531903">(Jun 19 2019 at 18:18)</a>:</h4>
<blockquote>
<p>now the menu button works correctly and goes to annot in make command but it construct an empty annotation</p>
</blockquote>
<p><a href="/user_uploads/1549/mCiGJQl0045E1asSRnAq0n_K/make1.c.patch" target="_blank" title="make1.c.patch">make1.c.patch</a> <br>
this is the changes I made on make.c</p>



<a name="168532463"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168532463" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168532463">(Jun 19 2019 at 18:24)</a>:</h4>
<p>There is still a lot of "sketch" in your annotation code.</p>



<a name="168532497"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168532497" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168532497">(Jun 19 2019 at 18:25)</a>:</h4>
<blockquote>
<p>I discovered  that puts command in tcl prints on the mged command window</p>
</blockquote>
<p>can you advise a more efficient way to debug tcl scripts in run time ?</p>



<a name="168532545"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168532545" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168532545">(Jun 19 2019 at 18:25)</a>:</h4>
<blockquote>
<p>There is still a lot of "sketch" in your annotation code.</p>
</blockquote>
<p>I know now is the time to clean the copied class.</p>



<a name="168533275"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168533275" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168533275">(Jun 19 2019 at 18:33)</a>:</h4>
<blockquote>
<blockquote>
<p>There is still a lot of "sketch" in your annotation code.</p>
</blockquote>
<p>I know now is the time to clean the copied class.</p>
</blockquote>
<p>The error message you posted last was about a sketch/annot mismatch, therefore ...</p>



<a name="168534912"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168534912" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168534912">(Jun 19 2019 at 18:49)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/2yV7qNIsUHwn6AFQt0yibQkW/second.patch" target="_blank" title="second.patch">second.patch</a> <br>
I made this changes, in this case no need to pass the solid , and if we didn't want to log any thing in bbox() function we can move the loop to the bbox_internal() function .</p>
</blockquote>
<p>The bounding box still don't return unknown commands, but logs them, what it shouldn't do (but the calling function). And, there is still the issue with the vlist length. See <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/Annotations/near/168262880" title="#narrow/stream/111975-Google-Summer.20of.20Code/topic/Annotations/near/168262880">https://brlcad.zulipchat.com/#narrow/stream/111975-Google-Summer.20of.20Code/topic/Annotations/near/168262880</a></p>



<a name="168546193"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168546193" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168546193">(Jun 19 2019 at 21:09)</a>:</h4>
<p>okay for returning the unknown commands but for the length what is the problem ? it returns the length correctly to dodraw.c but in display_list didn't care about the length from the first place.</p>



<a name="168561056"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561056" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561056">(Jun 20 2019 at 02:09)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> can you share what your vlist bbox function currently looks like?</p>



<a name="168561106"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561106" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561106">(Jun 20 2019 at 02:10)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/2yV7qNIsUHwn6AFQt0yibQkW/second.patch" target="_blank" title="second.patch">second.patch</a> <br>
I made this changes, in this case no need to pass the solid , and if we didn't want to log any thing in bbox() function we can move the loop to the bbox_internal() function .</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span></p>



<a name="168561119"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561119" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561119">(Jun 20 2019 at 02:11)</a>:</h4>
<p>this is the patch contains the function and changes on dodraw and display_list but it is not final</p>



<a name="168561376"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561376" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561376">(Jun 20 2019 at 02:18)</a>:</h4>
<p><a href="/user_uploads/1549/ARhVTCcXbKuw58M7Y4CXOxuU/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  <br>
I manged to run the new class annot_editor but I have an error when saving the annotation</p>
<div class="message_inline_image"><a href="/user_uploads/1549/ARhVTCcXbKuw58M7Y4CXOxuU/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/ARhVTCcXbKuw58M7Y4CXOxuU/pasted_image.png"></a></div>



<a name="168561497"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561497" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561497">(Jun 20 2019 at 02:21)</a>:</h4>
<p><a href="/user_uploads/1549/9sFvKlZJV73UrR-7og69AzFV/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
this error is because the annotation is not like the sketch doesn't have an A and B vectors to define its plane but when I delete theme from annot_editor class and from the method write_annot_to_db the hall class fails to start</p>
<div class="message_inline_image"><a href="/user_uploads/1549/9sFvKlZJV73UrR-7og69AzFV/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/9sFvKlZJV73UrR-7og69AzFV/pasted_image.png"></a></div>



<a name="168561636"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561636" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561636">(Jun 20 2019 at 02:24)</a>:</h4>
<p>to be honest, I think the tcl/tk gui work should stop -- that's a massive snake pit</p>



<a name="168561673"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561673" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561673">(Jun 20 2019 at 02:25)</a>:</h4>
<p>and anything not in C/C++ is going to need to be re-implemented in our new GUI</p>



<a name="168561758"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561758" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561758">(Jun 20 2019 at 02:26)</a>:</h4>
<p>it's not that you couldn't make something useful, you might -- but it'll probably take weeks of effort and still be half-baked.  if you've never done tcl/tk before, that's a lot to bite off given your programming experience.</p>



<a name="168561812"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561812" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561812">(Jun 20 2019 at 02:28)</a>:</h4>
<p>its my first time using tcl/tk but i am learning fast . what you propose ?</p>



<a name="168561827"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561827" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561827">(Jun 20 2019 at 02:28)</a>:</h4>
<p>I think you should focus on that vlist bbox function or, if you truly are stuck, that we should take a step back and establish a different set of goals going forward that are going to be more immediately achievable and useful.</p>



<a name="168561933"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561933" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561933">(Jun 20 2019 at 02:31)</a>:</h4>
<p>I don't think I am very stuck , after I succeed in saving the annotation I can add the text segment to tcl and get a full described annotation from the editor . but if you think that tk gui will not be useful I could do some thing for the new gui ?</p>



<a name="168561976"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561976" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561976">(Jun 20 2019 at 02:32)</a>:</h4>
<p>stuck on the vlist bbox function</p>



<a name="168561977"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168561977" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168561977">(Jun 20 2019 at 02:32)</a>:</h4>
<p>i wasn't suggesting you were stuck on the tcl/tk code</p>



<a name="168562058"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168562058" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168562058">(Jun 20 2019 at 02:35)</a>:</h4>
<p>No , I am not stuck in it. I was just focusing on the editor. I will submit a final patch today contains Mr. Daniel's  suggested modifications</p>



<a name="168562061"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168562061" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168562061">(Jun 20 2019 at 02:35)</a>:</h4>
<p>if you're working on the tcl/tk code, you're not making progress on the C side, or at least not putting in as much time and effort.  if it's complete, then you should probably take steps to prove it before moving on to something new.  having 10 tasks 75% complete means you will have made 0% useful progress.</p>



<a name="168562110"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168562110" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168562110">(Jun 20 2019 at 02:36)</a>:</h4>
<p>the problem with the tcl/tk task is that while you might make something useful, it's pointless until the other critical pieces are working like simply displaying a label in the top-left or bottom-right.</p>



<a name="168562256"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168562256" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168562256">(Jun 20 2019 at 02:40)</a>:</h4>
<p>once you think you have it working, I suggest shifting gears towards vlist unit testing so you can demonstrate whether the function is behaving as expected for all possible inputs.</p>



<a name="168562320"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168562320" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168562320">(Jun 20 2019 at 02:42)</a>:</h4>
<p>there are lots of excellent examples of unit testing in src/libbn/tests and src/libbu/tests, so there's lot of excellent examples to follow.  I suggest starting with JUST the first function in the implementation, bn_vlist_cmd_cnt().  make a patch that just adds testing for it that makes sure  the function is well-behaved.  make sure the test is run when you run "make unit" or "make test", passes when it should pass, fails when it should fail, and otherwise tests a broad range of possible inputs (including NULL, non-null but zero-length, one value, etc)</p>



<a name="168562335"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168562335" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168562335">(Jun 20 2019 at 02:43)</a>:</h4>
<p>you'll need to modify the corresponding CMakeLists.txt in src/libbn/tests to add your new test.  double-check, triple-check the file you add.  keep it simple and correct.</p>



<a name="168562482"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168562482" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168562482">(Jun 20 2019 at 02:47)</a>:</h4>
<p>the src/libbn/tests/poly_* units are somewhat better examples to follow in libbn, src/libbu/tests/str* are even simpler and good examples to consider mimicking.</p>



<a name="168562559"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168562559" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168562559">(Jun 20 2019 at 02:49)</a>:</h4>
<p>very good I will start in this direction thank you very much .</p>



<a name="168562825"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168562825" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168562825">(Jun 20 2019 at 02:56)</a>:</h4>
<p>if you've never implemented a unit test before, you're basically writing a tiny program that tests just one function.  there are tons of articles on the web for what makes for a good and bad unit test, but the gist is making a simple program that reliably, quickly, and simply verifies a function is behaving exactly as it should for all possible main categories of inputs, good and bad, likely or unlikely, and without any human intervention.</p>



<a name="168562837"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168562837" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168562837">(Jun 20 2019 at 02:57)</a>:</h4>
<p>do not expand scope to unit testing frameworks or other distractions.  just a simple program like the others I mentioned. ;)</p>



<a name="168566513"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168566513" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168566513">(Jun 20 2019 at 04:43)</a>:</h4>
<p><a href="/user_uploads/1549/1Eu3FQFfaEbTftCQoD9aHiTd/third.patch" target="_blank" title="third.patch">third.patch</a> <br>
<span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I think this is better</p>



<a name="168609383"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168609383" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168609383">(Jun 20 2019 at 16:07)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/1Eu3FQFfaEbTftCQoD9aHiTd/third.patch" target="_blank" title="third.patch">third.patch</a> <br>
<span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  I think this is better</p>
</blockquote>
<p>It is :) However, before we can start polishing it, I see two issues you had to fix first:<br>
* Initialize <code>cmd</code>.<br>
* Because not every caller is interested in the length, it would be a good idea to allow NULL for this parameter. You can do this by using a local <code>len</code> variable first, and then <code>if (length) *length = len;</code>.</p>



<a name="168625099"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168625099" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168625099">(Jun 20 2019 at 19:10)</a>:</h4>
<p>Progress <span class="user-mention" data-user-id="215774">@Louis Googl</span> ?</p>



<a name="168625100"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168625100" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168625100">(Jun 20 2019 at 19:10)</a>:</h4>
<p>No pressure, just honestly curious ;)</p>



<a name="168625524"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168625524" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168625524">(Jun 20 2019 at 19:15)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  in tcl the same situation, I send the patch for bbox yesterday , there is the problem that not every caller needs to know about the length of the vlist .</p>



<a name="168626481"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168626481" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168626481">(Jun 20 2019 at 19:25)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/9sFvKlZJV73UrR-7og69AzFV/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
this error is because the annotation is not like the sketch doesn't have an A and B vectors to define its plane but when I delete theme from annot_editor class and from the method write_annot_to_db the hall class fails to start</p>
<div class="message_inline_image"><a href="/user_uploads/1549/9sFvKlZJV73UrR-7og69AzFV/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/9sFvKlZJV73UrR-7og69AzFV/pasted_image.png"></a></div></blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  what do you think about this ?</p>



<a name="168629738"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168629738" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168629738">(Jun 20 2019 at 20:03)</a>:</h4>
<p><a href="/user_uploads/1549/2bxlFKJmWCInxy4jIxui774m/forth.patch" target="_blank" title="forth.patch">forth.patch</a> <br>
<span class="user-mention" data-user-id="102939">@Daniel Rossberg</span></p>



<a name="168633578"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168633578" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168633578">(Jun 20 2019 at 20:53)</a>:</h4>
<p><a href="/user_uploads/1549/bm7kgogKIv_vM9PYNH46DMTY/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  the annotation is saved correctly</p>
<div class="message_inline_image"><a href="/user_uploads/1549/bm7kgogKIv_vM9PYNH46DMTY/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/bm7kgogKIv_vM9PYNH46DMTY/pasted_image.png"></a></div>



<a name="168633760"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168633760" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168633760">(Jun 20 2019 at 20:55)</a>:</h4>
<p>but it is not drawn on the graphical window</p>



<a name="168645694"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168645694" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168645694">(Jun 21 2019 at 00:19)</a>:</h4>
<p>I found the problem of drawing the annotation , it is because of the coordinates are to big  and the vlist cmd[0] is not 15 and the there is  no reference point . <a href="/user_uploads/1549/pjRhQZJURXpqWqvp-yx5hiTN/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/pjRhQZJURXpqWqvp-yx5hiTN/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/pjRhQZJURXpqWqvp-yx5hiTN/pasted_image.png"></a></div>



<a name="168647264"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168647264" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168647264">(Jun 21 2019 at 00:54)</a>:</h4>
<p>in annot_editor there is no positive y coordinates unlike the sketch_editor <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="168697198"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168697198" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168697198">(Jun 21 2019 at 16:50)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/2bxlFKJmWCInxy4jIxui774m/forth.patch" target="_blank" title="forth.patch">forth.patch</a> <br>
<span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span></p>
</blockquote>
<p>Better, but why is there a disp_mode in src/libged/display_list.c?</p>



<a name="168699421"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168699421" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168699421">(Jun 21 2019 at 17:22)</a>:</h4>
<blockquote>
<p>in annot_editor there is no positive y coordinates unlike the sketch_editor <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>
</blockquote>
<p>??? What's your point with the y coordinate? On the screen, you have x and y coordinates, positive and negative, with the reference point at (0, 0).</p>
<p>Sure, the annotation is similar to the sketch, but they aren't the same. You have to consider the differences. But, why are the coordinates so big?</p>



<a name="168721586"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168721586" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168721586">(Jun 21 2019 at 22:23)</a>:</h4>
<blockquote>
<blockquote>
<p><a href="/user_uploads/1549/2bxlFKJmWCInxy4jIxui774m/forth.patch" target="_blank" title="forth.patch">forth.patch</a> <br>
<span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span></p>
</blockquote>
<p>Better, but why is there a disp_mode in src/libged/display_list.c?</p>
</blockquote>
<p>this patch cleaned and tested <a href="/user_uploads/1549/gMlU1nIYO9KQrkTPCD12LgsY/final1.patch" target="_blank" title="final1.patch">final1.patch</a></p>



<a name="168760026"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168760026" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168760026">(Jun 22 2019 at 18:12)</a>:</h4>
<blockquote>
<blockquote>
<blockquote>
<p><a href="/user_uploads/1549/2bxlFKJmWCInxy4jIxui774m/forth.patch" target="_blank" title="forth.patch">forth.patch</a> <br>
<span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span></p>
</blockquote>
<p>Better, but why is there a disp_mode in src/libged/display_list.c?</p>
</blockquote>
<p>this patch cleaned and tested <a href="/user_uploads/1549/gMlU1nIYO9KQrkTPCD12LgsY/final1.patch" target="_blank" title="final1.patch">final1.patch</a></p>
</blockquote>
<p>This looks good and is ready for polishing. I.e., you can create a patch task on SourceForge for it.<br>
Please, have especially a look at the spaces. You changed e.g. a "point_t <em>bmin" to "point_t</em> bmin", and there are trailing spaces.</p>
<p>BTW, was this everything you did yesterday?</p>



<a name="168763345"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168763345" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168763345">(Jun 22 2019 at 20:00)</a>:</h4>
<p>No i managed to draw annotation created by the editor in the graphic window and i was trying to make the first point picked by the user stored in V like the annotation entered by in command</p>



<a name="168763360"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168763360" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168763360">(Jun 22 2019 at 20:01)</a>:</h4>
<p>And i am trying to make a text segment in tcl</p>



<a name="168763363"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168763363" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168763363">(Jun 22 2019 at 20:01)</a>:</h4>
<p>But the progress is slow</p>



<a name="168764123"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168764123" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168764123">(Jun 22 2019 at 20:26)</a>:</h4>
<p><a href="/user_uploads/1549/zYBOwTIEOblmVoJcf-VXlwzW/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  I have the following problems the line created by the editor hase three points in the vl first two are the same but the don't appear in the points in the vlist.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/zYBOwTIEOblmVoJcf-VXlwzW/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/zYBOwTIEOblmVoJcf-VXlwzW/pasted_image.png"></a></div>



<a name="168764184"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168764184" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168764184">(Jun 22 2019 at 20:29)</a>:</h4>
<p><a href="/user_uploads/1549/W7cLOk8U7xJa63BXKoqKso_o/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  and as you can see the y is always negative unlike the sketch_editor which is weird because they are the same I didn't adjust any thing related to coordinates</p>
<div class="message_inline_image"><a href="/user_uploads/1549/W7cLOk8U7xJa63BXKoqKso_o/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/W7cLOk8U7xJa63BXKoqKso_o/pasted_image.png"></a></div>



<a name="168764291"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168764291" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168764291">(Jun 22 2019 at 20:32)</a>:</h4>
<p>(deleted)</p>



<a name="168764664"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168764664" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168764664">(Jun 22 2019 at 20:45)</a>:</h4>
<p><a href="/user_uploads/1549/vDSjWoiqsm6a9EUoJn209PG4/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  and I am trying to update my development log the wiki is not working what is the problem?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/vDSjWoiqsm6a9EUoJn209PG4/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/vDSjWoiqsm6a9EUoJn209PG4/pasted_image.png"></a></div>



<a name="168768048"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168768048" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168768048">(Jun 22 2019 at 22:38)</a>:</h4>
<p><a href="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
as you can see the line drawn by the editor doesn't map to the same coordinates as the one created by in command.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png"></a></div>



<a name="168768311"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168768311" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168768311">(Jun 22 2019 at 22:48)</a>:</h4>
<p>I think also we have to make a way to assign the point to be annotated</p>



<a name="168769775"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168769775" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168769775">(Jun 22 2019 at 23:37)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
as you can see the line drawn by the editor doesn't map to the same coordinates as the one created by in command.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png"></a></div></blockquote>
<p><a href="/user_uploads/1549/ASJjqFDS3VwhGxD5kslhswrf/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/ASJjqFDS3VwhGxD5kslhswrf/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/ASJjqFDS3VwhGxD5kslhswrf/pasted_image.png"></a></div>



<a name="168776627"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168776627" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168776627">(Jun 23 2019 at 03:45)</a>:</h4>
<p>now after searching and thinking the annotated point should be entered manually also the reference point I.e. or text placement point and the leader line should be added automatically.</p>



<a name="168798894"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168798894" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168798894">(Jun 23 2019 at 16:09)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
as you can see the line drawn by the editor doesn't map to the same coordinates as the one created by in command.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png"></a></div></blockquote>
<p>The coordinate of the annotated point in the display coordinate system is (0, 0). I.e., I you don't have a (0, 0) in your vertex list, you cant draw a line to the annotated point.</p>



<a name="168799230"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168799230" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168799230">(Jun 23 2019 at 16:20)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/zYBOwTIEOblmVoJcf-VXlwzW/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  I have the following problems the line created by the editor hase three points in the vl first two are the same but the don't appear in the points in the vlist.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/zYBOwTIEOblmVoJcf-VXlwzW/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/zYBOwTIEOblmVoJcf-VXlwzW/pasted_image.png"></a></div></blockquote>
<p>This could be a flaw in the sketch editor. It looks like the sketch editor doesn't test for duplicate coordinates in the vertex list.</p>



<a name="168799281"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168799281" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168799281">(Jun 23 2019 at 16:22)</a>:</h4>
<blockquote>
<blockquote>
<p><a href="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
as you can see the line drawn by the editor doesn't map to the same coordinates as the one created by in command.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/RyAeNJLjUf8hBhM_y1PG5NcE/pasted_image.png"></a></div></blockquote>
<p>The coordinate of the annotated point in the display coordinate system is (0, 0). I.e., I you don't have a (0, 0) in your vertex list, you cant draw a line to the annotated point.</p>
</blockquote>
<p>so I have to reserve a point for the annotated point? which will be 0,0 ? can you explain more?</p>



<a name="168799289"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168799289" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168799289">(Jun 23 2019 at 16:23)</a>:</h4>
<p>and what is going on with the wiki? I can't open my development log.</p>



<a name="168799406"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168799406" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168799406">(Jun 23 2019 at 16:27)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/W7cLOk8U7xJa63BXKoqKso_o/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  and as you can see the y is always negative unlike the sketch_editor which is weird because they are the same I didn't adjust any thing related to coordinates</p>
<div class="message_inline_image"><a href="/user_uploads/1549/W7cLOk8U7xJa63BXKoqKso_o/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/W7cLOk8U7xJa63BXKoqKso_o/pasted_image.png"></a></div></blockquote>
<p>The draw area is a bit odd adjusted. You can correct this with the arrows at the scroll bars and the zoom buttons.</p>



<a name="168799579"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168799579" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168799579">(Jun 23 2019 at 16:32)</a>:</h4>
<blockquote>
<p>so I have to reserve a point for the annotated point? which will be 0,0 ? can you explain more?</p>
</blockquote>
<p>You do not have to, but if you want a line end point at the annotated point, its coordinate is (0, 0). <code>V (20 20 20)</code> means, that the origin (i.e. (0, 0)) of the following display coordinates matches with (20, 20, 20) in the world.</p>



<a name="168799581"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168799581" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168799581">(Jun 23 2019 at 16:32)</a>:</h4>
<blockquote>
<p>and what is going on with the wiki? I can't open my development log.</p>
</blockquote>
<p>No idea.</p>



<a name="168800015"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168800015" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168800015">(Jun 23 2019 at 16:47)</a>:</h4>
<p>(deleted)</p>



<a name="168800122"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168800122" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168800122">(Jun 23 2019 at 16:50)</a>:</h4>
<blockquote>
<blockquote>
<p>and what is going on with the wiki? I can't open my development log.</p>
</blockquote>
<p>No idea.</p>
</blockquote>
<p>the whole wiki is down</p>



<a name="168878443"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168878443" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168878443">(Jun 24 2019 at 19:35)</a>:</h4>
<p><a href="/user_uploads/1549/TZ018xj5v6XagXXd8XWVLwK8/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  I am sorry for being too slow I have made these changes to allow the user to store the annotated point in V</p>
<div class="message_inline_image"><a href="/user_uploads/1549/TZ018xj5v6XagXXd8XWVLwK8/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/TZ018xj5v6XagXXd8XWVLwK8/pasted_image.png"></a></div>



<a name="168878535"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168878535" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168878535">(Jun 24 2019 at 19:36)</a>:</h4>
<p>now I am working on the text segment and the leader line</p>



<a name="168902724"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168902724" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168902724">(Jun 25 2019 at 03:04)</a>:</h4>
<p><a href="/user_uploads/1549/fUuUMnlKwys-wwSuuOAHaSmb/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/fUuUMnlKwys-wwSuuOAHaSmb/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/fUuUMnlKwys-wwSuuOAHaSmb/pasted_image.png"></a></div>



<a name="168902780"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168902780" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168902780">(Jun 25 2019 at 03:04)</a>:</h4>
<p>do I have to make a new dev_log or it will work again?</p>



<a name="168914598"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168914598" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168914598">(Jun 25 2019 at 07:04)</a>:</h4>
<blockquote>
<p>do I have to make a new dev_log or it will work again?</p>
</blockquote>
<p>I should work now. (see <a href="#narrow/stream/104062-general/topic/BRL-CAD.20website" title="#narrow/stream/104062-general/topic/BRL-CAD.20website">https://brlcad.zulipchat.com/#narrow/stream/104062-general/topic/BRL-CAD.20website</a>)</p>



<a name="168955844"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168955844" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168955844">(Jun 25 2019 at 16:59)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/TZ018xj5v6XagXXd8XWVLwK8/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  I am sorry for being too slow I have made these changes to allow the user to store the annotated point in V</p>
<div class="message_inline_image"><a href="/user_uploads/1549/TZ018xj5v6XagXXd8XWVLwK8/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/TZ018xj5v6XagXXd8XWVLwK8/pasted_image.png"></a></div></blockquote>
<p>Shouldn't the text be on the Create tab? Why is there an extra x and y for the text? And, the annotated point could get an own tab.</p>
<p>However, how is your work on the bugfixes going on? I'm waiting for your patch with the bounding box function. And, there are more issues you should fix.</p>



<a name="168981786"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168981786" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168981786">(Jun 25 2019 at 22:03)</a>:</h4>
<p>we can make whatever we want in the GUI case, the patch is ready but I am reviewing the white spaces, the extra x and y are for the text placement.</p>



<a name="168981923"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168981923" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168981923">(Jun 25 2019 at 22:05)</a>:</h4>
<p>I have an exam on the  9th  of July can I do it?</p>



<a name="168981954"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168981954" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168981954">(Jun 25 2019 at 22:06)</a>:</h4>
<blockquote>
<p>we can make whatever we want in the GUI case, the patch is ready but I am reviewing the white spaces, the extra x and y are for the text placement.</p>
</blockquote>
<p>the important thing now is to make the text segment as it was in the in command</p>



<a name="168986552"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168986552" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168986552">(Jun 25 2019 at 23:18)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  can you give me a list of the issues to fix or lead me where to find them?</p>



<a name="168986619"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168986619" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168986619">(Jun 25 2019 at 23:19)</a>:</h4>
<p>is there a need to submit a patch for changes in make.c ?</p>



<a name="168986760"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168986760" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168986760">(Jun 25 2019 at 23:21)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  is there a need to make a unit test for the bbox() function?</p>



<a name="168995844"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168995844" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168995844">(Jun 26 2019 at 03:05)</a>:</h4>
<p><a href="/user_uploads/1549/YA9PGRAZzjx0xI2L6q0tEyUw/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/YA9PGRAZzjx0xI2L6q0tEyUw/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/YA9PGRAZzjx0xI2L6q0tEyUw/pasted_image.png"></a></div>



<a name="168995853"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/168995853" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#168995853">(Jun 26 2019 at 03:05)</a>:</h4>
<p>I am working on making a method for creating the text segment</p>



<a name="169004005"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169004005" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169004005">(Jun 26 2019 at 06:37)</a>:</h4>
<blockquote>
<p>I have an exam on the  9th  of July can I do it?</p>
</blockquote>
<p>Sure, thanks for letting us know.</p>



<a name="169004137"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169004137" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169004137">(Jun 26 2019 at 06:40)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  can you give me a list of the issues to fix or lead me where to find them?</p>
</blockquote>
<p>Sure, I could tell you some. But it would be better if you would find them by yourself.</p>



<a name="169004237"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169004237" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169004237">(Jun 26 2019 at 06:43)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  is there a need to make a unit test for the bbox() function?</p>
</blockquote>
<p>In general I would say, it would be nice to have one. In your case, I say you shall definitely write one, because you seem to not test enough <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>
<p>There are still some very unpleasant flaws in the annotation. Simple tests should unveil them.</p>



<a name="169004288"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169004288" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169004288">(Jun 26 2019 at 06:44)</a>:</h4>
<p>Play a bit with the creation and display of the annotations.</p>



<a name="169004473"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169004473" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169004473">(Jun 26 2019 at 06:49)</a>:</h4>
<blockquote>
<p>is there a need to submit a patch for changes in make.c ?</p>
</blockquote>
<p>Are they necessary to make it work?</p>
<p>You can (should) split patches if they can be seen independently. I.e., the <em>make</em> doesn't depend on the annotation editor, but the annotation editor depens on <em>make</em>.</p>



<a name="169038802"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169038802" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169038802">(Jun 26 2019 at 14:58)</a>:</h4>
<blockquote>
<blockquote>
<p>is there a need to submit a patch for changes in make.c ?</p>
</blockquote>
<p>Are they necessary to make it work?</p>
<p>You can (should) split patches if they can be seen independently. I.e., the <em>make</em> doesn't depend on the annotation editor, but the annotation editor depens on <em>make</em>.</p>
</blockquote>
<p>the make.c patch introduces the annotation to make and the editor doesn't work without it.</p>



<a name="169066694"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169066694" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169066694">(Jun 26 2019 at 18:34)</a>:</h4>
<p>The loop for sp-&gt;s_vlen is now in bn_vlist_bbox(). Why not passing it there?</p>
<p>I just realized, that not only one indent is wrong in bn_vlist_bbox() but almost all.</p>



<a name="169078564"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169078564" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169078564">(Jun 26 2019 at 20:49)</a>:</h4>
<p>If you feel it's better i can do it but it is the same</p>



<a name="169092485"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169092485" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169092485">(Jun 27 2019 at 00:13)</a>:</h4>
<p>I am working on unit test</p>



<a name="169093315"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169093315" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169093315">(Jun 27 2019 at 00:29)</a>:</h4>
<blockquote>
<p>there are lots of excellent examples of unit testing in src/libbn/tests and src/libbu/tests, so there's lot of excellent examples to follow.  I suggest starting with JUST the first function in the implementation, bn_vlist_cmd_cnt().  make a patch that just adds testing for it that makes sure  the function is well-behaved.  make sure the test is run when you run "make unit" or "make test", passes when it should pass, fails when it should fail, and otherwise tests a broad range of possible inputs (including NULL, non-null but zero-length, one value, etc)</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I was looking to the function bn_vlist_cmd_cent() it doesn't use the function I wrote, I is probably better to make the test for <br>
bn_vlist_bbox() correct?</p>



<a name="169093862"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169093862" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169093862">(Jun 27 2019 at 00:41)</a>:</h4>
<p>and who provide the inputs for the test?</p>



<a name="169094099"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169094099" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169094099">(Jun 27 2019 at 00:46)</a>:</h4>
<blockquote>
<p>and who provide the inputs for the test?</p>
</blockquote>
<p>i found the answer they are in cmak.txt file</p>



<a name="169101791"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169101791" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169101791">(Jun 27 2019 at 03:51)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> the inputs can be in the test file itself or in the cmakelists file -- we have tests that do it both ways.  <em>however</em>, they are typically better in the test itself to keep it fully encapsulated.  that's why I mentioned src/libbn/tests/poly_* and src/libbu/tests/str* as good examples to mimic...  did you not read them?</p>



<a name="169101922"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169101922" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169101922">(Jun 27 2019 at 03:55)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span>  I was looking to the function bn_vlist_cmd_cent() it doesn't use the function I wrote, I is probably better to make the test for <br>
bn_vlist_bbox() correct?</p>
</blockquote>
<p>I intentionally suggested a far simpler function to test first.  If you can't create a proper unit test for it in less than an hour, you have some critical learning to do, mistakes will be made.</p>



<a name="169101972"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169101972" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169101972">(Jun 27 2019 at 03:56)</a>:</h4>
<p>you should be able to create a decent unit test for it simply by reading the header in include/bn/vlist.h</p>



<a name="169150007"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169150007" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169150007">(Jun 27 2019 at 16:23)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="215774">Louis Googl</span> the inputs can be in the test file itself or in the cmakelists file -- we have tests that do it both ways.  <em>however</em>, they are typically better in the test itself to keep it fully encapsulated.  that's why I mentioned src/libbn/tests/poly_* and src/libbu/tests/str* as good examples to mimic...  did you not read them?</p>
</blockquote>
<p>Yes  I have read them I am working on it ,</p>



<a name="169192084"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169192084" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169192084">(Jun 28 2019 at 02:01)</a>:</h4>
<p>I added the file that I will use for the test to the CMake build system and learned how to add test to CMake file, now I am writing the test program but I am having a truble inventing the list. all the list I have dealt with appears from nowhere.</p>



<a name="169197666"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169197666" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169197666">(Jun 28 2019 at 04:40)</a>:</h4>
<p>what do you mean <span class="user-mention" data-user-id="215774">@Louis Googl</span> ? lists appears from nowhere?  You mean the criteria for validation?</p>



<a name="169243078"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169243078" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169243078">(Jun 28 2019 at 17:08)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I found out the mistake thank you</p>



<a name="169243131"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169243131" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169243131">(Jun 28 2019 at 17:08)</a>:</h4>
<p><a href="/user_uploads/1549/ZOBcoXfYUimp32fDZ9ujdBuQ/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  this is my test</p>
<div class="message_inline_image"><a href="/user_uploads/1549/ZOBcoXfYUimp32fDZ9ujdBuQ/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/ZOBcoXfYUimp32fDZ9ujdBuQ/pasted_image.png"></a></div>



<a name="169243410"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169243410" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169243410">(Jun 28 2019 at 17:11)</a>:</h4>
<p><a href="/user_uploads/1549/5oYQEcr2aT95LCL4EqLn17F1/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  and this is the code for <br>
zcmd_cnt .c</p>
<div class="message_inline_image"><a href="/user_uploads/1549/5oYQEcr2aT95LCL4EqLn17F1/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/5oYQEcr2aT95LCL4EqLn17F1/pasted_image.png"></a></div>



<a name="169247521"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169247521" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169247521">(Jun 28 2019 at 17:58)</a>:</h4>
<p>Now the pass criteria and i have to find out if my test is working</p>



<a name="169249100"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169249100" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169249100">(Jun 28 2019 at 18:18)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> glad to see you figured it out!  good job.  </p>
<p>You'll want to tidy up a lot of details, but you're on the right track.  Some details to fix once AFTER you are sure it's working is 1) you only need to pass and read 1 arg from cmake, not 2 (e.g., you don't use 'length'), 2) the name of your test and test file are inconsistent with the rest of the tests, 3) the documentation/comments you put in the cmakelists file belong in the .c file (or can at least be considerably more brief), and 4) to add more types of tests like your comment says it's doing.</p>



<a name="169249401"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169249401" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169249401">(Jun 28 2019 at 18:22)</a>:</h4>
<p>Thanks i am sorry for being slow , for the argv it's obvious it's not necessary to use  tow but the use of length is correct?</p>



<a name="169249473"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169249473" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169249473">(Jun 28 2019 at 18:23)</a>:</h4>
<p>What should i name the file? Vlist or bn_vlist_cmd</p>



<a name="169249527"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169249527" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169249527">(Jun 28 2019 at 18:24)</a>:</h4>
<p>bn_vlist_cmd_cnt</p>



<a name="169251761"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169251761" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169251761">(Jun 28 2019 at 18:49)</a>:</h4>
<blockquote>
<p>Thanks i am sorry for being slow , for the argv it's obvious it's not necessary to use  tow but the use of length is correct?</p>
</blockquote>
<p>Sorry, miswrote -- yes you do use it, but you don't need to use it -- arguably you don't want to use it.  All that parameter is doing is controlling how many times BN_ADD_VLIST is called and that's not really testing different cases.  Unit tests should test was many different kinds of distinct and edge cases as possible, not necessarily multiples unless we believe that we'll likely see different behavior in adding 10 vs 100 vs 10000 elements.</p>
<p>More interesting is probably going to be crafting different kinds of lists manually -- a null list, 1 element added, 10 added,  1 added 1 removed, 2 added 3 removed, 2 added 1 removed 1 added, etc.  plus adding different kind of vlist elements if possible, adding vlists with good data, vlists with bad data, ... hopefully you get the idea.</p>



<a name="169251838"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169251838" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169251838">(Jun 28 2019 at 18:50)</a>:</h4>
<p>[Quoting…]<br>
Should name it like the other files.  Look at the examples.  Notice the pattern.  Go for a simple as it needs to be until you have an excuse to make it less simple.</p>



<a name="169265795"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169265795" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169265795">(Jun 28 2019 at 21:57)</a>:</h4>
<blockquote>
<blockquote>
<p>Thanks i am sorry for being slow , for the argv it's obvious it's not necessary to use  tow but the use of length is correct?</p>
</blockquote>
<p>Sorry, miswrote -- yes you do use it, but you don't need to use it -- arguably you don't want to use it.  All that parameter is doing is controlling how many times BN_ADD_VLIST is called and that's not really testing different cases.  Unit tests should test was many different kinds of distinct and edge cases as possible, not necessarily multiples unless we believe that we'll likely see different behavior in adding 10 vs 100 vs 10000 elements.</p>
<p>More interesting is probably going to be crafting different kinds of lists manually -- a null list, 1 element added, 10 added,  1 added 1 removed, 2 added 3 removed, 2 added 1 removed 1 added, etc.  plus adding different kind of vlist elements if possible, adding vlists with good data, vlists with bad data, ... hopefully you get the idea.</p>
</blockquote>
<p>I think I didn't get you perfectly, we are testing a function which returns the number of commands in a vlist, the only important thing is whether the returned number is correct. after adding a test for the null case and creat the case of removing some element from the list it dosesn't matter if the list contains an annotation or a sphere correct? if we want to do that can we construct some arbitrary solid inside the test code ? or just copy the list and store it inside the test file?</p>



<a name="169273758"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169273758" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169273758">(Jun 29 2019 at 00:27)</a>:</h4>
<p><a href="/user_uploads/1549/hmxMUD0EEeNIWmP-w0eskmdE/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  the test works</p>
<div class="message_inline_image"><a href="/user_uploads/1549/hmxMUD0EEeNIWmP-w0eskmdE/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/hmxMUD0EEeNIWmP-w0eskmdE/pasted_image.png"></a></div>



<a name="169273898"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169273898" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169273898">(Jun 29 2019 at 00:30)</a>:</h4>
<p><a href="/user_uploads/1549/IVjJ8FFrvRPcyo1J0m2x-x0h/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  but I have a problem when using RT_ADD_VLIST because of RTG, it is defined in global.h</p>
<div class="message_inline_image"><a href="/user_uploads/1549/IVjJ8FFrvRPcyo1J0m2x-x0h/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/IVjJ8FFrvRPcyo1J0m2x-x0h/pasted_image.png"></a></div>



<a name="169274623"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169274623" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169274623">(Jun 29 2019 at 00:50)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/hmxMUD0EEeNIWmP-w0eskmdE/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  the test works</p>
<div class="message_inline_image"><a href="/user_uploads/1549/hmxMUD0EEeNIWmP-w0eskmdE/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/hmxMUD0EEeNIWmP-w0eskmdE/pasted_image.png"></a></div></blockquote>
<p>this run is by running bu_test with the appropriate cmd parameters I.e( zcmd_cnt 5 5 ) is it enough to assure that it is working?</p>



<a name="169274952"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169274952" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169274952">(Jun 29 2019 at 01:00)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/IVjJ8FFrvRPcyo1J0m2x-x0h/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  but I have a problem when using RT_ADD_VLIST because of RTG, it is defined in global.h</p>
<div class="message_inline_image"><a href="/user_uploads/1549/IVjJ8FFrvRPcyo1J0m2x-x0h/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/IVjJ8FFrvRPcyo1J0m2x-x0h/pasted_image.png"></a></div></blockquote>
<p>I tried to define RTG in my test file the build succeeded but I had this error when executing, it is inside BN_ADD_VLIST I don't know if it is because of my wrong fix or something else. need help <a href="user_uploads/1549/hiTuDsFNd-LamnGkdGONpad0/pasted_image.png" target="_blank" title="user_uploads/1549/hiTuDsFNd-LamnGkdGONpad0/pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="user_uploads/1549/hiTuDsFNd-LamnGkdGONpad0/pasted_image.png" target="_blank" title="pasted image"><img src="user_uploads/1549/hiTuDsFNd-LamnGkdGONpad0/pasted_image.png"></a></div>



<a name="169275013"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169275013" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169275013">(Jun 29 2019 at 01:02)</a>:</h4>
<p>I think if the file was in librt I wouldn't have the link problem because RT_ADD_VLIST works fine there</p>



<a name="169275068"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169275068" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169275068">(Jun 29 2019 at 01:04)</a>:</h4>
<p>I tried to make the same in vlist.c and had the same link problem</p>



<a name="169350522"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169350522" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169350522">(Jun 30 2019 at 18:59)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I am constructing an annotation inside my test program and will call ant_to_vlist from there and take the vlist is this a good solution?</p>



<a name="169350997"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169350997" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169350997">(Jun 30 2019 at 19:14)</a>:</h4>
<p>there is another way is to write a function inside annot.c and call it from the test program.</p>



<a name="169352092"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169352092" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169352092">(Jun 30 2019 at 19:51)</a>:</h4>
<blockquote>
<p>there is another way is to write a function inside annot.c and call it from the test program.</p>
</blockquote>
<p>also didn't work the function I wrote became the unresolved external <span aria-label="hurt" class="emoji emoji-1f915" role="img" title="hurt">:hurt:</span></p>



<a name="169401049"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169401049" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169401049">(Jul 01 2019 at 14:41)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <span class="user-mention" data-user-id="102902">@Sean</span> <span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  any help pleas.</p>



<a name="169418479"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169418479" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169418479">(Jul 01 2019 at 18:19)</a>:</h4>
<p>??? I don't know what wrote and what the problem is.</p>



<a name="169419422"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169419422" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169419422">(Jul 01 2019 at 18:30)</a>:</h4>
<p>The problem is when using RT_ADD_VLIST there is linking error with RTG object you can see it in previous pictures RT_ADD_VLIST works fine in annot.c and other files in librt but doesn't work in vlist.c and my test program which exists in libbn</p>



<a name="169420010"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169420010" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169420010">(Jul 01 2019 at 18:37)</a>:</h4>
<p>Show me your code! (Do you remember? <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> )</p>



<a name="169420130"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169420130" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169420130">(Jul 01 2019 at 18:38)</a>:</h4>
<p>The patch file thing, you know ;)</p>



<a name="169421350"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169421350" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169421350">(Jul 01 2019 at 18:54)</a>:</h4>
<p><a href="/user_uploads/1549/8EafC_UaG3qXvKFwY7Zvjt6e/zcmd_cnt.c" target="_blank" title="zcmd_cnt.c">zcmd_cnt.c</a>  it  is not a batch it is the new file I made for the unit test</p>



<a name="169421735"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169421735" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169421735">(Jul 01 2019 at 18:59)</a>:</h4>
<p>it runs when I run bn_test and I have add it to the cmakelist file and put the test commands but the problem now is to make a list to send it to bn_vlist_cmd_cnt() which I will do it using RT_ADD_VLIST and that give us the error of RTG external object linking error</p>



<a name="169430812"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169430812" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169430812">(Jul 01 2019 at 20:59)</a>:</h4>
<p>When you build your test, do you add librt to the linked libraries in the CMakeLists.txt configuration?</p>



<a name="169433007"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169433007" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169433007">(Jul 01 2019 at 21:30)</a>:</h4>
<p>NO, I don't know how to do that , I know this is the cause of the error but I didn't know where to add it , because in cmakelist I found that it mentions the include and the source files only I didn't fined any mention to linked libraries .</p>



<a name="169439261"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169439261" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169439261">(Jul 01 2019 at 23:08)</a>:</h4>
<p># Include directories needed by librt users<br>
set(RT_INCLUDE_DIRS<br>
  ${BRLCAD_BINARY_DIR}/include<br>
  ${BRLCAD_SOURCE_DIR}/include<br>
  ${BU_INCLUDE_DIRS}<br>
  ${BN_INCLUDE_DIRS}<br>
  ${BG_INCLUDE_DIRS}<br>
  ${NMG_INCLUDE_DIRS}<br>
  ${BREP_INCLUDE_DIRS}<br>
  ${P2T_INCLUDE_DIR}<br>
  ${OPENNURBS_INCLUDE_DIRS}<br>
  )<br>
I added this but it didn't work<br>
BRLCAD_LIB_INCLUDE_DIRS(rt RT_INCLUDE_DIRS RT_LOCAL_INCLUDE_DIRS)</p>



<a name="169446840"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169446840" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169446840">(Jul 02 2019 at 01:51)</a>:</h4>
<p>set(BRLCAD_LIBS<br>
    librt<br>
    )<br>
foreach(blib ${BRLCAD_LIBS})<br>
    foreach(CFG_TYPE ${CMAKE_CONFIGURATION_TYPES})<br>
      string(TOUPPER "${CFG_TYPE}" CFG_TYPE_UPPER)<br>
      configure_file(${BRLCAD_ROOT_DIR}/bin/${blib}.dll ${CMAKE_CURRENT_BINARY_DIR}/${CFG_TYPE}/${blib}.dll COPYONLY)<br>
    endforeach(CFG_TYPE ${CMAKE_CONFIGURATION_TYPES})<br>
configure_file(${BRLCAD_ROOT_DIR}/bin/${blib}.dll ${CMAKE_CURRENT_BINARY_DIR}/${blib}.dll COPYONLY)<br>
BRLCAD_LIB_INCLUDE_DIRS(rt RT_INCLUDE_DIRS RT_LOCAL_INCLUDE_DIRS)</p>



<a name="169500647"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169500647" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169500647">(Jul 02 2019 at 17:27)</a>:</h4>
<p>I'm still waiting for your patch file. The solution is probably in the CMakeLists.txt configuration file, and I want to see how yours looks like. It's important to provide patches with the complete code!!!</p>
<p>I know that it has at least the linking issue, but only with this at hand I can point you to the solution.</p>



<a name="169506095"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169506095" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169506095">(Jul 02 2019 at 18:23)</a>:</h4>
<p><a href="/user_uploads/1549/7ywmiaVUi929v76I9o-KcBI1/CMakeLists.txt.patch" target="_blank" title="CMakeLists.txt.patch">CMakeLists.txt.patch</a></p>



<a name="169506205"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169506205" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169506205">(Jul 02 2019 at 18:24)</a>:</h4>
<p>sorry I thought you want the code of the test function</p>



<a name="169508262"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169508262" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169508262">(Jul 02 2019 at 18:46)</a>:</h4>
<p><a href="/user_uploads/1549/Q_C6E-XPMkAMK-7du7JKT8lh/CMakeLists.txt.patch" target="_blank" title="CMakeLists.txt.patch">CMakeLists.txt.patch</a> <br>
<span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  forget the first one.</p>



<a name="169512011"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169512011" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169512011">(Jul 02 2019 at 19:32)</a>:</h4>
<p>Unfortunately, this is still not the whole set of your changes to the source code. You even changed annot.c. But well, the linking works for me with this one: <a href="/user_uploads/1549/6oQNSA8C8zb4hSz4yR4XDO3-/test.patch" target="_blank" title="test.patch">test.patch</a></p>



<a name="169513360"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169513360" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169513360">(Jul 02 2019 at 19:48)</a>:</h4>
<p>the change in annot.c is just a function do what the loop does in the zcmd_cnt</p>



<a name="169513515"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169513515" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169513515">(Jul 02 2019 at 19:50)</a>:</h4>
<p><a href="/user_uploads/1549/RgehtpON8PS5UrtQtm7nJI22/an.patch" target="_blank" title="an.patch">an.patch</a>  nothing important</p>



<a name="169513526"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169513526" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169513526">(Jul 02 2019 at 19:50)</a>:</h4>
<blockquote>
<p>Unfortunately, this is still not the whole set of your changes to the source code. You even changed annot.c. But well, the linking works for me with this one: <a href="/user_uploads/1549/6oQNSA8C8zb4hSz4yR4XDO3-/test.patch" target="_blank" title="test.patch">test.patch</a></p>
</blockquote>
<p>thank you very much</p>



<a name="169530314"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169530314" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169530314">(Jul 03 2019 at 00:30)</a>:</h4>
<p>(deleted)</p>



<a name="169530420"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169530420" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169530420">(Jul 03 2019 at 00:32)</a>:</h4>
<p>(deleted)</p>



<a name="169530431"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169530431" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169530431">(Jul 03 2019 at 00:32)</a>:</h4>
<p>(deleted)</p>



<a name="169536103"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169536103" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169536103">(Jul 03 2019 at 03:14)</a>:</h4>
<p><a href="/user_uploads/1549/G6zN0Wqh40viD3Equgsx_R05/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
It didn't work the same error</p>
<div class="message_inline_image"><a href="/user_uploads/1549/G6zN0Wqh40viD3Equgsx_R05/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/G6zN0Wqh40viD3Equgsx_R05/pasted_image.png"></a></div>



<a name="169536124"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169536124" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169536124">(Jul 03 2019 at 03:15)</a>:</h4>
<p><a href="/user_uploads/1549/qQCX-FyXVD-Ztf4_4gAPLdlQ/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a><br>
the function in annot.c also make this error the same error which happened when I defined rt_g inside the test file</p>
<div class="message_inline_image"><a href="/user_uploads/1549/qQCX-FyXVD-Ztf4_4gAPLdlQ/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/qQCX-FyXVD-Ztf4_4gAPLdlQ/pasted_image.png"></a></div>



<a name="169536146"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169536146" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169536146">(Jul 03 2019 at 03:16)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I added libbu also but it didn't work also</p>



<a name="169536693"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169536693" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169536693">(Jul 03 2019 at 03:30)</a>:</h4>
<p><a href="/user_uploads/1549/jy-InFJRmTeVxHnTXGosjJpH/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/jy-InFJRmTeVxHnTXGosjJpH/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/jy-InFJRmTeVxHnTXGosjJpH/pasted_image.png"></a></div>



<a name="169537129"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169537129" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169537129">(Jul 03 2019 at 03:45)</a>:</h4>
<p>I found the solution by adding two lines to the test program  code without linking any library <br>
struct rt_g RTG ;<br>
BU_LIST_INIT(&amp;RTG.rtg_vlfree); <span aria-label="hurt" class="emoji emoji-1f915" role="img" title="hurt">:hurt:</span></p>



<a name="169537403"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169537403" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169537403">(Jul 03 2019 at 03:54)</a>:</h4>
<p><a href="/user_uploads/1549/Y-GabUYYN30v5S7g5DK_HwDD/zcmd_cnt.c.patch" target="_blank" title="zcmd_cnt.c.patch">zcmd_cnt.c.patch</a>  no there is no need to use the function in annot.c</p>



<a name="169537463"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169537463" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169537463">(Jul 03 2019 at 03:55)</a>:</h4>
<p>tomorrow I will work on the test cases and the name of the test file and test commands</p>



<a name="169589121"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169589121" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169589121">(Jul 03 2019 at 18:07)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/Y-GabUYYN30v5S7g5DK_HwDD/zcmd_cnt.c.patch" target="_blank" title="zcmd_cnt.c.patch">zcmd_cnt.c.patch</a>  no there is no need to use the function in annot.c</p>
</blockquote>
<p>Hmm, the patch is incomplete again (it contains the new file only).</p>
<p>However, maybe you can turn this to an advantage: The vlist is a bn construct, RT_ADD_VLIST() is in fact BN_ADD_VLIST(), etc.. I.e., the whole test should be feasible without the help of librt.</p>



<a name="169593966"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169593966" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169593966">(Jul 03 2019 at 19:08)</a>:</h4>
<p>I just send it to show you the change it works now</p>



<a name="169613252"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169613252" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169613252">(Jul 04 2019 at 00:56)</a>:</h4>
<p><a href="/user_uploads/1549/bK-n1s3xYA0IeXQfeEq86uod/tests.patch" target="_blank" title="tests.patch">tests.patch</a>  <br>
<span class="user-mention" data-user-id="102902">@Sean</span>  <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  this is the test. any notes ?</p>



<a name="169664908"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169664908" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169664908">(Jul 04 2019 at 18:30)</a>:</h4>
<p>After all your difficulties, I'm positively surprised that you wrote a nice, "simple" test function. Keep this in mind when you perfect it.</p>
<p>Therefore, this are my findings:</p>
<ul>
<li>As usual, the spaces and braces. Please, follow what's written in HACKING.</li>
<li>bn_vlist.c is a new file. Its copyright starts now. I.e. "Copyright (c) 2019 United"...</li>
<li>bn_vlist.c ha s lot of includes. Are they really all necessary?</li>
<li>I'm pretty sure, that you don't need any reference to librt (includes, macros, etc.). Please, eliminate them.</li>
<li>Where will bn_vlist_main() be called? I couldn't find it in tests.patch.</li>
</ul>



<a name="169673559"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169673559" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169673559">(Jul 04 2019 at 22:21)</a>:</h4>
<p>thank you, the includes are not necessary I will change them, for bn_vlist_main() it is generated automatically when configuring the project with cmake it is generated inside bn_test.c so it is generated from cmake into the build file because of that svn is not seeing it as a change in the source code <a href="/user_uploads/1549/gesmDyUqgEMMWv0rrGQhJ1hP/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/gesmDyUqgEMMWv0rrGQhJ1hP/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/gesmDyUqgEMMWv0rrGQhJ1hP/pasted_image.png"></a></div>



<a name="169675249"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169675249" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169675249">(Jul 04 2019 at 23:18)</a>:</h4>
<p><a href="/user_uploads/1549/i8g-2lG9B5LiWi7OUPdk7y2V/tests1.patch" target="_blank" title="tests1.patch">tests1.patch</a>  <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span></p>



<a name="169675408"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169675408" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169675408">(Jul 04 2019 at 23:23)</a>:</h4>
<p>is it good now to submit to SourceForge?</p>



<a name="169675409"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169675409" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169675409">(Jul 04 2019 at 23:23)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  <span class="user-mention" data-user-id="102902">@Sean</span>  <span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  I think it is better if we revised the scope of the project as Mr. Daniel suggested in the evaluation because I am struggling with Tcl scripts and it will not be used in the new Gui what you suggest?</p>



<a name="169679372"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169679372" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169679372">(Jul 05 2019 at 01:38)</a>:</h4>
<p>I noticed that the position flags doesn't do anything the annotation is always in a top left position, I tried to make an example of the bottom right is this the way we want it to be ? <a href="/user_uploads/1549/IeHsA-uCE--FKiJvX7JwOzXQ/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/IeHsA-uCE--FKiJvX7JwOzXQ/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/IeHsA-uCE--FKiJvX7JwOzXQ/pasted_image.png"></a></div>



<a name="169684636"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169684636" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169684636">(Jul 05 2019 at 04:43)</a>:</h4>
<p>Annotations are referenced solely by the point V in the 3D space, the position is in relation to this particular V. The default position is TL as of now. While adding support for all the relative positions you'll have to consider some factors, like the spacing between the bounding box lines and the leader line. Could you please  share the patch that you used to generate the result shown in the image.</p>



<a name="169726016"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169726016" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169726016">(Jul 05 2019 at 18:02)</a>:</h4>
<blockquote>
<p>I noticed that the position flags doesn't do anything the annotation is always in a top left position, I tried to make an example of the bottom right is this the way we want it to be ? <a href="/user_uploads/1549/IeHsA-uCE--FKiJvX7JwOzXQ/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/IeHsA-uCE--FKiJvX7JwOzXQ/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/IeHsA-uCE--FKiJvX7JwOzXQ/pasted_image.png"></a></div></blockquote>
<p>Yes, this is one of the bugs. The point which shall be at the "top-right" or "middle-left" etc. is the txt_seg.ref_pt (i.e. in the text segment structure). Can you debug this in Visual Studio? Any idea how to fix this?</p>



<a name="169728033"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169728033" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169728033">(Jul 05 2019 at 18:36)</a>:</h4>
<blockquote>
<p>is it good now to submit to SourceForge?</p>
</blockquote>
<p>Not yet. The main issue is a compilation warning/error because of the unused variable mybnlist. Other findings are:<br>
* There are many empty lines before and after the includes in bn_vlist.c. Are they really necessary? It looks like 1 or 2 lines are usual.<br>
* <code>#include "rt/global.h"</code>, <code>struct rt_g RTG ;</code> and <code>BU_LIST_INIT(&amp;RTG.rtg_vlfree);</code> shouldn't be necessary any more. RTG is generally unused.<br>
* There are a lot of lines which contain only spaces in bn_vlist.c. An empty line shouldn't contain additional spaces. There is an option in Visual Studio to visualize the space characters.<br>
* The source files shall end with a new-line.<br>
* One empty line between the two bn_test blocks is enough in CMakeLists.txt.</p>



<a name="169736390"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169736390" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169736390">(Jul 05 2019 at 21:18)</a>:</h4>
<blockquote>
<p>Annotations are referenced solely by the point V in the 3D space, the position is in relation to this particular V. The default position is TL as of now. While adding support for all the relative positions you'll have to consider some factors, like the spacing between the bounding box lines and the leader line. Could you please  share the patch that you used to generate the result shown in the image.</p>
</blockquote>
<p><span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  there is no batch this is hard coded by changing the y in bn_vlist_2string()  my point is to ask how you think bottom right should looks like</p>



<a name="169736488"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169736488" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169736488">(Jul 05 2019 at 21:20)</a>:</h4>
<p>I.e changing the y coordinate of the text_seg.ref_pt</p>



<a name="169736555"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169736555" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169736555">(Jul 05 2019 at 21:22)</a>:</h4>
<blockquote>
<blockquote>
<p>I noticed that the position flags doesn't do anything the annotation is always in a top left position, I tried to make an example of the bottom right is this the way we want it to be ? <a href="/user_uploads/1549/IeHsA-uCE--FKiJvX7JwOzXQ/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/IeHsA-uCE--FKiJvX7JwOzXQ/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/IeHsA-uCE--FKiJvX7JwOzXQ/pasted_image.png"></a></div></blockquote>
<p>Yes, this is one of the bugs. The point which shall be at the "top-right" or "middle-left" etc. is the txt_seg.ref_pt (i.e. in the text segment structure). Can you debug this in Visual Studio? Any idea how to fix this?</p>
</blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  yes I will debug it and suggest a solution tomorrow</p>



<a name="169736915"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169736915" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169736915">(Jul 05 2019 at 21:31)</a>:</h4>
<blockquote>
<blockquote>
<p>is it good now to submit to SourceForge?</p>
</blockquote>
<p>Not yet. The main issue is a compilation warning/error because of the unused variable mybnlist. Other findings are:<br>
* There are many empty lines before and after the includes in bn_vlist.c. Are they really necessary? It looks like 1 or 2 lines are usual.<br>
* <code>#include "rt/global.h"</code>, <code>struct rt_g RTG ;</code> and <code>BU_LIST_INIT(&amp;RTG.rtg_vlfree);</code> shouldn't be necessary any more. RTG is generally unused.<br>
* There are a lot of lines which contain only spaces in bn_vlist.c. An empty line shouldn't contain additional spaces. There is an option in Visual Studio to visualize the space characters.<br>
* The source files shall end with a new-line.<br>
* One empty line between the two bn_test blocks is enough in CMakeLists.txt.</p>
</blockquote>
<p>I will fix them all thank you. but the linking error which was RTG unresolved external is fixed only by rt_g RTG; and the BU_assert error is fixed by BU_LIST_INIT(&amp;RTG.rtg_vlfree) why do you think they are not necessary? you can see in the global.h line 53 <br>
/**<br>
 * Applications that are going to use RT_ADD_VLIST and RT_GET_VLIST<br>
 * are required to execute this macro once, first:<br>
 *<br>
 * BU_LIST_INIT(&amp;RTG.rtg_vlfree);<br>
 *<br>
 * Note that RT_GET_VLIST and RT_FREE_VLIST are non-PARALLEL.<br>
 */</p>



<a name="169736999"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169736999" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169736999">(Jul 05 2019 at 21:33)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  <span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  sorry I couldn't do anything today because I was up all day to change my sleeping schedule for the exam apparently exams in the university are done in the day period. <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="169773589"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169773589" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169773589">(Jul 06 2019 at 16:41)</a>:</h4>
<blockquote>
<p>I will fix them all thank you. but the linking error which was RTG unresolved external is fixed only by rt_g RTG; and the BU_assert error is fixed by BU_LIST_INIT(&amp;RTG.rtg_vlfree) why do you think they are not necessary? you can see in the global.h line 53 <br>
/**</p>
<ul>
<li>Applications that are going to use RT_ADD_VLIST and RT_GET_VLIST</li>
<li>
<p>are required to execute this macro once, first:<br>
 *</p>
</li>
<li>
<p>BU_LIST_INIT(&amp;RTG.rtg_vlfree);<br>
 *</p>
</li>
<li>
<p>Note that RT_GET_VLIST and RT_FREE_VLIST are non-PARALLEL.<br>
 */</p>
</li>
</ul>
</blockquote>
<p>Use BU_ADD_VLIST and BU_GET_VLIST <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="169787120"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169787120" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169787120">(Jul 06 2019 at 23:42)</a>:</h4>
<p>I think it's not possible without rt_g RTG;  because you can see that it is capsulated in RT_ADD_VLIST<br>
<a href="/user_uploads/1549/-jNfdTO3hj-JBynDqr4I1pTN/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/-jNfdTO3hj-JBynDqr4I1pTN/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/-jNfdTO3hj-JBynDqr4I1pTN/pasted_image.png"></a></div>



<a name="169787163"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169787163" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169787163">(Jul 06 2019 at 23:42)</a>:</h4>
<p>in this case we can delete BU_LIST_INIT(&amp;RTG.rtg_vlfree);</p>



<a name="169787299"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169787299" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169787299">(Jul 06 2019 at 23:47)</a>:</h4>
<p><a href="user_uploads/1549/BgqWgNP-9rjHNjazCU8xZAls/annot.c.patch" target="_blank" title="user_uploads/1549/BgqWgNP-9rjHNjazCU8xZAls/annot.c.patch">annot.c.patch</a><br>
I made this first approach to the position problem It is not correct and it is not working but this the type of solution I am thinking of, what do you say? and this works for the bottom right only in case of  center I think the dimensions of all the label should be calculated</p>



<a name="169787406"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169787406" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169787406">(Jul 06 2019 at 23:50)</a>:</h4>
<p>all this logic will exist in a separate function and it will be called here in ant_to_vlist before calling  seg_to_vlist, or you think we can put it in seg_to_vlist after the segment is determined as a text segment and modify the ref_point there?</p>



<a name="169787576"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169787576" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169787576">(Jul 06 2019 at 23:56)</a>:</h4>
<p>and I have something to ask about  BU_STR_EQUAL is not giving the expected results I can see while debugging that both strings are the same but it returns 0 I don't know why. any Idea?</p>



<a name="169820257"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169820257" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169820257">(Jul 07 2019 at 17:56)</a>:</h4>
<blockquote>
<p>in this case we can delete BU_LIST_INIT(&amp;RTG.rtg_vlfree);</p>
</blockquote>
<p>What do you want to say here? You have to use RTG but uninitialized?</p>



<a name="169820325"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169820325" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169820325">(Jul 07 2019 at 17:58)</a>:</h4>
<p>What's the problem with a <code>BU_LIST_INIT(&amp;vlfree);</code> and then <code>BU_ADD_VLIST(&amp;vlfree, &amp;head, ptzero, BN_VLIST_LINE_MOVE);</code>?</p>



<a name="169820989"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169820989" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169820989">(Jul 07 2019 at 18:21)</a>:</h4>
<blockquote>
<p>and I have something to ask about  BU_STR_EQUAL is not giving the expected results I can see while debugging that both strings are the same but it returns 0 I don't know why. any Idea?</p>
</blockquote>
<p>shouldn't rel_pos be of type char* ? And <code>BU_STR_EQUAL(rel_pos, "bottom right")</code>?</p>



<a name="169821058"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169821058" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169821058">(Jul 07 2019 at 18:23)</a>:</h4>
<p>But, why don't you check tsg-&gt;pt_rel_pos directly?</p>



<a name="169821116"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169821116" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169821116">(Jul 07 2019 at 18:24)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/BgqWgNP-9rjHNjazCU8xZAls/annot.c.patch" target="_blank" title="annot.c.patch">annot.c.patch</a><br>
I made this first approach to the position problem It is not correct and it is not working but this the type of solution I am thinking of, what do you say? and this works for the bottom right only in case of  center I think the dimensions of all the label should be calculated</p>
</blockquote>
<p>Your patch contains a lot of lines where you changed the white spaces only. This makes it hard to read.</p>



<a name="169830361"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169830361" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169830361">(Jul 07 2019 at 23:14)</a>:</h4>
<p><a href="/user_uploads/1549/5QATmtqwzpteLw8VXvB79ZsT/annot1.c.patch" target="_blank" title="annot1.c.patch">annot1.c.patch</a> <br>
this one works and get the wanted result and works for the capital and lower case letters</p>



<a name="169910032"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/169910032" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#169910032">(Jul 08 2019 at 22:32)</a>:</h4>
<p><a href="/user_uploads/1549/jF9EYknnEHLAtkMMNt4hpgdD/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
this is the bottom left case I don't see the need for these positions but what you think we should do in this case</p>
<div class="message_inline_image"><a href="/user_uploads/1549/jF9EYknnEHLAtkMMNt4hpgdD/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/jF9EYknnEHLAtkMMNt4hpgdD/pasted_image.png"></a></div>



<a name="170418148"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170418148" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170418148">(Jul 09 2019 at 02:14)</a>:</h4>
<p>Looks like top right to me?</p>



<a name="170495717"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170495717" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170495717">(Jul 09 2019 at 22:30)</a>:</h4>
<p>the whole text is on the left of the reference point and the bottom of it</p>



<a name="170497311"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170497311" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170497311">(Jul 09 2019 at 22:56)</a>:</h4>
<p><a href="/user_uploads/1549/8c25SzwWwu1GOk6QkcNtiELd/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/8c25SzwWwu1GOk6QkcNtiELd/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/8c25SzwWwu1GOk6QkcNtiELd/pasted_image.png"></a></div>



<a name="170651505"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170651505" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170651505">(Jul 11 2019 at 17:00)</a>:</h4>
<p>sorry I didn't do anything in the past two days because of the exam on the 9th and yesterday I was sick</p>



<a name="170651552"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170651552" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170651552">(Jul 11 2019 at 17:01)</a>:</h4>
<p><a href="/user_uploads/1549/sHRNeAmtb1CJaCrB_7vwq13_/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
what do you think about this for the bottom left?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/sHRNeAmtb1CJaCrB_7vwq13_/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/sHRNeAmtb1CJaCrB_7vwq13_/pasted_image.png"></a></div>



<a name="170651668"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170651668" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170651668">(Jul 11 2019 at 17:02)</a>:</h4>
<p><span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span></p>



<a name="170652714"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170652714" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170652714">(Jul 11 2019 at 17:14)</a>:</h4>
<p><a href="/user_uploads/1549/GDIM-3BDL9oBRRTgJ1YmRC7d/annotpostion.c.patch" target="_blank" title="annotpostion.c.patch">annotpostion.c.patch</a></p>



<a name="170652773"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170652773" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170652773">(Jul 11 2019 at 17:15)</a>:</h4>
<p>I remember these position flags different, but I have to check. Maybe <span class="user-mention" data-user-id="103555">@Shubham Rathore</span> knows more. (He should ;)</p>



<a name="170652879"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170652879" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170652879">(Jul 11 2019 at 17:16)</a>:</h4>
<p>I made a function to calculate the length of the label you can see it in the patch</p>



<a name="170652903"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170652903" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170652903">(Jul 11 2019 at 17:17)</a>:</h4>
<p>I will try to finish all the cases today and start cleaning the patch</p>



<a name="170653014"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170653014" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170653014">(Jul 11 2019 at 17:18)</a>:</h4>
<p><a href="/user_uploads/1549/ljkWF5XYEBg9vqjtttzNykab/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/ljkWF5XYEBg9vqjtttzNykab/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/ljkWF5XYEBg9vqjtttzNykab/pasted_image.png"></a></div>



<a name="170717884"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170717884" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham Rathore <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170717884">(Jul 12 2019 at 12:37)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span>  from what I understood, you don't see the need of the placement flags  here ! ....Okay, so first of all, we are currently only dealing with simple leader lines. The flags indicate the position wrt to the ref_point, and do not portray a greater significance here, but have you thought of annotation types other than the leader lines ?  For eg. linear dimensions ? I'll attach something that I found on AutoCAD wiki for you to understand. <a href="/user_uploads/1549/CiBenSA3GjGG2770g2_B0xp_/POS_TEXT.png" target="_blank" title="POS_TEXT.png">POS_TEXT.png</a> <br>
You can assume the ref_point to be the centre of the line. The significance of position can clearly be seen here. :)</p>
<div class="message_inline_image"><a href="/user_uploads/1549/CiBenSA3GjGG2770g2_B0xp_/POS_TEXT.png" target="_blank" title="POS_TEXT.png"><img src="/user_uploads/1549/CiBenSA3GjGG2770g2_B0xp_/POS_TEXT.png"></a></div><p>P.S. : Please read the TODO from line 1669 onwards, you'll come to know more about the types of annotations and text properties.</p>



<a name="170718433"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170718433" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170718433">(Jul 12 2019 at 12:46)</a>:</h4>
<p>Thank you very much i didn't mean no need to position flag i meant no need to buttom left in the case i showed in the picture</p>



<a name="170719146"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170719146" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170719146">(Jul 12 2019 at 12:57)</a>:</h4>
<p>What do you think about the results and the  patch ? <span class="user-mention" data-user-id="103555">@Shubham Rathore</span></p>



<a name="170744571"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170744571" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170744571">(Jul 12 2019 at 18:30)</a>:</h4>
<p><a href="/user_uploads/1549/86MeVFNvSbi_0rQ3TYTmHplk/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  <br>
<span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  <span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  what do you think ?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/86MeVFNvSbi_0rQ3TYTmHplk/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/86MeVFNvSbi_0rQ3TYTmHplk/pasted_image.png"></a></div>



<a name="170744859"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170744859" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170744859">(Jul 12 2019 at 18:33)</a>:</h4>
<p><a href="/user_uploads/1549/nvRNNb9lZYlm1ODuQz3ZjD5s/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/nvRNNb9lZYlm1ODuQz3ZjD5s/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/nvRNNb9lZYlm1ODuQz3ZjD5s/pasted_image.png"></a></div>



<a name="170746845"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170746845" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170746845">(Jul 12 2019 at 18:57)</a>:</h4>
<p><a href="/user_uploads/1549/SjhdGMrQPXgXmMTLU7wKcZcM/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/SjhdGMrQPXgXmMTLU7wKcZcM/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/SjhdGMrQPXgXmMTLU7wKcZcM/pasted_image.png"></a></div>



<a name="170747117"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170747117" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170747117">(Jul 12 2019 at 19:02)</a>:</h4>
<p>In principle it looks good, but I still think that the position flag refers to a point of the label because this flag is a property of the label. I.e., bottom means that the reference point given in the label's text structure is at the bottom of the text, etc.</p>
<p>It isn't even required that a line goes to this point. This is only how the annot command does it. Any other sequence of lines, arcs, texts, etc. would be possible too.</p>



<a name="170805685"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170805685" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170805685">(Jul 13 2019 at 21:21)</a>:</h4>
<p><a href="/user_uploads/1549/b1SCZjnvweGABqEfPV4M2Tp0/annot.c.patch" target="_blank" title="annot.c.patch">annot.c.patch</a> <br>
this is the patch is it good for submit ?</p>



<a name="170805737"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170805737" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170805737">(Jul 13 2019 at 21:23)</a>:</h4>
<blockquote>
<p>In principle it looks good, but I still think that the position flag refers to a point of the label because this flag is a property of the label. I.e., bottom means that the reference point given in the label's text structure is at the bottom of the text, etc.</p>
<p>It isn't even required that a line goes to this point. This is only how the annot command does it. Any other sequence of lines, arcs, texts, etc. would be possible too.</p>
</blockquote>
<p>maybe this will be in the case of other types of annotations like dimension line, but this is a point attached to the label which is the ref_pt</p>



<a name="170810412"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170810412" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170810412">(Jul 14 2019 at 00:07)</a>:</h4>
<p><a href="/user_uploads/1549/Ro9h76iiI7IC7pMOAwHmozp2/tests2.patch" target="_blank" title="tests2.patch">tests2.patch</a> <br>
this is final for the test program</p>



<a name="170852432"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170852432" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170852432">(Jul 14 2019 at 22:45)</a>:</h4>
<p><a href="/user_uploads/1549/QBtTa4dlAvUycbSFkpOTI_18/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  you can notice here that the long annotation can't be shown even when zooming because the annotation doesn't undergo zooming do we consider this as a bug?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/QBtTa4dlAvUycbSFkpOTI_18/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/QBtTa4dlAvUycbSFkpOTI_18/pasted_image.png"></a></div>



<a name="170852476"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170852476" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170852476">(Jul 14 2019 at 22:46)</a>:</h4>
<p>I put the long label between ""quotation marks is this a good behavior?</p>



<a name="170853491"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170853491" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170853491">(Jul 14 2019 at 23:20)</a>:</h4>
<p>I think it should be a way to resize the label text individually ?</p>



<a name="170944911"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170944911" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170944911">(Jul 16 2019 at 00:48)</a>:</h4>
<p><a href="/user_uploads/1549/LbNtoSKweOzlCADsh7q9gkXA/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
I tried this approach for the dimension line still needs to work on a lot of things like the text. new in function and new list for input but the same annotation primitive. <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span></p>
<div class="message_inline_image"><a href="/user_uploads/1549/LbNtoSKweOzlCADsh7q9gkXA/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/LbNtoSKweOzlCADsh7q9gkXA/pasted_image.png"></a></div>



<a name="170945026"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/170945026" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#170945026">(Jul 16 2019 at 00:50)</a>:</h4>
<p>what do you think?</p>



<a name="171013953"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171013953" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171013953">(Jul 16 2019 at 18:31)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/b1SCZjnvweGABqEfPV4M2Tp0/annot.c.patch" target="_blank" title="annot.c.patch">annot.c.patch</a> <br>
this is the patch is it good for submit ?</p>
</blockquote>
<p>Is it? How about the indents?</p>



<a name="171017380"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171017380" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171017380">(Jul 16 2019 at 19:08)</a>:</h4>
<blockquote>
<blockquote>
<p>In principle it looks good, but I still think that the position flag refers to a point of the label because this flag is a property of the label. I.e., bottom means that the reference point given in the label's text structure is at the bottom of the text, etc.</p>
<p>It isn't even required that a line goes to this point. This is only how the annot command does it. Any other sequence of lines, arcs, texts, etc. would be possible too.</p>
</blockquote>
<p>maybe this will be in the case of other types of annotations like dimension line, but this is a point attached to the label which is the ref_pt</p>
</blockquote>
<p>The position flag has nothing to do with the leader line etc.. It is a property of the txt_seg structure and has to be understood in this context. I.e., there is a text, a reference point, and the position of the reference point pt_rel_pos: <a href="/user_uploads/1549/YMiI3WWEU3v4sLlkeopz5Nts/label.png" target="_blank" title="label.png">label.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/YMiI3WWEU3v4sLlkeopz5Nts/label.png" target="_blank" title="label.png"><img src="/user_uploads/1549/YMiI3WWEU3v4sLlkeopz5Nts/label.png"></a></div>



<a name="171017436"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171017436" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171017436">(Jul 16 2019 at 19:08)</a>:</h4>
<p>How would you describe them?</p>



<a name="171018964"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171018964" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171018964">(Jul 16 2019 at 19:27)</a>:</h4>
<blockquote>
<p>what do you think?</p>
</blockquote>
<p>It looks good, but it won't work, because the line had to be in model space and its label in display space. (Try to create a dimension line to an arb8.)</p>



<a name="171203998"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171203998" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171203998">(Jul 18 2019 at 19:59)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> Are you making progress? You haven't updated your development log since almost 2 weeks, and the next evaluation is close.</p>



<a name="171324712"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171324712" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171324712">(Jul 20 2019 at 11:59)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  sorry I had minor surgery I couldn't do anything.</p>



<a name="171324880"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171324880" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171324880">(Jul 20 2019 at 12:04)</a>:</h4>
<blockquote>
<blockquote>
<blockquote>
<p>In principle it looks good, but I still think that the position flag refers to a point of the label because this flag is a property of the label. I.e., bottom means that the reference point given in the label's text structure is at the bottom of the text, etc.</p>
<p>It isn't even required that a line goes to this point. This is only how the annot command does it. Any other sequence of lines, arcs, texts, etc. would be possible too.</p>
</blockquote>
<p>maybe this will be in the case of other types of annotations like dimension line, but this is a point attached to the label which is the ref_pt</p>
</blockquote>
<p>The position flag has nothing to do with the leader line etc.. It is a property of the txt_seg structure and has to be understood in this context. I.e., there is a text, a reference point, and the position of the reference point pt_rel_pos: <a href="/user_uploads/1549/YMiI3WWEU3v4sLlkeopz5Nts/label.png" target="_blank" title="label.png">label.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/YMiI3WWEU3v4sLlkeopz5Nts/label.png" target="_blank" title="label.png"><img src="/user_uploads/1549/YMiI3WWEU3v4sLlkeopz5Nts/label.png"></a></div></blockquote>
<p>in the case of regular annotation, it happens to be the text placement point is the endpoint of the leader line what you suggest ? adding another point to the annotation in the (in) function and change the ref_pt number in the VL ?</p>



<a name="171324990"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171324990" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171324990">(Jul 20 2019 at 12:08)</a>:</h4>
<blockquote>
<blockquote>
<p><a href="/user_uploads/1549/b1SCZjnvweGABqEfPV4M2Tp0/annot.c.patch" target="_blank" title="annot.c.patch">annot.c.patch</a> <br>
this is the patch is it good for submit ?</p>
</blockquote>
<p>Is it? How about the indents?</p>
</blockquote>
<p>I am sorry for this mistake I fell stupid because of the indents in the hacking file there are recommendations but it is not the same in the code as you can see it recommends inside the for loop a tab and two spaces <a href="/user_uploads/1549/y91DilTFNKQmLYZUtK2jWJZP/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/y91DilTFNKQmLYZUtK2jWJZP/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/y91DilTFNKQmLYZUtK2jWJZP/pasted_image.png"></a></div>



<a name="171325647"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171325647" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171325647">(Jul 20 2019 at 12:29)</a>:</h4>
<p><a href="/user_uploads/1549/BAiSbC9S-atB4ww6oEb3KrHF/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  this what I did which is the same in make.c file</p>
<div class="message_inline_image"><a href="/user_uploads/1549/BAiSbC9S-atB4ww6oEb3KrHF/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/BAiSbC9S-atB4ww6oEb3KrHF/pasted_image.png"></a></div>



<a name="171325754"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171325754" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171325754">(Jul 20 2019 at 12:32)</a>:</h4>
<p><a href="/user_uploads/1549/MfC9jiI1QS0fSObJ8cVPFUjv/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  this from make.c</p>
<div class="message_inline_image"><a href="/user_uploads/1549/MfC9jiI1QS0fSObJ8cVPFUjv/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/MfC9jiI1QS0fSObJ8cVPFUjv/pasted_image.png"></a></div>



<a name="171327187"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171327187" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171327187">(Jul 20 2019 at 13:17)</a>:</h4>
<p>(deleted)</p>



<a name="171327299"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171327299" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171327299">(Jul 20 2019 at 13:20)</a>:</h4>
<p><a href="/user_uploads/1549/9gA7TsLM3BF-dAljSTu8dp4M/annot4.c.patch" target="_blank" title="annot4.c.patch">annot4.c.patch</a>  I hope this is better <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span></p>



<a name="171327498"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171327498" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171327498">(Jul 20 2019 at 13:27)</a>:</h4>
<blockquote>
<blockquote>
<p>what do you think?</p>
</blockquote>
<p>It looks good, but it won't work, because the line had to be in model space and its label in display space. (Try to create a dimension line to an arb8.)</p>
</blockquote>
<p>what you suggest in this case ? we need a new primitive for the dimension line? or we put the line in separate vlist with another projection matrix ?</p>



<a name="171329814"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171329814" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171329814">(Jul 20 2019 at 14:36)</a>:</h4>
<p><a href="/user_uploads/1549/96FMwOemWDt4sjHVFZrinjnu/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
this what results for the arb</p>
<div class="message_inline_image"><a href="/user_uploads/1549/96FMwOemWDt4sjHVFZrinjnu/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/96FMwOemWDt4sjHVFZrinjnu/pasted_image.png"></a></div>



<a name="171329825"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171329825" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171329825">(Jul 20 2019 at 14:37)</a>:</h4>
<p>when zooming its ruined</p>



<a name="171332866"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171332866" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171332866">(Jul 20 2019 at 16:06)</a>:</h4>
<p><a href="/user_uploads/1549/MpxsgRehKUgWdHpT07KzBvzd/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  the line works when I set the model matrix to vlist in ant_to_vlist, so now the problem is to separate the text and the line and put each one with the correct matrix</p>
<div class="message_inline_image"><a href="/user_uploads/1549/MpxsgRehKUgWdHpT07KzBvzd/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/MpxsgRehKUgWdHpT07KzBvzd/pasted_image.png"></a></div>



<a name="171332955"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171332955" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171332955">(Jul 20 2019 at 16:08)</a>:</h4>
<p>another thing we will have to consider later is the function which converts the text to a vlist gives horizontal text always we want to rotate it to be parallel to the line</p>



<a name="171376235"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171376235" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171376235">(Jul 21 2019 at 15:11)</a>:</h4>
<p><a href="/user_uploads/1549/4P7tm-zWcFBQESwGRz6NIpA5/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  i could put the lines in the model space and the label in display space but  I couldn't relate them together like the real annotation with the annotated point</p>
<div class="message_inline_image"><a href="/user_uploads/1549/4P7tm-zWcFBQESwGRz6NIpA5/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/4P7tm-zWcFBQESwGRz6NIpA5/pasted_image.png"></a></div>



<a name="171376277"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171376277" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171376277">(Jul 21 2019 at 15:12)</a>:</h4>
<p><a href="/user_uploads/1549/fuEVXHOBPRVoPzE5YBJumJeW/dimentionline2.c.patch" target="_blank" title="dimentionline2.c.patch">dimentionline2.c.patch</a>  <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  this is the patch I hope you could tell me what I am doing wrong</p>



<a name="171376846"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171376846" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171376846">(Jul 21 2019 at 15:31)</a>:</h4>
<blockquote>
<blockquote>
<blockquote>
<p><a href="/user_uploads/1549/b1SCZjnvweGABqEfPV4M2Tp0/annot.c.patch" target="_blank" title="annot.c.patch">annot.c.patch</a> <br>
this is the patch is it good for submit ?</p>
</blockquote>
<p>Is it? How about the indents?</p>
</blockquote>
<p>I am sorry for this mistake I fell stupid because of the indents in the hacking file there are recommendations but it is not the same in the code as you can see it recommends inside the for loop a tab and two spaces <a href="/user_uploads/1549/y91DilTFNKQmLYZUtK2jWJZP/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/y91DilTFNKQmLYZUtK2jWJZP/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/y91DilTFNKQmLYZUtK2jWJZP/pasted_image.png"></a></div></blockquote>
<p>You can set the indentation behavior of Visual Studio in its options. There you can set the indentation size to 4 spaces, the tab size to 8 spaces, etc..</p>



<a name="171377469"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171377469" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171377469">(Jul 21 2019 at 15:50)</a>:</h4>
<blockquote>
<blockquote>
<p>The position flag has nothing to do with the leader line etc.. It is a property of the txt_seg structure and has to be understood in this context. I.e., there is a text, a reference point, and the position of the reference point pt_rel_pos: <a href="/user_uploads/1549/YMiI3WWEU3v4sLlkeopz5Nts/label.png" target="_blank" title="label.png">label.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/YMiI3WWEU3v4sLlkeopz5Nts/label.png" target="_blank" title="label.png"><img src="/user_uploads/1549/YMiI3WWEU3v4sLlkeopz5Nts/label.png"></a></div></blockquote>
<p>in the case of regular annotation, it happens to be the text placement point is the endpoint of the leader line what you suggest ? adding another point to the annotation in the (in) function and change the ref_pt number in the VL ?</p>
</blockquote>
<p>???  I'm talking about the txt_seg structure as it is. Please have a look at it include/rt/geom.h. This structure describes a text in an annotation (no leader line, arc, etc. !!!). This structure has a reference point called <code>ref_pt</code> and a flag for the relative position of this point to the text, called <code>pt_rel_pos</code>. I thought it's self-explanatory what <em>top</em>, <em>bottom</em>, <em>left</em>, <em>right</em>, etc. mean, but I posted here in addition an image with the (approximate) position of 8 of the 9 relative positions.</p>
<p>Therefore, where is the <em>top left</em> point in this image?</p>



<a name="171377543"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171377543" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171377543">(Jul 21 2019 at 15:53)</a>:</h4>
<p><a href="/user_uploads/1549/5PkjmsUCQz-DjxcBkkxnjzpU/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/5PkjmsUCQz-DjxcBkkxnjzpU/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/5PkjmsUCQz-DjxcBkkxnjzpU/pasted_image.png"></a></div>



<a name="171377602"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171377602" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171377602">(Jul 21 2019 at 15:54)</a>:</h4>
<p>in VL the ref_pt of the txtseg is 0 which is the text placement point entered by the user</p>



<a name="171377912"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171377912" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171377912">(Jul 21 2019 at 16:02)</a>:</h4>
<p>Regarding the dimension line:<br>
I "suggest" that the annotation primitive in its current state can't be used for dimension lines. Which issues does it have?</p>
<ul>
<li>A dimension line would need more than one reference point in the model space.</li>
<li>The <em>txt_seg</em> needs additional attributes, e.g. the font size or a rotation.<br>
You may find more features missing for a dimension line.</li>
</ul>



<a name="171378026"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171378026" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171378026">(Jul 21 2019 at 16:05)</a>:</h4>
<blockquote>
<p>in VL the ref_pt of the txtseg is 0 which is the text placement point entered by the user</p>
</blockquote>
<p>That's right and this is okay. My point is, that you seem to switch left with right, top with bottom. <code>pt_rel_pos</code> is a property of the text, not the line!</p>



<a name="171378083"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171378083" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171378083">(Jul 21 2019 at 16:07)</a>:</h4>
<blockquote>
<blockquote>
<p>in VL the ref_pt of the txtseg is 0 which is the text placement point entered by the user</p>
</blockquote>
<p>That's right and this is okay. My point is, that you seem to switch left with right, top with bottom. <code>pt_rel_pos</code> is a property of the text, not the line!</p>
</blockquote>
<p>okay now it is clear</p>



<a name="171378127"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171378127" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171378127">(Jul 21 2019 at 16:08)</a>:</h4>
<blockquote>
<p>Regarding the dimension line:<br>
I "suggest" that the annotation primitive in its current state can't be used for dimension lines. Which issues does it have?</p>
<ul>
<li>A dimension line would need more than one reference point in the model space.</li>
<li>The <em>txt_seg</em> needs additional attributes, e.g. the font size or a rotation.<br>
You may find more features missing for a dimension line.</li>
</ul>
</blockquote>
<p>what do you suggest? making a new primitive or make modifications on the current one?</p>



<a name="171378353"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171378353" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171378353">(Jul 21 2019 at 16:15)</a>:</h4>
<p>for the rotation, there is a rotation matrix in bn_vlist_3string() function</p>



<a name="171378730"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171378730" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171378730">(Jul 21 2019 at 16:27)</a>:</h4>
<blockquote>
<p>what do you suggest? making a new primitive or make modifications on the current one?</p>
</blockquote>
<p>I would try to modify the existing one first. I don't consider the current annotation primitive as final.</p>



<a name="171378843"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171378843" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171378843">(Jul 21 2019 at 16:30)</a>:</h4>
<blockquote>
<p>for the rotation, there is a rotation matrix in bn_vlist_3string() function</p>
</blockquote>
<p>Sounds good. Now, the txt_seg needs an additional angle attribute, and we can make up the rotation matrix.</p>



<a name="171378961"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171378961" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171378961">(Jul 21 2019 at 16:34)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/fuEVXHOBPRVoPzE5YBJumJeW/dimentionline2.c.patch" target="_blank" title="dimentionline2.c.patch">dimentionline2.c.patch</a>  <span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  this is the patch I hope you could tell me what I am doing wrong</p>
</blockquote>
<p>what do you think about this patch? i mean changing the matrix before calling seg_to_vlist for different segments</p>



<a name="171385526"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171385526" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171385526">(Jul 21 2019 at 19:54)</a>:</h4>
<p>This is based on the current state of the annotation structure and cannot work therefore. You try to guess with an unsuited criterion if it's a dimension line, but this won't help either. It won't survive zooming or rotation. This kind of "dimension line" would work even better with NMGs.</p>



<a name="171437615"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171437615" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171437615">(Jul 22 2019 at 14:56)</a>:</h4>
<p>after manipulating the projection matrix the dimension line survived the zooming and rotation but the label didn't if I add an entier annotation it may works</p>



<a name="171476467"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171476467" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171476467">(Jul 22 2019 at 23:13)</a>:</h4>
<p><a href="user_uploads/1549/Cbu8wTC0Z2YQjpxlt4UyfU4b/pasted_image.png" target="_blank" title="user_uploads/1549/Cbu8wTC0Z2YQjpxlt4UyfU4b/pasted_image.png">pasted image</a> <br>
<a href="user_uploads/1549/voEPvRQLB8Y1LepaKbhz8sly/pasted_image.png" target="_blank" title="user_uploads/1549/voEPvRQLB8Y1LepaKbhz8sly/pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="user_uploads/1549/Cbu8wTC0Z2YQjpxlt4UyfU4b/pasted_image.png" target="_blank" title="pasted image"><img src="user_uploads/1549/Cbu8wTC0Z2YQjpxlt4UyfU4b/pasted_image.png"></a></div><div class="message_inline_image"><a href="user_uploads/1549/voEPvRQLB8Y1LepaKbhz8sly/pasted_image.png" target="_blank" title="pasted image"><img src="user_uploads/1549/voEPvRQLB8Y1LepaKbhz8sly/pasted_image.png"></a></div>



<a name="171476571"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171476571" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171476571">(Jul 22 2019 at 23:15)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  now it works what do you think? we can continue with this approach and modify the text segment for size and rotation?</p>



<a name="171477422"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171477422" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171477422">(Jul 22 2019 at 23:32)</a>:</h4>
<p><span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  Mr. Shubham what do you think for this kind of dimension line?</p>



<a name="171477692"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171477692" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171477692">(Jul 22 2019 at 23:38)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  now it works what do you think? we can continue with this approach and modify the text segment for size and rotation?</p>
</blockquote>
<p>and for 3d solids do we need to make the dimension line in 3d space? this will require changing the verts from 2d to 3d point</p>



<a name="171478118"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171478118" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171478118">(Jul 22 2019 at 23:46)</a>:</h4>
<p><a href="/user_uploads/1549/W3xG4BaMZ9EGTBy4xQThfZyA/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  <br>
text rotated 90 degrees</p>
<div class="message_inline_image"><a href="/user_uploads/1549/W3xG4BaMZ9EGTBy4xQThfZyA/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/W3xG4BaMZ9EGTBy4xQThfZyA/pasted_image.png"></a></div>



<a name="171527927"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171527927" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171527927">(Jul 23 2019 at 15:15)</a>:</h4>
<p><a href="user_uploads/1549/JeSGJ3no_qwqMlqC44z2L9_H/pasted_image.png" target="_blank" title="user_uploads/1549/JeSGJ3no_qwqMlqC44z2L9_H/pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="user_uploads/1549/JeSGJ3no_qwqMlqC44z2L9_H/pasted_image.png" target="_blank" title="pasted image"><img src="user_uploads/1549/JeSGJ3no_qwqMlqC44z2L9_H/pasted_image.png"></a></div>



<a name="171528071"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171528071" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171528071">(Jul 23 2019 at 15:17)</a>:</h4>
<p><a href="/user_uploads/1549/DVqEhztGJ4xC_eJ8XVkHwH3r/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/DVqEhztGJ4xC_eJ8XVkHwH3r/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/DVqEhztGJ4xC_eJ8XVkHwH3r/pasted_image.png"></a></div>



<a name="171528213"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171528213" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171528213">(Jul 23 2019 at 15:18)</a>:</h4>
<p>it still needs a lot of work but what do you think?</p>



<a name="171528603"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171528603" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171528603">(Jul 23 2019 at 15:22)</a>:</h4>
<p>the text size is entered by the user and the rotation angle is calculated based on the points</p>



<a name="171559818"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171559818" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171559818">(Jul 23 2019 at 21:32)</a>:</h4>
<p>I had to look at your code and see which tricks you are doing there and how it integrates into the overall philosophy. However, it looks like you are approaching to what is needed for a dimension line.</p>



<a name="171610489"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171610489" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171610489">(Jul 24 2019 at 14:26)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  for the first problem I changed the order of converting the segments to vlist I changed the text to display space first and then I changed the lines to model space.</p>



<a name="171610662"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171610662" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171610662">(Jul 24 2019 at 14:28)</a>:</h4>
<p>for the size and rotation of the text, I changed the txt_seg struct but It still not passing the values the user inters to the data base I have to modify the export and import functions in annot.c  correct?</p>



<a name="171617613"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171617613" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171617613">(Jul 24 2019 at 15:48)</a>:</h4>
<p><a href="/user_uploads/1549/4jGt9JKPoM6lgz8hKZ0VRzbY/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  I have modified the import and export functions to count for new attributes but when I call get It dosn't print the label or the rotation angle on mged command line window</p>
<div class="message_inline_image"><a href="/user_uploads/1549/4jGt9JKPoM6lgz8hKZ0VRzbY/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/4jGt9JKPoM6lgz8hKZ0VRzbY/pasted_image.png"></a></div>



<a name="171617803"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171617803" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171617803">(Jul 24 2019 at 15:50)</a>:</h4>
<p>I will send you a patch but it needs some time because the working version had a lot of changes from previous patches I will download a new one</p>



<a name="171721492"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171721492" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171721492">(Jul 25 2019 at 19:47)</a>:</h4>
<p><a href="/user_uploads/1549/SCbb6V1HJKdd78VjPtDaKjOB/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
<span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  now the import and export is correct but I have this problem in the label</p>
<div class="message_inline_image"><a href="/user_uploads/1549/SCbb6V1HJKdd78VjPtDaKjOB/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/SCbb6V1HJKdd78VjPtDaKjOB/pasted_image.png"></a></div>



<a name="171721610"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171721610" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171721610">(Jul 25 2019 at 19:49)</a>:</h4>
<p><a href="/user_uploads/1549/GPHJAhg00WU7NgnGaeXneHTU/dimensionline.patch" target="_blank" title="dimensionline.patch">dimensionline.patch</a>  this is the patch, it needs a lot of changes to be more dynamic, what do you think about the approach?</p>



<a name="171722406"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171722406" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171722406">(Jul 25 2019 at 19:58)</a>:</h4>
<p><span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  Mr. Shubham do you have an Idea why the label value is printed as result of get command in the second case but not in the annotDL case in the previous picture.</p>



<a name="171723294"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171723294" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171723294">(Jul 25 2019 at 20:11)</a>:</h4>
<p><a href="/user_uploads/1549/pprPnn-sRSTZZLjPIWMftweu/dimensionline1.patch" target="_blank" title="dimensionline1.patch">dimensionline1.patch</a> <br>
forget the first one see this</p>



<a name="171723433"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171723433" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171723433">(Jul 25 2019 at 20:13)</a>:</h4>
<p>I think there is a better way to distinguish the regular annotation from the dimension line in the function ant_to_vlist() I considered the segments count as a start.</p>



<a name="171781704"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171781704" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171781704">(Jul 26 2019 at 15:09)</a>:</h4>
<p>for making a dimension line  for a 3d object what do you think about changing  the verts in rt_annot_internal to 3d point which will work because the lines are in the model space already</p>



<a name="171797388"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171797388" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171797388">(Jul 26 2019 at 18:21)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/pprPnn-sRSTZZLjPIWMftweu/dimensionline1.patch" target="_blank" title="dimensionline1.patch">dimensionline1.patch</a> <br>
forget the first one see this</p>
</blockquote>
<p>As you are already afraid, the current dimension line implementation has no chance to get accepted. But, it contains some useful thoughts. Especially your extensions for the txt_seg struct is something which I would like to see as an own patch.</p>
<p>However, you should work first on your previous patch (consideration of the location of the txt_seg reference point) and polish it such that it can be committed to our repository.</p>
<p>And, I found another bug in the annotation primitive: Sometimes the <code>l</code> command doesn't show the text ("Label text"). It seems to not being really consistent, but mostly the short texts are shown but not the long ones.</p>
<p>If you manage to fix the issues, including the txt_seg struct extensions, it would be a good base for a successful conclusion of your project.</p>



<a name="171798767"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171798767" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171798767">(Jul 26 2019 at 18:32)</a>:</h4>
<p>thank you for the feedback I will work on it, but could you tell me why this approach is not correct for the dimension line?</p>



<a name="171799139"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171799139" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171799139">(Jul 26 2019 at 18:37)</a>:</h4>
<blockquote>
<p>for making a dimension line  for a 3d object what do you think about changing  the verts in rt_annot_internal to 3d point which will work because the lines are in the model space already</p>
</blockquote>
<p>I thought about adding a distinct member for 3D points to rt_annot_internal, e.g. like <code>point3d_t *verts3d;</code> and using these if a vertex with a negative index is requested (i.e. transforming this point to the 2D "paper" space and using this in the vlist then). But, I don't think that this will be enough to create nice dimension lines. Or?</p>



<a name="171967270"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171967270" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171967270">(Jul 29 2019 at 17:42)</a>:</h4>
<p><a href="/user_uploads/1549/cPAFLCNlVGwQBhuYCVugWjVD/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
this is the result of position adjustment</p>
<div class="message_inline_image"><a href="/user_uploads/1549/cPAFLCNlVGwQBhuYCVugWjVD/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/cPAFLCNlVGwQBhuYCVugWjVD/pasted_image.png"></a></div>



<a name="171968032"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171968032" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171968032">(Jul 29 2019 at 17:51)</a>:</h4>
<p><a href="/user_uploads/1549/oe_BLFYGiWvJTaxRp-urQ66L/annotpos.c.patch" target="_blank" title="annotpos.c.patch">annotpos.c.patch</a>  and this is the patch.</p>



<a name="171968931"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171968931" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171968931">(Jul 29 2019 at 18:00)</a>:</h4>
<p>I will work now on extending the text segment. but can you look at the position patch before if we can commit it first because there will be changes in calling the function bn_vlist_2string() when we add the size and rotation angle</p>



<a name="171972809"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/171972809" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#171972809">(Jul 29 2019 at 18:48)</a>:</h4>
<p>In general it looks good, but the compilation fails: ant_pos_adjs() is used before it's declared.</p>



<a name="172050173"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172050173" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172050173">(Jul 30 2019 at 15:50)</a>:</h4>
<p><a href="/user_uploads/1549/X_nb2i0oEhKFgWVVu85OUx00/annotpos2.c.patch" target="_blank" title="annotpos2.c.patch">annotpos2.c.patch</a>  sorry this is because I used visual studio and it doesn't consider this as an error, this is fixed</p>



<a name="172084653"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172084653" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172084653">(Jul 30 2019 at 23:12)</a>:</h4>
<p><a href="/user_uploads/1549/MQ7B7ff0v10ZhYxDjC_whip1/txt1.patch" target="_blank" title="txt1.patch">txt1.patch</a>  <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  this for the text segment</p>



<a name="172084836"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172084836" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172084836">(Jul 30 2019 at 23:17)</a>:</h4>
<p><a href="/user_uploads/1549/YnMCYPv3YQrFyZL9R8w_96aI/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  I couldn't reproduce the L command bug even with the long label.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/YnMCYPv3YQrFyZL9R8w_96aI/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/YnMCYPv3YQrFyZL9R8w_96aI/pasted_image.png"></a></div>



<a name="172118587"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172118587" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172118587">(Jul 31 2019 at 11:27)</a>:</h4>
<p>but it is obvious that it needs changes to count for the new text segment parameters</p>



<a name="172138185"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172138185" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172138185">(Jul 31 2019 at 15:37)</a>:</h4>
<blockquote>
<p>I thought about adding a distinct member for 3D points to rt_annot_internal, e.g. like <code>point3d_t *verts3d;</code> and using these if a vertex with a negative index is requested (i.e. transforming this point to the 2D "paper" space and using this in the vlist then). But, I don't think that this will be enough to create nice dimension lines. Or?</p>
</blockquote>
<p>I think this can be done but can you explain more what do you mean by negative index?</p>



<a name="172149335"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172149335" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172149335">(Jul 31 2019 at 17:55)</a>:</h4>
<p>The points are referenced with integer numbers in the segments. For example, the line has two integers pointing to its start and end point. Well, an integer could be negative ...</p>



<a name="172149690"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172149690" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172149690">(Jul 31 2019 at 17:59)</a>:</h4>
<p>BTW, I'm a bit handicapped these days. I hope I can go back to normality tomorrow.</p>



<a name="172179987"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172179987" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172179987">(Aug 01 2019 at 00:40)</a>:</h4>
<blockquote>
<p>BTW, I'm a bit handicapped these days. I hope I can go back to normality tomorrow.</p>
</blockquote>
<p>I hope you feel better. <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="172245211"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172245211" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172245211">(Aug 01 2019 at 18:11)</a>:</h4>
<blockquote>
<blockquote>
<p>BTW, I'm a bit handicapped these days. I hope I can go back to normality tomorrow.</p>
</blockquote>
<p>I hope you feel better. <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>
</blockquote>
<p>It was not his kind of handicap. The electric power company removed the connecting cables from my house before the new connection was established. Nobody told me about it in advance. I was completely caught by surprise. Now, after two days without electricity, the new connection is there.</p>



<a name="172248360"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172248360" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172248360">(Aug 01 2019 at 18:40)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/X_nb2i0oEhKFgWVVu85OUx00/annotpos2.c.patch" target="_blank" title="annotpos2.c.patch">annotpos2.c.patch</a>  sorry this is because I used visual studio and it doesn't consider this as an error, this is fixed</p>
</blockquote>
<p>Okay, next gcc build error:</p>
<div class="codehilite"><pre><span></span>/home/rossberg/Devel/BRL-CAD/GSoC/src/librt/primitives/annot/annot.c: In function ‘ant_pos_adjs’:
/home/rossberg/Devel/BRL-CAD/GSoC/src/librt/primitives/annot/annot.c:175:5: error: ISO C90 forbids mixed declarations and code [-Werror=declaration-after-statement]
     fastf_t lenght = 0;
     ^~~~~~~
/home/rossberg/Devel/BRL-CAD/GSoC/src/librt/primitives/annot/annot.c:173:14: error: unused variable ‘temp’ [-Werror=unused-variable]
     hpoint_t temp = HINIT_ZERO;
              ^~~~
cc1: all warnings being treated as errors
make[2]: *** [src/librt/CMakeFiles/librt-obj.dir/build.make:700: src/librt/CMakeFiles/librt-obj.dir/primitives/annot/annot.c.o] Fehler 1
make[1]: *** [CMakeFiles/Makefile2:15482: src/librt/CMakeFiles/librt-obj.dir/all] Fehler 2
make: *** [Makefile:163: all] Fehler 2
</pre></div>



<a name="172253562"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172253562" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172253562">(Aug 01 2019 at 19:33)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/MQ7B7ff0v10ZhYxDjC_whip1/txt1.patch" target="_blank" title="txt1.patch">txt1.patch</a>  <span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  this for the text segment</p>
</blockquote>
<p>At the first sight, it looks good. But, it can't handle files with the old format (without the size and angle attribute for the text segments). Is it possible to make it compatible?</p>



<a name="172254868"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172254868" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172254868">(Aug 01 2019 at 19:52)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/YnMCYPv3YQrFyZL9R8w_96aI/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  I couldn't reproduce the L command bug even with the long label.</p>
</blockquote>
<p>This is a file where I observed the odd behavior: <a href="/user_uploads/1549/CS5lvoUZte-RFBzryDLIv3Rz/l_annot.g" target="_blank" title="l_annot.g">l_annot.g</a> <br>
an0.a is okay, an1.a is not.</p>



<a name="172323991"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172323991" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172323991">(Aug 02 2019 at 16:50)</a>:</h4>
<p>I compiled it on gcc <a href="/user_uploads/1549/ihuhyRZyuaJwpXi2Tmair0eL/antpos.diff" target="_blank" title="antpos.diff">antpos.diff</a></p>



<a name="172325973"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172325973" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172325973">(Aug 02 2019 at 17:18)</a>:</h4>
<blockquote>
<blockquote>
<p><a href="/user_uploads/1549/MQ7B7ff0v10ZhYxDjC_whip1/txt1.patch" target="_blank" title="txt1.patch">txt1.patch</a>  <span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  this for the text segment</p>
</blockquote>
<p>At the first sight, it looks good. But, it can't handle files with the old format (without the size and angle attribute for the text segments). Is it possible to make it compatible?</p>
</blockquote>
<p><a href="/user_uploads/1549/M75b6dWPLmEEeRplFoG8CZgl/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
this is what happens when you call the get command on the old version of the annotation I am working on it</p>
<div class="message_inline_image"><a href="/user_uploads/1549/M75b6dWPLmEEeRplFoG8CZgl/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/M75b6dWPLmEEeRplFoG8CZgl/pasted_image.png"></a></div>



<a name="172410873"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172410873" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172410873">(Aug 03 2019 at 15:38)</a>:</h4>
<blockquote>
<p>I compiled it on gcc <a href="/user_uploads/1549/ihuhyRZyuaJwpXi2Tmair0eL/antpos.diff" target="_blank" title="antpos.diff">antpos.diff</a></p>
</blockquote>
<p>Hmm, this looks a bit odd: <a href="/user_uploads/1549/fNiEi910fjU595SZyyUjrL3o/annot_pos.g" target="_blank" title="annot_pos.g">annot_pos.g</a></p>



<a name="172410955"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172410955" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172410955">(Aug 03 2019 at 15:41)</a>:</h4>
<p>Nevertheless, you should work on the patches on sourceforge. The test function is still open there, and for the annotation position you should open a patch ticket there too.</p>



<a name="172415407"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172415407" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172415407">(Aug 03 2019 at 17:59)</a>:</h4>
<p>(deleted)</p>



<a name="172417408"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172417408" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172417408">(Aug 03 2019 at 19:02)</a>:</h4>
<blockquote>
<p>Nevertheless, you should work on the patches on sourceforge. The test function is still open there, and for the annotation position you should open a patch ticket there too.</p>
</blockquote>
<p>sorry I usually get an email from SourceForge when you replay this time I didn't</p>



<a name="172417419"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172417419" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172417419">(Aug 03 2019 at 19:03)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <a href="/user_uploads/1549/3-RNH6k4HoG0CXHpV2X1xs20/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
It will not work without the rt_g what is wrong with using it ?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/3-RNH6k4HoG0CXHpV2X1xs20/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/3-RNH6k4HoG0CXHpV2X1xs20/pasted_image.png"></a></div>



<a name="172418328"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172418328" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172418328">(Aug 03 2019 at 19:30)</a>:</h4>
<blockquote>
<blockquote>
<p>I compiled it on gcc <a href="/user_uploads/1549/ihuhyRZyuaJwpXi2Tmair0eL/antpos.diff" target="_blank" title="antpos.diff">antpos.diff</a></p>
</blockquote>
<p>Hmm, this looks a bit odd: <a href="/user_uploads/1549/fNiEi910fjU595SZyyUjrL3o/annot_pos.g" target="_blank" title="annot_pos.g">annot_pos.g</a></p>
</blockquote>
<p><a href="user_uploads/1549/yVC4BnErQ8Ox4uf2MEEwu4qz/pasted_image.png" target="_blank" title="user_uploads/1549/yVC4BnErQ8Ox4uf2MEEwu4qz/pasted_image.png">pasted image</a>  this what is wrong with bottom left that you made you wrot bottom left but as you can see by get command it is top left I am working on the top right</p>
<div class="message_inline_image"><a href="user_uploads/1549/yVC4BnErQ8Ox4uf2MEEwu4qz/pasted_image.png" target="_blank" title="pasted image"><img src="user_uploads/1549/yVC4BnErQ8Ox4uf2MEEwu4qz/pasted_image.png"></a></div>



<a name="172419711"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172419711" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172419711">(Aug 03 2019 at 20:14)</a>:</h4>
<p>I fixed the second one also and created a ticket on SourceForge.</p>



<a name="172421559"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172421559" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172421559">(Aug 03 2019 at 21:14)</a>:</h4>
<blockquote>
<blockquote>
<p><a href="/user_uploads/1549/MQ7B7ff0v10ZhYxDjC_whip1/txt1.patch" target="_blank" title="txt1.patch">txt1.patch</a>  <span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span>  this for the text segment</p>
</blockquote>
<p>At the first sight, it looks good. But, it can't handle files with the old format (without the size and angle attribute for the text segments). Is it possible to make it compatible?</p>
</blockquote>
<p>the problem of compatibility is in importing function but when I fixed it ruined the new ones I think it doesn't worth it to make it compatible with the previous txt_seg what do you think?</p>



<a name="172451315"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172451315" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172451315">(Aug 04 2019 at 14:18)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> <a href="/user_uploads/1549/3-RNH6k4HoG0CXHpV2X1xs20/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
It will not work without the rt_g what is wrong with using it ?</p>
</blockquote>
<p>It's wrong, because librt is build on top of libbn, and a library should work without the necessity to use something above it where it shouldn't even know about.<br>
And, you do not need rt_g but rt_g.rtg_vlfree, which is a struct bu_list.</p>
<div class="codehilite"><pre><span></span>int
vlist_main(int argc, char* argv[])
{
    point_t ptzero = VINIT_ZERO;
    struct bu_list head;
    struct bu_list vlfree;
    int cmd_cnt_length = 0;
    int expected_length = 0;

    sscanf(argv[1], &quot;%d&quot;, &amp;expected_length);

    if (argc &lt; 2) {
    bu_exit(1, &quot;ERROR: input format is test_args [%s]\n&quot;, argv[0]);
    }

    BU_LIST_INIT(&amp;head);
    BU_LIST_INIT(&amp;vlfree);
    if (expected_length &lt; 0) {
    return bn_vlist_cmd_cnt(NULL);
    }

    for (int i = 0; i &lt; expected_length; i++) {
    BN_ADD_VLIST(&amp;vlfree, &amp;head, ptzero, BN_VLIST_LINE_DRAW);
    }

    cmd_cnt_length = bn_vlist_cmd_cnt((struct bn_vlist*) &amp; head);

    return !(expected_length == cmd_cnt_length);
}
</pre></div>


<p>And now tell me again why it will not work without the rt_g <span aria-label="rolling eyes" class="emoji emoji-1f644" role="img" title="rolling eyes">:rolling_eyes:</span></p>



<a name="172455089"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172455089" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172455089">(Aug 04 2019 at 16:18)</a>:</h4>
<blockquote>
<blockquote>
<blockquote>
<p>I compiled it on gcc <a href="/user_uploads/1549/ihuhyRZyuaJwpXi2Tmair0eL/antpos.diff" target="_blank" title="antpos.diff">antpos.diff</a></p>
</blockquote>
<p>Hmm, this looks a bit odd: <a href="/user_uploads/1549/fNiEi910fjU595SZyyUjrL3o/annot_pos.g" target="_blank" title="annot_pos.g">annot_pos.g</a></p>
</blockquote>
<p><a href="/user_uploads/1549/yVC4BnErQ8Ox4uf2MEEwu4qz/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  this what is wrong with bottom left that you made you wrot bottom left but as you can see by get command it is top left I am working on the top right</p>
</blockquote>
<p>Well, yes, but this is odd: <a href="/user_uploads/1549/A4iaLld9PbGZDDh1GIDOUiS6/bl.png" target="_blank" title="bl.png">bl.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/A4iaLld9PbGZDDh1GIDOUiS6/bl.png" target="_blank" title="bl.png"><img src="/user_uploads/1549/A4iaLld9PbGZDDh1GIDOUiS6/bl.png"></a></div>



<a name="172460593"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172460593" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172460593">(Aug 04 2019 at 19:17)</a>:</h4>
<blockquote>
<p>And now tell me again why it will not work without the rt_g <span aria-label="rolling eyes" class="emoji emoji-1f644" role="img" title="rolling eyes">:rolling_eyes:</span></p>
</blockquote>
<p>some times I don't see further than my nose <span aria-label="hurt" class="emoji emoji-1f915" role="img" title="hurt">:hurt:</span>  <br>
I fixed it and put it on SourceForge</p>



<a name="172461156"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172461156" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172461156">(Aug 04 2019 at 19:37)</a>:</h4>
<blockquote>
<p>Well, yes, but this is odd: [bl.png](/user_uploads/1549/A4iaLld9PbGZDDh1GIDOUiS6/bl.pngquote</p>
</blockquote>
<p><a href="/user_uploads/1549/b86OO2Utwe2Ib_6aoW7XAQNn/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a><br>
I thought that this was the problem but It didn't happen to me</p>
<div class="message_inline_image"><a href="/user_uploads/1549/b86OO2Utwe2Ib_6aoW7XAQNn/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/b86OO2Utwe2Ib_6aoW7XAQNn/pasted_image.png"></a></div>



<a name="172461367"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172461367" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172461367">(Aug 04 2019 at 19:43)</a>:</h4>
<p><a href="/user_uploads/1549/8lC6jFgxGoyiIIYNV3lftQ22/annotpos4.c.patch" target="_blank" title="annotpos4.c.patch">annotpos4.c.patch</a>  try this one</p>



<a name="172461408"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172461408" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172461408">(Aug 04 2019 at 19:44)</a>:</h4>
<p>rt_pos_flag() works fine</p>



<a name="172616694"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172616694" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172616694">(Aug 06 2019 at 18:36)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I found a way to make it compatible with old annotations it can be drawn and the get command works on them but it prints an illogical value of the text size</p>



<a name="172938140"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172938140" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172938140">(Aug 10 2019 at 19:59)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  this solves the l command bug can you check it so I can write another one for extending the text segment <a href="/user_uploads/1549/Nc94tFJ_s3IIT_ipvwy-707P/annot.c.patch" target="_blank" title="annot.c.patch">annot.c.patch</a></p>



<a name="172938184"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172938184" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172938184">(Aug 10 2019 at 20:00)</a>:</h4>
<p>sorry for being slow but I didn't know how to deal with the database</p>



<a name="172938278"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172938278" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172938278">(Aug 10 2019 at 20:03)</a>:</h4>
<p>Nice that you could solve it. I'll have a look at it on Monday.</p>



<a name="172938357"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172938357" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172938357">(Aug 10 2019 at 20:06)</a>:</h4>
<p>it works but I don't know if this is the perfect way to do it <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="172938419"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172938419" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172938419">(Aug 10 2019 at 20:07)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/8lC6jFgxGoyiIIYNV3lftQ22/annotpos4.c.patch" target="_blank" title="annotpos4.c.patch">annotpos4.c.patch</a>  try this one</p>
</blockquote>
<p>can you also see this patch please.  because the error that you pointed is not happening with me</p>



<a name="172938599"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172938599" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172938599">(Aug 10 2019 at 20:12)</a>:</h4>
<blockquote>
<p>it works but I don't know if this is the perfect way to do it <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>
</blockquote>
<p><a href="/user_uploads/1549/P3pjDPU8xdrnvTIwzcZrenO_/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/P3pjDPU8xdrnvTIwzcZrenO_/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/P3pjDPU8xdrnvTIwzcZrenO_/pasted_image.png"></a></div>



<a name="172938737"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172938737" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172938737">(Aug 10 2019 at 20:16)</a>:</h4>
<p>Sure, I'll go through all your remaining patches ;)</p>



<a name="172939435"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/172939435" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#172939435">(Aug 10 2019 at 20:41)</a>:</h4>
<p>I have tried the same approach after extending the text segment it works on old annotation which doesn't contain text size and rotation angle but it needs also some changes in seg_to_vlist function and it works on the new and old annotations</p>



<a name="173051869"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173051869" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173051869">(Aug 12 2019 at 19:21)</a>:</h4>
<p>rt_pos_flag() looks wrong. As far as I can see, it slips always in case 3 "top".</p>



<a name="173137794"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173137794" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173137794">(Aug 13 2019 at 18:22)</a>:</h4>
<p>Just saw that you fixed this with your position adjustment patch.</p>



<a name="173142086"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173142086" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173142086">(Aug 13 2019 at 19:13)</a>:</h4>
<p>for the position adjustment, we can't use bn_vlist_bbox() to get the text dimensions because it considers the annotation as a point.</p>



<a name="173142108"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173142108" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173142108">(Aug 13 2019 at 19:13)</a>:</h4>
<p>I am working on the export and import functions I will send a patch for the both problems today</p>



<a name="173143067"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173143067" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173143067">(Aug 13 2019 at 19:25)</a>:</h4>
<p>do you think it is better to use sizeof(char) or just conder char will be 1 byte always?</p>



<a name="173148335"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173148335" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173148335">(Aug 13 2019 at 20:26)</a>:</h4>
<p>I think, you can assume that it's 1 byte.</p>



<a name="173148574"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173148574" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173148574">(Aug 13 2019 at 20:29)</a>:</h4>
<p>BTW, if you stay with your label size computation then you have an indentation issue there (the interior of the for loop).</p>



<a name="173150390"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173150390" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173150390">(Aug 13 2019 at 20:51)</a>:</h4>
<p>bn_vlist_2string() is called twice because it is necessary to do that because the text coordinates should be calculated based on the new reference point.</p>



<a name="173228264"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173228264" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173228264">(Aug 14 2019 at 18:19)</a>:</h4>
<blockquote>
<p>bn_vlist_2string() is called twice because it is necessary to do that because the text coordinates should be calculated based on the new reference point.</p>
</blockquote>
<p>Okay, I see.</p>



<a name="173380512"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173380512" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173380512">(Aug 16 2019 at 15:02)</a>:</h4>
<p><a href="/user_uploads/1549/r5gHfUU2vCnftvxNDz2vuc8J/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
<a href="/user_uploads/1549/AZBC9UQeb0cnxdgCfatDzi8Z/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
I think we need the text segment internals in the exporting function what do you say?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/r5gHfUU2vCnftvxNDz2vuc8J/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/r5gHfUU2vCnftvxNDz2vuc8J/pasted_image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/AZBC9UQeb0cnxdgCfatDzi8Z/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/AZBC9UQeb0cnxdgCfatDzi8Z/pasted_image.png"></a></div>



<a name="173389748"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173389748" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173389748">(Aug 16 2019 at 17:03)</a>:</h4>
<p>Sure. Why do you ask? Is it because of my sizeof(struct bu_vls) comment?</p>



<a name="173390317"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173390317" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173390317">(Aug 16 2019 at 17:11)</a>:</h4>
<blockquote>
<p>Sure. Why do you ask? Is it because of my sizeof(struct bu_vls) comment?</p>
</blockquote>
<p>yes you told me that we don't need the text segment internals</p>



<a name="173391521"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173391521" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173391521">(Aug 16 2019 at 17:27)</a>:</h4>
<p>I added 3d points to the annotation internal it works can you have a look at it, so we will try to use it in dimension line <a href="/user_uploads/1549/2sWjW9JoakHcsQmd1MJ5TJ3G/3dverts.patch" target="_blank" title="3dverts.patch">3dverts.patch</a></p>



<a name="173402279"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173402279" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173402279">(Aug 16 2019 at 19:48)</a>:</h4>
<blockquote>
<blockquote>
<p>Sure. Why do you ask? Is it because of my sizeof(struct bu_vls) comment?</p>
</blockquote>
<p>yes you told me that we don't need the text segment internals</p>
</blockquote>
<p>No, I told you we don't need the bu_vls internals ;)<br>
This is something different.</p>



<a name="173406685"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173406685" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173406685">(Aug 16 2019 at 20:53)</a>:</h4>
<p>Okay now I understand i deleted them in import5 and export5 i will do it in export4 and import4</p>



<a name="173450003"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/173450003" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#173450003">(Aug 17 2019 at 17:05)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I modified the patches on SourceForge.</p>



<a name="174004428"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174004428" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174004428">(Aug 23 2019 at 21:24)</a>:</h4>
<p><a href="/user_uploads/1549/XB38v_8Dhvj2_pWPeZVoO1jA/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
<span class="user-mention" data-user-id="102902">@Sean</span>  I was reviewing the committed code and  found this bug I submitted a solution ticket number 534</p>
<div class="message_inline_image"><a href="/user_uploads/1549/XB38v_8Dhvj2_pWPeZVoO1jA/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/XB38v_8Dhvj2_pWPeZVoO1jA/pasted_image.png"></a></div>



<a name="174006764"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174006764" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174006764">(Aug 23 2019 at 22:02)</a>:</h4>
<p>Great <span class="user-mention" data-user-id="215774">@Louis Googl</span> !  I'll try to take a look at it soon.  What command resulted in the error?</p>



<a name="174006787"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174006787" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174006787">(Aug 23 2019 at 22:02)</a>:</h4>
<p>any annotation drawing</p>



<a name="174006907"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174006907" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174006907">(Aug 23 2019 at 22:04)</a>:</h4>
<p>because it is in ant_label_dimensions() function.</p>



<a name="174086036"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174086036" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174086036">(Aug 25 2019 at 14:14)</a>:</h4>
<p><a href="/user_uploads/1549/cEdR9zT4Gzj_auGqV6vM3OzT/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  <br>
<span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  what do you think ?</p>
<div class="message_inline_image"><a href="/user_uploads/1549/cEdR9zT4Gzj_auGqV6vM3OzT/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/cEdR9zT4Gzj_auGqV6vM3OzT/pasted_image.png"></a></div>



<a name="174092890"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174092890" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174092890">(Aug 25 2019 at 17:30)</a>:</h4>
<p>Well, the question isn't: box yes or no. It's for sure a very desirable feature. But, you implemented it as a kind of hardcoded hack. You can't invent for every feature a new type or flag. Is there really no way to say it with the existing lines and text logic? I think, we need a bit more flexibility there.</p>



<a name="174092984"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174092984" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174092984">(Aug 25 2019 at 17:33)</a>:</h4>
<p>so you think it is better if all the labels have a box? we will not make it a choice for the user?</p>



<a name="174093030"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174093030" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174093030">(Aug 25 2019 at 17:34)</a>:</h4>
<p><a href="/user_uploads/1549/Tu0acusyDok05lsGT3905XBP/labelbox.patch" target="_blank" title="labelbox.patch">labelbox.patch</a>  this is the patch</p>



<a name="174093041"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174093041" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174093041">(Aug 25 2019 at 17:34)</a>:</h4>
<p>I am working on the report I will send the link in 3 to 5 hours</p>



<a name="174093136"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174093136" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174093136">(Aug 25 2019 at 17:36)</a>:</h4>
<blockquote>
<p>so you think it is better if all the labels have a box? we will not make it a choice for the user?</p>
</blockquote>
<p>it is possible to implement it without the flag. but do we want to prompt the user for it or not ?</p>



<a name="174093295"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174093295" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174093295">(Aug 25 2019 at 17:40)</a>:</h4>
<blockquote>
<p>so you think it is better if all the labels have a box? we will not make it a choice for the user?</p>
</blockquote>
<p>No. I think it would be better to draw the box with line segments instead of having e new flag for it.</p>



<a name="174093303"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174093303" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174093303">(Aug 25 2019 at 17:40)</a>:</h4>
<blockquote>
<p><a href="/user_uploads/1549/Tu0acusyDok05lsGT3905XBP/labelbox.patch" target="_blank" title="labelbox.patch">labelbox.patch</a>  this is the patch</p>
</blockquote>
<p>That's why I knew about the flag ;)</p>



<a name="174093370"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174093370" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174093370">(Aug 25 2019 at 17:43)</a>:</h4>
<blockquote>
<blockquote>
<p>so you think it is better if all the labels have a box? we will not make it a choice for the user?</p>
</blockquote>
<p>it is possible to implement it without the flag. but do we want to prompt the user for it or not ?</p>
</blockquote>
<p>I think, with the existing annotation features it's not possible. We would need more flexibility there.</p>
<p>And, the in command is a different question: Which annotation types shall be supported by in commands?</p>



<a name="174093589"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174093589" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174093589">(Aug 25 2019 at 17:49)</a>:</h4>
<blockquote>
<p>No. I think it would be better to draw the box with line segments instead of having e new flag for it.</p>
</blockquote>
<p>this is possible but still the issue of user choice.</p>



<a name="174093726"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174093726" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174093726">(Aug 25 2019 at 17:53)</a>:</h4>
<blockquote>
<p>I think, with the existing annotation features it's not possible. We would need more flexibility there.</p>
</blockquote>
<p>can you explain more? like what do we need to add and why?</p>



<a name="174093776"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174093776" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174093776">(Aug 25 2019 at 17:54)</a>:</h4>
<blockquote>
<p>And, the in command is a different question: Which annotation types shall be supported by in commands?</p>
</blockquote>
<p>I think the dimension line and the current annotation more complex annotations will need an editor I think. or it has to have a static templet</p>



<a name="174095090"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174095090" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174095090">(Aug 25 2019 at 18:33)</a>:</h4>
<blockquote>
<blockquote>
<p>I think, with the existing annotation features it's not possible. We would need more flexibility there.</p>
</blockquote>
<p>can you explain more? like what do we need to add and why?</p>
</blockquote>
<p>For this kind of boxes the lines had to know the size of the text segment.</p>



<a name="174095231"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174095231" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174095231">(Aug 25 2019 at 18:36)</a>:</h4>
<p>However, there are other kinds of boxes, e.g. legends, where the size of the box is fixed.</p>



<a name="174099665"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174099665" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174099665">(Aug 25 2019 at 20:55)</a>:</h4>
<p><a href="https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/Report" target="_blank" title="https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/Report">https://brlcad.org/wiki/User:Ali_Haydar/GSOC19/Report</a> <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  <span class="user-mention" data-user-id="102902">@Sean</span>  <span class="user-mention" data-user-id="103555">@Shubham Rathore</span>  this is my report can I  have some feedback, please.</p>



<a name="174159873"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174159873" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174159873">(Aug 26 2019 at 17:18)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> I take from the diagram that I maybe didn't update all the right variables when I flipped the coordinates from 3rd quadrant to 1st?</p>



<a name="174159902"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174159902" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174159902">(Aug 26 2019 at 17:19)</a>:</h4>
<p>if so, I will certainly go back and fix it</p>



<a name="174159920"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174159920" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174159920">(Aug 26 2019 at 17:19)</a>:</h4>
<p>overall it looks good though it would like to see an example of labels <em>with</em> geometry as sort of a final demonstration</p>



<a name="174160082"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174160082" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174160082">(Aug 26 2019 at 17:21)</a>:</h4>
<p>like a top-down rendering of one some sample model (one existing or a simple one you create) showing a title annotation in one corner, a couple labels identifying different objects, and height/width dimension labels.  if you create this demo, we can include it in the db/ directory as an example for others.</p>



<a name="174173103"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174173103" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174173103">(Aug 26 2019 at 20:14)</a>:</h4>
<blockquote>
<p>like a top-down rendering of one some sample model (one existing or a simple one you create) showing a title annotation in one corner, a couple labels identifying different objects, and height/width dimension labels.  if you create this demo, we can include it in the db/ directory as an example for others.</p>
</blockquote>
<p>I think I can do that but the dimension line is not accepted yet</p>



<a name="174202357"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174202357" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174202357">(Aug 27 2019 at 07:10)</a>:</h4>
<blockquote>
<blockquote>
<p>like a top-down rendering of one some sample model (one existing or a simple one you create) showing a title annotation in one corner, a couple labels identifying different objects, and height/width dimension labels.  if you create this demo, we can include it in the db/ directory as an example for others.</p>
</blockquote>
<p>I think I can do that but the dimension line is not accepted yet</p>
</blockquote>
<p>You could do this with your development version. It's for documenting your work.<br>
How much of your work will be used in the program is another question - which will be asked the mentors in their evaluation, for example.</p>



<a name="174354657"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174354657" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174354657">(Aug 28 2019 at 11:59)</a>:</h4>
<blockquote>
<blockquote>
<blockquote>
<p>like a top-down rendering of one some sample model (one existing or a simple one you create) showing a title annotation in one corner, a couple labels identifying different objects, and height/width dimension labels.  if you create this demo, we can include it in the db/ directory as an example for others.</p>
</blockquote>
<p>I think I can do that but the dimension line is not accepted yet</p>
</blockquote>
<p>You could do this with your development version. It's for documenting your work.<br>
How much of your work will be used in the program is another question - which will be asked the mentors in their evaluation, for example.</p>
</blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  okay, I am working on it but I thought If we will put it in db/directory it has to be accepted before. also, I am working on the text segment patch</p>



<a name="174383761"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174383761" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174383761">(Aug 28 2019 at 17:24)</a>:</h4>
<p>That's right, the demo in db/directory can only include accepted features. But, you could create demos for your pending patches too, and attach them to the corresponding patch tasks.</p>



<a name="174398449"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174398449" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174398449">(Aug 28 2019 at 20:30)</a>:</h4>
<p>how about the 3d verts? have you seen the patch?</p>



<a name="174398629"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174398629" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174398629">(Aug 28 2019 at 20:32)</a>:</h4>
<p>and you think it is better to write a new function seg_to_vlist or use negative indexing?</p>



<a name="174401658"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174401658" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174401658">(Aug 28 2019 at 21:13)</a>:</h4>
<p><a href="/user_uploads/1549/Q6MqpHZr09EG3oE0aNrdvxgB/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a>  the text of the dimension line is calculated based on the coordinates of the points</p>
<div class="message_inline_image"><a href="/user_uploads/1549/Q6MqpHZr09EG3oE0aNrdvxgB/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/Q6MqpHZr09EG3oE0aNrdvxgB/pasted_image.png"></a></div>



<a name="174401865"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174401865" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174401865">(Aug 28 2019 at 21:16)</a>:</h4>
<p>if we want to apply the position flags on it, this will need a new function to work on V, not on tsg-&gt;ref_pt.</p>



<a name="174484514"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174484514" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174484514">(Aug 29 2019 at 19:26)</a>:</h4>
<p>I had only a brief glance at your other patches, because I have to think about their consequences for future developments first. But, I can ensure you that I will take a close look at each of them.</p>



<a name="174659656"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174659656" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174659656">(Sep 01 2019 at 12:17)</a>:</h4>
<p>I think the text segment patch didn't work for you because I used my patch form the old version on the new version and continue the adjustments <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span> , I have an exam tomorrow and other three  on the 9th, 10th, 12th of September <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="174708898"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174708898" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174708898">(Sep 02 2019 at 11:12)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> <a href="/user_uploads/1549/M15z92VxYfiUF5s8Dc2ZoomF/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/M15z92VxYfiUF5s8Dc2ZoomF/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/M15z92VxYfiUF5s8Dc2ZoomF/pasted_image.png"></a></div>



<a name="174984417"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174984417" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174984417">(Sep 05 2019 at 15:24)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> This looks pretty good but how about a bit more showmanship, more annotations... Can you put a "Annotations Demo" label in the top-left corner?  On second thought, an ellipsoid would be much more interesting, even the default "make ell ell" will give a nice 2:1 ratio.   If you change the text of shper to something more meaningful like "center" or "center point" and ideally not overlapping the edge of the circle, so try putting the point fully in or fully outside.  The dimension line looks great, but try placing it below instead of above and adding another on the right or left side (whichever looks best to you).  Last but not least, you could put a label in a box showing the multiline you had working or was that too experimental?</p>



<a name="174984979"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174984979" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174984979">(Sep 05 2019 at 15:29)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  thank you for your nots I think I can do it all. for the multiline annotation, I haven't work on it yet.</p>



<a name="174985355"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174985355" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174985355">(Sep 05 2019 at 15:32)</a>:</h4>
<p>for the location of the dimension line the default I made for the verts is to be 10 mm above the first and second points. and I am thinking to  allow the user to specify this feature (how far the dimension line from the points)line between</p>



<a name="174989184"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174989184" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174989184">(Sep 05 2019 at 16:09)</a>:</h4>
<p><a href="/user_uploads/1549/QRWgoFDcIXpXxKKvjX6olKSl/annodemo.png" target="_blank" title="annodemo.png">annodemo.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/QRWgoFDcIXpXxKKvjX6olKSl/annodemo.png" target="_blank" title="annodemo.png"><img src="/user_uploads/1549/QRWgoFDcIXpXxKKvjX6olKSl/annodemo.png"></a></div>



<a name="174989288"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174989288" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174989288">(Sep 05 2019 at 16:10)</a>:</h4>
<p>Here's kind of what I had in mind.</p>



<a name="174989368"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174989368" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174989368">(Sep 05 2019 at 16:11)</a>:</h4>
<p>note you can get thicker wireframe lines in mged with "rset var linewidth 3"</p>



<a name="174989428"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/174989428" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#174989428">(Sep 05 2019 at 16:12)</a>:</h4>
<p>makes for a better screenshot</p>



<a name="175144854"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/175144854" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#175144854">(Sep 07 2019 at 15:30)</a>:</h4>
<p>very nice It can be done, I will do it next week because I have three exams this week. thank you for your notes</p>



<a name="175477575"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/175477575" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#175477575">(Sep 11 2019 at 21:22)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> good luck with your exams.  if there's additional annotations you can think of adding to the example, please do.  We don't want annotations overlapping, but even "tricks" like underlining or drawing a box around something of interest or denoting values (e.g., "ae 0 90") can make for a helpful demonstration.</p>



<a name="179931398"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/179931398" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#179931398">(Nov 05 2019 at 13:30)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> hell Mr. daniel I have fixed the patch for extending the text segment could you please give me feedback about the other patches and your general view for development. like 3d verts and the dimension line .</p>



<a name="179967047"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/179967047" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#179967047">(Nov 05 2019 at 19:23)</a>:</h4>
<p>Thanks, I'll have a look at it. But, it may take a while...</p>



<a name="180139057"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/180139057" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#180139057">(Nov 07 2019 at 14:51)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> hell Mr. daniel I have fixed the patch for extending the text segment could you please give me feedback about the other patches and your general view for development. like 3d verts and the dimension line .</p>



<a name="189441039"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189441039" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189441039">(Mar 01 2020 at 17:41)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  Hello Mr. Daniel I was working on the problem you told me about ( converting the annotation asc2g) I made this solution it is not final but this is my first try I would appreciate your feedback <a href="/user_uploads/1549/kDQL3DbRgM2Evz3q-7QTrClB/annot.c.patch" target="_blank" title="annot.c.patch">annot.c.patch</a></p>



<a name="189441099"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189441099" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189441099">(Mar 01 2020 at 17:43)</a>:</h4>
<p>also after adding the new text segment parameters (size, rotation angle), it needs more adjustments. which one you think is better to work on first?</p>



<a name="189461437"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189461437" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189461437">(Mar 02 2020 at 03:57)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> awesome! glad to see you working on this again.</p>



<a name="189461487"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189461487" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189461487">(Mar 02 2020 at 03:58)</a>:</h4>
<p>however, question though.  Is this supposed to be an extension of the code on trunk?  the ant_return_rel_pos() function is worrisome because of all the embedded strings.  that taxonomy doesn't appear to be defined or documented anywhere.</p>



<a name="189461580"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189461580" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189461580">(Mar 02 2020 at 04:01)</a>:</h4>
<p>typically for g2asc conversions and their counterpart asc2g conversions, keyword labels are used, but those verbose versions are going to be incredibly "expansive" (i.e., awkward if there are lots of annotations as the .asc might become huge)</p>



<a name="189461630"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189461630" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189461630">(Mar 02 2020 at 04:02)</a>:</h4>
<p>shorter labels might help with that some (e.g., using the same as the enumeration like BL, BC, ML, etc)</p>



<a name="189481197"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189481197" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189481197">(Mar 02 2020 at 11:11)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> Hello, Mr. Sean hope you are in well condition. I would like to do more if possible, I would like if you can give me feedback about my open patches of the dimension line and the box around annotation. I have passed my exams and I have some free time I would like to continue my contribution.</p>



<a name="189481293"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189481293" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189481293">(Mar 02 2020 at 11:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/Annotations/near/189461630" title="#narrow/stream/111975-Google-Summer.20of.20Code/topic/Annotations/near/189461630">said</a>:</p>
<blockquote>
<p>shorter labels might help with that some (e.g., using the same as the enumeration like BL, BC, ML, etc)</p>
</blockquote>
<p>it is possible to do like this but the result of get function on the annotation will be different and not as obvious as it is now, I will make a patch and send it to you today</p>



<a name="189481454"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189481454" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189481454">(Mar 02 2020 at 11:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/Annotations/near/189461487" title="#narrow/stream/111975-Google-Summer.20of.20Code/topic/Annotations/near/189461487">said</a>:</p>
<blockquote>
<p>however, question though.  Is this supposed to be an extension of the code on trunk?  the ant_return_rel_pos() function is worrisome because of all the embedded strings.  that taxonomy doesn't appear to be defined or documented anywhere.</p>
</blockquote>
<p>ant_return_rel_pos() I made it for using in ant_get_tcl() because the previous approach was wrong as you can notice.</p>



<a name="189497656"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189497656" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189497656">(Mar 02 2020 at 14:52)</a>:</h4>
<p>I'm not Mr. Sean unless you're in grade school ... ;)</p>



<a name="189499205"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189499205" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189499205">(Mar 02 2020 at 15:07)</a>:</h4>
<blockquote>
<p>it is possible to do like this but the result of get function on the annotation will be different and not as obvious as it is now, I will make a patch and send it to you today</p>
</blockquote>
<p>the asc form intent is for serialization so the keywords will have to be documented regardless.  We just need to make sure they're consistent, documented somewhere, and won't cause a problem.  I think the latter is the issue as the long labels are considerably more metadata than the data itself, so the serialized form potentially explodes (e.g., 1MB of annotations turns into 1GB asc file).</p>



<a name="189499316"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189499316" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189499316">(Mar 02 2020 at 15:08)</a>:</h4>
<p><span class="user-mention" data-user-id="215774">@Louis Googl</span> yes, thank you for the reminder to take a look at your open patches (squeaky wheels get attention these days)</p>



<a name="189501622"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189501622" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189501622">(Mar 02 2020 at 15:30)</a>:</h4>
<p>I will try to do it today thank you for the feed back</p>



<a name="189548587"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/189548587" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Louis Googl <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#189548587">(Mar 02 2020 at 23:26)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  this is the new patch with the adjustments I have tested it, it works for g2asc and asc2g for annotations <a href="/user_uploads/1549/1oCro_cw0BPq4qFaN6chuqwy/annot.c.patch" target="_blank" title="annot.c.patch">annot.c.patch</a></p>



<a name="272296403"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272296403" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272296403">(Feb 17 2022 at 17:45)</a>:</h4>
<p>Here for discussions about annotations...</p>



<a name="272297169"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272297169" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272297169">(Feb 17 2022 at 17:50)</a>:</h4>
<p><span class="user-mention" data-user-id="252475">@Himanshu Sekhar Nayak</span>, okay, but this involves many different features.</p>



<a name="272297250"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272297250" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272297250">(Feb 17 2022 at 17:51)</a>:</h4>
<p>You should describe the basic ones first.</p>



<a name="272297798"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272297798" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272297798">(Feb 17 2022 at 17:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/Annotations/near/272297250">said</a>:</p>
<blockquote>
<p>You should describe the basic ones first.</p>
</blockquote>
<p>Currently what I noticed is that <code>mged</code> can have a mouse pointing feature so that it will be easy to add text labels without giving coordinates. But I don't know how I can proceed with this feature.<br>
Also, another basic one I think is shifting the current <code>in</code> command to have a GUI option like a section <code>Annotate</code> which will contain <code>labels</code>, <code>dimensions</code>, etc.</p>



<a name="272297983"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272297983" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272297983">(Feb 17 2022 at 17:56)</a>:</h4>
<p>Both the command line and sketch editor can have section of <code>Annotate</code>.</p>



<a name="272298372"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272298372" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272298372">(Feb 17 2022 at 17:58)</a>:</h4>
<p>I'm afraid you are mixing up something. What do you mean by "in command to have a GUI option"? Do you have an example for this?</p>



<a name="272298836"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272298836" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272298836">(Feb 17 2022 at 18:01)</a>:</h4>
<p>Like this to have a separate section in this area. <a href="/user_uploads/1549/syJTEuFHYmNhUUpbjFniTMgx/Screenshot_2022-02-17_23-30-31.png">Screenshot_2022-02-17_23-30-31.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/syJTEuFHYmNhUUpbjFniTMgx/Screenshot_2022-02-17_23-30-31.png" title="Screenshot_2022-02-17_23-30-31.png"><img src="/user_uploads/1549/syJTEuFHYmNhUUpbjFniTMgx/Screenshot_2022-02-17_23-30-31.png"></a></div>



<a name="272299071"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272299071" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272299071">(Feb 17 2022 at 18:02)</a>:</h4>
<p>If there is no section for any other primitive there, it's probable a bad idea to have one for annotations at this place.</p>



<a name="272299337"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272299337" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272299337">(Feb 17 2022 at 18:04)</a>:</h4>
<p>So we may shift <code>annotate</code> to sketch editor?</p>



<a name="272299476"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272299476" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272299476">(Feb 17 2022 at 18:05)</a>:</h4>
<p>I wouldn't "shift" it. Where do you find/how do you call the sketch editor?</p>



<a name="272300002"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272300002" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272300002">(Feb 17 2022 at 18:09)</a>:</h4>
<p>We can have an <code>Annotate</code> section just like <code>File</code>, <code>Edit</code>, ..... where it will contain <code>labels</code>, <code>dimensions</code>... So after drawing a primitive, a user can go into the annotate section and click on labels to add text to corresponding coordinates.</p>



<a name="272300253"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272300253" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272300253">(Feb 17 2022 at 18:11)</a>:</h4>
<p>Well, Annotate would be more like "Arbs", "Cones &amp; Cylinders", and "Ellipsoides".</p>



<a name="272300975"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272300975" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272300975">(Feb 17 2022 at 18:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/Annotations/near/272300253">said</a>:</p>
<blockquote>
<p>Well, Annotate would be more like "Arbs", "Cones &amp; Cylinders", and "Ellipsoides".</p>
</blockquote>
<p>Sorry, I don't understand. Is it having annotation for <code>Arbs</code>, <code>Cones &amp; Cylinders</code>?</p>



<a name="272301133"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272301133" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272301133">(Feb 17 2022 at 18:17)</a>:</h4>
<p>If you want to add (create) something, there is the <code>Create</code> menu, where you can find these submenus.</p>



<a name="272301257"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272301257" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272301257">(Feb 17 2022 at 18:18)</a>:</h4>
<p>I.e., if I want to create a new annotation, I would expect the corresponding menu entry there.</p>



<a name="272301579"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272301579" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272301579">(Feb 17 2022 at 18:21)</a>:</h4>
<p>Okay, I understand. So adding an <code>annotate</code> section inside <code>create</code> menu?</p>



<a name="272301766"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272301766" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272301766">(Feb 17 2022 at 18:22)</a>:</h4>
<p>From there on we can add labels, dimesions, etc inside annotate which will be a part of create menu</p>



<a name="272302040"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272302040" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272302040">(Feb 17 2022 at 18:24)</a>:</h4>
<p>Yes, this would be logical. Unfortunately, all the entries in the <code>Create</code> menu create the primitives without further questions :(</p>



<a name="272302455"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272302455" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272302455">(Feb 17 2022 at 18:27)</a>:</h4>
<p>There was one a sketch editor, probably in the skt_ed.tcl (in tclscripts/mged) script.</p>



<a name="272302769"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272302769" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272302769">(Feb 17 2022 at 18:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/Annotations/near/272302040">said</a>:</p>
<blockquote>
<p>Yes, this would be logical. Unfortunately, all the entries in the <code>Create</code> menu create the primitives without further questions <span aria-label="frown" class="emoji emoji-1f641" role="img" title="frown">:frown:</span></p>
</blockquote>
<p>Hmm <code>Create</code> menu is to draw primitives and adding <code>annotate</code> will mixup things.</p>



<a name="272303164"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272303164" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272303164">(Feb 17 2022 at 18:32)</a>:</h4>
<p>The <code>Create</code> menu creates primitives, but always with standard values.</p>



<a name="272304608"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272304608" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272304608">(Feb 17 2022 at 18:43)</a>:</h4>
<p>Sorry, due to internet issues I am disconnected in the middle of the discussion.</p>



<a name="272305060"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Annotations/near/272305060" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Himanshu <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Annotations.html#272305060">(Feb 17 2022 at 18:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> <a href="#narrow/stream/111975-Google-Summer.20of.20Code/topic/Annotations/near/272303164">said</a>:</p>
<blockquote>
<p>The <code>Create</code> menu creates primitives, but always with standard values.</p>
</blockquote>
<p>standard values?</p>



<hr><p>Last updated: Oct 31 2025 at 00:54 UTC</p>
</html>