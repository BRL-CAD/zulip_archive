<html>
<head><meta charset="utf-8"><title>Boolean evaluation · Google Summer of Code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/index.html">Google Summer of Code</a></h2>
<h3>Topic: <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html">Boolean evaluation</a></h3>

<hr>

<base href="https://brlcad.zulipchat.com">

<head><link href="https://brl-cad.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="277754743"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277754743" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277754743">(Apr 04 2022 at 16:10)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="491779">@GregoryLi</span>, it's better to discuss here so everyone is aware of the conversation.  The 2016 and 2017 projects that you linked to are not what I was referring to.  The two different idea directions would be to work on polygonal boolean evaluation or NURBS boolean evaluation, which have aspects in these projects:</p>



<a name="277755653"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277755653" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277755653">(Apr 04 2022 at 16:17)</a>:</h4>
<p><strong>NURBS boolean evaluation:</strong><br>
<a href="https://brlcad.org/wiki/Google_Summer_of_Code/2013#NURBS_Intersections">https://brlcad.org/wiki/Google_Summer_of_Code/2013#NURBS_Intersections</a><br>
<a href="https://brlcad.org/wiki/Google_Summer_of_Code/2012#Implicit_to_NURBS_Conversion">https://brlcad.org/wiki/Google_Summer_of_Code/2012#Implicit_to_NURBS_Conversion</a><br>
<a href="https://brlcad.org/wiki/Google_Summer_of_Code/2009#Hybrid_Representation_through_BREP_on_BREP_CSG">https://brlcad.org/wiki/Google_Summer_of_Code/2009#Hybrid_Representation_through_BREP_on_BREP_CSG</a><br>
<a href="https://brlcad.org/wiki/NURBS_Booleans">https://brlcad.org/wiki/NURBS_Booleans</a></p>
<p><strong>Polygonal boolean evaluation (and editing):</strong><br>
<a href="https://brlcad.org/wiki/Google_Summer_of_Code/2015#NMG_.2F_BoT_Editing">https://brlcad.org/wiki/Google_Summer_of_Code/2015#NMG_.2F_BoT_Editing</a><br>
<a href="https://brlcad.org/wiki/Google_Summer_of_Code/2014#Mesh_Library_Cleanup">https://brlcad.org/wiki/Google_Summer_of_Code/2014#Mesh_Library_Cleanup</a><br>
<a href="https://brlcad.org/wiki/Mesh_library_cleanup">https://brlcad.org/wiki/Mesh_library_cleanup</a></p>



<a name="277755719"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277755719" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277755719">(Apr 04 2022 at 16:18)</a>:</h4>
<p>Also of relevance to the big picture for NURBS with anything related being suitable and on-topic is <a href="https://brlcad.org/wiki/NURBS">https://brlcad.org/wiki/NURBS</a></p>



<a name="277779276"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277779276" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277779276">(Apr 04 2022 at 19:05)</a>:</h4>
<p>For mesh booleans (which are properly speaking a subset of the NURBS boolean problem) I believe there have been a number of academic papers since the last time BRL-CAD looked into the matter - those would be worth looking into if there is interest in that topic.</p>



<a name="277838194"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277838194" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277838194">(Apr 05 2022 at 07:35)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> OK,I am looking into the references, and looking for papers to understand the aspects.</p>



<a name="277838378"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277838378" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277838378">(Apr 05 2022 at 07:37)</a>:</h4>
<p>Are these two missions more urgent than Nurbes editing? If so, I am willing to choose topics based on a combination of urgency and personal interests.</p>



<a name="277875160"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277875160" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277875160">(Apr 05 2022 at 13:07)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> Some starting points for papers:  <a href="https://arxiv.org/pdf/2103.02486.pdf">https://arxiv.org/pdf/2103.02486.pdf</a>  <a href="https://dl.acm.org/doi/abs/10.1145/2897824.2925901">https://dl.acm.org/doi/abs/10.1145/2897824.2925901</a></p>



<a name="277875589"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277875589" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277875589">(Apr 05 2022 at 13:10)</a>:</h4>
<p>I think the <a href="http://arxiv.org">arxiv.org</a> paper is the newest.  I've not dug into these in detail to see how much work they would be to implement.</p>



<a name="277894221"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277894221" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277894221">(Apr 05 2022 at 15:15)</a>:</h4>
<p>Note those are specifically for going down the polygonal route, but they are indeed excellent relevant current research on the topic.</p>



<a name="277894567"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277894567" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277894567">(Apr 05 2022 at 15:17)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> "urgency" isn't quite an appropriate term.  I would absolutely say robust export and graphical display is higher priority as it impacts so much, but if NURBS editing is what excites you the most and is most familiar to you, then that is what you should propose.  Open source is often about scratching your own itch.</p>



<a name="277895779"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277895779" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277895779">(Apr 05 2022 at 15:24)</a>:</h4>
<p>Currently, polygonal export in BRL-CAD is around 95% reliable, which means any given model with 100+ objects is going to have several objects that fail to export to other formats such as STL, OBJ, 3DM, etc.  It really needs to be 99.99999% reliable.. (one in a million failure rate).  But that's an NP-complete problem and the reason why it's still an area of research.  It's hard to implement something robust and without caveats.  So that's why that's an interesting project -- you could A) propose implementing something new based on current research, or you could B) propose expanding our current implementation(e.g., utilize an existing library) with a new evaluation method, or you could C) propose approaching this from a TDD perspective and work on systematically proving each of the functions in libnmg is robust.</p>



<a name="277897006"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277897006" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277897006">(Apr 05 2022 at 15:32)</a>:</h4>
<p>NURBS geometry is our newest major feature addition, so it's more about improving usability.  We can import NURBS, but then someone can edit it with a Boolean operation (e.g., subtract a cylinder) and we need to be able to evaluate it.  That's useful for 3D display as well as basic export.  It's also related to polygonal Booleans in that if implicit geometry (e.g., sphere UNION cylinder) can be converted to NURBS (e.g., sphere.brep UNION cylinder.brep), and Boolean evaluation on NURBS is robust (i.e., sphere.brep UNION cylinder.brep -&gt; newobject.brep), then conversion to polygons (ie.., newobject.brep -&gt; newobject.triangles) will also be robust.  This is a far superior method of Boolean evaluation that avoids trying to evaluate in polygonal space.</p>



<a name="277897504"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277897504" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277897504">(Apr 05 2022 at 15:36)</a>:</h4>
<p>NURBS being new means it has a number of other areas of high-impact potential too -- including editing.  There currently exists no way to edit them outside of Boolean operations with other geometry, so it would be useful to have that.  It'd also be very useful if they could be raytraced faster (i.e., the existing implementation is currently unoptimized).  So there are lots of possibilities!</p>



<a name="277964443"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277964443" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277964443">(Apr 06 2022 at 01:13)</a>:</h4>
<p>Thanks for your papers and reply. I totally understand and agree with you. It’s clear they are in high priority because of their importancy. As you say, polygonal export is a pioneering work and an interesting work, which also means it’s not realistic to come to a feasible proposal before April 20.</p>



<a name="277964449"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277964449" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277964449">(Apr 06 2022 at 01:13)</a>:</h4>
<p>(deleted)</p>



<a name="277964530"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/277964530" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#277964530">(Apr 06 2022 at 01:14)</a>:</h4>
<p>I’m now committed to NURBS geometry. I have read previous GSOC work and wiki, get to know it better, but I still need some time to investigate existing functionality and read papers before make useful comments.</p>



<a name="278405041"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278405041" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278405041">(Apr 09 2022 at 11:30)</a>:</h4>
<p>Accoding to issues in <a href="https://brlcad.org/wiki/NURBS">wiki</a>, I have investigated and concluded the following two aspects</p>



<a name="278405047"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278405047" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278405047">(Apr 09 2022 at 11:31)</a>:</h4>
<p><strong>aspect1: tessellation from splines</strong></p>
<p>usage: Coverting BREP model to triangle mesh is very helpful in real-time visualization and ray tracing. They may also serve as the basis for generation of analysis suitable meshes by either providing a starting mesh or by facilitating its sizing field and gradation. </p>
<p>method: Following <a href="https://www.sciencedirect.com/science/article/pii/S0010448515000032">reference 3</a>, implement a robustly approximate CAD surfaces that define the boundary of complicated three dimensional geometric shapes with a minimum number of triangles NURBS tessellation method.</p>
<p>references:</p>
<ol>
<li><a href="https://arc.aiaa.org/doi/pdf/10.2514/6.2018-1402">A Review of Common Geometry Issues Affecting Mesh Generation 2018</a></li>
<li><a href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.142.3042">Efficient trimmed nurbs tessellation 2004</a></li>
<li><a href="https://www.sciencedirect.com/science/article/pii/S0010448515000032">A robust conforming NURBS tessellation for industrial applications based on a mesh generation approach</a></li>
</ol>



<a name="278405067"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278405067" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278405067">(Apr 09 2022 at 11:31)</a>:</h4>
<p><strong>aspect2:  Implicit boolean operation</strong></p>
<p>(why not explicit? because I saw it in previous GSoC and I’m not sure is it still under developing)</p>
<p>usage: In many applications concerning the analysis of multi-body interactions as in analysis of contact between two bodies,often it is not required to explicitly compute the intersection between interacting B-rep CAD models. Besides, I think the bounding box build is useful in ray tracing for plate model.</p>
<p>method: Following <a href="https://www.sciencedirect.com/science/article/pii/S0010448516301129?casa_token=HlewySw5SJwAAAAA:vjFipBiA3Xw89bEUZ5bsGSVhnVX7RVVrMtoprU_BQ61m2QQQzTQXt1gzzN8smCPSrle-a04nrcM">reference 1</a>, implement a purely algebraic, and therefore non-iterative, approach to carrying out point containment queries on complex B-rep models built using low-degree NURBS surfaces.</p>
<p>references:</p>
<ol>
<li><a href="https://www.sciencedirect.com/science/article/pii/S0010448516301129?casa_token=HlewySw5SJwAAAAA:vjFipBiA3Xw89bEUZ5bsGSVhnVX7RVVrMtoprU_BQ61m2QQQzTQXt1gzzN8smCPSrle-a04nrcM">Signed algebraic level sets on NURBS surfaces and implicit Boolean compositions for isogeometric CAD–CAE integration 2017</a></li>
<li><a href="https://www.sciencedirect.com/science/article/pii/S0010448511002211">GPU-accelerated Hausdorff distance computation between dynamic deformable NURBS surfaces</a></li>
</ol>



<a name="278405450"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278405450" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278405450">(Apr 09 2022 at 11:37)</a>:</h4>
<p>These are outlines of my current ideas, I don't know whether they are developing or useful in the big picture of NURBS. If any of them is suitable, I will investigate in more detail and make a  detailed proposal.</p>



<a name="278414887"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278414887" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278414887">(Apr 09 2022 at 15:19)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> I'm impressed with your thoroughness.  It's giving some reassurances that you will propose something good.  Keep it up! ;)</p>



<a name="278414989"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278414989" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278414989">(Apr 09 2022 at 15:21)</a>:</h4>
<p>so for aspect1 and aspect2 it will be import to realize that brl-cad has nurbs tessellation and nurbs booleans respectively, they're just incomplete or not as robust as they need to be.  So familiarizing yourself with their current status will be essential in scoping what exactly you plan to do so that you either take the existing implementation into consideration, or have a good reason for ignoring what's there to implement a different method.</p>



<a name="278415449"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278415449" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278415449">(Apr 09 2022 at 15:32)</a>:</h4>
<p>I have a general sense that the existing nurbs tessellation implementation is actually pretty good for visual purposes -- just not necessarily for export where it's supposed to guarantee that if an object is solid, that it's tessellation is also solid.</p>



<a name="278415478"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278415478" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278415478">(Apr 09 2022 at 15:33)</a>:</h4>
<p>I do know the boolean evaluation support is pretty far along also, but definitely needs more work.  we even have documentation explaining where it's at.  if you read the "NURBS Boolean Evaluation Development Guide" it's a docbook article in our repo (bool_eval_development.html)</p>



<a name="278415806"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278415806" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278415806">(Apr 09 2022 at 15:41)</a>:</h4>
<p><a href="/user_uploads/1549/Lu5svw5lS-xMohM--jjBzcX2/NURBS-Boolean-Evaluation-Development-Guide.pdf">NURBS-Boolean-Evaluation-Development-Guide.pdf</a>  It's in the source repo, but here's the doc in pdf form.</p>



<a name="278415868"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278415868" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278415868">(Apr 09 2022 at 15:42)</a>:</h4>
<p>So proposing something/anything that extends that effort would be golden.  Especially if you can submit something related to it, even if it's a simple unit test or demonstrates an approach or improves it in any way.</p>



<a name="278415895"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278415895" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278415895">(Apr 09 2022 at 15:43)</a>:</h4>
<p>that guide is exquisitely detailed, but if it's too overwhelming, you can always fall back on implementing a CLI editing interface</p>



<a name="278519461"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278519461" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278519461">(Apr 11 2022 at 08:02)</a>:</h4>
<p>I have noticed that the NURBS Tessellation part is in src/librt/primitives/nmg/nmg_tri.c, using Marching Cube(MC) algorithm. I see there is a rough game plan in the notes of the file, but it hasn’t updated for years.</p>



<a name="278519498"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278519498" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278519498">(Apr 11 2022 at 08:03)</a>:</h4>
<p>Luckly I just had looked into the MC algorithm. MC is popular for its simplicity, robustness and efficiency, but the origin MC algorithm (also the current brl-cad method) is not enough to generate a high quality mesh. Here are some up-to-date MC algorithms listed in the references. The advantages are:</p>
<ol>
<li>Make sure the manifold and topological correct of the mesh generrated. (the most important)</li>
<li>The difference in calculation time is tiny(about 3% according to <a href="https://onlinelibrary.wiley.com/doi/full/10.1111/cgf.12975">ref 1</a>), because most of the cases handled are the same.</li>
<li>For further development, maybe using octrees to set parameters to generate scaleable mesh. </li>
</ol>
<p>So for the usage of the project, it can be used as export generated triangle meshes from NURBS. And maybe it also can be used in visual.</p>



<a name="278519613"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278519613" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278519613">(Apr 11 2022 at 08:04)</a>:</h4>
<p>references:</p>
<ol>
<li><em><strong><em><a href="https://onlinelibrary.wiley.com/doi/full/10.1111/cgf.12975">Construction of Topologically Correct and Manifold Isosurfaces 2016</a></em></strong></em></li>
<li><a href="https://link.springer.com/article/10.1186/s13173-019-0086-6">**An extended triangulation to the Marching Cubes 33 algorithm 2019**</a></li>
<li><a href="https://arxiv.org/pdf/2005.11621.pdf">**ManifoldPlus: A Robust and Scalable Watertight Manifold Surface Generation Method for Triangle Soups 2020**</a></li>
</ol>



<a name="278519765"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278519765" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278519765">(Apr 11 2022 at 08:06)</a>:</h4>
<p>MC is kind of sucky, imho.</p>
<p>the code you're looking at in nmg is not the right/current code, that was a nurbs implementation done in the late 80's early 90's.</p>



<a name="278519828"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278519828" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278519828">(Apr 11 2022 at 08:07)</a>:</h4>
<p>you'll want to look at libbrep for current nurbs code, and it's corresponding entity is the 'brep' primitive (so look in src/librt/primitives/brep)</p>



<a name="278519904"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278519904" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278519904">(Apr 11 2022 at 08:08)</a>:</h4>
<p>src/libbrep is where most of the logic resides, notably the large intersect.cpp and boolean.cpp files.</p>



<a name="278520116"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278520116" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278520116">(Apr 11 2022 at 08:10)</a>:</h4>
<p>the idea with nurbs booleans is that evaluation happens in the original nurbs boundary representation (brep) space, not in polygonal space.  so sampling methods like MC aren't even necessary and the evaluated result is quite superior.</p>



<a name="278520203"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278520203" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278520203">(Apr 11 2022 at 08:11)</a>:</h4>
<p>OK... Do you think tessellation part still needs developing?</p>



<a name="278520455"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278520455" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278520455">(Apr 11 2022 at 08:14)</a>:</h4>
<p>when working with NURBS, the only place where polygons are involved in any way is for display meshes (e.g., for temporary opengl display purposes) or export to a polygonal format.  if one has a sphere represented by a single NURBS surface, and it's intersecting another NURBS sphere with a union boolean operation, the evaluation of that boolean should result in 2+ surfaces in a new NURBS entity (and with no Boolean).</p>



<a name="278520621"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278520621" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278520621">(Apr 11 2022 at 08:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/278520203">said</a>:</p>
<blockquote>
<p>OK... Do you think tessellation part still needs developing?</p>
</blockquote>
<p>Well yes, that's why it was mentioned as a potential project, but that task should not / cannot start from scratch.  There is already extensive code in src/libbrep that generates a tessellation of NURBS surfaces quite reliably.  What it doesn't necessarily do is ensure that if an object is solid, that its tessellation will also be solid.   That is critically important for exporting to polygonal formats.</p>



<a name="278520708"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278520708" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278520708">(Apr 11 2022 at 08:17)</a>:</h4>
<p>Yes, I can understand the operation flow of NURBS or CAD. I've looked into explicit and implicit boolean operations, but haven't looked at the source code of brl-cad.</p>



<a name="278521289"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278521289" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278521289">(Apr 11 2022 at 08:23)</a>:</h4>
<p>I have doubts about the meaning of NURBS “evalution”. Is it means to evaluate the effect of explicit boolean operations implemented? Or implement explicit boolean operations? I thinking it's better to make it clear to me to avoid misunderstanding like MC.</p>



<a name="278522602"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278522602" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278522602">(Apr 11 2022 at 08:35)</a>:</h4>
<p>Sorry, I'm not understanding your question..</p>



<a name="278523131"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278523131" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278523131">(Apr 11 2022 at 08:39)</a>:</h4>
<p>say you have two NURBS spheres.  they are each defined by a single surface.  they overlap halfway and are combined together with an intersection operation.   something like... <a href="/user_uploads/1549/dxRzgS84X5B9nRpKaxA8pqIa/GUID-4775186F-4BCD-4BAF-BA15-6AE8B2575105.png">GUID-4775186F-4BCD-4BAF-BA15-6AE8B2575105.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/dxRzgS84X5B9nRpKaxA8pqIa/GUID-4775186F-4BCD-4BAF-BA15-6AE8B2575105.png" title="GUID-4775186F-4BCD-4BAF-BA15-6AE8B2575105.png"><img src="/user_uploads/1549/dxRzgS84X5B9nRpKaxA8pqIa/GUID-4775186F-4BCD-4BAF-BA15-6AE8B2575105.png"></a></div>



<a name="278523235"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278523235" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278523235">(Apr 11 2022 at 08:40)</a>:</h4>
<p>lens_object = sphA INTERSECT sphB</p>



<a name="278523493"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278523493" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278523493">(Apr 11 2022 at 08:42)</a>:</h4>
<p>lens_object in that case is a combination object (i.e., its type is actually a 'comb' and it is not a brep/nurbs entity) that includes a boolean recipe.  that is called implicit or unevaluated representation.  lens_object is type comb, sphA is type ell, sphB is type ell.</p>



<a name="278523856"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278523856" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278523856">(Apr 11 2022 at 08:46)</a>:</h4>
<p>now that's all fine and that works now.  but a very useful operation is to eliminate the boolean.  if we evaluate the boolean expression in lens_object, we should get a brep/nurbs entity that is the lens shape on the right (which has two surfaces) and there's no longer a boolean.</p>



<a name="278523884"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278523884" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278523884">(Apr 11 2022 at 08:46)</a>:</h4>
<p>strongly recommend reading the aforementioned NURBS-Boolean-Evaluation-Development-Guide.pdf</p>



<a name="278526590"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278526590" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278526590">(Apr 11 2022 at 09:13)</a>:</h4>
<p>To be more precise,  implicit boolean I said is determine whether two objects intersect, explicit refers to calculate the precise area of intersection, including union and other boolean operation.</p>



<a name="278526990"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278526990" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278526990">(Apr 11 2022 at 09:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/278523493">said</a>:</p>
<blockquote>
<p>lens_object in that case is a combination object (i.e., its type is actually a 'comb' and it is not a brep/nurbs entity) that includes a boolean recipe.  that is called implicit or unevaluated representation.  lens_object is type comb, sphA is type ell, sphB is type ell.</p>
</blockquote>
<p>yes, I can get it. But in my incomplete survey, I did not find relevant papers.</p>



<a name="278527134"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278527134" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278527134">(Apr 11 2022 at 09:18)</a>:</h4>
<p>Do you have any suggestions？</p>



<a name="278527320"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278527320" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278527320">(Apr 11 2022 at 09:20)</a>:</h4>
<p>Is "trimmed" a related keyword？</p>



<a name="278537704"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278537704" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278537704">(Apr 11 2022 at 11:10)</a>:</h4>
<p>I'm reading the NURBS-Boolean-Evaluation-Development-Guide.pdf, found many questions can be answered in the pdf. I'll reply after I read it totally.</p>



<a name="278604952"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278604952" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278604952">(Apr 11 2022 at 19:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/278527320">said</a>:</p>
<blockquote>
<p>Is "trimmed" a related keyword？</p>
</blockquote>
<p>Yes, trimmed NURBS is what we have and use.  With NURBS, you define a surface, and then use trimming curves to dictate where the surface physically exists and where it does not.  E.g., <a href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.146.3590&amp;rep=rep1&amp;type=pdf">https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.146.3590&amp;rep=rep1&amp;type=pdf</a></p>



<a name="278605325"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278605325" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278605325">(Apr 11 2022 at 19:33)</a>:</h4>
<p>also relevant: <a href="https://mcmains.me.berkeley.edu/pubs/SPM08gpuSSI.pdf">https://mcmains.me.berkeley.edu/pubs/SPM08gpuSSI.pdf</a></p>



<a name="278635838"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278635838" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278635838">(Apr 12 2022 at 00:56)</a>:</h4>
<p>src/libbrep/cdt has the triangulation code - fast.cpp is the display tessellation, by far the fastest option but also will show cracks at the seams.  ON_Brep_CDT_Tessellate is an attempt at watertight tessellation, and if you grep the code for that function you'll find it is exposed in a couple of libged commands.  There's more in that logic than just watertightness - it will also locally converge the meshing to try and reduce the volume of overlapping between nearby brep objects.</p>



<a name="278635958"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278635958" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278635958">(Apr 12 2022 at 00:58)</a>:</h4>
<p>See <a href="https://apps.dtic.mil/sti/pdfs/AD1094344.pdf">https://apps.dtic.mil/sti/pdfs/AD1094344.pdf</a></p>



<a name="278636018"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278636018" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278636018">(Apr 12 2022 at 00:59)</a>:</h4>
<p>(The most elaborate attempt at avoiding overlaps had to be backed out of the repo - we weren't able to mature it sufficiently in the available time.  Git has it in the history if/when we can revisit it.  For just watertight meshing, it's not necessary.)</p>



<a name="278636141"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278636141" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278636141">(Apr 12 2022 at 01:00)</a>:</h4>
<p>The watertight tessellation code needs robustness testing and improvements.</p>



<a name="278681804"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278681804" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278681804">(Apr 12 2022 at 11:57)</a>:</h4>
<p>I have read <em>BRL-CAD NURBS Boolean evaluation guide.pdf</em> carefully, as well as  source code and test code about NURBS boolean and intersect, and the two references listed.</p>



<a name="278681922"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278681922" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278681922">(Apr 12 2022 at 11:58)</a>:</h4>
<p>It seems <em>ON_Boolean()</em> function in <em>src/libbrep/boolean.cpp</em> has implemented boolean operation using OpenNURBS, with ON_Brep variables input and ON_Brep variable output.</p>



<a name="278682719"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278682719" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278682719">(Apr 12 2022 at 12:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/278523493">said</a>:</p>
<blockquote>
<p>lens_object in that case is a combination object (i.e., its type is actually a 'comb' and it is not a brep/nurbs entity) that includes a boolean recipe.  that is called implicit or unevaluated representation.  lens_object is type comb, sphA is type ell, sphB is type ell.</p>
</blockquote>
<p>I'm wondering what is needed to be done in the boolean operation. Does it mean there needs to be a type conversion from ellipse and other data structure to <em>ON_Brep</em> or <em>rt_brep_internal</em>? Or improve boolean function to combine the two input Brep into one, just like <a href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.146.3590&amp;rep=rep1&amp;type=pdf">Watertight Trimmed NURBS</a>?</p>



<a name="278787522"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278787522" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278787522">(Apr 13 2022 at 06:00)</a>:</h4>
<p>The latter.  There actually are already functions that convert nearly every primitive like ell to brep/ nurbs (see rt_ell_brep() in src/librt/primitives/ell.c)</p>



<a name="278787631"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278787631" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278787631">(Apr 13 2022 at 06:01)</a>:</h4>
<p>In the example I gave .. it doesn’t matter if that’s an ell or ell that was converted to brep as it’s simple to get it in brep form.  The difficulty is the surface surface intersections</p>



<a name="278787930"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278787930" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278787930">(Apr 13 2022 at 06:06)</a>:</h4>
<p>So it means there are something to be improved in <em>ON_Boolean()</em> and other functions in <em>src/libbrep/boolean.cpp &amp; intersect.cpp</em>, am I right?</p>



<a name="278788205"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278788205" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278788205">(Apr 13 2022 at 06:10)</a>:</h4>
<p>You got it.  That’s the entirety of the project.  Make that function work.  Make it more robust.  Create tests that more systematically explore what is working and what is not working.  Or simply identify specific failures and create a plan for fixing them.  From there create a plan of attack to fix whatever else is not working and so on.</p>



<a name="278788345"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278788345" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278788345">(Apr 13 2022 at 06:12)</a>:</h4>
<p>It would probably help if you create two overlapping brep spheres and try to Boolean evaluate them, now that you’ve ref the paper.  See if it works.  If I’d does, see if it fails when they nearly tangent.  If that works, see if one is fully inside/outside the other, and so on</p>



<a name="278788449"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278788449" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278788449">(Apr 13 2022 at 06:14)</a>:</h4>
<p>If that all works great then maybe propose a project to do the same patter to all possible combination of two primitives</p>



<a name="278788601"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278788601" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278788601">(Apr 13 2022 at 06:16)</a>:</h4>
<p>Yes, I see. There has been a lot of work in NURBS Boolean and it works in many cases. I can test normal and special cases, evaluate and improve the performance or accuracy of some of the functions.</p>



<a name="278788699"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278788699" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278788699">(Apr 13 2022 at 06:18)</a>:</h4>
<p>But for the GSoC proposal deadline in one week, I think I need to proposal something concrete and digitized.</p>



<a name="278789110"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278789110" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278789110">(Apr 13 2022 at 06:25)</a>:</h4>
<p>Should I test manually to get boolean issues? Maybe this will take some time and is not very efficient.</p>



<a name="278789183"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278789183" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278789183">(Apr 13 2022 at 06:26)</a>:</h4>
<p>So I want to know where in NURBS Boolean or Intersect there is a higher modification priority, so that I can study the source code in a targeted manner, consult the papers and propose a concrete and detailed proposal.</p>



<a name="278789694"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278789694" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278789694">(Apr 13 2022 at 06:35)</a>:</h4>
<p>The short summary that you hopefully understood from reading the paper is that it’s good, really good, but it’s stilll incomplete.</p>



<a name="278789812"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278789812" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278789812">(Apr 13 2022 at 06:37)</a>:</h4>
<p>I think you should test manually enough to understand what works and what does not.   If you very quickly find issues, then you can simply propose to work on them for starters and will plan to continue that approach perhaps using TDD.</p>



<a name="278789892"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278789892" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278789892">(Apr 13 2022 at 06:38)</a>:</h4>
<p>If you have trouble finding one that doesn’t work, then that would imply a very different project, one more automated and systematic.  Aim to prove just how good it is, or systematically test all possible conditions</p>



<a name="278790295"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278790295" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278790295">(Apr 13 2022 at 06:45)</a>:</h4>
<p>OK.. It will be a different GSoC project. I will test it manually in the following days, report it here, write them in the document as well as my proposal. If it's accepted in GSOC, I will continue to TDD, record the process of my own testing, and improve or prove the functions according to the situation.</p>



<a name="278790406"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278790406" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278790406">(Apr 13 2022 at 06:46)</a>:</h4>
<p>There will not a very accurate description of the project progress and workload in the proposal, but I will reflect them in the later reports.</p>



<a name="278818962"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/278818962" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#278818962">(Apr 13 2022 at 11:57)</a>:</h4>
<p>I found there are lots of todo works in <a href="https://brlcad.org/wiki/NURBS_TODO">wiki</a>,but but it looks like it hasn't been updated for a long time. I will pay more attention to these aspects.</p>



<a name="279084062"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279084062" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279084062">(Apr 15 2022 at 14:19)</a>:</h4>
<p>Here is one error I found test brep.</p>



<a name="279084161"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279084161" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279084161">(Apr 15 2022 at 14:20)</a>:</h4>
<p>(deleted)</p>



<a name="279084834"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279084834" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279084834">(Apr 15 2022 at 14:27)</a>:</h4>
<p><a href="/user_uploads/1549/WpIEsM07WsFVGv29Comjrq0o/Snipaste_2022-04-15_22-16-47.png">Snipaste_2022-04-15_22-16-47.png</a> <a href="/user_uploads/1549/Xto5cpxqQQZXShFhIxbFhf4A/Snipaste_2022-04-15_22-17-04.png">Snipaste_2022-04-15_22-17-04.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/WpIEsM07WsFVGv29Comjrq0o/Snipaste_2022-04-15_22-16-47.png" title="Snipaste_2022-04-15_22-16-47.png"><img src="/user_uploads/1549/WpIEsM07WsFVGv29Comjrq0o/Snipaste_2022-04-15_22-16-47.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/Xto5cpxqQQZXShFhIxbFhf4A/Snipaste_2022-04-15_22-17-04.png" title="Snipaste_2022-04-15_22-17-04.png"><img src="/user_uploads/1549/Xto5cpxqQQZXShFhIxbFhf4A/Snipaste_2022-04-15_22-17-04.png"></a></div>



<a name="279084936"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279084936" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279084936">(Apr 15 2022 at 14:28)</a>:</h4>
<p>Above is two arb8 objects</p>



<a name="279084987"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279084987" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279084987">(Apr 15 2022 at 14:29)</a>:</h4>
<p><a href="/user_uploads/1549/HwrxPhWm7YZW_v-RtmN3ubBZ/Snipaste_2022-04-15_22-17-23.png">Snipaste_2022-04-15_22-17-23.png</a> <a href="/user_uploads/1549/YtISwRcne5yVjNbESja_-IfY/Snipaste_2022-04-15_22-17-38.png">Snipaste_2022-04-15_22-17-38.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/HwrxPhWm7YZW_v-RtmN3ubBZ/Snipaste_2022-04-15_22-17-23.png" title="Snipaste_2022-04-15_22-17-23.png"><img src="/user_uploads/1549/HwrxPhWm7YZW_v-RtmN3ubBZ/Snipaste_2022-04-15_22-17-23.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/YtISwRcne5yVjNbESja_-IfY/Snipaste_2022-04-15_22-17-38.png" title="Snipaste_2022-04-15_22-17-38.png"><img src="/user_uploads/1549/YtISwRcne5yVjNbESja_-IfY/Snipaste_2022-04-15_22-17-38.png"></a></div>



<a name="279085449"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279085449" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279085449">(Apr 15 2022 at 14:33)</a>:</h4>
<p>Below are union the two objects together, then convert the union to Brep. </p>
<ol>
<li>It's clear two surfaces do not generate properly.</li>
<li>Mesh generated by Brep tessellation is of poor quality.</li>
</ol>



<a name="279085528"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279085528" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279085528">(Apr 15 2022 at 14:34)</a>:</h4>
<p><a href="/user_uploads/1549/TH3G1PgDMNUjim2XalyMEhA4/Snipaste_2022-04-15_22-34-10.png">Snipaste_2022-04-15_22-34-10.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/TH3G1PgDMNUjim2XalyMEhA4/Snipaste_2022-04-15_22-34-10.png" title="Snipaste_2022-04-15_22-34-10.png"><img src="/user_uploads/1549/TH3G1PgDMNUjim2XalyMEhA4/Snipaste_2022-04-15_22-34-10.png"></a></div>



<a name="279085818"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279085818" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279085818">(Apr 15 2022 at 14:37)</a>:</h4>
<p>I'm writing my proposal and plan to send you a draft tomorrow.</p>



<a name="279283180"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279283180" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279283180">(Apr 18 2022 at 12:46)</a>:</h4>
<p>Yep that looks like a bug in the eval.</p>



<a name="279283214"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279283214" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279283214">(Apr 18 2022 at 12:47)</a>:</h4>
<p>Would be interesting to know if the bug happens if the arb is fully inside the face versus aligned to some side.</p>



<a name="279284396"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279284396" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279284396">(Apr 18 2022 at 13:01)</a>:</h4>
<p>OK, I will test it later. Here are another bug</p>



<a name="279284461"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279284461" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279284461">(Apr 18 2022 at 13:02)</a>:</h4>
<p><a href="/user_uploads/1549/v7FJJiQS7P3WdfZ0P7l0dI9s/Snipaste_2022-04-18_14-06-18.png">Snipaste_2022-04-18_14-06-18.png</a> These are four solids before Brep</p>
<div class="message_inline_image"><a href="/user_uploads/1549/v7FJJiQS7P3WdfZ0P7l0dI9s/Snipaste_2022-04-18_14-06-18.png" title="Snipaste_2022-04-18_14-06-18.png"><img src="/user_uploads/1549/v7FJJiQS7P3WdfZ0P7l0dI9s/Snipaste_2022-04-18_14-06-18.png"></a></div>



<a name="279284515"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279284515" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279284515">(Apr 18 2022 at 13:03)</a>:</h4>
<p><a href="/user_uploads/1549/0797RXMqRHBZJ60Q2kCL4RoL/Snipaste_2022-04-18_14-06-29.png">Snipaste_2022-04-18_14-06-29.png</a> This is after Brep operation.<br>
Not only some faces of arb8 are lost, but also one sph is lost totally.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/0797RXMqRHBZJ60Q2kCL4RoL/Snipaste_2022-04-18_14-06-29.png" title="Snipaste_2022-04-18_14-06-29.png"><img src="/user_uploads/1549/0797RXMqRHBZJ60Q2kCL4RoL/Snipaste_2022-04-18_14-06-29.png"></a></div>



<a name="279284749"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279284749" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279284749">(Apr 18 2022 at 13:06)</a>:</h4>
<p>I think these bugs have something in common. I'm doing more tests, and try to locate the bugs.</p>



<a name="279512003"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279512003" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279512003">(Apr 20 2022 at 08:21)</a>:</h4>
<p>I have found some errors in BRL-CAD, not only in terms of NURBS. How should I document these issues? Shall I add them to github issues?</p>



<a name="279601687"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279601687" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279601687">(Apr 20 2022 at 20:54)</a>:</h4>
<p>Sure <span class="user-mention" data-user-id="491779">@GregoryLi</span> if you found a bug and can reproduce it, sounds great for submitting an issue.. or if you fix it, submit a pull request.</p>



<a name="279601821"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279601821" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279601821">(Apr 20 2022 at 20:55)</a>:</h4>
<p>Those bugs you found are great examples of simple failures.  One of the interesting and useful outcomes would be to systematically perform a broad variety of configurations and dashboard the failures.</p>



<a name="279626652"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/279626652" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#279626652">(Apr 21 2022 at 01:53)</a>:</h4>
<p>Yes, I'm trying to list all the possible cases and combine them. Recoding them clearly will be useful for ensuring robustness of the system.</p>



<a name="280035033"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/280035033" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#280035033">(Apr 25 2022 at 08:00)</a>:</h4>
<p>I have found some errors and added to issues:<br>
<a href="https://github.com/BRL-CAD/brlcad/issues/35">Compile error in windows about character encoding</a><br>
<a href="https://github.com/BRL-CAD/brlcad/issues/31">Display error while doing a boolean operation in archer</a><br>
<a href="https://github.com/BRL-CAD/brlcad/issues/33">Missing surfaces while boolean and brep</a><br>
<a href="https://github.com/BRL-CAD/brlcad/issues/34">Missing entity while boolean and brep</a></p>



<a name="280035462"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/280035462" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#280035462">(Apr 25 2022 at 08:04)</a>:</h4>
<p>I am trying to read and modify the source code. And I will update important findings into issues.</p>



<a name="280227458"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/280227458" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#280227458">(Apr 26 2022 at 15:33)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> those look great.  Looks like there's no shortage of issues to investigate and work on!  Do you think you could create a systematic test?  Like create a program that creates a 1000mm unit cube (0,0,0 to 1000,1000,1000), then creates another object (e.g., another unit cube) in all positions with respect to the other object.</p>



<a name="280227651"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/280227651" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#280227651">(Apr 26 2022 at 15:34)</a>:</h4>
<p>ideally something systematic with a directly computable result so you can know when brep eval fails just by asking for the volume, for example, or evaluating a shotline thickness.</p>



<a name="280292207"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/280292207" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#280292207">(Apr 27 2022 at 01:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/280227458">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> those look great.  Looks like there's no shortage of issues to investigate and work on!  Do you think you could create a systematic test?  Like create a program that creates a 1000mm unit cube (0,0,0 to 1000,1000,1000), then creates another object (e.g., another unit cube) in all positions with respect to the other object.</p>
</blockquote>
<p>I think these tests will be useful. If possible, adding topology testing would be a good extension. <br>
Shall I write these tests using C or shell script?</p>



<a name="280292674"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/280292674" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#280292674">(Apr 27 2022 at 01:10)</a>:</h4>
<p>I have another question. According to NURBS-Boolean-Evaluation-Development-Guide.pdf chapter 4.1, <code>bool1*</code> and <code>bool2*</code> files are created for development convenience. But I can only find them when I run a shell script to test brep on linux. Running neither in archer nor megd generates.</p>



<a name="280437364"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/280437364" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#280437364">(Apr 28 2022 at 02:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/280292674">said</a>:</p>
<blockquote>
<p>I have another question. According to NURBS-Boolean-Evaluation-Development-Guide.pdf chapter 4.1, <code>bool1*</code> and <code>bool2*</code> files are created for development convenience. But I can only find them when I run a shell script to test brep on linux. Running neither in archer nor megd generates.</p>
</blockquote>
<p>OK..I find those files on windows. After boolean operation, those files are generated in <code>C:\Users\xxx</code>... But here it is generated, and it's not deleted. It's weird...</p>



<a name="281794895"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/281794895" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#281794895">(May 10 2022 at 08:51)</a>:</h4>
<p>Sorry for the delay because I took several midterm exams some days ago.</p>



<a name="281795247"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/281795247" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#281795247">(May 10 2022 at 08:54)</a>:</h4>
<p>I think calculating the length(or thickness) of the intersection of one ray and one Brep model is useful for testing. I didn't find it in current project, I'll list it into my TODO list.</p>



<a name="281795921"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/281795921" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#281795921">(May 10 2022 at 09:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/279084987">said</a>:</p>
<blockquote>
<p><a href="/user_uploads/1549/HwrxPhWm7YZW_v-RtmN3ubBZ/Snipaste_2022-04-15_22-17-23.png">Snipaste_2022-04-15_22-17-23.png</a> <a href="/user_uploads/1549/YtISwRcne5yVjNbESja_-IfY/Snipaste_2022-04-15_22-17-38.png">Snipaste_2022-04-15_22-17-38.png</a></p>
</blockquote>
<p>For missing faces cases, I think it's important to tell if a Brep model is a manifold. As a simple start, I can start with determining whether each edge links two faces or not. If not, it's a non-manifold.</p>



<a name="282148238"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/282148238" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#282148238">(May 12 2022 at 18:04)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="491779">@GregoryLi</span> hope your exams went well!  Note that the "nirt" command in mged will fire a single ray (at any geometry).  It's often used to inspect geometry and ray tracing behavior, or even help with debugging a specific issue.</p>



<a name="282148497"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/282148497" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#282148497">(May 12 2022 at 18:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/281795921">said</a>:</p>
<div class="codehilite"><pre><span></span><code>For missing faces cases, I think it&#39;s important to tell if a Brep model is a manifold. As a simple start, I can start with determining whether each edge links two faces or not. If not, it&#39;s a non-manifold.
````
There are functions in OpenNURBS that report whether geometry IsSolid() and IsValid(), among other properties.  Can possibly look there to see if there&#39;s a manifold test at each phase of a given boolean evaluation.
</code></pre></div>



<a name="282190863"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/282190863" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#282190863">(May 13 2022 at 00:58)</a>:</h4>
<p>Thanks! I will check these comands and functions.</p>



<a name="284458476"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284458476" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284458476">(May 31 2022 at 11:09)</a>:</h4>
<p>Hi, I just finished all the exams this semester. I have more time available to invest in GSOC.</p>



<a name="284458857"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284458857" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284458857">(May 31 2022 at 11:10)</a>:</h4>
<p>Here are some TODOs before June 13.</p>



<a name="284459462"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284459462" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284459462">(May 31 2022 at 11:17)</a>:</h4>
<ol>
<li>Look into Nurbs boolean source code</li>
<li>Locate error code of missing surfaces while boolean and brep</li>
<li>Investigate manifold check in boolean operation</li>
<li>After reading source code, look into corresponding literature with the same Spline method</li>
<li>double read document: nirt command &amp; NURBS Boolean Evaluation Development Guide</li>
</ol>



<a name="284459713"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284459713" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284459713">(May 31 2022 at 11:19)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  Do you have any opinion? I think I need to do something as soon as possible to start my first commit.</p>



<a name="284502791"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284502791" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284502791">(May 31 2022 at 16:29)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> in general that all sounds good, though #1-#4 seem rather ill-defined / unactionable.  I suggest doing #5, particularly reading the nurbs guide, but instead work on something that helps you get familiarized with the opennurbs data structures</p>
<p>One idea that comes to mind is to re-implement converting an arb8 to brep, and see if you can make it support non-planar arb8 faces.</p>



<a name="284502981"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284502981" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284502981">(May 31 2022 at 16:30)</a>:</h4>
<p>For example, currently if you create an arb8 box and just move one vertex, the resulting faces are non-planar.  You can see an example here:<br>
<a href="http://">Uploading Screen Shot 2022-05-31 at 12.27.34 PM.png…</a></p>



<a name="284503153"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284503153" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284503153">(May 31 2022 at 16:31)</a>:</h4>
<p>That renders with rt, but it renders incorrectly (it assumes it's planar).  It could render correctly if we converted it to brep on the fly.  However, if I run the brep command now to convert it, it apparently splits the non-planar faces.  It could just convert them to brep as-is.</p>



<a name="284503269"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284503269" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284503269">(May 31 2022 at 16:32)</a>:</h4>
<p>In fact, we have an example of non-planar cube code in src/proc-db/brep_simple.cpp (also see twistedcube.cpp) that shows it's possible.</p>



<a name="284503579"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284503579" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284503579">(May 31 2022 at 16:34)</a>:</h4>
<p>I suggest familiarizing yourself with brep_simple (run it, render the model with rt, shoot it with nirt), create a cube and move one of the vertices (and test that with rt and nirt), and see if you can figure out how to get the brep command to generate the appropriate conversion.  Code for arb8 is in src/librt/primitives/arb8 directory.</p>



<a name="284554291"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284554291" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284554291">(Jun 01 2022 at 00:37)</a>:</h4>
<p>Thanks! Your suggestion is very clear and useful, I will try and solve it as my first step. Although I can't open the png, but I can get your idea. I will reproduce the problem.</p>



<a name="284554559"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284554559" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284554559">(Jun 01 2022 at 00:41)</a>:</h4>
<p>Btw, here is my detailed and pubilc TODO board for BRL-CAD. You can see and comment on it if you want.<a href="https://gregoryl.notion.site/699db68bfe1e4f9ab93359803a9e2cb4?v=66220ffbbfb14749b1effc8f41fe0fb7">TODO list</a></p>



<a name="284554714"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284554714" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284554714">(Jun 01 2022 at 00:43)</a>:</h4>
<p>For  #5 and  your suggestion, I will mark them as top priority. I think they would be a good start.</p>



<a name="284773647"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284773647" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284773647">(Jun 02 2022 at 16:59)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> ah, I see you have a dev log at <a href="https://brlcad.org/wiki/User:GregoryLi/GSoc2022/DevLog">https://brlcad.org/wiki/User:GregoryLi/GSoc2022/DevLog</a>, which is great -- can you link to it on the 2022 page?</p>



<a name="284826069"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284826069" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284826069">(Jun 03 2022 at 01:45)</a>:</h4>
<p>Sure, I will begin to update my devlog from today.</p>



<a name="284876251"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284876251" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284876251">(Jun 03 2022 at 13:11)</a>:</h4>
<p>Apparently that screenshot upload never succeeded.  Here it is again: <a href="/user_uploads/1549/mJFNzDn4Z01jrfgx_BgqXdSk/Screen-Shot-2022-05-31-at-12.27.34-PM.png">Screen-Shot-2022-05-31-at-12.27.34-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/mJFNzDn4Z01jrfgx_BgqXdSk/Screen-Shot-2022-05-31-at-12.27.34-PM.png" title="Screen-Shot-2022-05-31-at-12.27.34-PM.png"><img src="/user_uploads/1549/mJFNzDn4Z01jrfgx_BgqXdSk/Screen-Shot-2022-05-31-at-12.27.34-PM.png"></a></div>



<a name="284968830"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284968830" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284968830">(Jun 04 2022 at 09:29)</a>:</h4>
<p>Thanks, I can see it now and reproduce it.</p>



<a name="284968915"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284968915" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284968915">(Jun 04 2022 at 09:31)</a>:</h4>
<p><a href="/user_uploads/1549/Q3HzAuwbCV84tS1qbeW_Us_Z/image.png">image.png</a> from this point of view, it's clear that there is problems while rt.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/Q3HzAuwbCV84tS1qbeW_Us_Z/image.png" title="image.png"><img src="/user_uploads/1549/Q3HzAuwbCV84tS1qbeW_Us_Z/image.png"></a></div>



<a name="284969427"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284969427" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284969427">(Jun 04 2022 at 09:45)</a>:</h4>
<p>btw, how to delete wiki page? I have created one wrong wiki page: <a href="https://brlcad.org/wiki/User:GregoryLi/GSoc2022/DevLog">https://brlcad.org/wiki/User:GregoryLi/GSoc2022/DevLog</a><br>
The correct site should be:<br>
<a href="https://brlcad.org/wiki/User:GregoryLi/GSoC2022/DevLog">https://brlcad.org/wiki/User:GregoryLi/GSoC2022/DevLog</a><br>
with <strong>GSoc</strong> to <strong>GSoC</strong></p>



<a name="284969435"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284969435" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284969435">(Jun 04 2022 at 09:45)</a>:</h4>
<p>I created both but I couldn't delete the wrong one...</p>



<a name="284984445"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/284984445" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#284984445">(Jun 04 2022 at 15:04)</a>:</h4>
<p>I think it requires admin access. I've deleted the one with the lower case c</p>



<a name="285008915"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/285008915" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#285008915">(Jun 05 2022 at 01:14)</a>:</h4>
<p>Thanks! I get it.</p>



<a name="285116860"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/285116860" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#285116860">(Jun 06 2022 at 14:07)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> there are a number of issues with rt rendering that arb8, but what's more interesting is whether it can be converted to brep/nurbs cleanly.  if it can, then we could probably detect non-planar faces and auto-convert during prep.  first step would be getting the brep command to successfully turn it into a brep though -- it currently doesn't from what I can see meaning the implementation in arb8_brep.cpp could be improved.</p>



<a name="285204650"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/285204650" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#285204650">(Jun 07 2022 at 05:05)</a>:</h4>
<p>Yes, I'm now looking into <code>src/librt/primitives/arb8.c/rt_arb_tess()</code>. I can see it facetized in <code>nmg_cmface()</code>. What do you mean by "improved"? Here is one: we can get two facetize output as picture below. I think it's better to make it configurable or set a default case, such as convex as default. <a href="/user_uploads/1549/9PJLOavepEnbwQe78ai7O7rm/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/9PJLOavepEnbwQe78ai7O7rm/image.png" title="image.png"><img src="/user_uploads/1549/9PJLOavepEnbwQe78ai7O7rm/image.png"></a></div>



<a name="285204838"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/285204838" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#285204838">(Jun 07 2022 at 05:09)</a>:</h4>
<p>And I will try brep_simple now.</p>



<a name="285289789"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/285289789" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#285289789">(Jun 07 2022 at 17:52)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> converting an arb8 to a brep should not involve calling rt_arb_tess() .. that's for turning an arb8 into a tessellated triangle mesh</p>



<a name="285289907"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/285289907" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#285289907">(Jun 07 2022 at 17:53)</a>:</h4>
<p>which explains why it splits the non-planar faces with an edge, but notice how the original object surface when you move just one vertex should be a smooth warped surface</p>



<a name="285333267"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/285333267" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#285333267">(Jun 08 2022 at 01:05)</a>:</h4>
<p>Oh, it suddendly came to me <code>brep</code> and <code>facetize</code> are two totally different things!</p>



<a name="285340197"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/285340197" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#285340197">(Jun 08 2022 at 03:18)</a>:</h4>
<p>indeed, brep is a general purpose command for creating and manipulating brep (aka nurbs) objects;  facetize is a command that performs conversions of input geometry to a facetized (aka polygonal) format such as our Bag of Triangles (aka 'bot') format and N-Manifold Geometry (aka 'nmg') for more generalized polygons.</p>



<a name="286220779"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/286220779" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#286220779">(Jun 15 2022 at 14:36)</a>:</h4>
<p>I'm sorry that I was quarantined due to policy about covid-19 :(. I had little time on BRL-CAD and I missed one work-day, which is going to be filled this Saturday. So far I have tested brep_simple.cpp/brep_cube.cpp and do it in the normal way.</p>



<a name="286221110"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/286221110" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#286221110">(Jun 15 2022 at 14:38)</a>:</h4>
<p>I see there is non-planar log info while convrting it into brep in mged.<br>
<a href="/user_uploads/1549/wAuekikwzlqHARYv8RMZ_GTL/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/wAuekikwzlqHARYv8RMZ_GTL/image.png" title="image.png"><img src="/user_uploads/1549/wAuekikwzlqHARYv8RMZ_GTL/image.png"></a></div>



<a name="286221884"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/286221884" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#286221884">(Jun 15 2022 at 14:43)</a>:</h4>
<p>The result seems confusing in brep_simple.cpp: the rt picture shows the none-planar faces have a fixed normal or a smoothly changing normal, with four non-planar vertex and four straight edge. It's hard to imagine how the surface looks like...</p>



<a name="286222980"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/286222980" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#286222980">(Jun 15 2022 at 14:50)</a>:</h4>
<p>I looked into source code of brep_simple.cpp, twistedcube.cpp and arb8_brep.cpp, try to find the differences between them. But further research is required... <br>
And I want to replace the input data in brep_simple with arb8. I wrote some code but still need to adapt to the transition from C++ to C. (Because there are some C style codes)</p>



<a name="286304317"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/286304317" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#286304317">(Jun 16 2022 at 04:14)</a>:</h4>
<p>Imagine a cube made out of clay, and you grab the top four vertices and rotate it some.  That’s the example.</p>



<a name="286304339"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/286304339" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#286304339">(Jun 16 2022 at 04:15)</a>:</h4>
<p>The twisted cube brep should render with rt just fine to get an idea for what it should look like.</p>



<a name="286694448"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/286694448" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#286694448">(Jun 19 2022 at 06:59)</a>:</h4>
<p>Hi, I have wrote one example about arb8 test and I want to upload it, what should I do? Shall I fork BRL-CAD on github, or just create another branch?</p>



<a name="287281634"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/287281634" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#287281634">(Jun 24 2022 at 02:32)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> Hi, I just wrote some test projects like brep_simple, brep_trimmed and I'd like to upload them. What should I do?<br>
choice 1: create a branch in BRL-CAD and upload them.<br>
choice 2: fork BRL-CAD to my personal github and upload them.<br>
I think I will write lots of test projects, I don't konw if it will be too many and boring for BRL-CAD.</p>



<a name="287294797"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/287294797" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#287294797">(Jun 24 2022 at 06:39)</a>:</h4>
<p>I ran <strong>surfaceinteresct</strong> project but error occured. I tried to fix it but failed. Can you help me?</p>



<a name="287294845"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/287294845" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#287294845">(Jun 24 2022 at 06:39)</a>:</h4>
<p><a href="/user_uploads/1549/UbEiRsUGtXHi-n4BkYgg-A2P/image.png">image.png</a> <br>
This is the error stack.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/UbEiRsUGtXHi-n4BkYgg-A2P/image.png" title="image.png"><img src="/user_uploads/1549/UbEiRsUGtXHi-n4BkYgg-A2P/image.png"></a></div>



<a name="287295353"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/287295353" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#287295353">(Jun 24 2022 at 06:46)</a>:</h4>
<p>I think the reason is that the four <strong>ON_Curve</strong> object was not created and initialized properly. I changed them to <code>ON_Curve *left1 = new ON_NurbsCurve(), *right1 = new ON_NurbsCurve(), *left2 = new ON_NurbsCurve(), *right2 = new ON_NurbsCurve();</code> and failed still....</p>



<a name="287710439"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/287710439" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#287710439">(Jun 28 2022 at 12:48)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> Sorry I was consumed the past few days wrapping up a task and holiday.  As for your choices, you wont' be able to do #1 without having commit access and you won't have that until you successfully submit a couple PRs.  So I think that's your best bet -- submit changes as PRs that are clean.</p>



<a name="287712519"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/287712519" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#287712519">(Jun 28 2022 at 13:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/287294797">said</a>:</p>
<blockquote>
<p>I ran <strong>surfaceinteresct</strong> project but error occured. I tried to fix it but failed. Can you help me?</p>
</blockquote>
<p>surfaceintersect is a good one to look at but understand that it's a work-in-progress code by another dev in an unknown working state.  I'm not sure it ever worked.  looking at the implementation, it appears to be trying to implement a SurfaceIntersect() function as that's one of the functions that opennurbs removes from their code.  however, the implementation still relies on ON_NurbsCurve::Split() which does exist and is where it's crashing -- so you'd have to debug through that function to see what it's expecting there.</p>



<a name="287713267"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/287713267" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#287713267">(Jun 28 2022 at 13:10)</a>:</h4>
<p>I also get the same error stack, for what it's worth.  I think you're on the right track as the implementation seems to be expecting them to be ON_NurbsCurve() and cannot be ON_Curve entities.  My first thought would be to simply make them ON_NurbsCurve left, right; and pass references to Split().  I'd step through that in a debugger to see how it proceeds.</p>



<a name="287720405"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/287720405" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#287720405">(Jun 28 2022 at 14:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/287710439">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> Sorry I was consumed the past few days wrapping up a task and holiday.  As for your choices, you wont' be able to do #1 without having commit access and you won't have that until you successfully submit a couple PRs.  So I think that's your best bet -- submit changes as PRs that are clean.</p>
</blockquote>
<p>Thanks! I will clean up my code and submit them tomorrow. I want to make my test more formal and reproducible, that make a comparison of the changes before and after TTD for brep boolean. : )</p>



<a name="287832464"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/287832464" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#287832464">(Jun 29 2022 at 10:18)</a>:</h4>
<p>Hi, I just created one PR here(<a href="https://github.com/BRL-CAD/brlcad/pull/53">https://github.com/BRL-CAD/brlcad/pull/53</a>).</p>



<a name="287832742"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/287832742" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#287832742">(Jun 29 2022 at 10:21)</a>:</h4>
<p>If it works well, you can see two error brep objects: <em>brep.arb_3</em> and <em>brep.arb_4</em><br>
<a href="/user_uploads/1549/Jsc-r_O-ONpmR3YrZhFxKdiX/image.png">image.png</a> <br>
<a href="/user_uploads/1549/AzrvOLIkdOPWf0upjYDK-p1G/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/Jsc-r_O-ONpmR3YrZhFxKdiX/image.png" title="image.png"><img src="/user_uploads/1549/Jsc-r_O-ONpmR3YrZhFxKdiX/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/AzrvOLIkdOPWf0upjYDK-p1G/image.png" title="image.png"><img src="/user_uploads/1549/AzrvOLIkdOPWf0upjYDK-p1G/image.png"></a></div>



<a name="287833260"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/287833260" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#287833260">(Jun 29 2022 at 10:27)</a>:</h4>
<p>The brep objects created by my project are wong. While converting them to brep using <em>brep</em> cmd in archer, the outputs are right. I found the problem just now. Looking into the problem :(</p>



<a name="288519488"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/288519488" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#288519488">(Jul 05 2022 at 12:19)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> I spend serval hours to rebuild the project after pulling recent merges and found serval problems while building.</p>



<a name="288520350"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/288520350" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#288520350">(Jul 05 2022 at 12:26)</a>:</h4>
<p>In brlcad\src\conv\ply\g-ply.c, error occurs about array definition. <em>C2057: expected constant expression</em><br>
I thought it is caused by C language standard, but still failed after using std:c17 <a href="/user_uploads/1549/iUv3IBuGsp7MtBOC0NT1UO45/image.png">image.png</a> <br>
Finally rebuild succeed by modifing the code.<br>
<a href="/user_uploads/1549/yVAjC8a4J7JLzgE18rdac0-2/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/iUv3IBuGsp7MtBOC0NT1UO45/image.png" title="image.png"><img src="/user_uploads/1549/iUv3IBuGsp7MtBOC0NT1UO45/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/yVAjC8a4J7JLzgE18rdac0-2/image.png" title="image.png"><img src="/user_uploads/1549/yVAjC8a4J7JLzgE18rdac0-2/image.png"></a></div>



<a name="288521246"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/288521246" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#288521246">(Jul 05 2022 at 12:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/287833260">said</a>:</p>
<blockquote>
<p>The brep objects created by my project are wong. While converting them to brep using <em>brep</em> cmd in archer, the outputs are right. I found the problem just now. Looking into the problem :(</p>
</blockquote>
<p>As for the problem I mentioned, I use file output to track code stack by <em>_brep_cmd_brep</em> and found it's the same as my test case.</p>



<a name="288521505"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/288521505" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#288521505">(Jul 05 2022 at 12:35)</a>:</h4>
<p>And I'm still debuging the brep funciton... I think there are more problems than I thought.</p>



<a name="288559321"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/288559321" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#288559321">(Jul 05 2022 at 17:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/288520350">said</a>:</p>
<blockquote>
<p>In brlcad\src\conv\ply\g-ply.c, error occurs about array definition. <em>C2057: expected constant expression</em><br>
I thought it is caused by C language standard, but still failed after using std:c17 <a href="/user_uploads/1549/iUv3IBuGsp7MtBOC0NT1UO45/image.png">image.png</a> <br>
Finally rebuild succeed by modifing the code.<br>
<a href="/user_uploads/1549/yVAjC8a4J7JLzgE18rdac0-2/image.png">image.png</a></p>
</blockquote>
<p>Microsoft Visual Studio does not support the C99 feature VLA (variable length array). In C11 it isn't mandatory. You can check there if the __STDC_NO_VLA__ macro is defined or not.</p>
<p>Don't forget to free the array if it isn't needed anymore.</p>



<a name="288615033"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/288615033" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#288615033">(Jul 06 2022 at 02:26)</a>:</h4>
<p>Thanks, you hit the bullseye! It seems VLA is illegal in the ISO standard and not supported in Visual Studio. So do I need to change to a legal way such as using <em>bu_calloc</em>? Or I just use it in my local repository?</p>



<a name="288629375"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/288629375" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#288629375">(Jul 06 2022 at 06:40)</a>:</h4>
<p>I haven't looked at what you are doing there exactly, but there are already similar constructs in g-ply.c using <em>bu_calloc()</em>. You can use them as template for your changes. At the end, the code should compile with all major compilers.</p>



<a name="289151140"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289151140" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289151140">(Jul 11 2022 at 06:56)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="491779">@GregoryLi</span> that build error you ran into was fixed last week, so it won't be a problem if you update.  windows should be building cleanly (is for me), but let me know if you encounter an issue.</p>



<a name="289151713"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289151713" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289151713">(Jul 11 2022 at 07:03)</a>:</h4>
<p>I'd like to see a summary of progress sometime later this week, and we need to discuss.  "Debug brep using file output system" doesn't really say anything useful or actionable about what you're doing at all.  You have 7-8 days where you generally indicate that you're debugging, but no successful outcomes from any of them so whatever you're doing seems ineffective and probably shouldn't continue like that.  If this debugging is at the limit of your skills after reading the NURBS Development Guide, then we should shift your focus to something more productive like categorically identifying issues instead of debugging them.</p>



<a name="289154395"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289154395" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289154395">(Jul 11 2022 at 07:34)</a>:</h4>
<p>I'm seriously behind schedule due to personal reason. I will organize my recent works and make dev log clear. Maybe reread NURBS Development Guide is critical to remind me not to go to the horns.</p>



<a name="289154523"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289154523" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289154523">(Jul 11 2022 at 07:35)</a>:</h4>
<p>Hope to make a breakthrough before our discussion and work more efficiency.</p>



<a name="289160113"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289160113" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289160113">(Jul 11 2022 at 08:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289151140">said</a>:</p>
<blockquote>
<p>Hi <span class="user-mention silent" data-user-id="491779">GregoryLi</span> that build error you ran into was fixed last week, so it won't be a problem if you update.  windows should be building cleanly (is for me), but let me know if you encounter an issue.</p>
</blockquote>
<p>I rebuild the newest code and no error occured!</p>



<a name="289341159"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289341159" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289341159">(Jul 12 2022 at 15:25)</a>:</h4>
<p>Find multiple outputs with the same 'brep' operation among three BRL-CAD versions:</p>
<ul>
<li>project build with current main branch                  -- missing faces</li>
<li>BRL-CAD 7.32.6 release package                                 -- correct output</li>
<li>project build with BRL-CAD 7.32.6 source code   -- Archer crashed</li>
</ul>



<a name="289341468"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289341468" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289341468">(Jul 12 2022 at 15:27)</a>:</h4>
<p>current main branch:<br>
<a href="/user_uploads/1549/SdO7W8xqfE0P6MnNcePZWLn0/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/SdO7W8xqfE0P6MnNcePZWLn0/image.png" title="image.png"><img src="/user_uploads/1549/SdO7W8xqfE0P6MnNcePZWLn0/image.png"></a></div>



<a name="289341699"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289341699" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289341699">(Jul 12 2022 at 15:28)</a>:</h4>
<p>7.32.6 release package:<br>
<a href="/user_uploads/1549/WdvB2N47LkdeRcwE-Ciyods1/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/WdvB2N47LkdeRcwE-Ciyods1/image.png" title="image.png"><img src="/user_uploads/1549/WdvB2N47LkdeRcwE-Ciyods1/image.png"></a></div>



<a name="289341921"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289341921" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289341921">(Jul 12 2022 at 15:30)</a>:</h4>
<p>build with BRL-CAD 7.32.6 source code:<br>
<a href="/user_uploads/1549/e3FUWm6E8L27CY_OufQGM3ti/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/e3FUWm6E8L27CY_OufQGM3ti/image.png" title="image.png"><img src="/user_uploads/1549/e3FUWm6E8L27CY_OufQGM3ti/image.png"></a></div>



<a name="289342144"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289342144" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289342144">(Jul 12 2022 at 15:31)</a>:</h4>
<p>More boolean cases will be tested.  And I will compare the differences among them.</p>



<a name="289409144"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289409144" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289409144">(Jul 13 2022 at 02:27)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> thanks for sharing</p>



<a name="289409239"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289409239" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289409239">(Jul 13 2022 at 02:28)</a>:</h4>
<p>note that the only value in comparing different versions would be what you show above -- a version that worked, and a more current version that does not -- but then bisecting to find what commit caused it to stop working</p>



<a name="289409599"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289409599" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289409599">(Jul 13 2022 at 02:35)</a>:</h4>
<p>I get it. This will be my main TODO today.</p>



<a name="289409653"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289409653" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289409653">(Jul 13 2022 at 02:36)</a>:</h4>
<p>see if you can find where it stops working.  you'll need to self-compile from a git checkout and obviously get your compiled version to work first.  then you can test different versions to find what change seemed to cause problems.</p>



<a name="289409713"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289409713" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289409713">(Jul 13 2022 at 02:37)</a>:</h4>
<p>git bisect can greatly help, if you know how that works, or if you check out a tutorial.  or you can simply jump forward and backwards through commits until you narrow in on the commit</p>



<a name="289409815"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289409815" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289409815">(Jul 13 2022 at 02:39)</a>:</h4>
<p>note, your 7.32.6 build with the abort message is not terribly helpful -- you'd need to either run that in a debugger to know where abort is being called, or see if you can get a stack trace some other way (I don't know what your buttons say).  simply knowing that it threw up an error is not useful information, however, as any number of unrelated things could be wrong.</p>



<a name="289409954"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289409954" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289409954">(Jul 13 2022 at 02:42)</a>:</h4>
<p>Thanks, I will check them! Note that in Archer build by 7.32.6, <em>brep</em> cmd crashed only in some models, while others not.</p>



<a name="289410185"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289410185" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289410185">(Jul 13 2022 at 02:47)</a>:</h4>
<p>you may want to compile in release mode as that does change the assertion checks that are performed on windows.  the release version may be silently ignoring errors.  release mode isn't terribly useful for debugging but there's no point trying to debug old versions, so it can help find what change succeeds correctly vs incorrectly</p>



<a name="289410562"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289410562" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289410562">(Jul 13 2022 at 02:56)</a>:</h4>
<p>After that's all done, I have an idea for something you could work on that would be helpful.  Implement something that tells us which primitives convert to brep and which do not.  This could be a program like some of the src/proc-db programs, it could be a shell script, it could be a cmake script, it could be a ged script -- what matters is getting an output that includes entries for all of the various solid primitives in src/librt/primitives/table.cpp and reports which convert successfully, which fail (and shouldn't), which fail (and should), and/or which do not have an implementation.  The output can be text or a webpage or similar, but should ideally just be something we can simply run and get a report.  make sense?</p>



<a name="289410663"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289410663" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289410663">(Jul 13 2022 at 02:59)</a>:</h4>
<p>OK, I ignored it.. Build Release now. So more current version should also be tested in Release mode.</p>



<a name="289410759"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289410759" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289410759">(Jul 13 2022 at 03:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289410562">said</a>:</p>
<blockquote>
<p>After that's all done, I have an idea for something you could work on that would be helpful.  Implement something that tells us which primitives convert to brep and which do not.  This could be a program like some of the src/proc-db programs, it could be a shell script, it could be a cmake script, it could be a ged script -- what matters is getting an output that includes entries for all of the various solid primitives in src/librt/primitives/table.cpp and reports which convert successfully, which fail (and shouldn't), which fail (and should), and/or which do not have an implementation.  The output can be text or a webpage or similar, but should ideally just be something we can simply run and get a report.  make sense?</p>
</blockquote>
<p>OK, i understand.</p>



<a name="289439520"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289439520" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289439520">(Jul 13 2022 at 10:28)</a>:</h4>
<p>Note if you need Release mode with debug info on Windows, you can get it as an option by setting the ENABLE_ALL_CONFIG_TYPES option in CMake</p>



<a name="289439580"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289439580" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289439580">(Jul 13 2022 at 10:29)</a>:</h4>
<p>That will enable RelWithDebInfo - that's not a normally used BRL-CAD config (we generally limit the build to Debug and Release modes), but it's sometimes necessary to use RelWithDebInfo  with MSVC</p>



<a name="289543195"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289543195" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289543195">(Jul 14 2022 at 02:00)</a>:</h4>
<p>That's okay, he really doesn't need to debug the old versions.  But good to know.</p>



<a name="289551608"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289551608" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289551608">(Jul 14 2022 at 05:02)</a>:</h4>
<p>Thanks! I just located the merge <em>660c8f</em> is the key to solve the problem.</p>



<a name="289551769"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289551769" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289551769">(Jul 14 2022 at 05:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289341468">said</a>:</p>
<blockquote>
<p>current main branch:<br>
<a href="/user_uploads/1549/SdO7W8xqfE0P6MnNcePZWLn0/image.png">image.png</a></p>
</blockquote>
<p>By the way, although it works well for <em>arb_4.r</em> in current main branch in RELEASE mode, errors still occurs for some other combinations.</p>



<a name="289685569"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289685569" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289685569">(Jul 15 2022 at 04:29)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> how do you figure 660c8f is key?  that's a merge commit on a different branch... I would think you should only be iterating through commits on main.</p>



<a name="289685650"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289685650" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289685650">(Jul 15 2022 at 04:31)</a>:</h4>
<p>that commit merged a bunch of changes <em>from</em> main to swrast, so it's a commit to the swrast branch.</p>



<a name="289685860"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289685860" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289685860">(Jul 15 2022 at 04:36)</a>:</h4>
<p>Sorry, I think the merge did not introduce errors. Now I'm locating it using bisect. But it's time consuming...</p>



<a name="289685873"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289685873" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289685873">(Jul 15 2022 at 04:37)</a>:</h4>
<p>Still building now.<br>
<a href="/user_uploads/1549/EM9P8RGY6xMj4UWTVjwSfp5r/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/EM9P8RGY6xMj4UWTVjwSfp5r/image.png" title="image.png"><img src="/user_uploads/1549/EM9P8RGY6xMj4UWTVjwSfp5r/image.png"></a></div>



<a name="289686480"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289686480" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289686480">(Jul 15 2022 at 04:52)</a>:</h4>
<p>I think it means it's one merge from Release branch to main... Using source tree.<br>
<a href="/user_uploads/1549/iKQZNs0lmAVSRjrlh2UwLM4C/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/iKQZNs0lmAVSRjrlh2UwLM4C/image.png" title="image.png"><img src="/user_uploads/1549/iKQZNs0lmAVSRjrlh2UwLM4C/image.png"></a></div>



<a name="289799859"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289799859" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289799859">(Jul 16 2022 at 01:03)</a>:</h4>
<p>I located the error around <em>1583360</em>. For the specific test case, newer commits get wrong output, older get correct output, some middle versions crashed even in Release mode. Tring to figure it out.</p>



<a name="289808076"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289808076" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289808076">(Jul 16 2022 at 04:38)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> that's actually entirely possible that doing some initialization is changing behavior.  If you manually edit src/libbrep/opennurbs_ext.cpp from DBL_MAX to uninitialized, does it work?</p>



<a name="289808102"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289808102" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289808102">(Jul 16 2022 at 04:39)</a>:</h4>
<p>that's actually a change in the area of code that could indeed affect the behavior of the boolean evaluation</p>



<a name="289831294"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289831294" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289831294">(Jul 16 2022 at 14:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289808076">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> that's actually entirely possible that doing some initialization is changing behavior.  If you manually edit src/libbrep/opennurbs_ext.cpp from DBL_MAX to uninitialized, does it work?</p>
</blockquote>
<p>Actually it's not a problem caused by one commit, but serval commits around it.  So far I have found that commit <em>8a508c8</em> makes <em>arb_4.r</em> test case go from correct to crash, and <em>c39d657cd</em> makes <em>arb_4.r</em> test case go from crash to error output. And it seems that these commits solved another brep problem while causing this new problem...</p>



<a name="289867271"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289867271" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289867271">(Jul 17 2022 at 06:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289410562">said</a>:</p>
<blockquote>
<p>After that's all done, I have an idea for something you could work on that would be helpful.  Implement something that tells us which primitives convert to brep and which do not.  This could be a program like some of the src/proc-db programs, it could be a shell script, it could be a cmake script, it could be a ged script -- what matters is getting an output that includes entries for all of the various solid primitives in src/librt/primitives/table.cpp and reports which convert successfully, which fail (and shouldn't), which fail (and should), and/or which do not have an implementation.  The output can be text or a webpage or similar, but should ideally just be something we can simply run and get a report.  make sense?</p>
</blockquote>
<p>Here's a diagram kind of showing what I had in mind for evaluating all evaluation conditions more systematically:  <a href="/user_uploads/1549/MM0JJ2C1nvzUtDOqjhuZwTNR/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/MM0JJ2C1nvzUtDOqjhuZwTNR/image.png" title="image.png"><img src="/user_uploads/1549/MM0JJ2C1nvzUtDOqjhuZwTNR/image.png"></a></div>



<a name="289867322"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289867322" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289867322">(Jul 17 2022 at 06:18)</a>:</h4>
<p>Basically you have pairs of geometry that you'd create in all possible configurations, which would be 5 x 5 x 5 = 125 pairings</p>



<a name="289867345"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289867345" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289867345">(Jul 17 2022 at 06:19)</a>:</h4>
<p>The images is just a 2D depiction, but the idea would be to create each pair in 3D using two primitives created in different positions and then booleaned together using each operator.</p>



<a name="289867466"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289867466" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289867466">(Jul 17 2022 at 06:22)</a>:</h4>
<p>this is just one height, of course, as there'd be 4 more heights to create pairings for (which would all be trivial using for() loops on the creation).</p>



<a name="289867661"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289867661" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289867661">(Jul 17 2022 at 06:27)</a>:</h4>
<p>For starters, can just focus on arb8, where you'd create the first red box probably centered near the origin, and then make a second green one bigger at each of the corresponding positions in a loop.  It would then be easy to make the code create combinations of "Red u Green", "Red - Green", "Red + Green" (so 125 x 3 = 375 combinations).   We could then also see what the results look like for sph/sph or arb8/sph or sph/rcc etc too.</p>



<a name="289867716"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289867716" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289867716">(Jul 17 2022 at 06:29)</a>:</h4>
<p>This would be very useful as we could also use it to test other algorithms like facetize, or create a fuzz test that creates random combinations looking for failures.</p>



<a name="289868288"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289868288" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289868288">(Jul 17 2022 at 06:44)</a>:</h4>
<p>could encapsulate the entire generation in a function like func(struct wdb *wdbp, enum type1, enum type2, int size1, int size2, double stepsize) and it'd automatically figure out where to generate all pairings based on those integral sizes and it can just iterate the creation of type2 across all positions (maybe more than 5 x 5 x 5) depending on stepsize.</p>



<a name="289873318"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289873318" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289873318">(Jul 17 2022 at 08:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289867271">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289410562">said</a>:</p>
<blockquote>
<p>After that's all done, I have an idea for something you could work on that would be helpful.  Implement something that tells us which primitives convert to brep and which do not.  This could be a program like some of the src/proc-db programs, it could be a shell script, it could be a cmake script, it could be a ged script -- what matters is getting an output that includes entries for all of the various solid primitives in src/librt/primitives/table.cpp and reports which convert successfully, which fail (and shouldn't), which fail (and should), and/or which do not have an implementation.  The output can be text or a webpage or similar, but should ideally just be something we can simply run and get a report.  make sense?</p>
</blockquote>
<p>Here's a diagram kind of showing what I had in mind for evaluating all evaluation conditions more systematically:  <a href="/user_uploads/1549/MM0JJ2C1nvzUtDOqjhuZwTNR/image.png">image.png</a></p>
</blockquote>
<p>Thanks! The method is clear and I have made a similar framework. It's part of the <em>primitives test</em>, am I right?</p>



<a name="289873783"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289873783" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289873783">(Jul 17 2022 at 09:05)</a>:</h4>
<p>Btw, the <em>dplot</em> command in NURBS Development Guide can not be used though Archer have the entrance.., Luckly plot and brep can perform most of its functions. I used them to debug the issues and found the error ssx, but I'm not very proficient in using it.</p>



<a name="289916856"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289916856" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289916856">(Jul 18 2022 at 02:38)</a>:</h4>
<p>What primitives test are you referring to?  I think the answer is "no" ... what I described is a tool that does not exist.  I'm suggesting you implement a tool that autogenerates all pairings of two specified primitive types.</p>



<a name="289916942"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289916942" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289916942">(Jul 18 2022 at 02:40)</a>:</h4>
<p>"the dplot command .... can not be used though Archer have the entrance" &lt;-- I don't understand what you wrote there.</p>



<a name="289917030"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289917030" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289917030">(Jul 18 2022 at 02:42)</a>:</h4>
<p>dplot is a subcommand to the brep command.  are you saying it doesn't work in archer?  the doc may have been written prior to it becoming a subcommand (in which case you should update the nurbs dev guide -- it's an xml doc under doc/docbook)</p>



<a name="289917306"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289917306" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289917306">(Jul 18 2022 at 02:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289916856">said</a>:</p>
<blockquote>
<p>What primitives test are you referring to?  I think the answer is "no" ... what I described is a tool that does not exist.  I'm suggesting you implement a tool that autogenerates all pairings of two specified primitive types.</p>
</blockquote>
<p>the primitives test means "which primitives convert to brep and which do not".  I get your idea.</p>



<a name="289917392"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289917392" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289917392">(Jul 18 2022 at 02:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289916942">said</a>:</p>
<blockquote>
<p>"the dplot command .... can not be used though Archer have the entrance" &lt;-- I don't understand what you wrote there.</p>
</blockquote>
<p><a href="/user_uploads/1549/1g5LzD4kIYg6d8U6A2ccerpD/image.png">image.png</a> here is an example, I use dplot but it prompts for <em>overlay</em> usage.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/1g5LzD4kIYg6d8U6A2ccerpD/image.png" title="image.png"><img src="/user_uploads/1549/1g5LzD4kIYg6d8U6A2ccerpD/image.png"></a></div>



<a name="289917461"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289917461" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289917461">(Jul 18 2022 at 02:53)</a>:</h4>
<p>I'ill check the map from dplot command to brep.</p>



<a name="289972126"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289972126" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289972126">(Jul 18 2022 at 14:22)</a>:</h4>
<p>I've updated <em>brep_arbintersection</em> project. Now it can generate the 125 arb union cases and convert to brep, the other two operation are in development. How shall I test if one cases is correct or not? Shall I visualize them then record, or use some functions or properties such as how many brep faces, are they manifolds?</p>



<a name="289972265"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/289972265" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#289972265">(Jul 18 2022 at 14:23)</a>:</h4>
<p><a href="/user_uploads/1549/I-23Z_8bebH6o4CUS8CB1j-b/image.png">image.png</a> <br>
This is an error case.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/I-23Z_8bebH6o4CUS8CB1j-b/image.png" title="image.png"><img src="/user_uploads/1549/I-23Z_8bebH6o4CUS8CB1j-b/image.png"></a></div>



<a name="290124065"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290124065" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290124065">(Jul 19 2022 at 16:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289917392">said</a>:</p>
<div class="codehilite"><pre><span></span><code>[image.png](/user_uploads/1549/1g5LzD4kIYg6d8U6A2ccerpD/image.png) here is an example, I use dplot but it prompts for *overlay* usage.
</code></pre></div>
<p>Ah, I think I understand now!  Yeah, I think there's two things going on there.. first dplot was moved to a brep subcommand, but the archer command table was not updated (bug #1).  Second, the archer dplot command binding is calling ged_exec() on "dplot" and somehow that is matching the "overlay" command (bug #2).</p>



<a name="290126809"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290126809" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290126809">(Jul 19 2022 at 16:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289972126">said</a>:</p>
<blockquote>
<p>I've updated <em>brep_arbintersection</em> project. Now it can generate the 125 arb union cases and convert to brep, the other two operation are in development. How shall I test if one cases is correct or not? Shall I visualize them then record, or use some functions or properties such as how many brep faces, are they manifolds?</p>
</blockquote>
<p>We actually already have a tool that does a comparison and validation check that can probably be adapted to testing if the conversion worked, but a couple alternative ways comes to mind also.  The ground truth is typically going to be the ray tracing result of the non-nurbs version.   That's what the tool relies on, so for it, you just create the arb8's and it'll do the brep conversions and evaluate if they worked.</p>



<a name="290228773"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290228773" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290228773">(Jul 20 2022 at 12:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/290126809">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289972126">said</a>:</p>
<blockquote>
<p>I've updated <em>brep_arbintersection</em> project. Now it can generate the 125 arb union cases and convert to brep, the other two operation are in development. How shall I test if one cases is correct or not? Shall I visualize them then record, or use some functions or properties such as how many brep faces, are they manifolds?</p>
</blockquote>
<p>We actually already have a tool that does a comparison and validation check that can probably be adapted to testing if the conversion worked, but a couple alternative ways comes to mind also.  The ground truth is typically going to be the ray tracing result of the non-nurbs version.   That's what the tool relies on, so for it, you just create the arb8's and it'll do the brep conversions and evaluate if they worked.</p>
</blockquote>
<p>So how can I use the tool?</p>



<a name="290229481"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290229481" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290229481">(Jul 20 2022 at 12:45)</a>:</h4>
<p>I generated the intersection and subtraction test cases and checked the results, only a few cases get correct answer... Most of the intersection  cases result in brep obj with none faces, and most subtraction cases result in brep obj of the bigger arb8, with the part should be subtracted.</p>



<a name="290229943"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290229943" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290229943">(Jul 20 2022 at 12:50)</a>:</h4>
<p>I almost thought I not testing properly. Here is the corresponding command to make a combination with intersection operation</p>
<div class="codehilite"><pre><span></span><code>r u.1 u arb_1 + arb_0
</code></pre></div>
<p>I think it mean the area <code>arb_1</code>intersects with <code>arb_0</code>, am I right?</p>



<a name="290330310"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290330310" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290330310">(Jul 21 2022 at 03:53)</a>:</h4>
<p>correct, that creates a region called u.1 that has "arb_1 + arb_0" (i.e., intersect)</p>



<a name="290330339"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290330339" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290330339">(Jul 21 2022 at 03:53)</a>:</h4>
<p>definitely want to either create all three operations or start with union</p>



<a name="290330397"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290330397" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290330397">(Jul 21 2022 at 03:54)</a>:</h4>
<p>which would be:  <br>
r u.1 u arb_1 u arb_0</p>



<a name="290330408"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290330408" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290330408">(Jul 21 2022 at 03:54)</a>:</h4>
<p>to keep this in order, really needs to use some meaningful names or it's going to be a mess</p>



<a name="290330637"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290330637" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290330637">(Jul 21 2022 at 03:59)</a>:</h4>
<p>probably would be good to use some form of grid notation like 0x0x0.r for the bottom corner, then 1x0x0.r for the first X-shifted position, etc until you get to 4x4x4.r in the opposite corner (or however many steps across there are)</p>



<a name="290330988"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290330988" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290330988">(Jul 21 2022 at 04:04)</a>:</h4>
<p>as for how to use the tool, check out the <a href="http://conversion.sh">conversion.sh</a> script that is in the sh/ dir and I think also gets installed.  it's not been run in a while, so may need some minor updating (might not).  by default, it will simply try to convert everything, which will actually be very informative.</p>



<a name="290331010"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290331010" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290331010">(Jul 21 2022 at 04:04)</a>:</h4>
<p>would be really cool to create a combination that has all the regions moved into a gridded position so they can all be visualized simultaneously</p>



<a name="290358697"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290358697" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290358697">(Jul 21 2022 at 10:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/290330637">said</a>:</p>
<blockquote>
<p>probably would be good to use some form of grid notation like 0x0x0.r for the bottom corner, then 1x0x0.r for the first X-shifted position, etc until you get to 4x4x4.r in the opposite corner (or however many steps across there are)</p>
</blockquote>
<p>got it. So it seems intersect and subtract are kind of bad.</p>



<a name="290364765"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290364765" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290364765">(Jul 21 2022 at 11:44)</a>:</h4>
<p>I think you can consider removing <em>brep</em> command file output in Release version. Now the test cases create thousands of brep files...</p>



<a name="290380622"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290380622" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290380622">(Jul 21 2022 at 14:13)</a>:</h4>
<p>Do you mean this? <br>
<a href="/user_uploads/1549/-t0ax_RusNMJwlvQm1LJ2xU4/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/-t0ax_RusNMJwlvQm1LJ2xU4/image.png" title="image.png"><img src="/user_uploads/1549/-t0ax_RusNMJwlvQm1LJ2xU4/image.png"></a></div>



<a name="290381123"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290381123" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290381123">(Jul 21 2022 at 14:17)</a>:</h4>
<p>It works really cool with regular expressions!</p>



<a name="290381153"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290381153" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290381153">(Jul 21 2022 at 14:17)</a>:</h4>
<p><a href="/user_uploads/1549/IE4kIU65t2Bmh7_vGPkYOVgQ/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/IE4kIU65t2Bmh7_vGPkYOVgQ/image.png" title="image.png"><img src="/user_uploads/1549/IE4kIU65t2Bmh7_vGPkYOVgQ/image.png"></a></div>



<a name="290385326"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290385326" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290385326">(Jul 21 2022 at 14:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/290381123">said</a>:</p>
<blockquote>
<p>It works really cool with regular expressions!</p>
</blockquote>
<p>Do you mean globbing?  What are regular expressions being used for?</p>



<a name="290385992"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290385992" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290385992">(Jul 21 2022 at 14:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/290380622">said</a>:</p>
<blockquote>
<p>Do you mean this? <br>
<a href="/user_uploads/1549/-t0ax_RusNMJwlvQm1LJ2xU4/image.png">image.png</a></p>
</blockquote>
<p>YES!  This is exactly what I had in mind.  Very nice.  I'll have to look at your proc-db in close detail but I think it'd be helpful for debugging if all the pairings were the same identical two objects (just in different positions), and just let the relative sizes be specified/overridden as input parameters.</p>



<a name="290386518"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290386518" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290386518">(Jul 21 2022 at 14:56)</a>:</h4>
<p>so the fixed inner object would be something like 1^3 and the outer would be 3^3 in this example configuration, and we could then script it to compare 3^3 vs 2^3 or 2.5^3 vs 5.01^3 etc.. Currently using a stepsize of 5 positions, but that could be an input too, and just have it go across the entire potential range of interaction</p>



<a name="290386537"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290386537" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290386537">(Jul 21 2022 at 14:56)</a>:</h4>
<p>Well done.. this is going to be incredibly helpful!</p>



<a name="290388031"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290388031" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290388031">(Jul 21 2022 at 15:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/290385326">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/290381123">said</a>:</p>
<blockquote>
<p>It works really cool with regular expressions!</p>
</blockquote>
<p>Do you mean globbing?  What are regular expressions being used for?</p>
</blockquote>
<p>Yes, it's globbing.</p>



<a name="290388885"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290388885" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290388885">(Jul 21 2022 at 15:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/290385992">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/290380622">said</a>:</p>
<blockquote>
<p>Do you mean this? <br>
<a href="/user_uploads/1549/-t0ax_RusNMJwlvQm1LJ2xU4/image.png">image.png</a></p>
</blockquote>
<p>YES!  This is exactly what I had in mind.  Very nice.  I'll have to look at your proc-db in close detail but I think it'd be helpful for debugging if all the pairings were the same identical two objects (just in different positions), and just let the relative sizes be specified/overridden as input parameters.</p>
</blockquote>
<p>Do I need to upload the database? I don't konw how to use the same two objects to create 125 cases while visualizing them at the same time. Do you mean create the 1st brep obj, then update arb vertices positions followed by creating 2rd brep obj using the two arb?</p>



<a name="290389929"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290389929" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290389929">(Jul 21 2022 at 15:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/290386518">said</a>:</p>
<blockquote>
<p>so the fixed inner object would be something like 1^3 and the outer would be 3^3 in this example configuration, and we could then script it to compare 3^3 vs 2^3 or 2.5^3 vs 5.01^3 etc.. Currently using a stepsize of 5 positions, but that could be an input too, and just have it go across the entire potential range of interaction</p>
</blockquote>
<p>I see, I think you mean we should make the project more configuable, such as to config the size of arb and stepsize?</p>



<a name="290390116"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290390116" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290390116">(Jul 21 2022 at 15:22)</a>:</h4>
<p>No you don't need to upload -- I'm referring to the code generating this.  That you'd create the same two objects for all specified positions.  It depends how you're creating the objects, whether you're a) creating primitives and moving them or b) creating primitives in position or c) creating just two primitives, then creating combs that moves them into position.</p>



<a name="290390916"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290390916" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290390916">(Jul 21 2022 at 15:28)</a>:</h4>
<p>Now it is #b. It generates 125 pairs of arb in position, combine them using three operations.</p>



<a name="290520577"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290520577" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290520577">(Jul 22 2022 at 14:52)</a>:</h4>
<p>This is a table about converting primitives to brep form, it's manually tested.</p>



<a name="290520620"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290520620" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290520620">(Jul 22 2022 at 14:53)</a>:</h4>
<p><a href="/user_uploads/1549/BpM-MS2mfE6VD0dHilcpAnrO/MDMGHU5IV9RY_6PPTQM.png">MDMGHU5IV9RY_6PPTQM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/BpM-MS2mfE6VD0dHilcpAnrO/MDMGHU5IV9RY_6PPTQM.png" title="MDMGHU5IV9RY_6PPTQM.png"><img src="/user_uploads/1549/BpM-MS2mfE6VD0dHilcpAnrO/MDMGHU5IV9RY_6PPTQM.png"></a></div>



<a name="290521268"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290521268" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290521268">(Jul 22 2022 at 14:57)</a>:</h4>
<p>I create the primitives with default values, then use brep command to convert them. <em>epa</em> and <em>rhc</em> went wrong with brep while <em>part</em> and <em>bot</em> went wrong with <em>shaded</em> render(maybe normal errors).</p>



<a name="290523437"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290523437" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290523437">(Jul 22 2022 at 15:12)</a>:</h4>
<p>now here are at least three works to be done:</p>
<ol>
<li>make arb boolean test cases more configurable</li>
<li>locate error codes and scenarios of arb boolean test cases</li>
<li>fix brep converting function of <em>epa</em> and <em>rhc</em></li>
<li>Modify NURBS Boolean Guide to an updated version<br>
<span class="user-mention" data-user-id="102902">@Sean</span>  Do you think there are other works? And which should be done first?</li>
</ol>



<a name="290556515"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290556515" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290556515">(Jul 22 2022 at 19:31)</a>:</h4>
<p>Let’s start there <span class="user-mention" data-user-id="491779">@GregoryLi</span> that 1234 is a great list to be working on.  This is already helpful.  The only other work that comes to mind is a tool that generates a grid of all primitives so we can regenerate your table automatically, retest easily as changes are made.  There are already some tools that create primitives so one of them may already be suitable.</p>



<a name="290598499"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290598499" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290598499">(Jul 23 2022 at 07:04)</a>:</h4>
<p>Ok, I think for non-soild primitives, such as half, annot, there is no need to test the brep function of them.</p>



<a name="290895199"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290895199" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290895199">(Jul 26 2022 at 14:04)</a>:</h4>
<p>I use shell script to create the primitives, then convert them to brep format.</p>



<a name="290895230"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290895230" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290895230">(Jul 26 2022 at 14:05)</a>:</h4>
<p>primitives:<br>
<a href="/user_uploads/1549/g74U-iC11xI5YK_ZjwXrmNTL/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/g74U-iC11xI5YK_ZjwXrmNTL/image.png" title="image.png"><img src="/user_uploads/1549/g74U-iC11xI5YK_ZjwXrmNTL/image.png"></a></div>



<a name="290895698"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290895698" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290895698">(Jul 26 2022 at 14:08)</a>:</h4>
<p>brep format <br>
<a href="/user_uploads/1549/k9npIlfxGsLWC3ulHFtXPTJp/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/k9npIlfxGsLWC3ulHFtXPTJp/image.png" title="image.png"><img src="/user_uploads/1549/k9npIlfxGsLWC3ulHFtXPTJp/image.png"></a></div>



<a name="290896302"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/290896302" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#290896302">(Jul 26 2022 at 14:12)</a>:</h4>
<p>Obviously there are some wrong with brep format. Now trying to evaluate them using 'nirt'.</p>



<a name="291138094"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/291138094" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#291138094">(Jul 28 2022 at 03:53)</a>:</h4>
<p>Yeah, looks like two, maybe epa and rhc are quite wrong -- probably a very obvious mistake if you want to try and see if you can fix them.  One's clearly being created in the wrong position, the other appears to have a parameter or two in the wrong position or using a wrong value.</p>



<a name="291178181"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/291178181" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#291178181">(Jul 28 2022 at 13:00)</a>:</h4>
<p>OK, I'm working on it.</p>



<a name="291711945"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/291711945" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#291711945">(Aug 02 2022 at 13:56)</a>:</h4>
<p>I'm trying to debug rhc error. Now I've found that the Bezier curve of the bottom face is not on the plane, most likely it has something to do with second control point's weight.</p>



<a name="291712837"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/291712837" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#291712837">(Aug 02 2022 at 13:59)</a>:</h4>
<p>It's confusing that the three control points are on the same plane while the curve is not. I'm looking at algorithms for bezier curves and source codes.</p>



<a name="291714255"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/291714255" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#291714255">(Aug 02 2022 at 14:07)</a>:</h4>
<p><a href="/user_uploads/1549/m4rXczdTwp4eM0pjBjltS1zP/image.png">image.png</a> <br>
Here are two bugs to be fixed for the bottom plane:</p>
<div class="message_inline_image"><a href="/user_uploads/1549/m4rXczdTwp4eM0pjBjltS1zP/image.png" title="image.png"><img src="/user_uploads/1549/m4rXczdTwp4eM0pjBjltS1zP/image.png"></a></div><ol>
<li>The bottom in brep format is larger than primitive.</li>
<li>The curve of the bottom is not on the bottom plane.</li>
</ol>



<a name="291714382"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/291714382" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#291714382">(Aug 02 2022 at 14:08)</a>:</h4>
<p><a href="/user_uploads/1549/RuTZ09OXrJ8zzXNV1lCn47kh/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/RuTZ09OXrJ8zzXNV1lCn47kh/image.png" title="image.png"><img src="/user_uploads/1549/RuTZ09OXrJ8zzXNV1lCn47kh/image.png"></a></div>



<a name="292017985"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292017985" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292017985">(Aug 04 2022 at 14:49)</a>:</h4>
<p><a href="/user_uploads/1549/Q-Zvp5yjDsQXdeuNVha1rd8k/image.png">image.png</a> This is the formula caculated by the source code.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/Q-Zvp5yjDsQXdeuNVha1rd8k/image.png" title="image.png"><img src="/user_uploads/1549/Q-Zvp5yjDsQXdeuNVha1rd8k/image.png"></a></div>



<a name="292018118"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292018118" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292018118">(Aug 04 2022 at 14:50)</a>:</h4>
<p><a href="/user_uploads/1549/4r6W7nI9L0GtnvW7_BTyY0VU/image.png">image.png</a> This is the correct formula.(<a href="https://pages.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/RB-conics.html">https://pages.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/RB-conics.html</a>)</p>
<div class="message_inline_image"><a href="/user_uploads/1549/4r6W7nI9L0GtnvW7_BTyY0VU/image.png" title="image.png"><img src="/user_uploads/1549/4r6W7nI9L0GtnvW7_BTyY0VU/image.png"></a></div>



<a name="292018538"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292018538" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292018538">(Aug 04 2022 at 14:53)</a>:</h4>
<p>I think the reason is:</p>
<ol>
<li>It misses a coefficient.</li>
<li>We shall use relative coordinates while scaling the position of a vertex on the curve.</li>
</ol>



<a name="292018812"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292018812" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292018812">(Aug 04 2022 at 14:55)</a>:</h4>
<p>Hope I am correct....   <br>
I think #1 explains the bottom in brep format is larger than primitive format. #2 explains the curve of the bottom is not on the bottom plane.</p>



<a name="292060671"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292060671" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292060671">(Aug 04 2022 at 19:48)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> impressive sleuthing on the math... have you tried fixing it?  is that calculation happening in the rt_*_brep() function or elsewhere?</p>



<a name="292088053"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292088053" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292088053">(Aug 05 2022 at 00:24)</a>:</h4>
<p>I have not tested #1. I plan to do it today.</p>



<a name="292088219"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292088219" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292088219">(Aug 05 2022 at 00:26)</a>:</h4>
<p>It's in the <code>src\other\openNURBS\opennurbs_evaluate_nurbs.cpp</code> <code>ON_EvaluateBezier</code> function.</p>



<a name="292088471"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292088471" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292088471">(Aug 05 2022 at 00:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/292018538">said</a>:</p>
<blockquote>
<p>I think the reason is:</p>
<ol>
<li>It misses a coefficient.</li>
<li>We shall use relative coordinates while scaling the position of a vertex on the curve.</li>
</ol>
</blockquote>
<p>I've tesed #2, it could keep the curve on the plane. Although there are some other problems.</p>



<a name="292220303"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292220303" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292220303">(Aug 06 2022 at 00:01)</a>:</h4>
<p><a href="/user_uploads/1549/UXhjh8uqRgtakFLGHDrEGlUA/image.png">image.png</a> The yellow curve is generated by adding the coefficient.  It makes the bottom keep its height and on the plane, but it's wider..</p>
<div class="message_inline_image"><a href="/user_uploads/1549/UXhjh8uqRgtakFLGHDrEGlUA/image.png" title="image.png"><img src="/user_uploads/1549/UXhjh8uqRgtakFLGHDrEGlUA/image.png"></a></div>



<a name="292220732"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292220732" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292220732">(Aug 06 2022 at 00:07)</a>:</h4>
<p>The result makes sense from math. So the rounder one is corresponds to the formula given by the website.</p>



<a name="292220991"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292220991" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292220991">(Aug 06 2022 at 00:11)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  If we use the rounder (yellow) curve to represent the bottom, the rhc primitive would be reshaped, I don't know if it leads to a big influence and shall I do it.</p>



<a name="292221078"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292221078" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292221078">(Aug 06 2022 at 00:12)</a>:</h4>
<p><a href="/user_uploads/1549/YNVJnWm5K8V8aaXLIlTwt71h/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/YNVJnWm5K8V8aaXLIlTwt71h/image.png" title="image.png"><img src="/user_uploads/1549/YNVJnWm5K8V8aaXLIlTwt71h/image.png"></a></div>



<a name="292221115"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292221115" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292221115">(Aug 06 2022 at 00:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/292220991">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span>  If we use the rounder (yellow) curve to represent the bottom, the rhc primitive would be reshaped, I don't know if it leads to a big influence and shall I do it.</p>
</blockquote>
<p>The code to be changed belongs to OpenNURBS(brlcad\src\other\openNURBS\opennurbs_bezier.cpp)</p>



<a name="292221313"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292221313" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292221313">(Aug 06 2022 at 00:17)</a>:</h4>
<p>It influents the drawing of BezierCurve.</p>



<a name="292627730"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292627730" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292627730">(Aug 09 2022 at 17:55)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> src/other is not our code to modify, and unlikely there's a bug in there... the bug would be in our calculations in src/librt/primitives/*</p>



<a name="292627828"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292627828" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292627828">(Aug 09 2022 at 17:56)</a>:</h4>
<p>now that I read your link more closely, note that <a href="https://pages.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/RB-conics.html">https://pages.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/RB-conics.html</a> is going through the math for a PARABOLOID ... not  HYPERBOLOID ...</p>



<a name="292627998"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292627998" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292627998">(Aug 09 2022 at 17:57)</a>:</h4>
<p>rhc is a right hyperbolic cylinder, i.e., it's defined by hyperboloids (which is why it doesn't match your yellow parabolic curve)</p>



<a name="292628181"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292628181" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292628181">(Aug 09 2022 at 17:58)</a>:</h4>
<p>I think you're maybe closer on point with #2 in that the scaling or translation is off</p>



<a name="292673371"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292673371" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292673371">(Aug 09 2022 at 23:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/292627828">said</a>:</p>
<blockquote>
<p>now that I read your link more closely, note that <a href="https://pages.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/RB-conics.html">https://pages.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/RB-conics.html</a> is going through the math for a PARABOLOID ... not  HYPERBOLOID ...</p>
</blockquote>
<p>OK.... I saw the reference link in <code>rhc_brep.cpp</code>.<br>
<a href="/user_uploads/1549/rgRIiJ1jhTmxxla2NVBHlGyF/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/rgRIiJ1jhTmxxla2NVBHlGyF/image.png" title="image.png"><img src="/user_uploads/1549/rgRIiJ1jhTmxxla2NVBHlGyF/image.png"></a></div>



<a name="292673584"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292673584" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292673584">(Aug 09 2022 at 23:28)</a>:</h4>
<p>And I proved the reason why the curve is not on the plane is the formula(now it's Paraboloid formula) by OpenNURBS.</p>



<a name="292673612"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292673612" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292673612">(Aug 09 2022 at 23:28)</a>:</h4>
<p><a href="/user_uploads/1549/C4ofBGoXXoeUuUi3HZ-ePJQA/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/C4ofBGoXXoeUuUi3HZ-ePJQA/image.png" title="image.png"><img src="/user_uploads/1549/C4ofBGoXXoeUuUi3HZ-ePJQA/image.png"></a></div>



<a name="292673625"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292673625" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292673625">(Aug 09 2022 at 23:28)</a>:</h4>
<p><a href="/user_uploads/1549/OTozBGdfDgrJ_VV7l1E2un2M/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/OTozBGdfDgrJ_VV7l1E2un2M/image.png" title="image.png"><img src="/user_uploads/1549/OTozBGdfDgrJ_VV7l1E2un2M/image.png"></a></div>



<a name="292674349"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292674349" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292674349">(Aug 09 2022 at 23:36)</a>:</h4>
<p>Those three surface are bottom surfaces of one rhc in different positions. So they share the same <code>w</code> and same <code>P0</code> <code>P1</code> <code>P2</code> in local coordinate. By the formula, all the midpoint of the curve leads to <code>1/1+w</code> multiply a fixed point in  local coordinate then plus (0,0,0), and the screenshot proved it.</p>



<a name="292675147"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292675147" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292675147">(Aug 09 2022 at 23:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/292627828">said</a>:</p>
<blockquote>
<p>now that I read your link more closely, note that <a href="https://pages.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/RB-conics.html">https://pages.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/RB-conics.html</a> is going through the math for a PARABOLOID ... not  HYPERBOLOID ...</p>
</blockquote>
<p>So I'd like go through hyperboloids formula and sort out the suitable parameter passing between OpenNURBS and BRL-CAD.</p>



<a name="292680046"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/292680046" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#292680046">(Aug 10 2022 at 00:47)</a>:</h4>
<p>I take it back about that being equations for paraboloid on the RB-conics page... I read it too quickly.. It'll take some concentration to fully grasp the context here to understand where the error(s) are with respect to the code..</p>



<a name="293467423"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/293467423" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#293467423">(Aug 15 2022 at 05:45)</a>:</h4>
<p>Good news! I find the data we created does not fit with openNURBS algorithm. Our data is correct if we just look into  alone, but evaluating bezier using Casteljau algorithm in openNURBS requires a scale for input data.</p>



<a name="293467526"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/293467526" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#293467526">(Aug 15 2022 at 05:46)</a>:</h4>
<p><a href="/user_uploads/1549/xIoAWl00pHPLshaCfV-R49Sm/image.png">image.png</a> this is the rhc primitive.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/xIoAWl00pHPLshaCfV-R49Sm/image.png" title="image.png"><img src="/user_uploads/1549/xIoAWl00pHPLshaCfV-R49Sm/image.png"></a></div>



<a name="293467634"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/293467634" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#293467634">(Aug 15 2022 at 05:48)</a>:</h4>
<p><a href="/user_uploads/1549/FY3LSkPF7hKJ83X5Sl1gP-sk/image.png">image.png</a> this is the brep after debuging.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/FY3LSkPF7hKJ83X5Sl1gP-sk/image.png" title="image.png"><img src="/user_uploads/1549/FY3LSkPF7hKJ83X5Sl1gP-sk/image.png"></a></div>



<a name="293467886"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/293467886" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#293467886">(Aug 15 2022 at 05:51)</a>:</h4>
<p>But their shapes are not exactly the same, working to solve it. <a href="/user_uploads/1549/R7YHjDYoOrI5wyWG5CriggUG/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/R7YHjDYoOrI5wyWG5CriggUG/image.png" title="image.png"><img src="/user_uploads/1549/R7YHjDYoOrI5wyWG5CriggUG/image.png"></a></div>



<a name="293467997"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/293467997" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#293467997">(Aug 15 2022 at 05:52)</a>:</h4>
<p><a href="/user_uploads/1549/xs5GHvojTBg3X-qg4YmhC2c3/image.png">image.png</a> <a href="/user_uploads/1549/KDntEFMmchQddZWtP2g8nNpN/image.png">image.png</a> hidden line and rt of brep.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/xs5GHvojTBg3X-qg4YmhC2c3/image.png" title="image.png"><img src="/user_uploads/1549/xs5GHvojTBg3X-qg4YmhC2c3/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/KDntEFMmchQddZWtP2g8nNpN/image.png" title="image.png"><img src="/user_uploads/1549/KDntEFMmchQddZWtP2g8nNpN/image.png"></a></div>



<a name="293559190"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/293559190" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#293559190">(Aug 15 2022 at 15:35)</a>:</h4>
<p>Btw, the codes changed are in src/librt/primitives/rhc_brep.cpp</p>



<a name="293559471"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/293559471" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#293559471">(Aug 15 2022 at 15:36)</a>:</h4>
<p>And the page (<a href="https://pages.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/RB-conics.html">https://pages.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/RB-conics.html</a>) tells about HYPERBOLOID but not PARABOLOID, although it mentioned PARABOLOID in the beginning.</p>



<a name="294273926"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/294273926" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#294273926">(Aug 19 2022 at 14:08)</a>:</h4>
<p>I spend several days understanding NURBS surface formula, looking into codes of epa elliptical parabolic NURBS surface and drawing, trying to debug and write a Transform function which is extremely complicated... I just found it's done in ON_NurbsSurface <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="294276969"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/294276969" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#294276969">(Aug 19 2022 at 14:25)</a>:</h4>
<p><a href="/user_uploads/1549/MIzltYj0zR9lK0fmzVTzSak7/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/MIzltYj0zR9lK0fmzVTzSak7/image.png" title="image.png"><img src="/user_uploads/1549/MIzltYj0zR9lK0fmzVTzSak7/image.png"></a></div>



<a name="294277357"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/294277357" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#294277357">(Aug 19 2022 at 14:27)</a>:</h4>
<p>Now epa primitive without rotation can be converted to brep correctly. Going to solve epa bugs tommorrow.</p>



<a name="294554133"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/294554133" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#294554133">(Aug 21 2022 at 15:08)</a>:</h4>
<p>I just solved all the problems when converting epa into brep format. This is the link <a href="https://github.com/BRL-CAD/brlcad/pull/56">https://github.com/BRL-CAD/brlcad/pull/56</a></p>



<a name="294554470"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/294554470" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#294554470">(Aug 21 2022 at 15:11)</a>:</h4>
<p><a href="/user_uploads/1549/HbEOXaqiIe7BtK3CpC-fY2a9/image.png">image.png</a> <a href="/user_uploads/1549/AgRHerAq5fqxG3-5REx04MNq/image.png">image.png</a> The results are correct in any position and rotation.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/HbEOXaqiIe7BtK3CpC-fY2a9/image.png" title="image.png"><img src="/user_uploads/1549/HbEOXaqiIe7BtK3CpC-fY2a9/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/AgRHerAq5fqxG3-5REx04MNq/image.png" title="image.png"><img src="/user_uploads/1549/AgRHerAq5fqxG3-5REx04MNq/image.png"></a></div>



<a name="295044996"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295044996" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295044996">(Aug 24 2022 at 13:19)</a>:</h4>
<p>I have solved the hyperbola problem in rhc.</p>



<a name="295045689"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295045689" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295045689">(Aug 24 2022 at 13:23)</a>:</h4>
<p><a href="/user_uploads/1549/FvDELX5ghJzxDgForZY3glH_/Snipaste_2022-08-24_21-10-04.png">Snipaste_2022-08-24_21-10-04.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/FvDELX5ghJzxDgForZY3glH_/Snipaste_2022-08-24_21-10-04.png" title="Snipaste_2022-08-24_21-10-04.png"><img src="/user_uploads/1549/FvDELX5ghJzxDgForZY3glH_/Snipaste_2022-08-24_21-10-04.png"></a></div>



<a name="295045929"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295045929" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295045929">(Aug 24 2022 at 13:24)</a>:</h4>
<p><a href="/user_uploads/1549/l1OsnwJxgiHvXAlbdaS7aiVn/Snipaste_2022-08-24_21-10-13.png">Snipaste_2022-08-24_21-10-13.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/l1OsnwJxgiHvXAlbdaS7aiVn/Snipaste_2022-08-24_21-10-13.png" title="Snipaste_2022-08-24_21-10-13.png"><img src="/user_uploads/1549/l1OsnwJxgiHvXAlbdaS7aiVn/Snipaste_2022-08-24_21-10-13.png"></a></div>



<a name="295045939"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295045939" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295045939">(Aug 24 2022 at 13:24)</a>:</h4>
<p><a href="/user_uploads/1549/h3RcHqjamUVK93svQCZzpxFp/Snipaste_2022-08-24_21-12-18.png">Snipaste_2022-08-24_21-12-18.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/h3RcHqjamUVK93svQCZzpxFp/Snipaste_2022-08-24_21-12-18.png" title="Snipaste_2022-08-24_21-12-18.png"><img src="/user_uploads/1549/h3RcHqjamUVK93svQCZzpxFp/Snipaste_2022-08-24_21-12-18.png"></a></div>



<a name="295048168"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295048168" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295048168">(Aug 24 2022 at 13:35)</a>:</h4>
<p>Here are the key formula about drawing rhc primitive and hyperbola...It's really dizzying</p>



<a name="295048208"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295048208" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295048208">(Aug 24 2022 at 13:35)</a>:</h4>
<p><a href="/user_uploads/1549/oJRXdLF-yzjOvr7jjK8-RyqV/Snipaste_2022-08-24_21-29-23.png">Snipaste_2022-08-24_21-29-23.png</a>  <a href="/user_uploads/1549/I_vTTT9sKHQ8Mdf-ZFE1AcgW/Snipaste_2022-08-24_21-29-32.png">Snipaste_2022-08-24_21-29-32.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/oJRXdLF-yzjOvr7jjK8-RyqV/Snipaste_2022-08-24_21-29-23.png" title="Snipaste_2022-08-24_21-29-23.png"><img src="/user_uploads/1549/oJRXdLF-yzjOvr7jjK8-RyqV/Snipaste_2022-08-24_21-29-23.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/I_vTTT9sKHQ8Mdf-ZFE1AcgW/Snipaste_2022-08-24_21-29-32.png" title="Snipaste_2022-08-24_21-29-32.png"><img src="/user_uploads/1549/I_vTTT9sKHQ8Mdf-ZFE1AcgW/Snipaste_2022-08-24_21-29-32.png"></a></div>



<a name="295778106"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295778106" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295778106">(Aug 29 2022 at 04:13)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> Thank you so much for all the updates.  I was away a few days but am catching up on everything. <br>
 I'm very impressed at the depth you've gone to solve the math.</p>



<a name="295778294"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295778294" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295778294">(Aug 29 2022 at 04:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/295045939">said</a>:</p>
<blockquote>
<p><a href="/user_uploads/1549/h3RcHqjamUVK93svQCZzpxFp/Snipaste_2022-08-24_21-12-18.png">Snipaste_2022-08-24_21-12-18.png</a></p>
</blockquote>
<p>Can you make a side-by-side comparison with non-brep rhc and brep rhc?  It'll take me a while to digest your math, but this brep rendering looks parabolic to me ...  The rt of both brep and non-brep forms should match identically.</p>
<p>Also, how does it compare with rpc and brep rpc?</p>



<a name="295805102"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295805102" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295805102">(Aug 29 2022 at 08:59)</a>:</h4>
<p><a href="/user_uploads/1549/_pSvTkI7KdTRNvevctOHrPa1/case1.png">case1.png</a> <a href="/user_uploads/1549/RexF-mCRXo4jpsqq6f3Cz5S2/case2.png">case2.png</a> <a href="/user_uploads/1549/VdRfjbx7vIeW67eaVGtjxC-T/case3.png">case3.png</a> <a href="/user_uploads/1549/zQLyMUAHYtfq8QtwPD_I5Gwo/case4.png">case4.png</a> <a href="/user_uploads/1549/kofRXNhqszmCrpKNMMnzH6Dp/case5.png">case5.png</a> <a href="/user_uploads/1549/Kh9jH8QEsaIXAoR8Vzrz3w8A/case6.png">case6.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/_pSvTkI7KdTRNvevctOHrPa1/case1.png" title="case1.png"><img src="/user_uploads/1549/_pSvTkI7KdTRNvevctOHrPa1/case1.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/RexF-mCRXo4jpsqq6f3Cz5S2/case2.png" title="case2.png"><img src="/user_uploads/1549/RexF-mCRXo4jpsqq6f3Cz5S2/case2.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/VdRfjbx7vIeW67eaVGtjxC-T/case3.png" title="case3.png"><img src="/user_uploads/1549/VdRfjbx7vIeW67eaVGtjxC-T/case3.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/zQLyMUAHYtfq8QtwPD_I5Gwo/case4.png" title="case4.png"><img src="/user_uploads/1549/zQLyMUAHYtfq8QtwPD_I5Gwo/case4.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/kofRXNhqszmCrpKNMMnzH6Dp/case5.png" title="case5.png"><img src="/user_uploads/1549/kofRXNhqszmCrpKNMMnzH6Dp/case5.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/Kh9jH8QEsaIXAoR8Vzrz3w8A/case6.png" title="case6.png"><img src="/user_uploads/1549/Kh9jH8QEsaIXAoR8Vzrz3w8A/case6.png"></a></div>



<a name="295805567"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295805567" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295805567">(Aug 29 2022 at 09:02)</a>:</h4>
<p>Here are six test cases for rhc. the green lines are rhc primitives, and the red lines are rhc primitives. the bigger the 'c' is, the larger the difference is. I don't know why yet.</p>



<a name="295806065"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295806065" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295806065">(Aug 29 2022 at 09:07)</a>:</h4>
<p>the brep converting of rpc primitives are correct with change its parameters and rotations.</p>



<a name="295806886"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295806886" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295806886">(Aug 29 2022 at 09:14)</a>:</h4>
<p>The rhc primitive is hyperbola at least for it's parameters.<br>
''The rational Bézier curve defined by three non-collinear control points P0, P1 and P2 and weights 1, w and 1 is a hyperbola, a parabola or an ellipse if w is greater than, equal to, or less than 1.'' according to <a href="https://pages.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/NURBS/RB-conics.html">RB-conics</a></p>



<a name="295807581"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/295807581" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#295807581">(Aug 29 2022 at 09:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/295048208">said</a>:</p>
<blockquote>
<p><a href="/user_uploads/1549/oJRXdLF-yzjOvr7jjK8-RyqV/Snipaste_2022-08-24_21-29-23.png">Snipaste_2022-08-24_21-29-23.png</a>  <a href="/user_uploads/1549/I_vTTT9sKHQ8Mdf-ZFE1AcgW/Snipaste_2022-08-24_21-29-32.png">Snipaste_2022-08-24_21-29-32.png</a></p>
</blockquote>
<p>Picture 1 here is some steps of drawing  conic arcs. I didn't finish the math sluthing because I thought the rhc error was caused by hyperbola parameters.</p>



<a name="296056747"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/296056747" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#296056747">(Aug 30 2022 at 08:29)</a>:</h4>
<p>I'm updating previous arb8intersection project to make it more configurable and not limited to arb8 primitives.</p>



<a name="296056989"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/296056989" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#296056989">(Aug 30 2022 at 08:30)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> Do you have any suggestion about to do what next?</p>



<a name="296057192"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/296057192" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#296057192">(Aug 30 2022 at 08:32)</a>:</h4>
<p>now here are at least three works to be done</p>
<ol>
<li>make arb boolean test cases more configurable</li>
<li>locate error codes and scenarios of arb boolean test cases</li>
<li>Modify NURBS Boolean Guide to an updated version</li>
</ol>



<a name="296265284"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/296265284" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#296265284">(Aug 31 2022 at 06:48)</a>:</h4>
<p>Here are two pull requests. who should I look for as a reviewer?<br>
<a href="https://github.com/BRL-CAD/brlcad/pull/57">https://github.com/BRL-CAD/brlcad/pull/57</a><br>
<a href="https://github.com/BRL-CAD/brlcad/pull/56">https://github.com/BRL-CAD/brlcad/pull/56</a></p>



<a name="296510564"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/296510564" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#296510564">(Sep 01 2022 at 02:51)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> I'll definitely be reviewing them.  They're in my evening review queue.  Just a few things ahead of them.</p>



<a name="296510613"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/296510613" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#296510613">(Sep 01 2022 at 02:52)</a>:</h4>
<p>I did take a quick look at them when you submitted them and first glance looked really good.</p>



<a name="296510646"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/296510646" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#296510646">(Sep 01 2022 at 02:53)</a>:</h4>
<p>As for what to do next, what do you think would be the most helpful?  I have my opinions on this, but wondering what you think.</p>



<a name="296524044"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/296524044" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#296524044">(Sep 01 2022 at 06:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/296510564">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> I'll definitely be reviewing them.  They're in my evening review queue.  Just a few things ahead of them.</p>
</blockquote>
<p>Thanks a lot. They haven't been dealt with for ten days so I care about if they are on the schedule.</p>



<a name="296524621"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/296524621" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#296524621">(Sep 01 2022 at 06:33)</a>:</h4>
<p>I have extended the boolean and brep converting of arb8 primitive to sph and rcc primitives. Some of the results are wrong in missing faces, but I think extending primitives is not really helpful in locating the problem or fix it.</p>



<a name="296524838"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/296524838" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#296524838">(Sep 01 2022 at 06:35)</a>:</h4>
<p>So I'd like to locate error codes and scenarios of arb boolean test cases as my first step, meanwhile I can update NURBS Boolean Guide.</p>



<a name="297369649"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/297369649" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#297369649">(Sep 06 2022 at 13:36)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I have made some progress in making primitives boolean test cases more configurable, locating boolean error codes and getting started with fix <strong>bool_eval_development.xml</strong>. But I think it's a long process to start fixing boolean operation because it needs to read papers and codes. I'm not sure if we can see some substantial change before GSOC deadline.</p>



<a name="297370376"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/297370376" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#297370376">(Sep 06 2022 at 13:39)</a>:</h4>
<p>I remember a good work that the <strong>dplot</strong> command in archer is incorrect in some cases. Do you think fixing it is more feasible and meaningful?</p>



<a name="297370740"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/297370740" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#297370740">(Sep 06 2022 at 13:41)</a>:</h4>
<p>just like this <a href="/user_uploads/1549/ch-ToTZ_gtAgz6r7ETD1TEGl/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/ch-ToTZ_gtAgz6r7ETD1TEGl/image.png" title="image.png"><img src="/user_uploads/1549/ch-ToTZ_gtAgz6r7ETD1TEGl/image.png"></a></div>



<a name="297371287"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/297371287" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#297371287">(Sep 06 2022 at 13:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/290124065">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/289917392">said</a>:</p>
<div class="codehilite"><pre><span></span><code>[image.png](/user_uploads/1549/1g5LzD4kIYg6d8U6A2ccerpD/image.png) here is an example, I use dplot but it prompts for *overlay* usage.
</code></pre></div>
<p>Ah, I think I understand now!  Yeah, I think there's two things going on there.. first dplot was moved to a brep subcommand, but the archer command table was not updated (bug #1).  Second, the archer dplot command binding is calling ged_exec() on "dplot" and somehow that is matching the "overlay" command (bug #2).</p>
</blockquote>
<p>it has been clarified before.</p>



<a name="297832009"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/297832009" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#297832009">(Sep 08 2022 at 17:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/297370376">said</a>:</p>
<blockquote>
<p>I remember a good work that the <strong>dplot</strong> command in archer is incorrect in some cases. Do you think fixing it is more feasible and meaningful?</p>
</blockquote>
<p>Yes, fixing any minor bugs like that are always appreciated.  They're nuisance and sometimes distractions, and sometimes outright significant problems so yes .. please do :)</p>



<a name="299196504"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/299196504" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#299196504">(Sep 16 2022 at 16:21)</a>:</h4>
<p>I have fixed ploting faces one by one for 'dplot xx faces' cmd by plot split face files instead of outloop curves. But when it comes to plot all the faces at last, the 'overlay' cmd can't plot all the faces(split face files) at the same time. How to solve this problem?</p>



<a name="299197159"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/299197159" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#299197159">(Sep 16 2022 at 16:24)</a>:</h4>
<p>And I tried some boolean and brep cases, the results are wrong and the brep function doesn't involve any face trim operations(no ssx events), so some cmds of dplot just can't be tested successfully....</p>



<a name="299197718"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/299197718" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#299197718">(Sep 16 2022 at 16:27)</a>:</h4>
<p><a href="/user_uploads/1549/deVlTS2AUb5s5g__GQh7_7pN/Snipaste_2022-09-17_00-26-24.png">Snipaste_2022-09-17_00-26-24.png</a> <a href="/user_uploads/1549/7lc3XUhYrzm3NZBrLZxlhYgG/Snipaste_2022-09-17_00-26-30.png">Snipaste_2022-09-17_00-26-30.png</a> <a href="/user_uploads/1549/7zDc1-LFQKXJjlMsV2ZLuPEY/Snipaste_2022-09-17_00-26-40.png">Snipaste_2022-09-17_00-26-40.png</a> Here are some snipastes of <code>dplot xx faces</code> cmd</p>
<div class="message_inline_image"><a href="/user_uploads/1549/deVlTS2AUb5s5g__GQh7_7pN/Snipaste_2022-09-17_00-26-24.png" title="Snipaste_2022-09-17_00-26-24.png"><img src="/user_uploads/1549/deVlTS2AUb5s5g__GQh7_7pN/Snipaste_2022-09-17_00-26-24.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/7lc3XUhYrzm3NZBrLZxlhYgG/Snipaste_2022-09-17_00-26-30.png" title="Snipaste_2022-09-17_00-26-30.png"><img src="/user_uploads/1549/7lc3XUhYrzm3NZBrLZxlhYgG/Snipaste_2022-09-17_00-26-30.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/7zDc1-LFQKXJjlMsV2ZLuPEY/Snipaste_2022-09-17_00-26-40.png" title="Snipaste_2022-09-17_00-26-40.png"><img src="/user_uploads/1549/7zDc1-LFQKXJjlMsV2ZLuPEY/Snipaste_2022-09-17_00-26-40.png"></a></div>



<a name="299236855"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/299236855" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#299236855">(Sep 16 2022 at 20:29)</a>:</h4>
<p>I'm not fully understanding.  Can you give me a complete mged transcript I can repeat on my side (including arb creation)?</p>



<a name="299237035"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/299237035" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#299237035">(Sep 16 2022 at 20:30)</a>:</h4>
<p>you should be able to overlay multiple plot files at the same time (or sequentially) ... at least I think so!</p>



<a name="299263651"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/299263651" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#299263651">(Sep 17 2022 at 01:47)</a>:</h4>
<p>OK, now I can overlay multiple plot files sequentially.</p>



<a name="299263890"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/299263890" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#299263890">(Sep 17 2022 at 01:51)</a>:</h4>
<p>Here are snipastes by plotting <code>bool*_split_face*_outerloop_curve*.plot3</code> files. To show these curves, you need to rollback to <code>https://github.com/GregoryLi0/brlcad/tree/b1a76f1d06f3708928b91a51c29d3a89bb057010</code></p>



<a name="299264087"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/299264087" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#299264087">(Sep 17 2022 at 01:54)</a>:</h4>
<p><a href="/user_uploads/1549/uPWmU8wWRHt6Osv92_UHQTKS/image.png">image.png</a> <a href="/user_uploads/1549/RWshdf6YOr_n_ztfWDJLIQEL/image.png">image.png</a> <a href="/user_uploads/1549/fbbf9_CVALDX76iyELLKsVHK/image.png">image.png</a> <br>
As shown in snipastes, only 1 or none curve of each face is drawn.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/uPWmU8wWRHt6Osv92_UHQTKS/image.png" title="image.png"><img src="/user_uploads/1549/uPWmU8wWRHt6Osv92_UHQTKS/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/RWshdf6YOr_n_ztfWDJLIQEL/image.png" title="image.png"><img src="/user_uploads/1549/RWshdf6YOr_n_ztfWDJLIQEL/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/fbbf9_CVALDX76iyELLKsVHK/image.png" title="image.png"><img src="/user_uploads/1549/fbbf9_CVALDX76iyELLKsVHK/image.png"></a></div>



<a name="299265070"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/299265070" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#299265070">(Sep 17 2022 at 02:11)</a>:</h4>
<p><a href="/user_uploads/1549/VRt8tbgXCr2AltdSqMrVjVxc/arb_simple_brep.sh">arb_simple_brep.sh</a> This is a simple shell to regenerate plot files.</p>



<a name="301239886"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/301239886" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#301239886">(Sep 28 2022 at 13:48)</a>:</h4>
<p>I was absent because of getting back to school and COVID-19 policy. I did some unreported work</p>



<a name="301240314"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/301240314" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#301240314">(Sep 28 2022 at 13:50)</a>:</h4>
<p>Now dplot is almost fixed. I roll back to a previous commit which can cause ssx event files to help debug dplot cmd. But the overlay cmd can't plot every .plot3 files.</p>



<a name="301240722"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/301240722" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#301240722">(Sep 28 2022 at 13:52)</a>:</h4>
<p>For example,  some of ssx<em>_event</em>.plot3 and clipped_curve*.plot3 files can't be plotted using overlay cmd, so I have to draw other files with the same effect if possible.</p>



<a name="301240763"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/301240763" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#301240763">(Sep 28 2022 at 13:52)</a>:</h4>
<p><a href="/user_uploads/1549/TiK3XJ8McJCqAlGSC7jfR57l/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/TiK3XJ8McJCqAlGSC7jfR57l/image.png" title="image.png"><img src="/user_uploads/1549/TiK3XJ8McJCqAlGSC7jfR57l/image.png"></a></div>



<a name="301363391"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/301363391" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#301363391">(Sep 29 2022 at 04:00)</a>:</h4>
<p>welcome back <span class="user-mention" data-user-id="491779">@GregoryLi</span> !  </p>
<p>The plot interface is entirely for devs, so it's not critical but do you have any more info on why they can't be plotted using the overlay command?  What happens?  Does it crash?  Does it just not render correctly?  Usage error?  Are the plot files valid?</p>



<a name="301416625"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/301416625" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#301416625">(Sep 29 2022 at 11:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/301363391">said</a>:</p>
<blockquote>
<p>welcome back <span class="user-mention silent" data-user-id="491779">GregoryLi</span> !  </p>
<p>The plot interface is entirely for devs, so it's not critical but do you have any more info on why they can't be plotted using the overlay command?  What happens?  Does it crash?  Does it just not render correctly?  Usage error?  Are the plot files valid?</p>
</blockquote>
<p>it didn't crash or render. Here is one example: overlay the first file get error and nothing plotted.</p>



<a name="301416632"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/301416632" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#301416632">(Sep 29 2022 at 11:11)</a>:</h4>
<p><a href="/user_uploads/1549/L2JiTEHxvvbWD4u2eNpojWdG/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/L2JiTEHxvvbWD4u2eNpojWdG/image.png" title="image.png"><img src="/user_uploads/1549/L2JiTEHxvvbWD4u2eNpojWdG/image.png"></a></div>



<a name="301416759"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/301416759" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#301416759">(Sep 29 2022 at 11:12)</a>:</h4>
<p>overlay the second file get correct image.</p>



<a name="301416764"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/301416764" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#301416764">(Sep 29 2022 at 11:12)</a>:</h4>
<p><a href="/user_uploads/1549/UE01X0Oyg4q50QM8DLRORmvd/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/UE01X0Oyg4q50QM8DLRORmvd/image.png" title="image.png"><img src="/user_uploads/1549/UE01X0Oyg4q50QM8DLRORmvd/image.png"></a></div>



<a name="301417224"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/301417224" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#301417224">(Sep 29 2022 at 11:15)</a>:</h4>
<p>I don't know whether the plot files are valid or not. I'm finding it out and updating <em>NURBS Boolean Evaluation Development Guide</em></p>



<a name="302269138"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302269138" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302269138">(Oct 04 2022 at 14:10)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> After switching the base commit to a previous one,  it's much more clear to debug brep and boolean function. The <strong>brep</strong> cmd can introduce trimmed faces. To be more clear, run the same brep command with same data and codes before <strong>8a508c8f</strong> commit in 2021-11-09, the ssx events are recorded. but up-to-date codes won't record ssx events. I'm comparing related code changes and debuging the <strong>8a508c8f</strong> commit.</p>



<a name="302270369"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302270369" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302270369">(Oct 04 2022 at 14:16)</a>:</h4>
<p><a href="/user_uploads/1549/Gdb76dn4B1L8hjKOtNF-fTtf/image.png">image.png</a> <a href="/user_uploads/1549/p46z0SVOrqvRu6eT4VIO_Vn5/image.png">image.png</a> <br>
Here are two screenshot to show the difference of two brep objects created using same cmd and same union.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/Gdb76dn4B1L8hjKOtNF-fTtf/image.png" title="image.png"><img src="/user_uploads/1549/Gdb76dn4B1L8hjKOtNF-fTtf/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/p46z0SVOrqvRu6eT4VIO_Vn5/image.png" title="image.png"><img src="/user_uploads/1549/p46z0SVOrqvRu6eT4VIO_Vn5/image.png"></a></div>



<a name="302271209"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302271209" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302271209">(Oct 04 2022 at 14:20)</a>:</h4>
<p>I updated some of the <em>NURBS Boolean Evaluation Development Guide</em>. But I'm not sure if the plot files are not valid or not loaded correctly. All the codes related to generate or draw plot files seems correct... I'm still tracking.</p>



<a name="302781179"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302781179" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302781179">(Oct 07 2022 at 05:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/302270369">said</a>:</p>
<blockquote>
<p><a href="/user_uploads/1549/Gdb76dn4B1L8hjKOtNF-fTtf/image.png">image.png</a> <a href="/user_uploads/1549/p46z0SVOrqvRu6eT4VIO_Vn5/image.png">image.png</a> <br>
Here are two screenshot to show the difference of two brep objects created using same cmd and same union.</p>
</blockquote>
<p>If I'm not mistaken, they both look wrong, correct?</p>



<a name="302781301"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302781301" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302781301">(Oct 07 2022 at 05:08)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> will you be writing up a final report?  A brief 1-page summary of everything you did this GSoC would be very valuable to have and a nice showcase of your work.  I'd hope you'd particularly emphasize the work you put on the testing tool as that should be very helpful for identifying the current functionality status.</p>



<a name="302781492"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302781492" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302781492">(Oct 07 2022 at 05:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/301416625">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/301363391">said</a>:</p>
<blockquote>
<p>welcome back <span class="user-mention silent" data-user-id="491779">GregoryLi</span> !  </p>
<p>The plot interface is entirely for devs, so it's not critical but do you have any more info on why they can't be plotted using the overlay command?  What happens?  Does it crash?  Does it just not render correctly?  Usage error?  Are the plot files valid?</p>
</blockquote>
<p>it didn't crash or render. Here is one example: overlay the first file get error and nothing plotted.</p>
</blockquote>
<p>Without knowing if the plot files are valid or not, it's almost impossible to debug.  Basically.. finding issues in the plotting isn't going to be terribly helpful unless you debug and understand them enough to also fix them.  There's simply too many other things going on to stop and chase down dev infrastructure issues that might simply be bad input... unless you can figure it out.</p>



<a name="302781856"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302781856" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302781856">(Oct 07 2022 at 05:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/302781179">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/302270369">said</a>:</p>
<blockquote>
<p><a href="/user_uploads/1549/Gdb76dn4B1L8hjKOtNF-fTtf/image.png">image.png</a> <a href="/user_uploads/1549/p46z0SVOrqvRu6eT4VIO_Vn5/image.png">image.png</a> <br>
Here are two screenshot to show the difference of two brep objects created using same cmd and same union.</p>
</blockquote>
<p>If I'm not mistaken, they both look wrong, correct?</p>
</blockquote>
<p>Yes, the two results are both wrong. For brep boolean function, I have located the error that the trimmed faces are not generated and stored correctly.</p>



<a name="302781901"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302781901" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302781901">(Oct 07 2022 at 05:18)</a>:</h4>
<p>If we trim one surface with a closed curve, we should get two subsurfaces,but we only get one now(commit 8a508c8f).</p>



<a name="302781913"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302781913" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302781913">(Oct 07 2022 at 05:18)</a>:</h4>
<p>you should definitely document that somewhere so it can be reproduced and inspected in specific detail</p>



<a name="302781977"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302781977" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302781977">(Oct 07 2022 at 05:18)</a>:</h4>
<p>two subsurfaces?  how is that?</p>



<a name="302782084"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302782084" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302782084">(Oct 07 2022 at 05:20)</a>:</h4>
<p>Yes. I'm sorting out the work I have done and recording possible problems and solutions.</p>



<a name="302782267"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302782267" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302782267">(Oct 07 2022 at 05:23)</a>:</h4>
<p>for example, we trim the black face with red curves, we shall get inner area and outer area. But now we can get one of them. <a href="/user_uploads/1549/itF4hAH7XrzWw8hfabMBchPP/image.png">image.png</a> <a href="/user_uploads/1549/Z-ojP3NaRhVwCgaGahjj8q4S/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/itF4hAH7XrzWw8hfabMBchPP/image.png" title="image.png"><img src="/user_uploads/1549/itF4hAH7XrzWw8hfabMBchPP/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/Z-ojP3NaRhVwCgaGahjj8q4S/image.png" title="image.png"><img src="/user_uploads/1549/Z-ojP3NaRhVwCgaGahjj8q4S/image.png"></a></div>



<a name="302782617"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302782617" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302782617">(Oct 07 2022 at 05:28)</a>:</h4>
<p>Here is a more intuitive example. I created two arb8 and convert the union to brep form. I keep all the subsurfaces no matter it should be kept or not. If everything works correct, we shall get two arb8 with trim lines.</p>



<a name="302782808"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302782808" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302782808">(Oct 07 2022 at 05:31)</a>:</h4>
<p>But know each origin face creates one subface.<a href="/user_uploads/1549/JJjeIDhVFBlQDXa7SDHHg1vj/image.png">image.png</a> <a href="/user_uploads/1549/oSY93G7ztxyksPeX59hj038g/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/JJjeIDhVFBlQDXa7SDHHg1vj/image.png" title="image.png"><img src="/user_uploads/1549/JJjeIDhVFBlQDXa7SDHHg1vj/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/oSY93G7ztxyksPeX59hj038g/image.png" title="image.png"><img src="/user_uploads/1549/oSY93G7ztxyksPeX59hj038g/image.png"></a></div>



<a name="302783104"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302783104" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302783104">(Oct 07 2022 at 05:34)</a>:</h4>
<p>For this case, we have 12 origin faces(two arb8), we shall get 18 trimmed subfaces(8+10). But now we only get 12 trimmed subfaces.</p>



<a name="302783260"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302783260" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302783260">(Oct 07 2022 at 05:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/302782808">said</a>:</p>
<blockquote>
<p>But know each origin face creates one subface.<a href="/user_uploads/1549/JJjeIDhVFBlQDXa7SDHHg1vj/image.png">image.png</a> <a href="/user_uploads/1549/oSY93G7ztxyksPeX59hj038g/image.png">image.png</a></p>
</blockquote>
<p>I'm now debuging at commit 8a508c8f. The up-to-date code does not trim the surface properly...</p>



<a name="302783433"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/302783433" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#302783433">(Oct 07 2022 at 05:38)</a>:</h4>
<p>I will sort out the work I have done and record possible problems and solutions before final evaluation, and continue to debug boolean funciton after final evaluation. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="303078993"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/303078993" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#303078993">(Oct 09 2022 at 01:12)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  Here is my final report. Is there anything to be modified or given more details? Shall I send it to the mailling list? <a href="/user_uploads/1549/pC-AgwyrlMsgz2nEZ3Ysta5h/Final_Report.pdf">Final_Report.pdf</a></p>



<a name="303137616"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/303137616" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#303137616">(Oct 09 2022 at 14:08)</a>:</h4>
<p>I have fixed some of the boolean function. The up-to-date code won't record trimmed faces. Now it can record one of them.</p>



<a name="303137993"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/303137993" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#303137993">(Oct 09 2022 at 14:13)</a>:</h4>
<p><a href="/user_uploads/1549/e1x_dsrToYuN45TOYxc77Bs-/image.png">image.png</a> <a href="/user_uploads/1549/HgyIhMYW-GFTs5Mp_RzWfqxl/image.png">image.png</a> <a href="/user_uploads/1549/ZMNE-5__y3O5c__jQFcCLdoa/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/e1x_dsrToYuN45TOYxc77Bs-/image.png" title="image.png"><img src="/user_uploads/1549/e1x_dsrToYuN45TOYxc77Bs-/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/HgyIhMYW-GFTs5Mp_RzWfqxl/image.png" title="image.png"><img src="/user_uploads/1549/HgyIhMYW-GFTs5Mp_RzWfqxl/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/ZMNE-5__y3O5c__jQFcCLdoa/image.png" title="image.png"><img src="/user_uploads/1549/ZMNE-5__y3O5c__jQFcCLdoa/image.png"></a></div>



<a name="303138345"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/303138345" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#303138345">(Oct 09 2022 at 14:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/302781901">said</a>:</p>
<blockquote>
<p>If we trim one surface with a closed curve, we should get two subsurfaces,but we only get one now(commit 8a508c8f).</p>
</blockquote>
<p>And I believe the reason for missing subfaces is about trimming face with ssx_curve.  The related source code is <code>split_trimmed_face()</code> function in boolean.cpp.</p>



<a name="303138500"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/303138500" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#303138500">(Oct 09 2022 at 14:19)</a>:</h4>
<p>This is a summary for the function. <a href="/user_uploads/1549/bsfeTWHLqf-Hexl6CQGglS7H/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/bsfeTWHLqf-Hexl6CQGglS7H/image.png" title="image.png"><img src="/user_uploads/1549/bsfeTWHLqf-Hexl6CQGglS7H/image.png"></a></div>



<a name="303138649"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/303138649" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#303138649">(Oct 09 2022 at 14:20)</a>:</h4>
<p>I think we shall get two subfaces for not closed ssx_curve, as shown at the bottom of the picture.</p>



<a name="304651663"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/304651663" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#304651663">(Oct 18 2022 at 10:39)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="102902">@Sean</span> . It's really a great summer to work with you! I will continue to contribute to the community :)</p>



<a name="304652295"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/304652295" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#304652295">(Oct 18 2022 at 10:44)</a>:</h4>
<p>I'm debugging <code>split_face_into_loops()</code> function these days, hope to get two closed loop instead of one. I believe it will help a lot for boolean function. But I'm busy with school things in the next week or two. I will report on my progress as soon as I get the result :)</p>



<a name="306650495"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/306650495" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#306650495">(Oct 28 2022 at 13:03)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I'm glad to tell you I have located the lowest level bug. The <code>ON_PolyCurve::IsClosed()</code> function of OpenNURBS has no tolerance about <code>FindNextGap()</code>.  I simply remove the judgement about <code>IsClosed()</code> of splitted loop, the test case works well!</p>



<a name="306650606"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/306650606" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#306650606">(Oct 28 2022 at 13:04)</a>:</h4>
<p><a href="/user_uploads/1549/ZpC4yjEIWGeI2CKu1T0gnpjo/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/ZpC4yjEIWGeI2CKu1T0gnpjo/image.png" title="image.png"><img src="/user_uploads/1549/ZpC4yjEIWGeI2CKu1T0gnpjo/image.png"></a></div>



<a name="306651253"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/306651253" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#306651253">(Oct 28 2022 at 13:07)</a>:</h4>
<p>I will run previous test intersection cases to see if it works well.</p>



<a name="306651976"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/306651976" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#306651976">(Oct 28 2022 at 13:10)</a>:</h4>
<p>Is code of OpenNURBS can't be modified? I think we need to add a tolerance to <code>FindNextGap()</code>, or we have to come up with another way to test is the loop closed.</p>



<a name="307886365"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/307886365" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#307886365">(Nov 04 2022 at 05:22)</a>:</h4>
<p>Hmm.. <span class="user-mention" data-user-id="491779">@GregoryLi</span> FindNextGap() utilizes a tolerance that is at least as big as ON_ZERO_TOLERANCE in determining whether there's a gap.  In HasGapAt() it uses that along with some extra logic to take the curvature into account as well, but is fundamentally underpinned by ON_PointsAreCoincident() which is also whether points are within ON_ZERO_TOLERANCE or ON_RELATIVE_TOLERANCE.</p>



<a name="307886506"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/307886506" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#307886506">(Nov 04 2022 at 05:24)</a>:</h4>
<p>We should really not be modifying OpenNURBS.  Is it the case that the curve is discontinuous perhaps?  Looking at the screenshot, it appears to be discontinuous (the stair-stepping), and that's a bit unexpected.  Do you know why it's like that?</p>



<a name="312295872"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/312295872" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#312295872">(Nov 26 2022 at 05:43)</a>:</h4>
<p>Hi, I had a busy month and need two weeks to deal with my school things. I will check it these days if I have time. I stepped though boolean function and found it's closed. I thought it was caused by some other judgements.</p>



<a name="338330347"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/338330347" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#338330347">(Feb 27 2023 at 13:43)</a>:</h4>
<p>Hi, I'm back :)<br>
I tested the brep intersection cases and it seems it haven't be fixed. So I'm trying to finish it these days, and finish my previous PRs.</p>



<a name="339707204"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/339707204" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#339707204">(Mar 05 2023 at 14:56)</a>:</h4>
<p>Now I can generate all trimmed surfaces by removing wrong judgement (polycurve-&gt;IsClosed() in boolean.cpp), here are something to be done:</p>
<ol>
<li>Look into and fix IsClosed() function. Now the test data is correct but get wrong answer.</li>
<li>The code to decide whether to keep trimmed surfaces is wrong.</li>
<li>Look into and fix stair-stepping cases.</li>
</ol>



<a name="339769397"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/339769397" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#339769397">(Mar 06 2023 at 03:04)</a>:</h4>
<p>To generate all trimmed surfaces, some curve of  <strong>outerloop_segs</strong> (in split_face_into_loops(), libbrep/boolean.cpp)  are in dimen 2 while others are 3 dimension. Points on 2d curve only get x y value when evaluating using OpenNURBS though they have 3d info, while 3d curve get x y z value. So it’s a mass to determine whether 2d point and 3d point overlap or not. It leads to we get <strong>false</strong> answer calling <strong>ON_PolyCurve::IsClosed()</strong> with correct data.<br>
I think simply removing the OpenNURBS judgement is fine because we already have codes that check if it’s closed in boolean.cpp.</p>



<a name="339769530"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/339769530" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#339769530">(Mar 06 2023 at 03:07)</a>:</h4>
<p>Maybe converting 2d curves to 3d curves when generating trimmed surfaces is also a good method, because the 2d curves already have all the 3d infos we need. What do you think? <span class="user-mention" data-user-id="102902">@Sean</span></p>



<a name="339879221"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/339879221" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#339879221">(Mar 06 2023 at 14:13)</a>:</h4>
<p>You can see my code here. <a href="https://github.com/GregoryLi0/brlcad/tree/brep_boolean_debug">https://github.com/GregoryLi0/brlcad/tree/brep_boolean_debug</a><br>
Btw, I can compile the latest brlcad code of main branch. But archer crashes as soon as I open it, both on ubuntu and windows...</p>



<a name="339890019"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/339890019" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#339890019">(Mar 06 2023 at 14:55)</a>:</h4>
<p>Just noticed the Archer crash here as well.</p>



<a name="340007430"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/340007430" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#340007430">(Mar 07 2023 at 02:35)</a>:</h4>
<p><span class="user-mention" data-user-id="491779">@GregoryLi</span> I think Archer is working again?</p>



<a name="340008591"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/340008591" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#340008591">(Mar 07 2023 at 02:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/340007430">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> I think Archer is working again?</p>
</blockquote>
<p>Yeah, it works well on ubuntu now.</p>



<a name="340282735"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/340282735" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#340282735">(Mar 08 2023 at 07:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/339769397">said</a>:</p>
<blockquote>
<p>To generate all trimmed surfaces, some curve of  <strong>outerloop_segs</strong> (in split_face_into_loops(), libbrep/boolean.cpp)  are in dimen 2 while others are 3 dimension. Points on 2d curve only get x y value when evaluating using OpenNURBS though they have 3d info, while 3d curve get x y z value. So it’s a mass to determine whether 2d point and 3d point overlap or not. It leads to we get <strong>false</strong> answer calling <strong>ON_PolyCurve::IsClosed()</strong> with correct data.<br>
I think simply removing the OpenNURBS judgement is fine because we already have codes that check if it’s closed in boolean.cpp.</p>
</blockquote>
<p>I find it has been solved in the latest edition by standardizing data into 3-d. <a href="/user_uploads/1549/oAyto3TjIx-d_GoVoHirR0CC/image.png">image.png</a> <a href="/user_uploads/1549/VF5nTkh-rNRWEYhhCdaUHKQG/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/oAyto3TjIx-d_GoVoHirR0CC/image.png" title="image.png"><img src="/user_uploads/1549/oAyto3TjIx-d_GoVoHirR0CC/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/VF5nTkh-rNRWEYhhCdaUHKQG/image.png" title="image.png"><img src="/user_uploads/1549/VF5nTkh-rNRWEYhhCdaUHKQG/image.png"></a></div>



<a name="340283057"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/340283057" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#340283057">(Mar 08 2023 at 07:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/339707204">said</a>:</p>
<blockquote>
<p>Now I can generate all trimmed surfaces by removing wrong judgement (polycurve-&gt;IsClosed() in boolean.cpp), here are something to be done:</p>
<ol>
<li>Look into and fix IsClosed() function. Now the test data is correct but get wrong answer.</li>
<li>The code to decide whether to keep trimmed surfaces is wrong.</li>
<li>Look into and fix stair-stepping cases.</li>
</ol>
</blockquote>
<p>So it semms the 1st question is fixed now. Running my arb8 test cases will confirm it.</p>



<a name="340539045"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/340539045" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#340539045">(Mar 09 2023 at 08:25)</a>:</h4>
<p>You mean IsClosed() is fixed?  It's possible our openNURBS update introduced some fixes but I thought we were seeing some other issue too (related to the stair-stepping and general book-keeping).</p>



<a name="340774821"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/340774821" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#340774821">(Mar 10 2023 at 06:39)</a>:</h4>
<p>I'm looking into stair-stepping, do you mean it like this? <a href="/user_uploads/1549/nlyaSGvu9qkIfNHmL5ZsJbqN/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/nlyaSGvu9qkIfNHmL5ZsJbqN/image.png" title="image.png"><img src="/user_uploads/1549/nlyaSGvu9qkIfNHmL5ZsJbqN/image.png"></a></div>



<a name="340775075"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/340775075" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#340775075">(Mar 10 2023 at 06:41)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  What does book-keeping mean? Is there any test case?</p>



<a name="340959106"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/340959106" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#340959106">(Mar 10 2023 at 20:31)</a>:</h4>
<p>That's not specifically what I was referring to -- just the general issue of having two boxes that align on just their edge evaluating incorrectly.</p>
<p>As for book-keeping, that refers to how the code keeps track of what it is doing, what it has done, what it needs to do next, etc.  From the failure examples I've seen, it looks like the code sometimes incorrectly determines when two things intersect and/or performs an edit to join/split the surfaces and gets it wrong.</p>



<a name="342284608"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/342284608" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#342284608">(Mar 16 2023 at 11:38)</a>:</h4>
<p>Good news! Just fixed the bug that jump over categorize_trimmed_faces(). Now the simple two arb8 union case is correct.</p>



<a name="342284682"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/342284682" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#342284682">(Mar 16 2023 at 11:39)</a>:</h4>
<p><a href="/user_uploads/1549/TjWk7cb68D-zt-VcIo5Vk2q3/image.png">image.png</a> <a href="/user_uploads/1549/on9lJkt7-bqqr--jd27JknJw/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/TjWk7cb68D-zt-VcIo5Vk2q3/image.png" title="image.png"><img src="/user_uploads/1549/TjWk7cb68D-zt-VcIo5Vk2q3/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/on9lJkt7-bqqr--jd27JknJw/image.png" title="image.png"><img src="/user_uploads/1549/on9lJkt7-bqqr--jd27JknJw/image.png"></a></div>



<a name="342285018"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/342285018" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#342285018">(Mar 16 2023 at 11:40)</a>:</h4>
<p>I will add the arb8 intersection grid to test it. <a href="/user_uploads/1549/NO_75w2_WFHhRRNUbiluUAaf/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/NO_75w2_WFHhRRNUbiluUAaf/image.png" title="image.png"><img src="/user_uploads/1549/NO_75w2_WFHhRRNUbiluUAaf/image.png"></a></div>



<a name="342393672"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/342393672" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#342393672">(Mar 16 2023 at 18:30)</a>:</h4>
<p>Wow, that's great <span class="user-mention" data-user-id="491779">@GregoryLi</span> .. is the error and fix easy to explain?  How'd you figure it out?</p>



<a name="342456649"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/342456649" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#342456649">(Mar 17 2023 at 01:53)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  Yeah, it's quite simple. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>   One former commit tried to add cache vectors instead of modifying output value, but some judging code is not modified to check the cache vector. This resulted in skipping lots of important codes.<br>
More clearly, in <code>get_face_intersection_curves()</code> of <code>boolean.cpp</code>, we use <code>st1</code>&amp;<code>st2</code> as a cache vector for <code>surf_tree1</code>&amp;<code>surf_tree2</code>, but we still use <code>surf_tree2</code> to detect exceptions, causing <code>ON_Intersect()</code> to always be  skipped.</p>



<a name="342473666"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/342473666" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#342473666">(Mar 17 2023 at 05:30)</a>:</h4>
<p>I created a sheet of arb8 unions. Now we can get all subfaces properly, but miss some of them in the end. It means bug exists in <code>categorize_trimmed_faces()</code> very likely.<br>
<a href="/user_uploads/1549/gNknIguf-_NB50dlw6dcvqrF/image.png">image.png</a> <a href="/user_uploads/1549/3wu1LkFXfapvXVrzhjy8FeI4/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/gNknIguf-_NB50dlw6dcvqrF/image.png" title="image.png"><img src="/user_uploads/1549/gNknIguf-_NB50dlw6dcvqrF/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/3wu1LkFXfapvXVrzhjy8FeI4/image.png" title="image.png"><img src="/user_uploads/1549/3wu1LkFXfapvXVrzhjy8FeI4/image.png"></a></div>



<a name="342474255"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/342474255" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#342474255">(Mar 17 2023 at 05:36)</a>:</h4>
<p>The intersection cases also show missing or redundant subfaces.<br>
<a href="/user_uploads/1549/doCmtlf-F0gdfhyWsqlt5kjN/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/doCmtlf-F0gdfhyWsqlt5kjN/image.png" title="image.png"><img src="/user_uploads/1549/doCmtlf-F0gdfhyWsqlt5kjN/image.png"></a></div>



<a name="342492927"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/342492927" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#342492927">(Mar 17 2023 at 08:08)</a>:</h4>
<p>It sounds like you're getting more and more familiarized with the issues in the code and how to fix them!  That's excellent progress and understanding.</p>



<a name="342493130"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/342493130" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#342493130">(Mar 17 2023 at 08:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/342473666">said</a>:</p>
<blockquote>
<p>I created a sheet of arb8 unions. Now we can get all subfaces properly, but miss some of them in the end. It means bug exists in <code>categorize_trimmed_faces()</code> very likely.<br>
<a href="/user_uploads/1549/gNknIguf-_NB50dlw6dcvqrF/image.png">image.png</a> <a href="/user_uploads/1549/3wu1LkFXfapvXVrzhjy8FeI4/image.png">image.png</a></p>
</blockquote>
<p>Looks like there's a couple other errors in there too.  I see a missing face and all the dark faces have to be wrong too.</p>



<a name="342699954"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Boolean%20evaluation/near/342699954" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GregoryLi <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation.html#342699954">(Mar 18 2023 at 02:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/342493130">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="491779">GregoryLi</span> <a href="#narrow/stream/111975-Google-Summer-of-Code/topic/Boolean.20evaluation/near/342473666">said</a>:</p>
<blockquote>
<p>I created a sheet of arb8 unions. Now we can get all subfaces properly, but miss some of them in the end. It means bug exists in <code>categorize_trimmed_faces()</code> very likely.<br>
<a href="/user_uploads/1549/gNknIguf-_NB50dlw6dcvqrF/image.png">image.png</a> <a href="/user_uploads/1549/3wu1LkFXfapvXVrzhjy8FeI4/image.png">image.png</a></p>
</blockquote>
<p>Looks like there's a couple other errors in there too.  I see a missing face and all the dark faces have to be wrong too.</p>
</blockquote>
<p>Yes, I think they are all caused by <code>categorize_trimmed_faces()</code>.</p>



<hr><p>Last updated: May 02 2025 at 00:53 UTC</p>
</html>