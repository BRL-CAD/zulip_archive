<html>
<head><meta charset="utf-8"><title>Overlap Tool · Google Summer of Code · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/index.html">Google Summer of Code</a></h2>
<h3>Topic: <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html">Overlap Tool</a></h3>

<hr>

<base href="https://brlcad.zulipchat.com">

<head><link href="https://brl-cad.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="122909872"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/122909872" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#122909872">(Feb 24 2018 at 05:00)</a>:</h4>
<blockquote>
<p>great <span class="user-mention" data-user-email="sharan.nyn@gmail.com" data-user-id="109608">@Sharan Narayan</span> .. i'll see if i can review that page soon.  as for the check command, you currently have to run the <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> script <em>first</em>, then you provide the log file it produces to the check command</p>
</blockquote>
<p>Thanks that worked. I got a .overlaps file which I fed to check.tcl in mged.<br>
Now I need to think about the new functional GUI changes I can bring to this tool.<br>
As of now I am going through the Tcl/Tk language and familiarizing myself with it. Any suggestions that I should keep in mind?</p>



<a name="122921978"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/122921978" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#122921978">(Feb 24 2018 at 13:22)</a>:</h4>
<p>nothing comes to mind other than we really want this interface to be as simple, automatic, and general as possible.  as to the code, tcl/tk is a relatively simple language.  be sure to check the TODO file in src/tclscripts/checker as it has all the past thoughts on what to do next.</p>



<a name="122922224"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/122922224" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#122922224">(Feb 24 2018 at 13:34)</a>:</h4>
<p>Yeah I saw the TODO list. Tcl/Tk is simple as you said. But it uses itcl and itk. I'm gonna learn that now. When proposing for the idea I'll make sure to attach some prototype screenshots of what I hope to make <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span> also keeping the TODO in mind.</p>



<a name="123387784"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123387784" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123387784">(Mar 07 2018 at 07:48)</a>:</h4>
<p>After going through the TODO list, there are a few GUI and a few performance/efficiency related problems. Since the project is revamping the GUI of the overlap tool, should I only consider the GUI related problems? or think about the performance problems as well? <br>
By performance problems, I mean issues like Faster check command, Better overlap detection, etc.<br>
And where would I post the proposal for preview before the actual submissions begin?</p>



<a name="123499218"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123499218" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123499218">(Mar 09 2018 at 17:20)</a>:</h4>
<p><span class="user-mention" data-user-email="sharan.nyn@gmail.com" data-user-id="109608">@Sharan Narayan</span> if you're going to propose working on the overlap tool, performance is not a primary concern.  the biggest gap there is converting what is currently implemented in a shell script into code that will run cross-platform (either in C/C++ or Tcl).  you certainly could propose better overlap detection, but that's almost a project in itself.  regardless, you will need to be familiar with the existing overlap tools (gqa, rtcheck, and the overlap GUI).</p>



<a name="123499231"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123499231" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123499231">(Mar 09 2018 at 17:20)</a>:</h4>
<p>you can post a preview anywhere that is convenient -- our wiki, google doc, etc</p>



<a name="123572193"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123572193" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123572193">(Mar 11 2018 at 14:56)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  Thanks for the input, I have put together the proposal on google docs, please provide any comments or feedbacks. <br>
<a href="https://docs.google.com/document/d/15vXuiRSQFjkswHcswRKEV3hW-kzvoyTvPN-BbwBdzz0/edit?usp=sharing" target="_blank" title="https://docs.google.com/document/d/15vXuiRSQFjkswHcswRKEV3hW-kzvoyTvPN-BbwBdzz0/edit?usp=sharing">https://docs.google.com/document/d/15vXuiRSQFjkswHcswRKEV3hW-kzvoyTvPN-BbwBdzz0/edit?usp=sharing</a></p>



<a name="123589026"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123589026" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123589026">(Mar 12 2018 at 01:50)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Sharan Narayan</span> thanks for sharing the write-up, looks like some good progress.  Did you read over the overlap tool TODO file?</p>



<a name="123607202"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123607202" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123607202">(Mar 12 2018 at 12:52)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="109608">@Sharan Narayan</span> thanks for sharing the write-up, looks like some good progress.  Did you read over the overlap tool TODO file?</p>
</blockquote>
<p>Yes I did read the TODO file in src/tclscripts/checker folder. I hope that's what you meant by overlap tool TODO.<br>
I have got the list of issues and ideas from there only but there are a lot of things that I didn't understand from the file.<br>
I have made a docs file with my doubts about the TODO file.<br>
<a href="https://docs.google.com/document/d/1N3Enik_DhtmdHX6yynO0vg8rdjyiVTji2EA7HSjrLBo/edit?usp=sharing" target="_blank" title="https://docs.google.com/document/d/1N3Enik_DhtmdHX6yynO0vg8rdjyiVTji2EA7HSjrLBo/edit?usp=sharing">https://docs.google.com/document/d/1N3Enik_DhtmdHX6yynO0vg8rdjyiVTji2EA7HSjrLBo/edit?usp=sharing</a><br>
Please add comments to that file so that they are clear for me, Thanks.</p>



<a name="123608357"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123608357" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123608357">(Mar 12 2018 at 13:26)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="109608">@Sharan Narayan</span> will take a look and see -- have you had a chance to create and resolve overlaps using the current tools (like gqa or rtcheck) and the current gui?</p>



<a name="123608368"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123608368" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123608368">(Mar 12 2018 at 13:26)</a>:</h4>
<p>there's a lot of terminology that cannot be easily explained until you actually get some experience with what overlaps are, and how they are dealt with</p>



<a name="123613193"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123613193" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123613193">(Mar 12 2018 at 15:34)</a>:</h4>
<p>I had used the rtcheck command back in the GCI days. Which displayed the overlaps in yellow lines according to the perspective we are currently viewing ( az, el values). I still have to use gqa. I'll read the man page on how to use it. I will also try out the current GUI in MGED. <br>
Will ask for help. If anything comes up.</p>



<a name="123965743"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123965743" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123965743">(Mar 20 2018 at 14:38)</a>:</h4>
<blockquote>
<p>Thanks <span class="user-mention" data-user-id="109608">@Sharan Narayan</span> will take a look and see -- have you had a chance to create and resolve overlaps using the current tools (like gqa or rtcheck) and the current gui?</p>
</blockquote>
<p>Thanks for the feedback on the TODO file.  <br>
Sorry for the late response, had my exams. Today was the last one <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span> , so back on track.<br>
I have gone through it and did some research and made a few changes to it. <br>
There are still a few things I don't understand like: bboxes, cyclic hierarchies, cycles,matrices and ORCA geometry.<br>
I tried finding any relevant documentations related to these but couldn’t find any..<br>
Please have a look at the changes I made and the remaining doubts, Thank you.<br>
<a href="https://docs.google.com/document/d/1N3Enik_DhtmdHX6yynO0vg8rdjyiVTji2EA7HSjrLBo/edit" target="_blank" title="https://docs.google.com/document/d/1N3Enik_DhtmdHX6yynO0vg8rdjyiVTji2EA7HSjrLBo/edit">https://docs.google.com/document/d/1N3Enik_DhtmdHX6yynO0vg8rdjyiVTji2EA7HSjrLBo/edit</a></p>



<a name="123989197"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123989197" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123989197">(Mar 21 2018 at 01:01)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Sharan Narayan</span> I talked with one of the other devs and I think it will be best if the focus of any work on the overlap tool was towards implementing it in C or C++ instead of new features or GUI work (other than reworking the GUI to call whatever new backend.</p>



<a name="123989405"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123989405" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123989405">(Mar 21 2018 at 01:08)</a>:</h4>
<p>you're going to have trouble finding documentation because those are complex topics that are spread across multiple documents and are generally learned from hands-on modeling experience</p>



<a name="123989475"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123989475" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123989475">(Mar 21 2018 at 01:12)</a>:</h4>
<p>see the bb command for bboxes; you can create a cyclic hierarchy in mged with the c, comb, or g commands (and probably many others); a cycle is a cyclic hierarchy; matrices are a fundamental modeling concept learned by doing -- do all the mged tutorials then the oed tutorial to understand; orca geometry is just geometry with unpushed matrices.</p>



<a name="123997725"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/123997725" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#123997725">(Mar 21 2018 at 06:22)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="109608">@Sharan Narayan</span> I talked with one of the other devs and I think it will be best if the focus of any work on the overlap tool was towards implementing it in C or C++ instead of new features or GUI work (other than reworking the GUI to call whatever new backend.</p>
</blockquote>
<p>That means I should remove everything related revamping the GUI ? from my proposal and focus more on the cross compatibility part.<br>
I will rewrite the proposal and include the details about the initial GUI that should appear to provide arguments for creating the .overlap file.</p>



<a name="124009943"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124009943" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124009943">(Mar 21 2018 at 13:35)</a>:</h4>
<p>if you implement something clean in c/c++, there will be no need for writing an overlap file ... it'll be in memory and can be queried by a gui</p>



<a name="124048737"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124048737" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124048737">(Mar 22 2018 at 06:53)</a>:</h4>
<blockquote>
<p>if you implement something clean in c/c++, there will be no need for writing an overlap file ... it'll be in memory and can be queried by a gui</p>
</blockquote>
<p>Using C/C++ for processing outputs of commands like rtcheck would be difficult. <br>
Can I use any external libraries to do string processing? like Boost for C++.</p>



<a name="124061119"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124061119" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124061119">(Mar 22 2018 at 13:43)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> <br>
Nevermind that. I managed to parse the rtcheck and gqa logs without using awk, sed and cut. <br>
Using C's fscanf function and scanset formatting, I extracted the information from the files.</p>



<a name="124062031"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124062031" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124062031">(Mar 22 2018 at 14:06)</a>:</h4>
<p>we don't want to add boost as a dependency if we don't have to -- there are a lot of string processing functions in libbu (and it's easy enough to add more as needed).</p>



<a name="124062044"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124062044" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124062044">(Mar 22 2018 at 14:07)</a>:</h4>
<p>that said, we also don't really want to be doing string processing ultimately, because that means any change to one tool will break the other.  it should be working with the data in binary, keeping it in that form until it's time to print.</p>



<a name="124062172"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124062172" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124062172">(Mar 22 2018 at 14:10)</a>:</h4>
<blockquote>
<p>that said, we also don't really want to be doing string processing ultimately, because that means any change to one tool will break the other.  it should be working with the data in binary, keeping it in that form until it's time to print.</p>
</blockquote>
<p>Okay, but how do I get just the overlaps from the rtcheck command or gqa command?<br>
I had to use text processing because the output logs from these files don't give the overlaps directly.</p>



<a name="124062519"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124062519" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124062519">(Mar 22 2018 at 14:20)</a>:</h4>
<p>using text processing is okay in the strict sense of that's what the current code is doing, but you'll want to keep it as modular as possible so that it can be replaced with overlaps from some binary interface (which doesn't exist)</p>



<a name="124062551"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124062551" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124062551">(Mar 22 2018 at 14:20)</a>:</h4>
<p>you'd get the list by ... implementing something that gets them, and making rtcheck/gqa/check use that new interface</p>



<a name="124062675"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124062675" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124062675">(Mar 22 2018 at 14:23)</a>:</h4>
<p>a plan would probably be something like refactoring rtcheck into a libanalyze function, then refactoring rtcheck to use the new function, then adding the parallel capabilities of gqa into the libanalyze function, then refactoring gqa to use it, then adding your new command in libged that also uses that function (doing the work of both rtcheck and gqa)</p>



<a name="124063108"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124063108" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124063108">(Mar 22 2018 at 14:34)</a>:</h4>
<blockquote>
<p>a plan would probably be something like refactoring rtcheck into a libanalyze function, then refactoring rtcheck to use the new function, then adding the parallel capabilities of gqa into the libanalyze function, then refactoring gqa to use it, then adding your new command in libged that also uses that function (doing the work of both rtcheck and gqa)</p>
</blockquote>
<p>This is what I understood from it.<br>
To implement a function in rtcheck that does not affect the current functionality of rtcheck, but returns the output as a list, which can be processed by the check command. And same for the gqa command.<br>
Finally adding the command to libged.<br>
Please correct me if I am wrong. Thanks</p>



<a name="124067668"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124067668" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124067668">(Mar 22 2018 at 16:24)</a>:</h4>
<p>you almost said what I said .. and the places where you said something different aren't ideal (e.g., you said "implement a function in rtcheck" -- I said implement a function in libanalyze)</p>



<a name="124089404"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124089404" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124089404">(Mar 23 2018 at 02:53)</a>:</h4>
<p>After going through rtcheck.c, I am not able to understand any of it. There are so many functions and data structures which are BRLCAD specific. To make sense of it, I thought I would check the header files. Same story there, the header files are depending on other header files.<br>
Any suggestions ? :/ Without understanding them, I am stuck.</p>



<a name="124092805"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124092805" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124092805">(Mar 23 2018 at 05:03)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Sharan Narayan</span> it sounds like you don't have that much experience reading code ... and that is an essential skill to work on as a developer.  what that means is the goals we've discussed are quite possibly beyond your abilities and you may need to consider proposing something different or spend a LOT more time studying the code</p>



<a name="124092862"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124092862" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124092862">(Mar 23 2018 at 05:04)</a>:</h4>
<p>one thing that might help is to read through these, particularly the first one since it speaks to the structure of the rtcheck application (and other rt* applications and gqa): <a href="http://brlcad.org/wiki/Developing_applications" target="_blank" title="http://brlcad.org/wiki/Developing_applications">http://brlcad.org/wiki/Developing_applications</a></p>



<a name="124092873"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124092873" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124092873">(Mar 23 2018 at 05:05)</a>:</h4>
<p>if you still don't understand after studying those materials and looking again at the code, that would be a good time to re-plan</p>



<a name="124113263"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124113263" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124113263">(Mar 23 2018 at 15:50)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102902">@Sean</span> ,  Glad to say I made some progress and understood most of the rtcheck.c file.<br>
read the linux implementation of rtcheck.c<br>
Understood how tclfilehandler calls the functions for stdin and stderr, stdin is used for the output as plot3 file. stderr is the logs that get printed.<br>
But there are some things which I didn't understand which I have linked to this doc file,:<br>
<a href="https://docs.google.com/document/d/1NTftagw4Ie7e_PgmF400dWPOAGHZOZEj5126fTh_qQw/edit?usp=sharing" target="_blank" title="https://docs.google.com/document/d/1NTftagw4Ie7e_PgmF400dWPOAGHZOZEj5126fTh_qQw/edit?usp=sharing">https://docs.google.com/document/d/1NTftagw4Ie7e_PgmF400dWPOAGHZOZEj5126fTh_qQw/edit?usp=sharing</a><br>
Please give some feedbacks, Thank you.</p>



<a name="124136339"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124136339" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124136339">(Mar 24 2018 at 02:45)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Sharan Narayan</span> I'm glad you've made some progress, but you've not understood it enough to realize that file is just a wrapper to the real rtcheck application...  the source code to the "rtcheck" application is not in rtcheck.c -- that's just the mged command which performs an exec of the real app.  all the questions you have are about how that wrapper works, which is rather irrelevant to the project you've mentioned.  you're going to need to spend many weeks researching and exploring like you've just done to understand your project's needs.  I want to be supportive but your proposal must be realistic.  make sure you don't propose doing too much.</p>



<a name="124136383"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124136383" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124136383">(Mar 24 2018 at 02:46)</a>:</h4>
<p>I would suggest simplifying your proposal objectives and then shifting efforts onto a coding task, try to make a patch that does something simple like create a new mged command that just prints hello.</p>



<a name="124136384"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124136384" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124136384">(Mar 24 2018 at 02:46)</a>:</h4>
<p>or fix some related libged/rtcheck/gqa issue in our TODO or BUGS file</p>



<a name="124137023"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124137023" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124137023">(Mar 24 2018 at 03:12)</a>:</h4>
<p>Thank you for the feedback</p>
<blockquote>
<p>the source code to the "rtcheck" application is not in rtcheck.c -- that's just the mged command which performs an exec of the real app.  </p>
</blockquote>
<p>Haha, just what I thought, that is why it confused me, that rtcheck is calling itself. Little did I know command is defined somewhere else.</p>
<blockquote>
<p>you're going to need to spend many weeks researching and exploring like you've just done to understand your project's needs.</p>
</blockquote>
<p>Yup,  that is why I decided to learn how this works before proposing anything. So that I could evaluate myself, because proposing something that I cannot do is risky. The problem is I can't devote much time for that with my busy schedule of college. I believe, I would have more time during my holidays to go through the code thoroughly. </p>
<blockquote>
<p>I want to be supportive but your proposal must be realistic. make sure you don't propose doing too much.</p>
</blockquote>
<p>But after spending many days with this topic, I am really excited to work on it. So I don't want to propose any less than what we have discussed so far, because everything is crucial for the completion of the project.</p>
<blockquote>
<p>I would suggest simplifying your proposal objectives and then shifting efforts onto a coding task, try to make a patch that does something simple like create a new mged command that just prints hello.<br>
or fix some related libged/rtcheck/gqa issue in our TODO or BUGS file</p>
</blockquote>
<p>Yes, I will complete my proposal before its late and focus on making a patch for something simple. <br>
One quick question, Can I submit the patch later and link it here in case I can't include that in my proposal?</p>



<a name="124237865"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124237865" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124237865">(Mar 26 2018 at 18:13)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  As instructed on the Deadline Soon topic. I have submitted my final PDF. But please have a look at the draft and let me know if there is anything that needs to be changed. Thanks <br>
I had submitted a patch regarding tables.c. it's unrelated to this project. But was under libged and seemed easy so I did it anyway.</p>



<a name="124555702"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124555702" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124555702">(Apr 03 2018 at 02:01)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102902">@Sean</span> ,<br>
I had posted a different design approach for the check command in my final proposal. I sure hope it was good.<br>
Hence I had been doing a couple of Tk tutorials and examples in the last few days.  Should I rather spend this time concentrating more on submitting patches fixing bugs and to-do ?</p>



<a name="124588122"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/124588122" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#124588122">(Apr 03 2018 at 18:52)</a>:</h4>
<p>Just submitted a patch, implementing a libbn function to support angles input in degrees and radians</p>



<a name="125580056"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125580056" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125580056">(Apr 23 2018 at 17:45)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>..<br>
Glad to know you are my mentor for the project :). I will follow the checklist as said by Sean. <br>
I had this one thing to let you know, my end semester exams got postponed to 26th April to 17th May 2018.  Previously it was from 23rd April to 8th May. Nonetheless I will manage by allocating time judiciously.</p>



<a name="125580592"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125580592" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125580592">(Apr 23 2018 at 17:57)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="109608">@Saran Narayan</span> , congratulations for being selected! And, these 3 days should me manageable, with a strong community bounding period, for example.</p>



<a name="125580968"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125580968" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125580968">(Apr 23 2018 at 18:06)</a>:</h4>
<blockquote>
<p>Hi <span class="user-mention" data-user-id="109608">@Saran Narayan</span> , congratulations for being selected! And, these 3 days should me manageable, with a strong community bounding period, for example.</p>
</blockquote>
<p>Thank you Daniel. Yeah, I am sure I can manage since I have good gaps between each exam.</p>



<a name="125632430"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125632430" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125632430">(Apr 24 2018 at 18:08)</a>:</h4>
<p>I added my profile here : <a href="http://brlcad.org/wiki/Google_Summer_of_Code/2018" target="_blank" title="http://brlcad.org/wiki/Google_Summer_of_Code/2018">http://brlcad.org/wiki/Google_Summer_of_Code/2018</a><br>
Also posted the proposal, I will add the milestones in the coming days.</p>



<a name="125632639"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125632639" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125632639">(Apr 24 2018 at 18:13)</a>:</h4>
<p>I had this doubt regarding the  'agreement to the acceptance requirements'. I read that it must be done in writing. Can someone elaborate and where should this proof of agreement be uploaded or sent?</p>



<a name="125666699"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125666699" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaipal Singh <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125666699">(Apr 25 2018 at 11:01)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="103555">@Shubham Rathore</span> Thanks a ton!<br>
Yea sure thing, it'll be up and updated soon.<br>
Would you recommend hosting the devlogs on BRL-CAD's website or would you recommend using an external page (maybe a blog or a <a href="http://github.io" target="_blank" title="http://github.io">github.io</a> page)<br>
I'm on the verge of completion of my sessionals at university in a couple of days. I'll start work on formalizing the project, latest by the 1st of May. :)</p>



<a name="125734405"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125734405" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125734405">(Apr 26 2018 at 17:37)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
I was trying to understand how calling rtcheck command in MGED works and made a flowchart as follows:<br>
<a href="/user_uploads/1549/ov3IkNbSCbkqbWzb_MDBM2sR/rtcheck.jpg" target="_blank" title="rtcheck.jpg">rtcheck.jpg</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/ov3IkNbSCbkqbWzb_MDBM2sR/rtcheck.jpg" target="_blank" title="rtcheck.jpg"><img src="/user_uploads/1549/ov3IkNbSCbkqbWzb_MDBM2sR/rtcheck.jpg"></a></div><p>What I don't understand is how does it reach viewcheck.c file.  Because the viewcheck.c handles the overlaps and the list of overlaps.</p>



<a name="125738129"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125738129" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125738129">(Apr 26 2018 at 18:58)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> you got it right all the way up to that last block</p>



<a name="125738237"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125738237" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125738237">(Apr 26 2018 at 19:00)</a>:</h4>
<p>in rt's main(), it makes calls into the RTUIF "API", which is basically a way to say that it calls a set of named functions directly, which each rt-style application provides.  So viewcheck.c defines a view_init for example,  and a bunch of other rtuif-functions, which main directly calls  (main.c line 382)</p>



<a name="125738258"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125738258" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125738258">(Apr 26 2018 at 19:01)</a>:</h4>
<p>if you look at rtuif.h, you'll see the set of functions that must be defined for a given application</p>



<a name="125738308"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125738308" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125738308">(Apr 26 2018 at 19:02)</a>:</h4>
<p>and you'll find all of those for rtcheck in viewcheck.c  -- we call that the "backend" file whereas main.c and opt.c and such are the "frontend"</p>



<a name="125762665"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125762665" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125762665">(Apr 27 2018 at 07:33)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> find it out by yourself - with the help of a debugger. I'll give you an example using the Gnu debugger <code>gdb</code>.</p>
<p>You already found out that the program which hast to be examined is <code>rtcheck</code>. Therefore, start the debugger for this program:</p>
<div class="codehilite"><pre><span></span>gdb rtcheck
</pre></div>


<p>Then tell the debugger which function you want to examine and set a break point there. In your case it's some function from viewcheck.c, e.g.:</p>
<div class="codehilite"><pre><span></span>break overlap
</pre></div>


<p>Next, run the rtcheck program inside the debugger with some useful parameters, e.g.:</p>
<div class="codehilite"><pre><span></span>run -g10 -G10 m35.g all.g &gt; m35.plot3
</pre></div>


<p>After some seconds, the program execution will stop at the desired break point. Now, you can ask for the backtrace, i.e. the list of functions on the call stack:</p>
<div class="codehilite"><pre><span></span>bt
</pre></div>



<a name="125784075"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125784075" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125784075">(Apr 27 2018 at 17:28)</a>:</h4>
<blockquote>
<p>in rt's main(), it makes calls into the RTUIF "API", which is basically a way to say that it calls a set of named functions directly, which each rt-style application provides.  So viewcheck.c defines a view_init for example,  and a bunch of other rtuif-functions, which main directly calls  (main.c line 382)</p>
</blockquote>
<p>Yes, I did read about this in the 'application_development.pdf'</p>
<blockquote>
<p>and you'll find all of those for rtcheck in viewcheck.c  -- we call that the "backend" file whereas main.c and opt.c and such are the "frontend"</p>
</blockquote>
<p>That explains why it was written second half in the beginning of viewcheck.c. </p>
<blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> find it out by yourself - with the help of a debugger. I'll give you an example using the Gnu debugger <code>gdb</code>.</p>
</blockquote>
<p>Thanks for this tip! gdb is amazing.<br>
It did help a lot, but it showed a final jump from librt/bool.c to viewcheck.c. From a brief reading of bool.c, I think bool.c does the actual checking of the overlap. As <span class="user-mention" data-user-id="102902">@Sean</span> said I will go through main.c and also check bool.c in detail.</p>



<a name="125784735"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125784735" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125784735">(Apr 27 2018 at 17:44)</a>:</h4>
<p>Okay I think it's making sense now.<br>
In bool.c at the end when it jumped to viewcheck.c there is a call to  <code>ap-&gt;a_overlap( )</code> <br>
<code>view_init( )</code> in viewcheck.c initializes  <code> ap-&gt;a_overlap = overlap</code> where overlap its the local function <code>overlap</code> in the viewcheck.c.</p>



<a name="125784946"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125784946" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125784946">(Apr 27 2018 at 17:50)</a>:</h4>
<p>but how does main.c know that it has to call the <code>view_init( )</code> of viewcheck.c only? Is it the way the linking is performed for rtcheck while compilation happens ?</p>



<a name="125785373"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125785373" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125785373">(Apr 27 2018 at 18:01)</a>:</h4>
<p>Yeah I checked the CMakeLists and for rtcheck, viewcheck.c is there along with other librtuif sources :)</p>



<a name="125789871"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125789871" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125789871">(Apr 27 2018 at 19:53)</a>:</h4>
<p>Yep, you got it.  It only links one view file.</p>



<a name="125789872"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125789872" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125789872">(Apr 27 2018 at 19:53)</a>:</h4>
<p>That way we can (and do) have severa rt-style applications that all use the exact same front end code, recompiled for each one, with each also linking their respective view file.</p>



<a name="125817331"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125817331" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125817331">(Apr 28 2018 at 11:34)</a>:</h4>
<p>The utilization of function pointers allows generic programming in C. You can read more about how to utilize the BRL-CAD ray trace functionality with the application struct here: <a href="https://brlcad.org/wiki/Developing_applications" target="_blank" title="https://brlcad.org/wiki/Developing_applications">https://brlcad.org/wiki/Developing_applications</a></p>



<a name="125825929"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125825929" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125825929">(Apr 28 2018 at 17:22)</a>:</h4>
<blockquote>
<p>The utilization of function pointers allows generic programming in C. You can read more about how to utilize the BRL-CAD ray trace functionality with the application struct here: <a href="https://brlcad.org/wiki/Developing_applications" target="_blank" title="https://brlcad.org/wiki/Developing_applications">https://brlcad.org/wiki/Developing_applications</a></p>
</blockquote>
<p>Thank you,  I will check that! BTW this is my progress on rtcheck, Please let me know if there is anything missing. I created with some rough assumption without understanding most of it! :D should I be knowing everything that going on there?<br>
<a href="/user_uploads/1549/l7JK8jA2hfD13tHGfYgX2tC3/rtcheck3.jpg" target="_blank" title="rtcheck3.jpg">rtcheck3.jpg</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/l7JK8jA2hfD13tHGfYgX2tC3/rtcheck3.jpg" target="_blank" title="rtcheck3.jpg"><img src="/user_uploads/1549/l7JK8jA2hfD13tHGfYgX2tC3/rtcheck3.jpg"></a></div><p>I will also go through <code>gqa</code> in this manner.  Then I will try thinking about the project plan and discuss here :)</p>



<a name="125892686"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125892686" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125892686">(Apr 30 2018 at 13:01)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> The rtcheck program is a BRL-CAD application of the kind described in the referenced documents: The application struct is prepared, the grid is set up, (librt is set up for parallel execution,) and then rt_shootray() will be called.</p>



<a name="125896237"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125896237" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125896237">(Apr 30 2018 at 14:37)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> Yes I got that from the PDF and the sample program <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span></p>



<a name="125898095"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125898095" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125898095">(Apr 30 2018 at 15:17)</a>:</h4>
<p>Regarding the project, I had some questions like: <br>
What are libanalyse functions generally used for ?<br>
For getting the list of overlaps I was suggested by <span class="user-mention" data-user-id="102902">@Sean</span>  to refactor the rtcheck command into a libanalyse function, then refactoring rtcheck to use the libanalyse function. <br>
What I had thought and initially planned was to call the libanalyse function that will handle the overlaps in place of the viewcheck's <code>overlap()</code>.  When rtcheck is called by MGED or as an application the execution is normal but when called via <code>check</code> command the overlap list is handed over to the <code>check</code> command along with the normal execution ( with some flags to denote that <code>check</code> is caller ). I somehow feel like this is not gonna work or is the wrong way to do it. <br>
The hard part is getting the list in a 'right' way. After that processing the list like removing duplicates and sorting should be straight forward.</p>



<a name="125898185"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125898185" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125898185">(Apr 30 2018 at 15:19)</a>:</h4>
<p>libanalyze is a relatively new library and can/should be changed as tools are refactored</p>



<a name="125898253"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125898253" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125898253">(Apr 30 2018 at 15:20)</a>:</h4>
<p>consider the current situation with most of the rt* applications using the "rtuif" code in src/rt to set up a grid of rays, shoot them, and then use their view*.c file to post-process them.</p>



<a name="125898284"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125898284" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125898284">(Apr 30 2018 at 15:21)</a>:</h4>
<p>that's fine for single grids but then gqa comes along using a completely different method (shooting 3 grids iteratively)</p>



<a name="125898370"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125898370" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125898370">(Apr 30 2018 at 15:23)</a>:</h4>
<p>there's obviously a lot of overlap (i.e., needs to shoot sets of rays), but adapting rtuif to gqa didn't make much sense as gqa is essentially view-agnostic and rtuif is specifically view-centric ... so then there was an idea to extract the common reusable parts into functions that both gqa and rtuif applications could use</p>



<a name="125898381"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125898381" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125898381">(Apr 30 2018 at 15:23)</a>:</h4>
<p>and the place to put that function or those functions ... libanalyze</p>



<a name="125898540"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125898540" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125898540">(Apr 30 2018 at 15:27)</a>:</h4>
<p>conceptually, libanalyze is intended to be where all "higher-level" volumetric geometry analysis occurs -- e.g., detecting overlaps, comparing for differences, moments of inertia, masses, volumes, etc.</p>



<a name="125898606"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125898606" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125898606">(Apr 30 2018 at 15:29)</a>:</h4>
<p>it's not yet undergone any API design, so you're welcome to try designing what you need and I'd be glad to help you with that -- or just focus on exactly what you need for your project, that's fine too</p>



<a name="125900164"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/125900164" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#125900164">(Apr 30 2018 at 16:04)</a>:</h4>
<p>Thank you for the explanation about the libanalyse functions and the origins of it.</p>
<blockquote>
<p>it's not yet undergone any API design, so you're welcome to try designing what you need and I'd be glad to help you with that -- or just focus on exactly what you need for your project, that's fine too</p>
</blockquote>
<p>I think right now for GSoC, I think I should be just focusing on the project. After completion of the GSoC project I will be more than happy to  discuss regarding the API design.</p>



<a name="126051755"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126051755" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126051755">(May 03 2018 at 16:00)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>,<br>
I needed your opinion on this :</p>
<blockquote>
<p>What I had thought and initially planned was to call the libanalyse function that will handle the overlaps in place of the viewcheck's <code>overlap()</code>.  When rtcheck is called by MGED or as an application the execution is normal but when called via <code>check</code> command the overlap list is handed over to the <code>check</code> command along with the normal execution ( with some flags to denote that <code>check</code> is caller ).</p>
</blockquote>
<p>I hoped this would work because the way linking is done for rtcheck command all the variables are accessible from main.c. So if linked similarly I would have access to the viewcheck's local overlap list.<br>
Also instead of replacing viewcheck's overlap(), I could add a function call to a libanalyse function that would append the list to a linkedlist locally available in libanalyse file. Finally my check command will free this new linked list after it's done processing it.<br>
This way I would be able to write a common append function for both gqa and rtcheck.</p>
<p>The other way that came to my mind is to make a libanalyse function for rtcheck() which can be called by both <code>check</code> and the normal rt application by refactoring it use the new function. This rtcheck() function would do all the work the rt/main.c will do.<br>
 This way would involve a lot of code duplication ( I believe so, correct me if I am wrong :) )</p>
<p>So which way would be best and feasible or is there any other way to it?</p>



<a name="126055625"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126055625" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126055625">(May 03 2018 at 17:30)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> I'm not sure if I understand you right. I try to go therefore step by step:</p>
<p>First, you are right with the many global variables in the current rtcheck. These have to be eliminated when the functionality moves to libanalyze. A cheap method for a first step would be to put all these variables in a resource structure and have this structure as additional parameter for all relevant functions.</p>
<p>Doing so, it would be relatively easy to move these functions from rt to libanalyze, which would be a code duplication first.</p>
<p>You need then a method to separate the algorithm from the way the results are used. libanalyze will contain the algorithmic part then and the presentation part will be implemented in the library which wants to do the overlap analysis, i.e. for example libged or rt. This separation can be done with function pointers, similar to the application struct in rt_shootray(). Please, have a look at the voxelize() function in src/libanalyze/voxels.c which gives you an example. There, create_boxes is the function pointer parameter which determines the prozessing of the algorithm's output. Utilizations of voxelize() can be found in src/libged/voxelize.c and src/conv/g-voxel.c.</p>



<a name="126103726"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126103726" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126103726">(May 04 2018 at 16:45)</a>:</h4>
<p>Thanks for the input!</p>
<blockquote>
<p>Please, have a look at the voxelize() function in src/libanalyze/voxels.c which gives you an example. There, create_boxes is the function pointer parameter which determines the prozessing of the algorithm's output. Utilizations of voxelize() can be found in src/libged/voxelize.c and src/conv/g-voxel.c.</p>
</blockquote>
<p>Yeah, I will have a look at it. I still have some doubts :/ maybe the example will help me.</p>



<a name="126113137"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126113137" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126113137">(May 04 2018 at 20:49)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span><br>
okay I read that but since rtcheck is a bit complex I am still having some concerns.<br>
I had this idea on refactoring, Calling the the libanaylse function from <code>ged_rtcheck</code>. Then from libanalyse executing the <code>rtcheck</code> application using <code>execvp()</code> . This would make the execution go as it is now but at the end it will return to the libanalyse function. But the <code>viewcheck.c</code> frees the memory of the overlap list, to fix this I could do the freeing in my libanalyse function after appending it to a new local overlap list.<br>
But later I realized that if I do that its only applicable for calling <code>rtcheck</code> via MGED. But when I call it from terminal it would directly call the <code>main</code> in <code>rt/main.c</code> this would cause issues because then viewcheck.c won't be freeing the overlap list. <br>
Since that wouldn't work, there is need to make the libanalyse independent and leave the executable <code>rtcheck</code> application as it is.<br>
To make it independent I would require do all the things going on in <code>rt/main.c</code> again in my libanalyse function. This is why I asked about code duplication.</p>



<a name="126139589"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126139589" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126139589">(May 05 2018 at 12:32)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span></p>
<blockquote>
<p>I had this idea on refactoring, Calling the the libanaylse function from <code>ged_rtcheck</code>. Then from libanalyse executing the <code>rtcheck</code> application using <code>execvp()</code> . This would make the execution go as it is now but at the end it will return to the libanalyse function. </p>
</blockquote>
<p>I'm afraid, execvp() won't return to the process it was started from. rtcheck will end usually with a call to exit() which terminates the whole process.</p>
<p>Anyway, the calling of subprograms in BRL-CAD functions is something which we want to get rid of. It disturbs the program flow and has dependencies to the operating system which makes it more difficult to program OS independent. I'm afraid therefore that you need to understand how rtcheck works.</p>
<p>viewcheck.c is very straight forward: hit() - do nothing, miss() - do nothing, overlap() is the function which implements the processing of the results, and you probable need something similar as a function pointer parameter for the libanalyze function. And then, there is the output of the result.<br>
Next, there are the rt general purpose functions as e.g. the do_~(). To get familiar with them you could copy all relevant source files in a new directory (e.g. src/libanalyze/overlap), remove all functions and features not needed by rtcheck, and make them compile. The should give you a much smaller code to understand as the current in src/rt.<br>
Finally, you know something about how rtcheck should work. It shoots grids of rays with -g width and -G height, etc.. Go through the rtcheck parameters and see where and how there are used.</p>
<p>At the end, rtcheck should use the libanalyze function and not the ones from rt.</p>



<a name="126140155"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126140155" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126140155">(May 05 2018 at 12:54)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
Thanks for the reply! That clears most of my doubts.</p>
<blockquote>
<p>Next, there are the rt general purpose functions as e.g. the do_~(). To get familiar with them you could copy all relevant source files in a new directory (e.g. src/libanalyze/overlap), remove all functions and features not needed by rtcheck, and make them compile. The should give you a much smaller code to understand as the current in src/rt.</p>
</blockquote>
<p>I will try this tonight and see how it goes! I guess trying it out would help me the most rather than thinking of ideas :D</p>



<a name="126150690"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126150690" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126150690">(May 05 2018 at 19:44)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
I built a new version of the rtcheck command :)<br>
I had commented out many things in main.c and other files which weren't related to rtcheck. Like statements using the options which rtcheck doesn't use. I believe I could remove out more content. Will do it soon, gonna sleep now.<br>
BTW I did the following edits in CMakeLists. Not sure if what I did was proper because this was new to me.<br>
<a href="/user_uploads/1549/AVwXpvixnBikhGqz2HPBB_j2/changes.patch" target="_blank" title="changes.patch">changes.patch</a></p>



<a name="126174740"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126174740" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126174740">(May 06 2018 at 12:13)</a>:</h4>
<p>Sounds like you are making progress :)<br>
Your changes to CMakeLists.txt look reasonable. The only issue I found is that overlap/main.c shouldn't belong to CMAKEFILES.</p>



<a name="126224281"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126224281" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126224281">(May 07 2018 at 17:18)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
Please give your feedback about this plan.<br>
After going through the example you suggested, i.e libged/voxelize.c and libanalyze/voxels.c<br>
Voxelize.c - libged</p>
<ul>
<li>has the structure definition for voxelizedata</li>
<li>has <code>createboxes()</code> which gets the callbackdata(voxData) from the libanalyze funciton.</li>
<li>handles the arguments</li>
<li>calls libanalyze <code>voxelize()</code>passing the pointer the voxData and pointer to the <code>createboxes()</code></li>
</ul>
<p>Voxels.c - libanalyze</p>
<ul>
<li><code>rt_prep()</code></li>
<li><code>RT_APPLICATION_INIT()</code></li>
<li><code>rt_shootray()</code></li>
<li>calls back the libged's <code>createboxes()</code> with the pointer to the structure which was passed to libanalyze</li>
</ul>
<p>I similarly planned the same for rtcheck</p>
<p>check.c - libged</p>
<ul>
<li>has overlap list structure</li>
<li>calls libanalyze <code>rtchk()</code> with pointer to this struct, args for rtcheck command and pointer to the overlap function in check.c</li>
<li>has custom <code>overlap()</code> and <code>viewend()</code> functions.</li>
</ul>
<p>rtcheck.c - libanalyze</p>
<ul>
<li>has all functions needed like hit,miss, view_2init, usage</li>
<li>has a stripped down version of <code>main()</code> of rt/main.c as <code>rtchk()</code> that accepts the argc, argv, pointer to overlap struct and pointer to overlap function</li>
<li>calls <code>getargs()</code> from rt/opt.c to parse the arguments</li>
<li>prepares APP, set APP.a_overlap as the passed pointer to <code>overlap()</code> in libged</li>
<li>calls do_ae, do_frame from rt/do.c<br>
the original <code>ged_rtcheck</code> will be using the libanalyze function similarly like the check.c but will have the original rt <code>viewend()</code> and <code>overlap()</code></li>
</ul>



<a name="126274146"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126274146" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126274146">(May 08 2018 at 17:26)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span><br>
Because you emphasized the calBackData, let me explain that this structure is a simple pointer to the context where the call back function was defined. If you want for example fill a list, the call back function hast to get access to this list. To achieve this you could declare a global variable for this list or carry a pointer to the call back function which point to its original context with this list. (This "context" is a structure with pointers to all necessary data.)</p>
<p>How can this be transferred to the overlap feature?<br>
You need an <code>analyze_overlaps()</code> function in libanalyze (I wouldn't call this function "rtcheck"). This function takes parameters similar to the ones of the rtcheck program - and a call back function with its context. These call back function with its context could be identical with <code>struct application.a_overlap</code> and <code>struct application.a_uptr</code>, but it could be advisable to have an adapter between them.</p>
<p>Then e.g. in libged's check, you define an overlap list structure, a function which adds entries to this list, and hand it over to analyze_overlaps() together with the other parameters. When this function has finished your overlap list is filled and you can transfer it to the output. No viewend() any more!</p>
<p>The new analyze_overlaps() is the front end of most of the code from rt, this is true, but this is all hidden behind this single entry point.</p>



<a name="126325226"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126325226" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126325226">(May 09 2018 at 17:35)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> Thank you for explaining it in detail, but I am afraid I didn't understand some of it.<br>
The usage of contexts got me really confused. <br>
libged - check.c</p>
<ul>
<li>has the definition of the overlapList struct declared globally in the check.c</li>
<li>a function similar to <code>overlap()</code> as in viewcheck.c to add the entries to the list, call it <code>add_overlaps()</code></li>
<li><code>ged_check()</code> calls the <code>analyze_overlaps()</code> with args (like the ones of executable rtcheck), pointer to the <code>add_overlap</code> function.</li>
<li>you mentioned the need to pass the context, which I believe would be the data required for the <code>add_overlap()</code> that is the struct overlapList. But since it is declared in the check.c wouldn't the <code>add_overlap()</code> be able to access this list ? Were you mentioning it in the case if I don't have it declared globally?</li>
</ul>



<a name="126325775"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126325775" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126325775">(May 09 2018 at 17:47)</a>:</h4>
<p>And there are variables like noverlaps, overlap_count and unique_overlap_count which are used by <code>overlap()</code> in the original viewcheck.c (again defined globally) which are purely for printing purposes, which I don't need in my case.</p>



<a name="126326035"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126326035" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126326035">(May 09 2018 at 17:53)</a>:</h4>
<p>In case of voxels I understood the need of passing the callbackData as voxDat is created in the local scope of ged_voxelize and create_boxes() actually used the data that was set by ged_voxelize.</p>



<a name="126326038"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126326038" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126326038">(May 09 2018 at 17:53)</a>:</h4>
<blockquote>
<ul>
<li>you mentioned the need to pass the context, which I believe would be the data required for the <code>add_overlap()</code> that is the struct overlapList. But since it is declared in the check.c wouldn't the <code>add_overlap()</code> be able to access this list ? Were you mentioning it in the case if I don't have it declared globally?</li>
</ul>
</blockquote>
<p>It's very bad practice to have or access globals in library code.  It's not "great" for application code either, but it's not nearly as big a problem ... until you want to turn that application code into library code.</p>



<a name="126326121"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126326121" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126326121">(May 09 2018 at 17:55)</a>:</h4>
<p>in general, if we're working around any code, application or library, it's generally good to eliminate globals where you can easily, especially if you're already in there working on that code</p>
<p>in fact for simply understanding the code, it might help you to eliminate globals one at a time, a patchfile each</p>



<a name="126326204"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126326204" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126326204">(May 09 2018 at 17:56)</a>:</h4>
<p>some globals are super easy to eliminate, some require creating a context or some other structure to hold that data and then passing that around</p>



<a name="126326513"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126326513" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126326513">(May 09 2018 at 18:02)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="102902">@Sean</span> that explains the need of contexts. Then I would have the variable of the overlapList in the local scope of ged_check() and call the analyze_overlaps() with args required, the pointer to the add_overlap function and the address of the variable overlapList.<br>
So this way when everything is done executing I would have the results in my local variable.</p>



<a name="126326624"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126326624" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126326624">(May 09 2018 at 18:05)</a>:</h4>
<p>I would require contexts in case of re-factoring the ged_rtcheck to this libanalyze function because then I would need to print these variables like the rtcheck application does. </p>
<blockquote>
<p>And there are variables like noverlaps, overlap_count and unique_overlap_count which are used by <code>overlap()</code> in the original viewcheck.c (again defined globally) which are purely for printing purposes, which I don't need in my case.</p>
</blockquote>



<a name="126326704"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126326704" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126326704">(May 09 2018 at 18:07)</a>:</h4>
<p>And to pass the pointer the struct of context I should use the app.a_uptr because I cannot pass it as a function argument.</p>



<a name="126326773"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126326773" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126326773">(May 09 2018 at 18:08)</a>:</h4>
<p>??</p>



<a name="126326797"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126326797" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126326797">(May 09 2018 at 18:09)</a>:</h4>
<p>it depends ... if you're creating new API (in libanalyze), then you can do whatever you want including creating a user data pointer argument that allows it to be passed</p>



<a name="126326976"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126326976" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126326976">(May 09 2018 at 18:14)</a>:</h4>
<p>hmm I am not sure what do u mean by the API, does it mean like writing your own functions instead of using the rt/librt ones?</p>



<a name="126327607"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126327607" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126327607">(May 09 2018 at 18:28)</a>:</h4>
<p>yes, creating new functions vs using existing ones</p>



<a name="126327615"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126327615" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126327615">(May 09 2018 at 18:28)</a>:</h4>
<p>"it depends"</p>



<a name="126328802"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126328802" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126328802">(May 09 2018 at 18:55)</a>:</h4>
<p>Well, I would like to try to do the api, there is already some work done on it in libanalyze/api.c right?<br>
But seeing myself struggle in understanding simple things so far, I am doubtful that it would set me off-schedule, So I think it would be safer for me to stick with using the existing ones :D<br>
<span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> I am gonna try to implement what we discussed.<br>
And about the interaction schedule, I would be free all the time during my break, so when would be comfortable for you? I am 3hrs 30mins ahead of your time according to zulip.</p>



<a name="126328876"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126328876" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126328876">(May 09 2018 at 18:57)</a>:</h4>
<p>you just need to be aware where the existing functions  are adequate or may be inadequate -- libanalyze is relatively new and hasn't had any design thought go into it.</p>
<p>only a few functions have been added where something was needed in a couple places</p>



<a name="126328933"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126328933" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126328933">(May 09 2018 at 18:58)</a>:</h4>
<p>I agree that you seem to be missing some "simple things" as you put it, but that will come with some experience and reading</p>



<a name="126328972"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126328972" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126328972">(May 09 2018 at 18:59)</a>:</h4>
<p>this might be a helpful tutorial: <a href="https://opensourceforu.com/2012/02/function-pointers-and-callbacks-in-c-an-odyssey/" target="_blank" title="https://opensourceforu.com/2012/02/function-pointers-and-callbacks-in-c-an-odyssey/">https://opensourceforu.com/2012/02/function-pointers-and-callbacks-in-c-an-odyssey/</a></p>



<a name="126329046"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126329046" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126329046">(May 09 2018 at 19:00)</a>:</h4>
<p>this is also a good one that even speaks in terms of "contexts" which is just data being passed around:  <a href="http://mindtribe.com/2015/06/do-c-callbacks-like-this-not-like-that/" target="_blank" title="http://mindtribe.com/2015/06/do-c-callbacks-like-this-not-like-that/">http://mindtribe.com/2015/06/do-c-callbacks-like-this-not-like-that/</a></p>



<a name="126329150"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126329150" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126329150">(May 09 2018 at 19:03)</a>:</h4>
<p>Thank you so much for the links and being supportive :) I will go through them!<br>
Then maybe read the current implementation of api.c and find what it is missing.</p>



<a name="126329254"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126329254" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126329254">(May 09 2018 at 19:05)</a>:</h4>
<p>Don't stick on the api.c file, A functions isn't an API function because it is defined in a file called api.*.</p>



<a name="126329378"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126329378" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126329378">(May 09 2018 at 19:08)</a>:</h4>
<p>Creating an API function means to write a function which is for use outside the library, in this case libanalyze. If you write a analyze_overlaps() function which shall be called in libged you are writing a libanalyze API function.</p>



<a name="126329402"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126329402" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126329402">(May 09 2018 at 19:09)</a>:</h4>
<p>Ideally such a function would be defined in a canonical file like src/libanalyze/overlaps.c</p>



<a name="126329717"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126329717" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126329717">(May 09 2018 at 19:16)</a>:</h4>
<p>As a starting point you could choose a behavior based approach. This means to think about how an analyze_overlaps() functions ideally should look like, which parameters it should have. Grid sizes, angles, objects, generally the rtcheck parameters.<br>
If you have done this you can fill in the rtcheck code as the body of analyze_overlaps() and you are done <span class="emoji emoji-1f609" title="wink">:wink:</span></p>



<a name="126330034"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126330034" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126330034">(May 09 2018 at 19:24)</a>:</h4>
<blockquote>
<p>And about the interaction schedule, I would be free all the time during my break, so when would be comfortable for you? I am 3hrs 30mins ahead of your time according to zulip.</p>
</blockquote>
<p>Let's say, I'm usually available around 17:00 UTC, but it's hard to keep a strict schedule.</p>



<a name="126330430"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126330430" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126330430">(May 09 2018 at 19:35)</a>:</h4>
<blockquote>
<p>Let's say, I'm usually available around 17:00 UTC, but it's hard to keep a strict schedule.</p>
</blockquote>
<p>Okay sure!</p>
<blockquote>
<p>As a starting point you could choose a behavior based approach. This means to think about how an analyze_overlaps() functions ideally should look like, which parameters it should have. Grid sizes, angles, objects, generally the rtcheck parameters.<br>
If you have done this you can fill in the rtcheck code as the body of analyze_overlaps() and you are done <span class="emoji emoji-1f609" title="wink">:wink:</span></p>
</blockquote>
<p>Thanks for the explanation, I will need some thinking before I can say anything on this. Because right now what you say seems just what we had planned so far except to pass the parameters explicitly.</p>



<a name="126330585"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126330585" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126330585">(May 09 2018 at 19:38)</a>:</h4>
<p>Don't fear to code, express your ideas in code and share this code. Ask questions as you are doing here and share your code which is as same important.</p>



<a name="126330853"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126330853" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126330853">(May 09 2018 at 19:44)</a>:</h4>
<p>Will do! :) next time I ask something I will share the code as well.</p>



<a name="126462503"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126462503" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126462503">(May 12 2018 at 13:51)</a>:</h4>
<p>Just a quick update:<br>
I had my exam yesterday so I couldn't do much. I will post my progress tonight after working on it.<br>
So far I have added the check command in MGED and compiled it, right now it only prints the args. Was testing if the args are properly sent through because I was using the cmd_ged_plain_wrapper.</p>



<a name="126469675"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126469675" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126469675">(May 12 2018 at 18:28)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
For start I just tried the callback functionality with a int. After compiling, it worked and printed 345. I am attaching the patch file. <a href="/user_uploads/1549/zzurTfAmq_JbaJpBQUDAlnMN/test_callback.patch" target="_blank" title="test_callback.patch">test_callback.patch</a> <br>
Gonna try adding more to the libanalyze/overlaps/overlap_check.c</p>



<a name="126469841"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126469841" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126469841">(May 12 2018 at 18:35)</a>:</h4>
<p>I think I need to add definition of struct overlap_list inside analyze.h because I used it inside in the overlaps_context struct's definition.</p>



<a name="126500279"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126500279" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126500279">(May 13 2018 at 14:58)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span><br>
This is a nice peace of code which allows us to discuss the basic structure of the analyze_overlaps() API function.  I like that you were able to omit everything which could block the view at the API design.</p>
<p>First some words of introduction: You have two contexts here (you can translate context as "data space"): The one of the libanalyze and the one of libged, or to be more precise, the one of analyze_overlaps() and the one of ged_check(). What distinguishes the date of these two functions?<br>
analyze_overlaps() knows the algorithm which can find overlaps and its output, say "object x" overlaps with "object y" by "z mm".<br>
ged_check() knows about analyze_overlaps() interface, which is declared in include/analyze.h, and that it wants to create a list of all overlaps.<br>
Notice, ged_check() doesn't know about the algorithm internals, like the ray-trace, and analyze_overlaps() doesn't know about the list the ged command wants to create. Furthermore, libanalyze has to disclosure the piece of its data to libged which contains the overlap algorithm's output.</p>
<p>This works in the first place by delegating the processing from libanalyze to libged for the processing of the overlaps. But, when the processing moves from libanalyze to libged, libged needs its context (= data) back.<br>
You did this with the <code>struct overlaps_context</code>. The structure is okay, but declared at the wrong place. overlaps_context contains the data of ged_check() (the list, an int). That's why is has to be declared in libged (I would recommend src/libanalyze/overlaps/check_overlaps.c).</p>
<p>Now, let's express this in code, starting with analyze_overlaps(). The function has the usual parameters as cell width and height etc., plus a function pointer to the call back function and a pointer to the other library's data space:</p>
<div class="codehilite"><pre><span></span>analyze_overlaps(double cellWidth, double ceelHeight, ..., analyse_overlaps_callback callBack, void* callBackData);
</pre></div>


<p>Next, when analyze_overlaps() transfers the processing to ged_check() it needs to transfer some data too (see above for the example I chose), especially to the call back function:</p>
<div class="codehilite"><pre><span></span>typedef void (*analyse_overlaps_callback)(const char* object1, const char* object2, double distance, ..., void* callBackData);
</pre></div>


<p>This way libanalyse can publish its overlap interface in include/analyze.h and via callBackData the calling library may get its data back when the processing is transferred to its call back function.</p>
<p>I'm not sure how the overlap data really looks like. In principle it's the data the application.a_overlap function experiences. You may either transfer it as it is to analyse_overlaps_callback or compile it to better understandable terms.</p>
<p>Be aware that the above code my contain bugs as it is untested.</p>



<a name="126502899"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126502899" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126502899">(May 13 2018 at 16:43)</a>:</h4>
<p>Thanks for the feedback and input. I will look into it and see if I am able to follow :)</p>



<a name="126506961"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126506961" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126506961">(May 13 2018 at 19:16)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
As you said that we would need to pass the usual parameters to the analyze_overlaps(), that would mean all the parameters of the rtcheck command right? so I added a parse_args() function to check.c to parse these args (ignoring the debug ones) to the following patch: <em>edited will add a new one</em></p>
<p>I didn't add all the changes you mentioned because the list of parameters is a large list.<br>
I was thinking if we could use a struct to pass the args, but then would that be okay if we are trying API?</p>



<a name="126507292"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126507292" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126507292">(May 13 2018 at 19:31)</a>:</h4>
<p><a href="/user_uploads/1549/u4zfGmOiw8bOPLngkEs5oA4s/test_patch.patch" target="_blank" title="test_patch.patch">test_patch.patch</a></p>



<a name="126545242"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126545242" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126545242">(May 14 2018 at 16:17)</a>:</h4>
<p>While I was waiting, I decided to remove more code from front-end of rt that is not required for rtcheck and compiled it, so that it would easier for me to understand.</p>



<a name="126545934"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126545934" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126545934">(May 14 2018 at 16:33)</a>:</h4>
<p>You use global variables in src/libged/check.c, this is bad. Consider to make the argument parsing part of ged_check() and the matflag etc. local variables there.</p>



<a name="126546063"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126546063" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126546063">(May 14 2018 at 16:36)</a>:</h4>
<blockquote>
<p>You use global variables in src/libged/check.c, this is bad. Consider to make the argument parsing part of ged_check() and the matflag etc. local variables there.</p>
</blockquote>
<p>Yep that I will move to the ged_check()</p>



<a name="126546078"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126546078" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126546078">(May 14 2018 at 16:37)</a>:</h4>
<p>Don't be afraid of a large parameter list. I's only a good idea to use a structure for them if many functions need them.<br>
On the other hand, using a large parameter list is more secure then using a structure because the user is forced to think about all of them this way. In case of a structure there is a high danger that they forget one and may use the wrong default.</p>



<a name="126546326"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126546326" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126546326">(May 14 2018 at 16:43)</a>:</h4>
<blockquote>
<p>Don't be afraid of a large parameter list. I's only a good idea to use a structure for them if many functions need them.<br>
On the other hand, using a large parameter list is more secure then using a structure because the user is forced to think about all of them this way. In case of a structure there is a high danger that they forget one and may use the wrong default.</p>
</blockquote>
<p>yeah it's a good idea but 14 parameters sounded too much that's why I hesitated. Will write code to pass them.</p>



<a name="126546466"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126546466" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126546466">(May 14 2018 at 16:46)</a>:</h4>
<p>BTW, for a simple test I would let callBackData be a pointer to an integer which counts the overlaps:</p>
<div class="codehilite"><pre><span></span>HIDDEN void count_overlaps(..., void* callBackData) {
    int* value = (int*)callBackData;
    value++;
}
int ged_check(...) {
    int numberOfOverlaps = 0;
    analyze_overlaps(...., count_overlaps, &amp;numberOfOverlaps);
    print(numberOfOverlaps);
}
</pre></div>



<a name="126546484"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126546484" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126546484">(May 14 2018 at 16:47)</a>:</h4>
<p>I had this doubt like for the existing script only ran the rtcheck command with these : <br>
<code> $rtcheck -o $OBJ.$az.$el.plot3 -s $sz -a $az -e $el $DB $obj </code> <br>
that means only o,s,a and e are used. So the parsing of args is larger now than I require.</p>



<a name="126546565"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126546565" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126546565">(May 14 2018 at 16:49)</a>:</h4>
<p>The analyse_overlaps takes all the arguments but ged_check() only would use the above mention args only<br>
when I refactor rtcheck then I would require all the parameters.</p>



<a name="126546987"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126546987" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126546987">(May 14 2018 at 16:59)</a>:</h4>
<blockquote>
<p>yeah it's a good idea but 14 parameters sounded too much that's why I hesitated. Will write code to pass them.</p>
</blockquote>
<p>Hmm, interesting.</p>
<p>These are fore sure analyze_overlaps() parameters:</p>
<ul>
<li>Number of grid points in x</li>
<li>Number of grid points in y</li>
<li>Mesh size in x</li>
<li>Mesh size in y</li>
<li>Only unique overlaps</li>
</ul>
<p>These values can or <strong>must</strong> taken from the current view</p>
<ul>
<li>Azimuth</li>
<li>Elevation</li>
<li>Objects (I'm pretty sure that this is a must)</li>
</ul>
<p>Which one have I forgotten?</p>



<a name="126547157"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126547157" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126547157">(May 14 2018 at 17:03)</a>:</h4>
<p>Thinking about this again, I would probably put the azimuth and elevation to the parameter list, the objects have to be selected before the call of analyze_overlaps(). In case of the mged command these objects are simply the currently displayed once. So, it behaves as one would expect it to behave.</p>



<a name="126547273"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126547273" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126547273">(May 14 2018 at 17:05)</a>:</h4>
<blockquote>
<p>Which one have I forgotten?</p>
</blockquote>
<p>square grid size, read from matrix, number of processors, plot file and a few debug flags like librt, rt, NMG</p>



<a name="126547351"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126547351" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126547351">(May 14 2018 at 17:07)</a>:</h4>
<blockquote>
<p>Thinking about this again, I would probably put the azimuth and elevation to the parameter list, the objects have to be selected before the call of analyze_overlaps(). In case of the mged command these objects are simply the currently displayed once. So, it behaves as one would expect it to behave.</p>
</blockquote>
<p>About the objects, I had planned to like give the objects list from GUI.</p>



<a name="126547359"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126547359" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126547359">(May 14 2018 at 17:07)</a>:</h4>
<p>So it would be in argv</p>



<a name="126547638"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126547638" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126547638">(May 14 2018 at 17:12)</a>:</h4>
<ul>
<li>square grid size: -s is only a way to give the width and hight in one value, or?</li>
<li>read from matrix: there is no stdin, so, what is it?</li>
<li>number of processors: okey</li>
<li>plot file: this is a post processing feature which has to be implemented in the call back.</li>
<li>a few debug flags like librt, rt, NMG: they had to be set before, no matter of analyze_overlaps()(?)</li>
</ul>



<a name="126547810"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126547810" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126547810">(May 14 2018 at 17:16)</a>:</h4>
<blockquote>
<ul>
<li>square grid size: -s is only a way to give the width and hight in one value, or?</li>
<li>read from matrix: there is no stdin, so, what is it?</li>
<li>number of processors: okey</li>
<li>plot file: this is a post processing feature which has to be implemented in the call back.</li>
<li>a few debug flags like librt, rt, NMG: they had to be set before, no matter of analyze_overlaps()(?)</li>
</ul>
</blockquote>
<p>square grid size fine<br>
read from matrix was there in the usage string for rtcheck. This because I had planned to refactor MGED's rtcheck, should I drop that plan ? :D</p>



<a name="126547893"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126547893" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126547893">(May 14 2018 at 17:18)</a>:</h4>
<p>well in MGED we can't give the stdin so that won't be necessary</p>



<a name="126547996"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126547996" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126547996">(May 14 2018 at 17:21)</a>:</h4>
<blockquote>
<p>About the objects, I had planned to like give the objects list from GUI.</p>
</blockquote>
<p>I'm not sure if it's possible to have more than one list of selected objects. If not, the command would change the object selection in mged which is undesirable.</p>



<a name="126548070"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126548070" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126548070">(May 14 2018 at 17:22)</a>:</h4>
<p>However, in any case the objects had to be selected with rt_gettree() first before analyze_overlaps() can be called.</p>



<a name="126548345"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126548345" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126548345">(May 14 2018 at 17:29)</a>:</h4>
<blockquote>
<p>I'm not sure if it's possible to have more than one list of selected objects. If not, the command would change the object selection in mged which is undesirable.</p>
</blockquote>
<p>The existing overlap tool does have a text box to input objects</p>



<a name="126548399"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126548399" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126548399">(May 14 2018 at 17:30)</a>:</h4>
<p><a href="/user_uploads/1549/nXkNgK7Yi77TEf8S0Wp_qSfk/Selection_001.png" target="_blank" title="Selection_001.png">Selection_001.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/nXkNgK7Yi77TEf8S0Wp_qSfk/Selection_001.png" target="_blank" title="Selection_001.png"><img src="/user_uploads/1549/nXkNgK7Yi77TEf8S0Wp_qSfk/Selection_001.png"></a></div>



<a name="126548413"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126548413" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126548413">(May 14 2018 at 17:31)</a>:</h4>
<p>but this list is filled automatically with displayed objects</p>



<a name="126548470"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126548470" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126548470">(May 14 2018 at 17:32)</a>:</h4>
<p>The matrix (matflag) seems to define the view, similar to azimuth and elevation. Therefore, to allow a matrix description of the view analyze_overlaps() could have a double* parameter which points to the projection matrix. If the user gave azimuth and elevation then the corresponding projection matrix had to be determined first and then handed over to analyze_overlaps().</p>



<a name="126548558"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126548558" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126548558">(May 14 2018 at 17:34)</a>:</h4>
<blockquote>
<p>The existing overlap tool does have a text box to input objects</p>
</blockquote>
<p>Yes but if I understood it correctly this tool calls another program where everything is possible, but if we want to stay in the same process ...</p>



<a name="126548587"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126548587" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126548587">(May 14 2018 at 17:35)</a>:</h4>
<p>However, this doesn't influence the design and behavior of analyze_overlaps().</p>



<a name="126548658"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126548658" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126548658">(May 14 2018 at 17:36)</a>:</h4>
<blockquote>
<p>However, this doesn't influence the design and behavior of analyze_overlaps().</p>
</blockquote>
<p>yep that is true</p>



<a name="126548742"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126548742" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126548742">(May 14 2018 at 17:38)</a>:</h4>
<blockquote>
<p>The matrix (matflag) seems to define the view, similar to azimuth and elevation. Therefore, to allow a matrix description of the view analyze_overlaps() could have a double* parameter which points to the projection matrix. If the user gave azimuth and elevation then the corresponding projection matrix had to be determined first and then handed over to analyze_overlaps().</p>
</blockquote>
<p>This I am not very clear, where does the project matrix creation happen? I didnt't find it in code. Is it do_ae?</p>



<a name="126549212"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126549212" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126549212">(May 14 2018 at 17:48)</a>:</h4>
<blockquote>
<p>This I am not very clear, where does the project matrix creation happen? I didnt't find it in code. Is it do_ae?</p>
</blockquote>
<p>do_ae() does it implicitly by setting a global (sigh) matrix. The matflag stuff is implemented in src/rt/main.c line 469 ff. It reads in commands there which should set the view.</p>
<p>This needs some considerations: Should analyze_overlaps() use the global view or a view direction from its parameter list?</p>



<a name="126549600"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126549600" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126549600">(May 14 2018 at 17:56)</a>:</h4>
<p>I am not sure about the concept of view. I need to read up on it.</p>



<a name="126550844"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126550844" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126550844">(May 14 2018 at 18:24)</a>:</h4>
<blockquote>
<p>I am not sure about the concept of view. I need to read up on it.</p>
</blockquote>
<p>In principle it's a matrix which transformed the coordinates (they will be multiplied with the matrix). This way e.g. you simply print the x and y coordinates of the result on the screen, the matrix takes care of the rest.</p>



<a name="126551185"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126551185" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126551185">(May 14 2018 at 18:32)</a>:</h4>
<p>Still don't get it :/. How can I use -M ? <br>
Here is what I know: Using the saveview command I could generate a script that gives the viewsize, orientation, and eyept. That is processed by the rt_read_cmd.</p>



<a name="126551212"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126551212" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126551212">(May 14 2018 at 18:33)</a>:</h4>
<blockquote>
<p>The matflag stuff is implemented in src/rt/main.c line 469 ff. It reads in commands there which should set the view.</p>
</blockquote>
<p>on line 469 it calls the oldway. Is that the function you were talking about</p>



<a name="126551378"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126551378" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126551378">(May 14 2018 at 18:37)</a>:</h4>
<blockquote>
<p>on line 469 it calls the oldway. Is that the function you were talking about</p>
</blockquote>
<p>??? It says "New way" at line 473.</p>



<a name="126551543"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126551543" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126551543">(May 14 2018 at 18:41)</a>:</h4>
<p>Okay the newway uses the rt_cmdtab to execute the cm_* functions according to the script right?</p>



<a name="126551619"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126551619" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126551619">(May 14 2018 at 18:42)</a>:</h4>
<p>Right. But if it's old or new, it's simply another way to describe a matrix. (Or, the direction from where you want to shoot the rays.)</p>



<a name="126551707"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126551707" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126551707">(May 14 2018 at 18:44)</a>:</h4>
<p>oh so this matrix is used to define the direction of the ray to be shot using a matix.</p>



<a name="126551731"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126551731" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126551731">(May 14 2018 at 18:45)</a>:</h4>
<p>This matrix is to be created with or without the -M option?</p>



<a name="126551795"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126551795" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126551795">(May 14 2018 at 18:46)</a>:</h4>
<p>Yes, the default is the identity matrix (1s in the diagonal, 0s otherwise).</p>



<a name="126551973"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126551973" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126551973">(May 14 2018 at 18:49)</a>:</h4>
<p>Where is this matrix information stored? model2view view2model?</p>



<a name="126552213"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126552213" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126552213">(May 14 2018 at 18:54)</a>:</h4>
<p>For src/rt: Yes. These two are inverse of each other: model2view = view2model^-1</p>



<a name="126552332"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126552332" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126552332">(May 14 2018 at 18:57)</a>:</h4>
<blockquote>
<p>This needs some considerations: Should analyze_overlaps() use the global view or a view direction from its parameter list?</p>
</blockquote>
<p>Okay back to this then. Since we need the view with/without the -M,  libanalyse would be the place to generate this view in my opinion</p>



<a name="126552381"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126552381" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126552381">(May 14 2018 at 18:58)</a>:</h4>
<blockquote>
<p>Okay back to this then. Since we need the view with/without the -M,  libanalyse would be the place to generate this view in my opinion</p>
</blockquote>
<p>Sounds reasonable :)</p>



<a name="126552505"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126552505" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126552505">(May 14 2018 at 19:02)</a>:</h4>
<p>When writing the libanalyze function. I need to write the parts of main, do and worker of src/rt.</p>



<a name="126552720"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126552720" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126552720">(May 14 2018 at 19:07)</a>:</h4>
<p>but in rt there are a lot of global variables which makes it really easy for it to communicate</p>



<a name="126552893"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126552893" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126552893">(May 14 2018 at 19:11)</a>:</h4>
<p>So when writing the libanalyze function would I use the same concept or like have one single file which does everything</p>



<a name="126553151"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126553151" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126553151">(May 14 2018 at 19:17)</a>:</h4>
<p>I am gonna summarize today's discussion and understand what ged_check should do and pass as parameters to libanalyze.</p>



<a name="126556270"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126556270" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126556270">(May 14 2018 at 20:22)</a>:</h4>
<p>parameters of the libanalyze:</p>
<ul>
<li>width &amp; height</li>
<li>cell width &amp; cell height</li>
<li>azimuth &amp; elevation</li>
<li>rpt_overlaps flag</li>
<li>npsw</li>
<li>mat flag</li>
<li>objects : use the rt_gettrees in libged and pass the rtip as a parameter  ? or pass the nobjs and objtab as parameters ?</li>
<li>callback function pointer</li>
<li>callback data pointer</li>
</ul>



<a name="126556783"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126556783" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126556783">(May 14 2018 at 20:33)</a>:</h4>
<p>ged_check:<br>
according to what the current script is doing:</p>
<div class="codehilite"><pre><span></span>for obj in $tops ; do
    for az in `$loop 0 179 45` ; do
    for el in `$loop 0 179 45` ; do
        $rtcheck -o $OBJ.$az.$el.plot3 -s $sz -a $az -e $el $DB $obj 2&gt; $OBJ.$az.$el.rtcheck.log
</pre></div>


<p>ged_check would get the list of objects as argument, using this list for each object it would call libanalyze in an iterative manner with az, el values changing, the other parameters have the default value.<br>
For each run, we would get an overlaplist which has to be preserved in an object based list. After each object run, this object list needs to be preserved in a final overlap list.<br>
<span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> please give feedback like the feasibility on the above mentioned idea or should I think differently.</p>



<a name="126582282"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126582282" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126582282">(May 15 2018 at 08:55)</a>:</h4>
<p>Just a thought, Since I need a UI for it written in Tcl/Tk, I would not be able to call MGED's check command right? Instead I must have an executable version of this command.</p>



<a name="126601266"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126601266" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126601266">(May 15 2018 at 17:02)</a>:</h4>
<blockquote>
<p>Just a thought, Since I need a UI for it written in Tcl/Tk, I would not be able to call MGED's check command right? Instead I must have an executable version of this command.</p>
</blockquote>
<p>Not necessarily. If you have a TCL shell which binds the mged commands you could use a mged check and present its output in a pleasant way.</p>



<a name="126601358"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126601358" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126601358">(May 15 2018 at 17:05)</a>:</h4>
<blockquote>
<p>but in rt there are a lot of global variables which makes it really easy for it to communicate</p>
</blockquote>
<p>You need to get rid of the global variables and transform them to ordinary local ones and function parameters and return values respective.</p>



<a name="126601517"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126601517" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126601517">(May 15 2018 at 17:08)</a>:</h4>
<p>I had started work on design of libanalyze, will post my progress in a few minutes.</p>



<a name="126601795"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126601795" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126601795">(May 15 2018 at 17:15)</a>:</h4>
<blockquote>
<p>parameters of the libanalyze:<br>
* width &amp; height<br>
* cell width &amp; cell height<br>
* azimuth &amp; elevation<br>
* rpt_overlaps flag<br>
* npsw<br>
* mat flag<br>
* objects : use the rt_gettrees in libged and pass the rtip as a parameter  ? or pass the nobjs and objtab as parameters ?<br>
* callback function pointer<br>
* callback data pointer</p>
</blockquote>
<p>Looks good.<br>
The "azimuth &amp; elevation" and "mat flag" are mutual exclusive. Maybe passing the model2view matrix would be the most flexible solution.<br>
And, rtip sounds good.</p>



<a name="126601925"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126601925" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126601925">(May 15 2018 at 17:18)</a>:</h4>
<p>Okay here is my progress: <a href="/user_uploads/1549/ZaRMCyYd9hRh55pWEyv7gjXt/15_05_progress.patch" target="_blank" title="15_05_progress.patch">15_05_progress.patch</a> <br>
It's a work in progress so there will some things which I kept like placeholder so that it compiles.</p>



<a name="126602110"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126602110" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126602110">(May 15 2018 at 17:23)</a>:</h4>
<blockquote>
<p>Looks good.<br>
The "azimuth &amp; elevation" and "mat flag" are mutual exclusive. Maybe passing the model2view matrix would be the most flexible solution.<br>
And, rtip sounds good.</p>
</blockquote>
<p>Okay I will add the passing of rtip as well.<br>
The matflag is a bit challenging without globals, like adding all those function for rt_cmd_tab, the cm_* ones.<br>
Also most of them take argc and argv as parameters so its best be done on the libged side only.</p>



<a name="126603001"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126603001" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126603001">(May 15 2018 at 17:46)</a>:</h4>
<p>Okay there is a problem, the rt_cmdtab structure has the function pointers as : <br>
<code>int (*ct_func)(const int, const char **);</code><br>
So they all need some global variables, if the function definition is fixed how will be able to pass the variables used inside them. :/</p>



<a name="126603046"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126603046" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126603046">(May 15 2018 at 17:47)</a>:</h4>
<p>Don't pass a matflag, azimuth or elevation to analyze_overlaps() but the resulting matrix model2view (I think this is the interesting one). Do the computation of this matrix in the application (in libged ged_check, rt rtcheck, ...).</p>



<a name="126603116"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126603116" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126603116">(May 15 2018 at 17:49)</a>:</h4>
<blockquote>
<p>Don't pass a matflag, azimuth or elevation to analyze_overlaps() but the resulting matrix model2view (I think this is the interesting one). Do the computation of this matrix in the application (in libged ged_check, rt rtcheck, ...).</p>
</blockquote>
<p>yep understood.</p>



<a name="126603451"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126603451" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126603451">(May 15 2018 at 17:56)</a>:</h4>
<p>BTW, I wouldn't include the matflag feature in the libged ged_check(), it looks a little bit artificial, or?</p>



<a name="126603482"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126603482" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126603482">(May 15 2018 at 17:58)</a>:</h4>
<blockquote>
<p>Okay here is my progress: <a href="/user_uploads/1549/ZaRMCyYd9hRh55pWEyv7gjXt/15_05_progress.patch" target="_blank" title="15_05_progress.patch">15_05_progress.patch</a> <br>
It's a work in progress so there will some things which I kept like placeholder so that it compiles.</p>
</blockquote>
<p>I'm only a little bit confused by the line</p>
<div class="codehilite"><pre><span></span>typedef void (*test)(void* callBackData);
</pre></div>


<p>I think you are over the <em>test</em> stage here and can give it a real name ;)</p>



<a name="126603563"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126603563" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126603563">(May 15 2018 at 17:59)</a>:</h4>
<blockquote>
<p>BTW, I wouldn't include the matflag feature in the libged ged_check(), it looks a little bit artificial, or?</p>
</blockquote>
<p>yeah that's what I also thought :D.. for ged_check let's skip the -M option.</p>
<blockquote>
<p>I think you are over the <em>test</em> stage here and can give it a real name ;)</p>
</blockquote>
<p>Sure :) will make it real.</p>



<a name="126603565"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126603565" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126603565">(May 15 2018 at 17:59)</a>:</h4>
<p>Otherwise it looks good, you are moving into the right direction.</p>



<a name="126603643"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126603643" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126603643">(May 15 2018 at 18:00)</a>:</h4>
<p>Thank you for checking it !</p>



<a name="126603819"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126603819" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126603819">(May 15 2018 at 18:04)</a>:</h4>
<p>How does -V option for aspect work? like we give two values then they are divided? We are essentially just mentioning the width/height ratio right? but I don't see it as mutually exclusive to height and width. What if the user gave two different values?</p>



<a name="126605006"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126605006" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126605006">(May 15 2018 at 18:29)</a>:</h4>
<p>BTW, tomorrow (16th) I will be coding in the morning hours, I need to sleep early for my exam on 17th morning.</p>



<a name="126605078"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126605078" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126605078">(May 15 2018 at 18:30)</a>:</h4>
<blockquote>
<p>How does -V option for aspect work? like we give two values then they are divided? We are essentially just mentioning the width/height ratio right? but I don't see it as mutually exclusive to height and width. What if the user gave two different values?</p>
</blockquote>
<p>See grid_setup() in src/rt/worker.c. And yes, this are only different ways to describe the width and height. It's confusing if they are used together.</p>



<a name="126605207"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126605207" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126605207">(May 15 2018 at 18:32)</a>:</h4>
<p>Good luck for your exam <span class="emoji emoji-1f91e" title="hand with index and middle fingers crossed">:hand_with_index_and_middle_fingers_crossed:</span></p>



<a name="126605334"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126605334" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126605334">(May 15 2018 at 18:34)</a>:</h4>
<blockquote>
<p>See grid_setup() in src/rt/worker.c. And yes, this are only different ways to describe the width and height. It's confusing if they are used together.</p>
</blockquote>
<p>Yeah i have to write that too because it is called by do_frame. So will have a look then.</p>
<blockquote>
<p>Good luck for your exam <span class="emoji emoji-1f91e" title="hand with index and middle fingers crossed">:hand_with_index_and_middle_fingers_crossed:</span></p>
</blockquote>
<p>Thank you :)</p>



<a name="126642081"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126642081" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126642081">(May 16 2018 at 12:09)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> Please have a look and give your feedback, thanks :)<br>
Here is my progress for today : <a href="/user_uploads/1549/TxxtEjMxV29sy7eY0g7Sm4m-/16_05_progress.patch" target="_blank" title="16_05_progress.patch">16_05_progress.patch</a></p>
<ul>
<li>I added <code>do_frame()</code>,  <code>do_run()</code> and <code>grid_setup()</code>. </li>
<li>I added model2view as a parameter, but with it came aspect and viewsize. (Will think of any ways to avoid the extras)</li>
<li>To avoid more parameters passed to libanalyze I implemented part of grid_setup in libged and part of it in libanalyze.</li>
<li>I also added a global variable <code>struct resource resource[]</code> I couldn't avoid that for now :/ (Will try to avoid it)</li>
<li>For <code>worker()</code> the <code>bu_parallel()</code> had a fixed function pointer but gladly <code>bu_parallel()</code>and <code>worker()</code> had <code>void *args</code> as parameter, so I was thinking to use struct to pass the variables required for worker inside it and pass this context with a void pointer. What do u say?<br>
For single cpu mode I would pass it directly in <code>worker()</code> but for parallel case I can pass it in <code>bu_parallel()</code>'s arg</li>
</ul>



<a name="126645042"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126645042" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126645042">(May 16 2018 at 13:29)</a>:</h4>
<blockquote>
<p>Just a thought, Since I need a UI for it written in Tcl/Tk, I would not be able to call MGED's check command right? Instead I must have an executable version of this command.</p>
</blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> it's FAR more important to get the logic that is currently in Tcl converted to C/C++ than it is to develop the UI...</p>



<a name="126645700"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126645700" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126645700">(May 16 2018 at 13:44)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> I didn't get you, which tcl file? src/tclscripts/checker/check.tcl ?</p>



<a name="126646197"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126646197" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126646197">(May 16 2018 at 13:56)</a>:</h4>
<p>Yes, doing what that command does as clean c/c++ instead of tcl, and by calling functions not programs</p>



<a name="126647085"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126647085" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126647085">(May 16 2018 at 14:17)</a>:</h4>
<p>oh :D was not aware that it was to be done as well.  That would require planning. I will first complete the libanalyze part and read about what the TCL file does. I never discussed it, I thought that I had to just port the shell script to C so it would be platform independent.<br>
That means changes to project plan and timeline, I hope that is fine now.</p>



<a name="126653259"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126653259" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126653259">(May 16 2018 at 16:36)</a>:</h4>
<p>Moving the code from the external program (src/rt) to a (core) library (src/libanalyze) is a prerequisite for being able to do the check by calling C/C++ functions (for example analyze_overlaps() from libanalyze) not programs (rtcheck).</p>



<a name="126656005"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126656005" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126656005">(May 16 2018 at 17:39)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> </p>
<blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> Please have a look and give your feedback, thanks :)<br>
Here is my progress for today : <a href="/user_uploads/1549/TxxtEjMxV29sy7eY0g7Sm4m-/16_05_progress.patch" target="_blank" title="16_05_progress.patch">16_05_progress.patch</a></p>
</blockquote>
<p>I see that you have improved the API around the <code>analyze_overlaps_callback()</code> function.</p>
<p>What came into my mind there was that <code>analyze_overlaps_callback()</code> has no <code>callBackData</code> parameter. This is because you use directly the call back function for <code>APP.a_overlap</code>. I think you should however use an adapter function between <code>APP.a_overlap</code> and <code>analyze_overlaps_callback()</code> which "translates" the ray-trace result to a more convenient form.</p>
<blockquote>
<ul>
<li>I added <code>do_frame()</code>,  <code>do_run()</code> and <code>grid_setup()</code>. </li>
<li>I added model2view as a parameter, but with it came aspect and viewsize. (Will think of any ways to avoid the extras)</li>
<li>To avoid more parameters passed to libanalyze I implemented part of grid_setup in libged and part of it in libanalyze.</li>
</ul>
</blockquote>
<p>This was to be expected. If one extracts a general usable library function from a program the program specific part of the logic stays at the program side.</p>
<blockquote>
<ul>
<li>I also added a global variable <code>struct resource resource[]</code> I couldn't avoid that for now :/ (Will try to avoid it)</li>
</ul>
</blockquote>
<p>I'm not sure if this is possible. I had to look at bu_parallel() and its applications. But, you first ;)</p>
<blockquote>
<ul>
<li>For <code>worker()</code> the <code>bu_parallel()</code> had a fixed function pointer but gladly <code>bu_parallel()</code>and <code>worker()</code> had <code>void *args</code> as parameter, so I was thinking to use struct to pass the variables required for worker inside it and pass this context with a void pointer. What do u say?<br>
For single cpu mode I would pass it directly in <code>worker()</code> but for parallel case I can pass it in <code>bu_parallel()</code>'s arg</li>
</ul>
</blockquote>
<p>Yes the <code>void*</code> parameter is for passing parameter(s) to <code>bu_parallel()</code>'s <code>func</code> function pointer parameter. If there is more than one, and especially if they are of different type, a structure should be used.</p>



<a name="126678423"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126678423" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126678423">(May 17 2018 at 03:28)</a>:</h4>
<blockquote>
<p>I'm not sure if this is possible. I had to look at bu_parallel() and its applications. But, you first ;)</p>
</blockquote>
<p>I'm don't think it currently is, at least not for anything that calls dirbuild.  We need to unwind and eliminate each item stored in the resource struct, but each one presents a different challenge.</p>



<a name="126708136"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126708136" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126708136">(May 17 2018 at 17:19)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
Will post my progress in a few minutes</p>



<a name="126708290"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126708290" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126708290">(May 17 2018 at 17:22)</a>:</h4>
<p>Here is it :<br>
<a href="/user_uploads/1549/-UKiHB47l35DZprfZZVPXi3L/17_05_progress.patch" target="_blank" title="17_05_progress.patch">17_05_progress.patch</a> <br>
I still have to design the adapter for overlaps. Was having a doubt like if the call reaches the adapter it should have same definition as a_overlap which restricts me to pass the callback function pointer, I could pass the callback data using a_uptr. Maybe I am thinking it at the wrong direction.<br>
I also tried the command with real life parameters, getting segfault :/ trying to debug it at the moment</p>



<a name="126708566"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126708566" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126708566">(May 17 2018 at 17:28)</a>:</h4>
<p>found out the issue was at rt_gettrees on line 396 in check.c</p>



<a name="126708653"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126708653" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126708653">(May 17 2018 at 17:30)</a>:</h4>
<p>how about</p>
<div class="codehilite"><pre><span></span>void adapter(struct application* app, const struct partition* part1, const struct bu_ptbl* ptbl, const struct partition* part2) {
    callback(part1, ptbl, part2, app-&gt;a_uptr);
}
</pre></div>



<a name="126708681"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126708681" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126708681">(May 17 2018 at 17:31)</a>:</h4>
<p>BTW, I hope you were successful at your exams.</p>



<a name="126708800"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126708800" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126708800">(May 17 2018 at 17:33)</a>:</h4>
<blockquote>
<p>found out the issue was at rt_gettrees on line 396 in check.c</p>
</blockquote>
<p>humm I think I know why. It's because rt_gettrees expects rtip as a register but I am not passing it as a register</p>



<a name="126708982"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126708982" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126708982">(May 17 2018 at 17:37)</a>:</h4>
<blockquote>
<p>how about</p>
</blockquote>
<p>void adapter(struct application* app, const struct partition* part1, const struct bu_ptbl* ptbl, const struct partition* part2) {<br>
    callback(part1, ptbl, part2, app-&gt;a_uptr);<br>
}</p>
<div class="codehilite"><pre><span></span>
</pre></div>


<p>not sure if I follow. Oh do u mean like writing the adapter function in ged_check and passing a function pointer to adapter instead of the add_overlaps right now. That should work</p>



<a name="126709063"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709063" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709063">(May 17 2018 at 17:38)</a>:</h4>
<blockquote>
<p>Oh do u mean like writing the adapter function in ged_check and passing a function pointer to adapter instead of the add_overlaps right now. That should work</p>
</blockquote>
<p>No, the adapter is in libanalyze and will be called transparently (invisible for the user like ged_check()).</p>



<a name="126709083"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709083" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709083">(May 17 2018 at 17:39)</a>:</h4>
<blockquote>
<p>BTW, I hope you were successful at your exams.</p>
</blockquote>
<p>well I do not get the results right away :D, Have to wait 2 months for the evaluation. Other than that it was fine..</p>



<a name="126709110"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709110" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709110">(May 17 2018 at 17:39)</a>:</h4>
<blockquote>
<blockquote>
<p>Oh do u mean like writing the adapter function in ged_check and passing a function pointer to adapter instead of the add_overlaps right now. That should work</p>
</blockquote>
<p>No, the adapter is in libanalyze and will be called transparently (invisible for the user like ged_check()).</p>
</blockquote>
<p>then how will it know about the definition of callback ?</p>



<a name="126709221"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709221" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709221">(May 17 2018 at 17:41)</a>:</h4>
<p>check.c is passing the function pointer to <code>callback</code> to analyze_overlaps, so only analyze_overlaps knows about <code>callback</code> right?</p>



<a name="126709389"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709389" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709389">(May 17 2018 at 17:44)</a>:</h4>
<blockquote>
<p>then how will it know about the definition of callback ?</p>
</blockquote>
<p>Good point!</p>
<div class="codehilite"><pre><span></span>struct analyze_private_callback_data {
    analyze_overlaps_callback overlapHandler;
    void*                     overlapHandlerData; // the callBackData
};

void adapter(struct application* app, const struct partition* part1, const struct bu_ptbl* ptbl, const struct partition* part2) {
    struct analyze_private_callback_data* callBack = (struct analyze_private_callback_data*) app-&gt;a_uptr;
    callBack-&gt;overlapHandler(part1, ptbl, part2, callBack-&gt;overlapHandlerData);
}
</pre></div>



<a name="126709540"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709540" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709540">(May 17 2018 at 17:47)</a>:</h4>
<p>yep this will work :D but it would make passing the function pointer as an explicit parameter to analyze_overlaps redundant as it is already being passed through the callback data</p>



<a name="126709553"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709553" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709553">(May 17 2018 at 17:47)</a>:</h4>
<p>why did u add private in its name?</p>



<a name="126709618"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709618" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709618">(May 17 2018 at 17:48)</a>:</h4>
<blockquote>
<p>yep this will work :D but it would make passing the function pointer as an explicit parameter to analyze_overlaps redundant as it is already being passed through the callback data</p>
</blockquote>
<p>That's why I called the structure <code>analyze_private_~</code>, it's only visible (and created) in libanalyze.</p>



<a name="126709730"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709730" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709730">(May 17 2018 at 17:50)</a>:</h4>
<p>oh I get it now. Thanks :) that helped</p>



<a name="126709768"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709768" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709768">(May 17 2018 at 17:51)</a>:</h4>
<p>like</p>
<div class="codehilite"><pre><span></span>void analyze_overlaps() {
    struct analyze_private_callback_data callBack;
    callBack.overlapHandler = add_overlaps;
    callback.overlapHandlerData = callbackdata;
    APP.a_uptr = &amp;callBack;
}
</pre></div>



<a name="126709834"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709834" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709834">(May 17 2018 at 17:52)</a>:</h4>
<p>yep exactly... took a few mins to click inside my head :D</p>



<a name="126709885"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126709885" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126709885">(May 17 2018 at 17:53)</a>:</h4>
<p>gonna implement it now</p>



<a name="126710221"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126710221" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126710221">(May 17 2018 at 17:58)</a>:</h4>
<blockquote>
<blockquote>
<p>found out the issue was at rt_gettrees on line 396 in check.c</p>
</blockquote>
<p>humm I think I know why. It's because rt_gettrees expects rtip as a register but I am not passing it as a register</p>
</blockquote>
<p>? Where is it mentioned as <code>register</code>? And even <code>register</code> is only a hint for the compiler.</p>
<p>The <code>objtab</code> is more suspicious. With casting it you remove the possibility for the compiler to check it.</p>



<a name="126710261"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126710261" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126710261">(May 17 2018 at 17:59)</a>:</h4>
<p>Why don't you use <code>const char *objtab[];</code>?</p>



<a name="126710375"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126710375" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126710375">(May 17 2018 at 18:01)</a>:</h4>
<p>And <code>objtab = argv + (bu_optind+1);</code>? (Only an idea, untested.)</p>



<a name="126710458"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126710458" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126710458">(May 17 2018 at 18:03)</a>:</h4>
<blockquote>
<p>? Where is it mentioned as <code>register</code>? And even <code>register</code> is only a hint for the compiler.</p>
</blockquote>
<p>In rt/main.c it called <code>def_tree(rtip)</code> looking at the definition in rt/do.c line 495, I saw it had rtip as register that is why I got that doubt.</p>
<blockquote>
<p>Why don't you use <code>const char *objtab[];</code>?</p>
</blockquote>
<p>Will see thanks</p>



<a name="126710584"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126710584" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126710584">(May 17 2018 at 18:05)</a>:</h4>
<p>And <code>bu_optind</code> is always 1 despite what happens in the while loop.</p>



<a name="126711121"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126711121" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126711121">(May 17 2018 at 18:16)</a>:</h4>
<blockquote>
<p>And <code>bu_optind</code> is always 1 despite what happens in the while loop.</p>
</blockquote>
<p>I checked with a print statment giving -a10 -e10 it printed 3. So this is not true.</p>



<a name="126711326"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126711326" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126711326">(May 17 2018 at 18:21)</a>:</h4>
<blockquote>
<blockquote>
<p>And <code>bu_optind</code> is always 1 despite what happens in the while loop.</p>
</blockquote>
<p>I checked with a print statment giving -a10 -e10 it printed 3. So this is not true.</p>
</blockquote>
<p>OK, I see. Or, I couldn't see it because it's a global variable.</p>



<a name="126711453"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126711453" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126711453">(May 17 2018 at 18:24)</a>:</h4>
<p>yep defined in <code>bu/getopt.h</code></p>



<a name="126711581"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126711581" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126711581">(May 17 2018 at 18:27)</a>:</h4>
<p>I am trying to figure out how to use objtab. The suggested method did not work because const char * objtab[] cannot be declared without a size.</p>



<a name="126711586"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126711586" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126711586">(May 17 2018 at 18:27)</a>:</h4>
<blockquote>
<p>I checked with a print statment giving -a10 -e10 it printed 3. So this is not true.</p>
</blockquote>
<p>Hmm, if it's 3, in this case is the <code>bu_optind + 1</code> okay? I mean, if there is no additional parameter, then <code>objtab = argv + 2;</code> but shouldn't it be "+1"?</p>



<a name="126711922"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126711922" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126711922">(May 17 2018 at 18:35)</a>:</h4>
<p>I added this statement for checking.</p>
<div class="codehilite"><pre><span></span>    for (i=bu_optind;i&lt;argc;i++){
    bu_vls_printf(gedp-&gt;ged_result_str, &quot; %s&quot;, argv[i]);
    }
    bu_vls_printf(gedp-&gt;ged_result_str, &quot;\nargc: %d,bu_optind: %d&quot;,argc,bu_optind);
    return GED_OK;
</pre></div>


<p>Output was :</p>
<div class="codehilite"><pre><span></span>mged&gt;check -a10 -e10 abc abcd
 abc abcd
argc: 5, bu_optind:3
</pre></div>



<a name="126712127"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126712127" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126712127">(May 17 2018 at 18:39)</a>:</h4>
<blockquote>
<p>Hmm, if it's 3, in this case is the <code>bu_optind + 1</code> okay? I mean, if there is no additional parameter, then <code>objtab = argv + 2;</code> but shouldn't it be "+1"?</p>
</blockquote>
<p>you are right but this was for rtcheck so it expects the argv at bu_optind is always the titlefile and following that is the objects.</p>



<a name="126757392"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126757392" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126757392">(May 18 2018 at 16:18)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
I found the problem, it wasn't the objtab.<br>
In original rt/main.c, <code>rt_gettrees()</code> is called only after resource is init but I had moved resource to libanalyze so that wasn't possible. I added that initialize statements in check.c. That fixed it. But I cannot pass this resource instance to the libanalyze.<br>
If I do <code>rt_gettrees()</code> inside libanaylze then there is issue of <code>do_ae()</code> running before <code>rt_gettrees()</code>. If I wanted to move <code>do_ae()</code> and <code>rt_gettrees</code> to libanalyze that means more arguments(nobjs, objtab, azimuth, elevation) to be passed to libanalyze :/.</p>
<p>To test it out I moved the functions to libanalyze: <a href="/user_uploads/1549/9oCGWWjwc0HMp5abwfUoLovj/18_05_progress.patch" target="_blank" title="18_05_progress.patch">18_05_progress.patch</a><br>
But still it won't work. Crashes after calling <code>rt_shootray(&amp;a)</code>. Trying to find out why.</p>



<a name="126758705"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126758705" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126758705">(May 18 2018 at 16:50)</a>:</h4>
<p>Hmm, how about <code>rtip = rt_new_rti(gedp-&gt;ged_wdbp-&gt;dbip);</code> in <code>ged_check()</code>?</p>



<a name="126758775"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126758775" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126758775">(May 18 2018 at 16:52)</a>:</h4>
<p>interesting, lemme try that out.</p>



<a name="126758911"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126758911" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126758911">(May 18 2018 at 16:56)</a>:</h4>
<p>getting the crash after this in gdb:</p>
<div class="codehilite"><pre><span></span>655     RT_AP_CHECK(ap);
(gdb) n

Thread 8 &quot;mged&quot; received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x7fffda7f8700 (LWP 5821)]
0x00007fffe460caaf in Tk_FreeGC ()
   from /home/sharan/brlcad/build/lib/libtk.so.8.5
</pre></div>



<a name="126758917"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126758917" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126758917">(May 18 2018 at 16:56)</a>:</h4>
<p>I took this from voxelize.c It uses ray-trace as well.</p>



<a name="126758924"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126758924" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126758924">(May 18 2018 at 16:56)</a>:</h4>
<p>yep I saw it in gqa.c as well</p>



<a name="126759112"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126759112" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126759112">(May 18 2018 at 17:00)</a>:</h4>
<p>The <code>rt_gettrees()</code> in <code>analyze_overlaps()</code> maybe to much. It's supposed that they are already selected before calling <code>analyze_overlaps()</code>.</p>



<a name="126759189"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126759189" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126759189">(May 18 2018 at 17:02)</a>:</h4>
<p>And, in case of using the <code>rt_i</code> with the data provided by mged the visible/edited objects should be already selected there.</p>



<a name="126759215"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126759215" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126759215">(May 18 2018 at 17:03)</a>:</h4>
<p>yeah that is right</p>



<a name="126759296"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126759296" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126759296">(May 18 2018 at 17:04)</a>:</h4>
<p>i saw this right now in gdb:</p>
<div class="codehilite"><pre><span></span>Thread 10 &quot;mged&quot; received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x7fffdbbfa700 (LWP 5861)]
0x00007ffff782a3ab in hit (ap=0x7fffdbbf9cf0, PartHeadp=0x7fffdbbf9600,
    segs=0x7fffdbbf9880) at /home/sharan/brlcad/src/libged/gqa.c:1258
1258        ((struct per_region_data *)pp-&gt;pt_regionp-&gt;reg_udata)-&gt;hits++;
</pre></div>


<p>not sure why the program would go to gqa's hit</p>



<a name="126759377"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126759377" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126759377">(May 18 2018 at 17:06)</a>:</h4>
<p>That's a principle of <code>analyze_overlaps()</code>: <code>rt_i</code> already has the objects of interested selected.<br>
When calling <code>analyze_overlaps()</code> from libged it's the case with <code>rtip = rt_new_rti(gedp-&gt;ged_wdbp-&gt;dbip);</code>. In case of calling it from rtcheck you have to call <code>rt_gettree()</code> first.</p>



<a name="126759633"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126759633" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126759633">(May 18 2018 at 17:13)</a>:</h4>
<blockquote>
<p>That's a principle of <code>analyze_overlaps()</code>: <code>rt_i</code> already has the objects of interested selected.<br>
When calling <code>analyze_overlaps()</code> from libged it's the case with <code>rtip = rt_new_rti(gedp-&gt;ged_wdbp-&gt;dbip);</code>. In case of calling it from rtcheck you have to call <code>rt_gettree()</code> first.</p>
</blockquote>
<p>yeah understood!</p>



<a name="126759690"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126759690" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126759690">(May 18 2018 at 17:14)</a>:</h4>
<p>will revert back to 17_05 and try that</p>



<a name="126759778"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126759778" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126759778">(May 18 2018 at 17:17)</a>:</h4>
<blockquote>
<p>i saw this right now in gdb:<br>
...<br>
not sure why the program would go to gqa's hit</p>
</blockquote>
<p>After calling the <code>check</code> command? Beats me, I'll let you try to find the reason by yourself first. At the weekend I would be able to run it in a debugger then.</p>



<a name="126759844"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126759844" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126759844">(May 18 2018 at 17:18)</a>:</h4>
<p>okay got it :)</p>



<a name="126761129"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126761129" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126761129">(May 18 2018 at 17:46)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
I added the line, <code> rtip = rt_new_rti(gedp-&gt;ged_wdbp-&gt;dbip);</code> But I still have t o call rt_getree after that right? if I don't do_ae says i have no primitives active.<br>
But if I add rt_getree the same error happens as before. Am I missing something?</p>



<a name="126761322"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126761322" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126761322">(May 18 2018 at 17:50)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
I added the line, <code> rtip = rt_new_rti(gedp-&gt;ged_wdbp-&gt;dbip);</code> But I still have t o call rt_getree after that right? if I don't do_ae says i have no primitives active.<br>
But if I add rt_getree the same error happens as before. Am I missing something?</p>
</blockquote>
<p>No, you shouldn't have to call <code>rt_getree()</code>, but have to select objects in mged first before you call <code>check</code>.</p>



<a name="126761350"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126761350" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126761350">(May 18 2018 at 17:51)</a>:</h4>
<p>yep I did, with draw command</p>



<a name="126761465"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126761465" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126761465">(May 18 2018 at 17:53)</a>:</h4>
<p>If this won't work I need to have a deeper look at it. Maybe you can upload a patch file again if you are done for today.</p>



<a name="126761508"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126761508" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126761508">(May 18 2018 at 17:54)</a>:</h4>
<p><code>rt_new_rti</code> doesn't do anything to <code>rtip-&gt;nsolids</code></p>



<a name="126761520"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126761520" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126761520">(May 18 2018 at 17:54)</a>:</h4>
<p>Maybe it isn't necessary. <code>voxelize</code> works this way.</p>



<a name="126761540"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126761540" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126761540">(May 18 2018 at 17:55)</a>:</h4>
<p>hmm but voxelize does call rt_gettree at line 190</p>



<a name="126761658"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126761658" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126761658">(May 18 2018 at 17:58)</a>:</h4>
<p>Ups, indeed, must have overseen this...</p>



<a name="126761830"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126761830" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126761830">(May 18 2018 at 18:02)</a>:</h4>
<p>that leaves us with one option to send resource[] to libanalyze. (is this possible?)</p>



<a name="126762820"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126762820" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126762820">(May 18 2018 at 18:26)</a>:</h4>
<p>Isn't resource already in libanalyze? At least in your code?<br>
BTW, I don't know if it's a good idea to give a variable the same name as its type.</p>



<a name="126762904"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126762904" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126762904">(May 18 2018 at 18:28)</a>:</h4>
<blockquote>
<p>Isn't resource already in libanalyze? At least in your quote?</p>
</blockquote>
<p>To run rt_gettrees I need to prepare the resources before calling it.</p>
<blockquote>
<p>BTW, I don't know if it's a good idea to give a variable the same name as its type.</p>
</blockquote>
<p>Oh yeah I will correct that</p>



<a name="126764254"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126764254" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126764254">(May 18 2018 at 18:59)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
success! with 18_05_progress I changed the names of hit and miss functions to check_hit and check_miss. I think it was apparently calling gqa's hit and miss :O. The output printed the count of overlaps as expected :)<br>
Now just need to figure out how to call rt_gettrees without moving everything to libanalyze.</p>



<a name="126765179"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126765179" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126765179">(May 18 2018 at 19:22)</a>:</h4>
<p><a href="/user_uploads/1549/1AyuKwMSPwsZ-d0p4cDb5QI1/Selection_003.png" target="_blank" title="Selection_003.png">Selection_003.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/1AyuKwMSPwsZ-d0p4cDb5QI1/Selection_003.png" target="_blank" title="Selection_003.png"><img src="/user_uploads/1549/1AyuKwMSPwsZ-d0p4cDb5QI1/Selection_003.png"></a></div>



<a name="126781973"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126781973" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126781973">(May 19 2018 at 03:59)</a>:</h4>
<blockquote>
<p>i saw this right now in gdb: ...<br>
not sure why the program would go to gqa's hit</p>
</blockquote>
<p>This looks a bit to me like a resource was not initialized</p>



<a name="126782025"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126782025" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126782025">(May 19 2018 at 04:01)</a>:</h4>
<p>awesome <span class="user-mention" data-user-id="109608">@Saran Narayan</span> .. looks like great progress!  don't be shy about suggesting changes to libanalyze, thinking about how it can/should be developed to do what you need it to do.</p>



<a name="126795624"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126795624" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126795624">(May 19 2018 at 13:11)</a>:</h4>
<blockquote>
<p>success! with 18_05_progress I changed the names of hit and miss functions to check_hit and check_miss. I think it was apparently calling gqa's hit and miss :O. The output printed the count of overlaps as expected :)<br>
Now just need to figure out how to call rt_gettrees without moving everything to libanalyze.</p>
</blockquote>
<p><em>hit</em> and <em>miss</em> are very general function names which are very likely to be used somewhere else as well. You should work around this kind of issues in your code:</p>
<ul>
<li>Don't use function and global variable names which could conflict with others. For example <em>do_run</em>, <em>do_ae</em>, etc. conflict with functions in src/rt. A solution could be a library, module, or file specific prefix like <em>analyze_overlaps_</em> or <em>analov_</em> or something like this.</li>
<li>In addition, these functions should be marked for the compiler as local ones, only used in the actual source file. Then, they won't be exported and can't be used elsewhere. In BRL-CAD code this should be done with the <em>HIDDEN</em> define.</li>
</ul>



<a name="126796235"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126796235" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126796235">(May 19 2018 at 13:34)</a>:</h4>
<blockquote>
<p><em>hit</em> and <em>miss</em> are very general function names which are very likely to be used somewhere else as well. You should work around this kind of issues in your code:<br>
* Don't use function and global variable names which could conflict with others. For example <em>do_run</em>, <em>do_ae</em>, etc. conflict with functions in src/rt. A solution could be a library, module, or file specific prefix like <em>analyze_overlaps_</em> or <em>analov_</em> or something like this.<br>
* In addition, these functions should be marked for the compiler as local ones, only used in the actual source file. Then, they won't be exported and can't be used elsewhere. In BRL-CAD code this should be done with the <em>HIDDEN</em> define.</p>
</blockquote>
<p>Yes! thanks for the heads up. Will do.</p>



<a name="126797930"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126797930" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126797930">(May 19 2018 at 14:43)</a>:</h4>
<p>Hmm, with <em>18_05_progress.patch</em> and the <em>hit</em> and <em>miss</em> function names changed I don't get overlaps:</p>
<div class="codehilite"><pre><span></span>mged&gt; check -g10 -G10 truck.g g4
 truck.g g4
argc: 5,bu_optind: 3
 g4
Number of Overlaps: 0
Azimuth: 35.000000, elevation: 25.000000
</pre></div>


<p>Maybe you changed something else too?</p>



<a name="126798064"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126798064" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126798064">(May 19 2018 at 14:48)</a>:</h4>
<p>oh.. I only remember adding rt_prep_parallel without which i got a few warnings. But without it too I had got output.<br>
Anyway I will send the latest one with name changes we discussed.</p>



<a name="126798427"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126798427" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126798427">(May 19 2018 at 15:03)</a>:</h4>
<p>creating patch.. I wonder why it takes so much time</p>



<a name="126798487"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126798487" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126798487">(May 19 2018 at 15:05)</a>:</h4>
<p><a href="/user_uploads/1549/U4hEr_wQl8hL1lYXN-EiU30P/19_05_progress.patch" target="_blank" title="19_05_progress.patch">19_05_progress.patch</a></p>



<a name="126799031"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126799031" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126799031">(May 19 2018 at 15:26)</a>:</h4>
<p>Add changes to use <code>rtip = rt_new_rti(gedp-&gt;ged_wdbp-&gt;dbip);</code> Now no need to mention file location. And objects count are without +1</p>



<a name="126799183"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126799183" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126799183">(May 19 2018 at 15:33)</a>:</h4>
<p>Now it works :)<br>
I'll look tomorrow in the resource vs. gettree issue then.</p>



<a name="126799223"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126799223" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126799223">(May 19 2018 at 15:34)</a>:</h4>
<p>Okay thank you :)<br>
I am thinking to now add code to populate the list.</p>



<a name="126831034"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126831034" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126831034">(May 20 2018 at 12:43)</a>:</h4>
<p>Hmm, I couldn't find any issue: <a href="/user_uploads/1549/XOKbcfsEEZNAC0Fw9ig89z1f/analyze.h" target="_blank" title="analyze.h">analyze.h</a> , <a href="/user_uploads/1549/ygISoeZap5d1AnVXJ2vZEkNo/check_overlaps.c" target="_blank" title="check_overlaps.c">check_overlaps.c</a> , <a href="/user_uploads/1549/qwuZTWvVuM3m9jXw8F5mfBZN/check.c" target="_blank" title="check.c">check.c</a></p>



<a name="126832500"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126832500" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126832500">(May 20 2018 at 13:37)</a>:</h4>
<p>Yeah in the 19/05 one, I have done rt_gettrees in libanalyze which you had said is not okay.</p>



<a name="126833092"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126833092" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126833092">(May 20 2018 at 14:01)</a>:</h4>
<p>BTW, I was trying to get the overlap pairs to print in <code>ged_check()</code>. I could't figure out why the output was all random.<br>
<a href="/user_uploads/1549/nSwR7uPAI367qbjsdNPNDR_K/Selection_004.png" target="_blank" title="Selection_004.png">pairs.png</a> <br>
Here is the patch : <a href="/user_uploads/1549/f8O7dnDzQgO9PfmKYIQ9AhFs/20_05.patch" target="_blank" title="20_05.patch">20_05.patch</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/nSwR7uPAI367qbjsdNPNDR_K/Selection_004.png" target="_blank" title="pairs.png"><img src="/user_uploads/1549/nSwR7uPAI367qbjsdNPNDR_K/Selection_004.png"></a></div>



<a name="126833192"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126833192" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126833192">(May 20 2018 at 14:04)</a>:</h4>
<p>According to gdb:<br>
<code>add_overlaps (reg1=0x7fffd0000e30 "/g4/r25", reg2=0x7fffd0000d50 "/g4/r12", depth=0.39530180591737007, context=0x7fffffffc650)</code><br>
It's getting the expected names.</p>



<a name="126834894"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126834894" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126834894">(May 20 2018 at 15:13)</a>:</h4>
<blockquote>
<p>BTW, I was trying to get the overlap pairs to print in <code>ged_check()</code>. I could't figure out why the output was all random.</p>
</blockquote>
<p>When <em>add_overlaps()</em> was called there was a string at the address but when <em>bu_vls_printf()</em> is called the string is gone (overwritten with something else). You need to make copies of the strings which you own, e.g. with <code>bu_strlcpy()</code> (it's a macro which calls <em>bu_strlcpym()</em>).<br>
Don't forget to free the memory before leaving <em>ged_check()</em>, e.g. right after printing the names.</p>



<a name="126835403"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126835403" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126835403">(May 20 2018 at 15:30)</a>:</h4>
<p>yep, I was trying that but with strcpy. Will use bu_strlcpy(). Thanks for the tip. :)</p>



<a name="126839034"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126839034" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126839034">(May 20 2018 at 17:47)</a>:</h4>
<p>Okay got it working. Initially MGED got stuck, but after going through the definition of <code>bu_strlcpym()</code> saw the usage of <code>bu_semaphore_acquire(BU_SEM_SYSCALL)</code> and release, but I had acquired this semaphore in <code>add_overlaps()</code>.<br>
After removing them in <code>add_overlaps</code> it was fine.</p>



<a name="126860944"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126860944" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126860944">(May 21 2018 at 07:30)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> ,<br>
I was planning to start with gqa today, so reading libged/gqa.c now. I needed feedback on how it should be implemented in libanalyze.<br>
If I use an adapter like I did for rtcheck I could use the add_overlaps in libged/check.c. And make a new libanalyze c file that does the functions of gqa.</p>



<a name="126867186"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126867186" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126867186">(May 21 2018 at 10:59)</a>:</h4>
<blockquote>
<p>If I use an adapter like I did for rtcheck I could use the add_overlaps in libged/check.c. And make a new libanalyze c file that does the functions of gqa.</p>
</blockquote>
<p>Which functions?</p>



<a name="126872907"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126872907" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126872907">(May 21 2018 at 13:45)</a>:</h4>
<p>I remember <span class="user-mention" data-user-id="102902">@Sean</span>  saying to "add parallel capabilities of gqa into the libanalyze function", back in the application period.</p>
<blockquote>
<p>a plan would probably be something like refactoring rtcheck into a libanalyze function, then refactoring rtcheck to use the new function, then adding the parallel capabilities of gqa into the libanalyze function, then refactoring gqa to use it, then adding your new command in libged that also uses that function (doing the work of both rtcheck and gqa)</p>
</blockquote>
<p>I did not understand it back then. After going through the code of gqa seems like it shoots rays in 3 axises.<br>
It's very complex and does many analysis functions, I only would be requiring the overlap part for this project.</p>



<a name="126873036"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126873036" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126873036">(May 21 2018 at 13:48)</a>:</h4>
<p>So that I would get the overlap list just like what we did for rtcheck, but we also had the goal of making it free from the executable form.<br>
But gqa is already in form of MGED command.</p>



<a name="126881259"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126881259" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126881259">(May 21 2018 at 16:58)</a>:</h4>
<p>gqa puts a lot more functionality into the ray-trace. A single <em>analyze_overlaps()</em> isn't probable suited to be used there.<br>
Another way would be to have a generalized frame work for shooting grids of rays and doing analysis with them.</p>
<p>And, <em>analyze_overlaps()</em> has already parallel capabilities.</p>
<p>I would recommend that you start to prepare a patch with your current work which can be applied to BRL-CAD's svn repository. You can use ttps://sourceforge.net/p/brlcad/patches for this.</p>



<a name="126881603"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126881603" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126881603">(May 21 2018 at 17:06)</a>:</h4>
<blockquote>
<p>gqa puts a lot more functionality into the ray-trace. A single <em>analyze_overlaps()</em> isn't probable suited to be used there.<br>
Another way would be to have a generalized frame work for shooting grids of rays and doing analysis with them.</p>
</blockquote>
<p>hmm, so how to proceed with the framework? any examples I can read :D?</p>
<blockquote>
<p>And, <em>analyze_overlaps()</em> has already parallel capabilities.</p>
</blockquote>
<p>Yeah, the parallel execution using threads right?</p>
<blockquote>
<p>I would recommend that you start to prepare a patch with your current work which can be applied to BRL-CAD's svn repository. You can use <a href="https://sourceforge.net/p/brlcad/patches" target="_blank" title="https://sourceforge.net/p/brlcad/patches">https://sourceforge.net/p/brlcad/patches</a> for this.</p>
</blockquote>
<p>Okay will do it tonight! Anything I should keep in mind before submission? I had been cleaning up the code and adjusting indentation.</p>



<a name="126882037"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126882037" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126882037">(May 21 2018 at 17:17)</a>:</h4>
<blockquote>
<blockquote>
<p>gqa puts a lot more functionality into the ray-trace. A single <em>analyze_overlaps()</em> isn't probable suited to be used there.<br>
Another way would be to have a generalized frame work for shooting grids of rays and doing analysis with them.</p>
</blockquote>
<p>hmm, so how to proceed with the framework? any examples I can read :D?</p>
</blockquote>
<p>This would mean to analyze both <em>analyze_overlaps()</em> and <em>ged_gqa()</em> for common functionalities and putting them into a common function.</p>
<blockquote>
<blockquote>
<p>And, <em>analyze_overlaps()</em> has already parallel capabilities.</p>
</blockquote>
<p>Yeah, the parallel execution using threads right?</p>
</blockquote>
<p>Right.</p>
<blockquote>
<blockquote>
<p>I would recommend that you start to prepare a patch with your current work which can be applied to BRL-CAD's svn repository. You can use <a href="https://sourceforge.net/p/brlcad/patches" target="_blank" title="https://sourceforge.net/p/brlcad/patches">https://sourceforge.net/p/brlcad/patches</a> for this.</p>
</blockquote>
<p>Okay will do it tonight! Anything I should keep in mind before submission? I had been cleaning up the code and adjusting indentation.</p>
</blockquote>
<p>I saw several issues with your code but I'll judge after you have reviewed it by yourself. None of them was serious.</p>



<a name="126882318"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126882318" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126882318">(May 21 2018 at 17:24)</a>:</h4>
<p>Okay got it, thanks. I will try to find the common functionalities between them and the review the code to submit the patch.</p>



<a name="126925312"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126925312" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126925312">(May 22 2018 at 14:17)</a>:</h4>
<p>These are the similarities I found , they both do :</p>
<ul>
<li>Initialize all the per-CPU memory resources. <code>rt_init_resource</code></li>
<li>Walk trees. <code>rt_gettree</code></li>
<li>Pre-computation of some values, sets up space partitioning, etc. <code>rt_prep_parallel</code></li>
<li>Initialization of application instance. <code>RT_APPLICATION_INIT(&amp;ap);</code> and many others like <code>ap.a_overlap = overlap</code><ul>
<li>But in gqa it happens inside worker function. Called in a rotation manner: xyz, yzx, zyx. depending on the number of views.</li>
</ul>
</li>
<li>Overlap function is very similar.</li>
</ul>
<p>From this, the similarity of the overlap function seems the most useful.</p>



<a name="126935761"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126935761" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126935761">(May 22 2018 at 17:57)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
Read you comments on the patch. About the object selection. Do you mean the active objects? or the rt_gettrees?</p>



<a name="126936979"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126936979" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126936979">(May 22 2018 at 18:20)</a>:</h4>
<p>Exactly, something like</p>
<div class="codehilite"><pre><span></span>    while (argc &gt; 0) {
        if (rt_gettree(rtip,argv[0]) &lt; 0) {
            bu_vls_printf(gedp-&gt;ged_result_str, &quot;error: object &#39;%s&#39; does not exists, aborting\n&quot;, argv[1]);
            return GED_ERROR;
        }

        argc--;
        argv++;
    }
</pre></div>



<a name="126937076"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126937076" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126937076">(May 22 2018 at 18:23)</a>:</h4>
<p>Okay thanks for the input, If rt_gettree can be run without the initialization of resource, then it would work!<br>
That's why I had thought it was impossible with rt_gettrees.<br>
Will do the requested changes and submit a new one :). Currently going through <code>rt_default_multioverlap()</code>.</p>



<a name="126939828"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126939828" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126939828">(May 22 2018 at 19:24)</a>:</h4>
<p>wow that worked :) now I have reverted to an old progress, hence I would be able to do do_ae and grid_setup in libged it self :D</p>



<a name="126988323"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126988323" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126988323">(May 23 2018 at 17:58)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> please have a look at the v2 patch I had submitted yesterday</p>



<a name="126988587"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126988587" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126988587">(May 23 2018 at 18:02)</a>:</h4>
<p>Don't worry ;)</p>



<a name="126988756"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126988756" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126988756">(May 23 2018 at 18:05)</a>:</h4>
<p>BTW, why don't you use a_logoverlap?</p>



<a name="126988919"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126988919" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126988919">(May 23 2018 at 18:09)</a>:</h4>
<p>hmm well since I was basically taking code from src/rt/. In viewcheck.c under view_init, logoverlap was set to rt_silent_logoverlap. That is why I did it that way</p>



<a name="126988923"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126988923" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126988923">(May 23 2018 at 18:09)</a>:</h4>
<p>Do you plan to extend the mged check command with additional features?</p>



<a name="126989046"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126989046" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126989046">(May 23 2018 at 18:11)</a>:</h4>
<p>I was planning to include the functionality of outputting plot file</p>



<a name="126989097"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126989097" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126989097">(May 23 2018 at 18:12)</a>:</h4>
<blockquote>
<p>hmm well since I was basically taking code from src/rt/. In viewcheck.c under view_init, logoverlap was set to rt_silent_logoverlap. That is why I did it that way</p>
</blockquote>
<p>Do you know what <em>rt_silent_logoverlap</em> does? It's defined in src/librt/bool.c. Well, nothing you have to worry about.</p>



<a name="126989203"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126989203" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126989203">(May 23 2018 at 18:15)</a>:</h4>
<blockquote>
<p>Do you know what <em>rt_silent_logoverlap</em> does? It's defined in src/librt/bool.c. Well, nothing you have to worry about.</p>
</blockquote>
<p>does nothing, just checks the magic number? for validity I think and returns. <br>
where as rt_default_logoverlap prints lot of debug info to the user.</p>



<a name="126989206"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126989206" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126989206">(May 23 2018 at 18:15)</a>:</h4>
<blockquote>
<p>I was planning to include the functionality of outputting plot file</p>
</blockquote>
<p>I mean, <code>check</code> is a very general command. If you want to check for overlaps there only, <em>check_overlaps</em> or similar would be more suitable.</p>



<a name="126989376"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126989376" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126989376">(May 23 2018 at 18:19)</a>:</h4>
<blockquote>
<blockquote>
<p>Do you know what <em>rt_silent_logoverlap</em> does? It's defined in src/librt/bool.c. Well, nothing you have to worry about.</p>
</blockquote>
<p>does nothing, just checks the magic number? for validity I think and returns. <br>
where as rt_default_logoverlap prints lot of debug info to the user.</p>
</blockquote>
<p>For me it looks like for any reason <em>a_logoverlap</em> shouldn't stay empty. That's why there is the <em>rt_silent_logoverlap()</em>. If you have a better entry, like <em>overlapsAdapter()</em>, you can use it in <em>a_logoverlap</em>.</p>



<a name="126989612"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126989612" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126989612">(May 23 2018 at 18:24)</a>:</h4>
<blockquote>
<p>I mean, <code>check</code> is a very general command. If you want to check for overlaps there only, <em>check_overlaps</em> or similar would be more suitable.</p>
</blockquote>
<p>Yeah true, initially I started writing that just to test the working of the libanalyze function.<br>
I am still unclear about what I would be doing at the end. <br>
Initially I had thought my task was to implement the functions the src/tclscripts/check.sh does because it was limited to linux and did lots of text processing.<br>
After discussing with Sean, he said text processing must be removed. Hence the libanalyze function was the plan.<br>
According to this I had planned that check command would take the objects as arguments and called libanalyze function to get the overlap lists in memory and did post processing similar to the shell script and hand it over to the check.tcl file.</p>
<p>But a few days ago I was told that I had to implement the check.tcl file in C aswell. So I believe now I can call libanalyze from that C file itself, so there would be no need of check command.</p>



<a name="126990011"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126990011" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126990011">(May 23 2018 at 18:34)</a>:</h4>
<blockquote>
<p>For me it looks like for any reason <em>a_logoverlap</em> shouldn't stay empty. That's why there is the <em>rt_silent_logoverlap()</em>. If you have a better entry, like <em>overlapsAdapter()</em>, you can use it in <em>a_logoverlap</em>.</p>
</blockquote>
<p>Yeah if a_logoverlap is not set, there is seg-fault. Yep I could add something for a_logoverlap similar to overlapsAdapter, to do logging. Is this where the -r option helps? I am confused because -r option does not have an affect for rtcheck.</p>



<a name="126990364"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126990364" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126990364">(May 23 2018 at 18:42)</a>:</h4>
<blockquote>
<p>But a few days ago I was told that I had to implement the check.tcl file in C aswell. So I believe now I can call libanalyze from that C file itself, so there would be no need of check command.</p>
</blockquote>
<p>At least not in src/tclscripts, but as a ged command you wrote a nice function. I don't want to do without it. When it has a more precise name ...</p>



<a name="126990459"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126990459" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126990459">(May 23 2018 at 18:45)</a>:</h4>
<p>yeah well then check_overlaps sounds good for the name</p>



<a name="126990542"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126990542" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126990542">(May 23 2018 at 18:47)</a>:</h4>
<p>I was thinking it could replace rtcheck command as well. Since it does almost everything what rtcheck does. But better because it's not calling exec_vp</p>



<a name="126990611"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126990611" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126990611">(May 23 2018 at 18:49)</a>:</h4>
<blockquote>
<p>Yeah if a_logoverlap is not set, there is seg-fault. Yep I could add something for a_logoverlap similar to overlapsAdapter, to do logging. Is this where the -r option helps? I am confused because -r option does not have an affect for rtcheck.</p>
</blockquote>
<p>First, I would say <code>a_logoverlap = overlapsAdapter</code>, or?<br>
Looking at src/rt/opt.c you see that <em>-r</em> is the default. <em>-R</em> switches it off.</p>



<a name="126990754"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126990754" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126990754">(May 23 2018 at 18:52)</a>:</h4>
<blockquote>
<p>Looking at src/rt/opt.c you see that <em>-r</em> is the default. <em>-R</em> switches it off.</p>
</blockquote>
<p>Yeah but look at the view_init in viewcheck.c. It does not consider any options.</p>



<a name="126990776"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126990776" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126990776">(May 23 2018 at 18:53)</a>:</h4>
<blockquote>
<p>I was thinking it could replace rtcheck command as well. Since it does almost everything what rtcheck does. But better because it's not calling exec_vp</p>
</blockquote>
<p>Definitely! This is why you are doing this, moving the functionality to a central place at libanalyze where every module should use it.<br>
It's the next step to let <em>rtchek</em> use <em>analyze_overlaps()</em>.</p>



<a name="126990855"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126990855" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126990855">(May 23 2018 at 18:55)</a>:</h4>
<blockquote>
<p>Yeah but look at the view_init in viewcheck.c. It does not consider any options.</p>
</blockquote>
<p>No, but <em>overlap()</em> and <em>view_end()</em> do.</p>



<a name="126991063"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991063" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991063">(May 23 2018 at 18:57)</a>:</h4>
<blockquote>
<p>Definitely! This is why you are doing this, moving the functionality to a central place at libanalyze where every module should use it.<br>
It's the next step to let <em>rtchek</em> use <em>analyze_overlaps()</em>.</p>
</blockquote>
<p>Yeah sounds good! plus lesser use of globals :P</p>
<blockquote>
<p>No, but <em>overlap()</em> and <em>view_end()</em> do.</p>
</blockquote>
<p>hmm interesting, so overlap can do both logging and adding to list.</p>



<a name="126991470"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991470" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991470">(May 23 2018 at 19:05)</a>:</h4>
<blockquote>
<p>First, I would say <code>a_logoverlap = overlapsAdapter</code>, or?</p>
</blockquote>
<p>How would this work? like passing the rpt_overlaps, then proceed in a similar fashion as overlap does? that wouldn't work because the signatures are different for logoverlap and multioverlap</p>



<a name="126991513"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991513" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991513">(May 23 2018 at 19:06)</a>:</h4>
<blockquote>
<p>hmm interesting, so overlap can do both logging and adding to list.</p>
</blockquote>
<p>Adding to a list is a kind of logging, or vice versa: Logging is adding to a list.</p>



<a name="126991536"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991536" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991536">(May 23 2018 at 19:07)</a>:</h4>
<p>ohk understood. I get it now.. multioverlap should actually used for resolving the overlaps</p>



<a name="126991587"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991587" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991587">(May 23 2018 at 19:08)</a>:</h4>
<p>that's why it had code for deleting the left and right partitions</p>



<a name="126991609"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991609" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991609">(May 23 2018 at 19:08)</a>:</h4>
<blockquote>
<p>How would this work? like passing the rpt_overlaps, then proceed in a similar fashion as overlap does? that wouldn't work because the signatures are different for logoverlap and multioverlap</p>
</blockquote>
<p>logoverlap hat const parameters and multioverlap not, that's all. Did I missed something?</p>



<a name="126991694"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991694" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991694">(May 23 2018 at 19:10)</a>:</h4>
<blockquote>
<p>that's why it had code for deleting the left and right partitions</p>
</blockquote>
<p>Yes, this is something I'm still thinking about: Should <em>analyze_overlaps()</em> allow to change the geometry or not?</p>



<a name="126991806"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991806" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991806">(May 23 2018 at 19:12)</a>:</h4>
<p>hmm yeah if it's allowed then "analyze"overlaps wouldn't be the right name.<br>
If it's allowed tho then isn't like automatically doing the function of the overlap check tool</p>



<a name="126991821"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991821" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991821">(May 23 2018 at 19:13)</a>:</h4>
<p><em>Checking</em> a bank account doesn't mean to drain it ;)</p>



<a name="126991887"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991887" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991887">(May 23 2018 at 19:15)</a>:</h4>
<p>However, the signatures of logoverlap and multioverlap are similar. It would be possible to switch if needed.</p>



<a name="126991890"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991890" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991890">(May 23 2018 at 19:15)</a>:</h4>
<p>Haha yeah! It helps to visualize as well!</p>



<a name="126991955"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126991955" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126991955">(May 23 2018 at 19:17)</a>:</h4>
<blockquote>
<p>However, the signatures of logoverlap and multioverlap are similar. It would be possible to switch if needed.</p>
</blockquote>
<p>yeah fine. So at the end an option to log or resolve the overlaps?</p>



<a name="126992250"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126992250" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126992250">(May 23 2018 at 19:22)</a>:</h4>
<p>But how can we switch between them as one has const and one does not.</p>



<a name="126992481"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126992481" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126992481">(May 23 2018 at 19:27)</a>:</h4>
<p>What if we switch inside the overlapHandler, just like it happens in viewcheck.c. <br>
Pass overlapsHandler as multioverlap only. We pass the option as a int variable using the APP.a_user and decide.</p>



<a name="126993845"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/126993845" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#126993845">(May 23 2018 at 19:56)</a>:</h4>
<blockquote>
<p>But how can we switch between them as one has const and one does not.</p>
</blockquote>
<p>You don't need to switch in <em>analyze_overlaps()</em>. You need only to decide if <em>analyze_overlaps_callback</em> can change the geometry or not. You can do logging with <em>a_multioverlap</em> as well, if you simply memorize that it was called and change nothing else. Bot, you remember the bank account? It would be more than just checking.</p>



<a name="127023536"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127023536" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127023536">(May 24 2018 at 11:01)</a>:</h4>
<blockquote>
<p>You don't need to switch in <em>analyze_overlaps()</em>. You need only to decide if <em>analyze_overlaps_callback</em> can change the geometry or not.</p>
</blockquote>
<p>Did you mean like decide whether to modify based on the return values from <em>analyze_overlaps_callback</em> ?</p>
<blockquote>
<p>You can do logging with <em>a_multioverlap</em> as well, if you simply memorize that it was called and change nothing else. Bot, you remember the bank account? It would be more than just checking.</p>
</blockquote>
<p>Not sure if I understand what you mean here by memorizing and the reference to bank account.</p>



<a name="127035217"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127035217" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127035217">(May 24 2018 at 15:55)</a>:</h4>
<blockquote>
<blockquote>
<p>You don't need to switch in <em>analyze_overlaps()</em>. You need only to decide if <em>analyze_overlaps_callback</em> can change the geometry or not.</p>
</blockquote>
<p>Did you mean like decide whether to modify based on the return values from <em>analyze_overlaps_callback</em> ?</p>
</blockquote>
<p>The parameters of <em>a_multioverlap</em> and <em>a_logoverlap</em> are essentially the same. The difference is in the const specifier. This means, algorithms written for <em>a_logoverlap</em> work with <em>a_multioverlap</em> as well. The reverse isn't true. If an algorithm requires a <em>partition</em> or <em>bu_ptbl</em> parameter  to be modifiable it won't work with <em>a_logoverlap</em>.</p>
<p>I.e., if you want to be flexible use <em>a_multioverlap</em>.</p>



<a name="127035363"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127035363" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127035363">(May 24 2018 at 15:59)</a>:</h4>
<blockquote>
<blockquote>
<p>You can do logging with <em>a_multioverlap</em> as well, if you simply memorize that it was called and change nothing else. But, you remember the bank account? It would be more than just checking.</p>
</blockquote>
<p>Not sure if I understand what you mean here by memorizing and the reference to bank account.</p>
</blockquote>
<p>Suppose you want to be flexible and use <em>a_multioverlap</em>. Then, you should make sure that a <em>check</em> command can't modify the database. I.e., <em>analyze_overlaps()</em> (the implementation of the general algorithm in libanalyze) could be used to modify a BRL-CAD database, but <em>ged_check_overlaps()</em> doesn't use this. It does logging only (i.e. writing something on the screen).</p>



<a name="127036049"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127036049" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127036049">(May 24 2018 at 16:13)</a>:</h4>
<blockquote>
<p>Suppose you want to be flexible and use <em>a_multioverlap</em>. Then, you should make sure that a <em>check</em> command can't modify the database. I.e., <em>analyze_overlaps()</em> (the implementation of the general algorithm in libanalyze) could be used to modify a BRL-CAD database, but <em>ged_check_overlaps()</em> doesn't use this. It does logging only (i.e. writing something on the screen).</p>
</blockquote>
<p>Yup I got it. So as I was saying how to decide whether to modify or not? using a flag?</p>



<a name="127036563"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127036563" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127036563">(May 24 2018 at 16:27)</a>:</h4>
<blockquote>
<p>Yup I got it. So as I was saying how to decide whether to modify or not? using a flag?</p>
</blockquote>
<p>No, you don't need a flag. Just make sure that <em>ged_check_overlaps()</em> implemetation of <em>analyze_overlaps_callback</em>  (i.e. <em>add_overlaps()</em>) doesn' change a <em>partition</em> or <em>bu_ptbl</em> parameter.</p>



<a name="127036793"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127036793" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127036793">(May 24 2018 at 16:33)</a>:</h4>
<blockquote>
<p>No, you don't need a flag. Just make sure that <em>ged_check_overlaps()</em> implemetation of <em>analyze_overlaps_callback</em>  (i.e. <em>add_overlaps()</em>) doesn' change a <em>partition</em> or <em>bu_ptbl</em> parameter.</p>
</blockquote>
<p>Okay got it. Then next question comes to my mind is the adapter. It would be just to call the analyze_overlaps_callback with context passed to it right?<br>
And are we restricting the user by providing a different signature for callback like one only capable of logging and one capable of modifying also</p>



<a name="127036865"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127036865" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127036865">(May 24 2018 at 16:34)</a>:</h4>
<p>or just pass them without const and let the user decide..</p>



<a name="127037559"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127037559" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127037559">(May 24 2018 at 16:53)</a>:</h4>
<p>In principle the adapter just hands over the parameters to the call-back function.<br>
I had wished that the adapter preprocesses them as you are doing now, but I'm afraid this would't make things easier.</p>



<a name="127037604"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127037604" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127037604">(May 24 2018 at 16:54)</a>:</h4>
<blockquote>
<p>or just pass them without const and let the user decide..</p>
</blockquote>
<p>Just pass them without const and let the user decide.</p>



<a name="127037874"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127037874" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127037874">(May 24 2018 at 17:00)</a>:</h4>
<p>Cool! Thanks for clearing it up!</p>



<a name="127037926"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127037926" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127037926">(May 24 2018 at 17:01)</a>:</h4>
<p>So that is for v3 patch. Anything else?</p>



<a name="127038179"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127038179" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127038179">(May 24 2018 at 17:07)</a>:</h4>
<blockquote>
<p>Cool! Thanks for clearing it up!</p>
</blockquote>
<p>I had to think over this by myself as well.</p>



<a name="127038224"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127038224" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127038224">(May 24 2018 at 17:08)</a>:</h4>
<blockquote>
<p>So that is for v3 patch. Anything else?</p>
</blockquote>
<p>Who knows? ;) But - yes, this should be all for patch 3.</p>



<a name="127044944"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127044944" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127044944">(May 24 2018 at 19:25)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
hmm does <code>bu_ptbl_reset(regiontable)</code> count as modifying? because if I don't do that it wouldn't work gives seg-fault.<br>
here is the work : <a href="/user_uploads/1549/9Udz2F9NJDVg5F-yJOCCa2sI/check_overlaps_v3.patch" target="_blank" title="check_overlaps_v3.patch">check_overlaps_v3.patch</a></p>
<p>from <em>include/rt/overlap.h</em> it says at line 74: <br>
<em>a_logoverlap() function is intended for logging only, and a_multioverlap() is intended for resolving the overlap, only.</em></p>
<p>So according to me <code>a_multioverlap</code> can't return without modifying.</p>



<a name="127045306"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127045306" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127045306">(May 24 2018 at 19:33)</a>:</h4>
<p>Oh and I changed the commands name to <em>check_overlaps</em> but I kept the filename same, was thinking like if anyone adds some functions like check_* it could go inside check.c</p>



<a name="127057365"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127057365" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127057365">(May 25 2018 at 00:25)</a>:</h4>
<p><strong>Without <code>bu_ptbl_reset(regiontable)</code></strong><br>
I was able to run the command for <em>single process</em>. It crashes when npsw is greater than 1.<br>
But when in single process, I get bunch (counted and they were equal to number of overlaps) of errors saying that a_multioverlap was not able to resolve overlap. <em>(check screenshot attached)</em> <a href="/user_uploads/1549/3vcuhIGf-Q1q7_0o5MCwi1GX/Screenshot-from-2018-05-25-05-48-20.png" target="_blank" title="Screenshot-from-2018-05-25-05-48-20.png">Screenshot</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/3vcuhIGf-Q1q7_0o5MCwi1GX/Screenshot-from-2018-05-25-05-48-20.png" target="_blank" title="Screenshot"><img src="/user_uploads/1549/3vcuhIGf-Q1q7_0o5MCwi1GX/Screenshot-from-2018-05-25-05-48-20.png"></a></div>



<a name="127089714"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127089714" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127089714">(May 25 2018 at 16:28)</a>:</h4>
<p>Well, yes, it looks like I had a wrong understanding regarding what <em>a_multioverlap</em> does. I seems to resolve the overlap for the current ray-trace, without changing the underlying geometry. It is expected to tell the ray-trace algorithm what it shall do with the overlap. If it doesn't, a complaining message will be emitted.</p>
<p>I'ts true that <em>a_multioverlap</em> and <em>a_logoverlap</em> are getting the same arguments (see src/librt/bool.c lines 1704 and 1705), but there default implementations are very different. Whereas <em>a_logoverlap</em> can stay empty (see <em>rt_silent_logoverlap()</em> for an example), <em>a_multioverlap</em> needs a body which resolves the overlap somehow (like in <em>rt_default_multioverlap()</em>).</p>
<p>Because we aren't interested in how the overlaps are resolved in this ray-trace (<em>a_hit</em> and <em>a_miss</em> have no function), it's probable wise to leave <em>a_multioverlap</em> NULL and use this way <em>rt_default_multioverlap()</em>. I.e., set <code>APP.a_logoverlap = overlapsAdapter</code>.</p>



<a name="127089822"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127089822" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127089822">(May 25 2018 at 16:31)</a>:</h4>
<blockquote>
<p>Oh and I changed the commands name to <em>check_overlaps</em> but I kept the filename same, was thinking like if anyone adds some functions like check_* it could go inside check.c</p>
</blockquote>
<p>Use check_overlaps.c as file name similar to the bot_~.c stuff.</p>



<a name="127089890"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127089890" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127089890">(May 25 2018 at 16:33)</a>:</h4>
<p>okay got it, just what I suspected.<br>
So now should I revert back to v2 and use the overlapHandler to do pre processing or let the user decide like in v3?</p>
<blockquote>
<p>Use check_overlaps.c as file name similar to the bot_~.c stuff.</p>
</blockquote>
<p>Okay understood :)</p>



<a name="127089892"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127089892" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127089892">(May 25 2018 at 16:33)</a>:</h4>
<p>And, I would need the patch on sourceforge.</p>



<a name="127089961"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127089961" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127089961">(May 25 2018 at 16:35)</a>:</h4>
<blockquote>
<p>okay got it, just what I suspected.<br>
So now should I revert back to v2 and use the overlapHandler to do pre processing or let the user decide like in v3?</p>
</blockquote>
<p>Leave like it is now (v3). You can improve the interface if it's advisable later on.</p>



<a name="127090181"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127090181" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127090181">(May 25 2018 at 16:40)</a>:</h4>
<p>okay, will submit updated v3 on sourceforge</p>



<a name="127091060"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127091060" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127091060">(May 25 2018 at 17:00)</a>:</h4>
<p>Working as expected now :)</p>



<a name="127091681"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127091681" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127091681">(May 25 2018 at 17:15)</a>:</h4>
<p>Posted on sourceforge</p>



<a name="127091732"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127091732" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127091732">(May 25 2018 at 17:16)</a>:</h4>
<p>OK, I've seen it.</p>



<a name="127091824"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127091824" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127091824">(May 25 2018 at 17:18)</a>:</h4>
<p>hmm thinking what to start next.. refactor rtcheck or think about gqa?</p>



<a name="127091835"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127091835" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127091835">(May 25 2018 at 17:18)</a>:</h4>
<p>refactor rtcheck</p>



<a name="127091901"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127091901" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127091901">(May 25 2018 at 17:20)</a>:</h4>
<p>okay. So the current src/libged/rtcheck.c is like a wrapper to run the executable rtcheck application.</p>



<a name="127091926"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127091926" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127091926">(May 25 2018 at 17:21)</a>:</h4>
<p>Now all that we have a libanalyze function we don’t need a wrapper I think</p>



<a name="127091978"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127091978" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127091978">(May 25 2018 at 17:22)</a>:</h4>
<p>So I am thinking what really differentiates rtcheck.c from check_overlaps.c</p>



<a name="127092367"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127092367" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127092367">(May 25 2018 at 17:33)</a>:</h4>
<p>we can call simply <em>rtcheck</em> it would then append the list of active primitives and run</p>



<a name="127092376"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127092376" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127092376">(May 25 2018 at 17:33)</a>:</h4>
<p>there is option for outputting plot file</p>



<a name="127092648"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127092648" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127092648">(May 25 2018 at 17:40)</a>:</h4>
<blockquote>
<p>there is option for outputting plot file</p>
</blockquote>
<p>I should be possible to write the file with the callback function or afterwards.</p>



<a name="127092730"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127092730" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127092730">(May 25 2018 at 17:43)</a>:</h4>
<p>after checking viewcheck.c,<br>
<code>pdv_3space(outfp, rtip-&gt;rti_pmin, rtip-&gt;rti_pmax);</code> this happens in view_2init.<br>
Will try to do this in libged before calling libanalyze</p>



<a name="127092783"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127092783" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127092783">(May 25 2018 at 17:44)</a>:</h4>
<p>but there are some outfp related things going on in do_frame as well.</p>



<a name="127092986"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127092986" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127092986">(May 25 2018 at 17:50)</a>:</h4>
<p>well in do_frame it only opens the file. So it can be done in libged as well</p>



<a name="127093700"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127093700" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127093700">(May 25 2018 at 18:06)</a>:</h4>
<p>so, should I try it with check_overlaps or make a copy and name it rtcheck and add it there :D because of the similarity.</p>



<a name="127095242"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127095242" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127095242">(May 25 2018 at 18:41)</a>:</h4>
<blockquote>
<p>so, should I try it with check_overlaps or make a copy and name it rtcheck and add it there :D because of the similarity.</p>
</blockquote>
<p>Seriously? Use <em>analyze_overlaps()</em>!</p>



<a name="127095292"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127095292" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127095292">(May 25 2018 at 18:42)</a>:</h4>
<p>no you misunderstood.. that is what I meant only</p>



<a name="127095408"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127095408" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127095408">(May 25 2018 at 18:45)</a>:</h4>
<p>wouldn't the libged part be the same for both? check_overlaps.c and rtcheck.c</p>



<a name="127095516"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127095516" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127095516">(May 25 2018 at 18:47)</a>:</h4>
<p>Similar, but I would't say the same. rtcheck has the file output and the matrix commands.</p>



<a name="127095595"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127095595" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127095595">(May 25 2018 at 18:49)</a>:</h4>
<p>right</p>



<a name="127095614"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127095614" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127095614">(May 25 2018 at 18:49)</a>:</h4>
<p>matrix commands... that would require a lot of rt/do.c functions in libged.. and they all have fixed signatures according to rt_cmdtab</p>



<a name="127095699"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127095699" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127095699">(May 25 2018 at 18:51)</a>:</h4>
<p>check include/rt/cmd.h on line 37</p>



<a name="127095882"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127095882" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127095882">(May 25 2018 at 18:54)</a>:</h4>
<p>all the cm_* functions have the same signatures <code>(const int argc, const char **argv)</code>and they all set variables but they are all in global scope.. how can I pass the variables to these function with fixed signatures.</p>



<a name="127096274"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127096274" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127096274">(May 25 2018 at 19:03)</a>:</h4>
<p>Start with what you have in src/rt. If they require global variables there, use them, at least for the first version.</p>



<a name="127096355"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127096355" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127096355">(May 25 2018 at 19:04)</a>:</h4>
<p>okay sounds good.</p>



<a name="127131673"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127131673" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127131673">(May 26 2018 at 15:24)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
I have added output as plot file and summary that is printed at the end for rtcheck. <a href="/user_uploads/1549/zkHP5dMyfy50vLxEkQgES48W/26.05.progress.patch" target="_blank" title="26.05.progress.patch">26.05.progress.patch</a>. <br>
I didn't touch the existing rtcheck.c because I use that to test and compare behaviour. Will make it rtcheck during the final submission.<br>
I was wondering how to give stdin in MGED, so that I can start work on matflag.</p>



<a name="127133156"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127133156" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127133156">(May 26 2018 at 16:17)</a>:</h4>
<p>The only way to give the stdin I think is by making an executable version. So I removed all the ged code and renamed the ged to main and compiled an executable.</p>



<a name="127133206"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127133206" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127133206">(May 26 2018 at 16:19)</a>:</h4>
<p>The rtcheck code belongs to src/rt, not src/libged. What they have in common is the libanalyze routine.<br>
The mged/archer equivalent of rtcheck is check_overlaps. It doesn't need to write a file or execute matrix commands. (Rather, it should be enabled to use the current settings/view in mged and archer, but this is something we can think about later on.)</p>
<p>OK, you explained why you didn't want to overwrite the original code, but why did you implemented it in libged?</p>



<a name="127133291"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127133291" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127133291">(May 26 2018 at 16:22)</a>:</h4>
<blockquote>
<p>OK, you explained why you didn't want to overwrite the original code, but why did you implemented it in libged?</p>
</blockquote>
<p>Yeah my bad. I did move it to src/rt now. <span class="emoji emoji-1f62c" title="grimacing">:grimacing:</span></p>



<a name="127133302"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127133302" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127133302">(May 26 2018 at 16:23)</a>:</h4>
<p>It isn't unusual to have multiple instances of a BRL-CAD repository on a machine, exactly because of this reason. E.g., I have 3 check-outs here. One of them is called <em>vanilla</em>. To avoid the extra network traffic you can simple make copies from your check-out and modify them independently.</p>



<a name="127133351"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127133351" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127133351">(May 26 2018 at 16:25)</a>:</h4>
<p>Have you read my comment to your patch 488?<br>
And, don't forget to write the documentation for the new <em>check_overlaps</em> command.</p>



<a name="127133455"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127133455" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127133455">(May 26 2018 at 16:29)</a>:</h4>
<blockquote>
<p>It isn't unusual to have multiple instances of a BRL-CAD repository on a machine, exactly because of this reason. E.g., I have 3 check-outs here. One of them is called <em>vanilla</em>. To avoid the extra network traffic you can simple make copies from your check-out and modify them independently.</p>
</blockquote>
<p>yeah I have a fresh copy as zip file stashed away in downloads. When I require a clean repo I just extract it and check it out to latest version. :)</p>
<blockquote>
<p>Have you read my comment to your patch 488?</p>
</blockquote>
<p>Yeah I did read it. The code changes will do, but I tried the command in archer and it didn't even detect that there was a command check_overlaps.</p>
<blockquote>
<p>And, don't forget to write the documentation for the new <em>check_overlaps</em> command.</p>
</blockquote>
<p>yeah got it, will do.<br>
You mentioned to <em>"correct them with an own patch"</em> which I did not understand. Should I comment the new patch or create a new ticket?</p>



<a name="127133722"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127133722" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127133722">(May 26 2018 at 16:39)</a>:</h4>
<blockquote>
<p>yeah I have a fresh copy as zip file stashed away in downloads. When I require a clean repo I just extract it and check it out to latest version. :)</p>
</blockquote>
<p>This means that you have to take care of your disk memory?</p>
<blockquote>
<p>Yeah I did read it. The code changes will do, but I tried the command in archer and it didn't even detect that there was a command check_overlaps.</p>
</blockquote>
<p>&lt;irony&gt;Really?&lt;/irony&gt; ;) It looks like you have something to do there.</p>
<blockquote>
<p>You mentioned to <em>"correct them with an own patch"</em> which I did not understand. Should I comment the new patch or create a new ticket?</p>
</blockquote>
<p>Create a new ticket.</p>



<a name="127133830"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127133830" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127133830">(May 26 2018 at 16:43)</a>:</h4>
<blockquote>
<p>This means that you have to take care of your disk memory?</p>
</blockquote>
<p>yeah, your idea of vanilla seems better though, that way the checking out everytime I want a new repo is not there.</p>
<blockquote>
<p>&lt;irony&gt;Really?&lt;/irony&gt; ;) It looks like you have something to do there.</p>
</blockquote>
<p>Hmmm, I will find it :D was just excited to start rtcheck first.</p>
<blockquote>
<p>Create a new ticket.</p>
</blockquote>
<p>Okay thanks for clearing it up!</p>



<a name="127133989"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127133989" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127133989">(May 26 2018 at 16:49)</a>:</h4>
<p>When I say "3 check-outs" I mean I've 3 build directories too. This way I can easily switch between the versions. And, you could install them in different directories too. However, a build directory has a size of over 2 GByte.</p>



<a name="127134083"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127134083" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127134083">(May 26 2018 at 16:52)</a>:</h4>
<p>oh yeah got it :). yeah 2.8 GB each..</p>



<a name="127134105"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127134105" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127134105">(May 26 2018 at 16:54)</a>:</h4>
<p>BTW when I moved to srt/rt, I replaced all the bu_vls_printf(gedp-&gt;result_str,"") statements by fprintf(stdout,"") ones. That is fine right?</p>



<a name="127134453"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127134453" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127134453">(May 26 2018 at 17:06)</a>:</h4>
<p>Using the <em>bu_</em> functions is the recommended way. It's true that in src/rt usually <em>fprintf()</em> is used, but e.g. reshoot.c uses <em>bu_vls_printf()</em> as well. Therefore, it isn't forbidden to use <em>fprintf()</em> but it isn't necessary to replace <em>bu_vls_printf()</em> there.</p>
<p>It also depends on what you want to do with your code: Immediately write to the output or compose the whole string first.</p>



<a name="127134611"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127134611" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127134611">(May 26 2018 at 17:12)</a>:</h4>
<p>okay understood. This just came to my mind, the script generated by saveview saves a logfile, it does this by redirecting stderr<code>2&gt; logfile.txt</code>.<br>
So I was thinking to switch to stderr, would bu_vls_printf contents come inside stderr?</p>



<a name="127134658"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127134658" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127134658">(May 26 2018 at 17:14)</a>:</h4>
<p>but stderr doesn't seem to be the right place for normal outputs</p>



<a name="127135934"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127135934" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127135934">(May 26 2018 at 18:05)</a>:</h4>
<blockquote>
<p>&lt;irony&gt;Really?&lt;/irony&gt; ;) It looks like you have something to do there.</p>
</blockquote>
<p>Figured it out :)<br>
<a href="/user_uploads/1549/d-HxK9COz79mh3XGm8z4jPni/Screenshot-from-2018-05-26-23-34-35.png" target="_blank" title="Screenshot-from-2018-05-26-23-34-35.png">Screenshot-from-2018-05-26-23-34-35.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/d-HxK9COz79mh3XGm8z4jPni/Screenshot-from-2018-05-26-23-34-35.png" target="_blank" title="Screenshot-from-2018-05-26-23-34-35.png"><img src="/user_uploads/1549/d-HxK9COz79mh3XGm8z4jPni/Screenshot-from-2018-05-26-23-34-35.png"></a></div>



<a name="127135936"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127135936" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127135936">(May 26 2018 at 18:05)</a>:</h4>
<p>though the 'g's appear to be cut off from the bottom..</p>



<a name="127136443"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127136443" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127136443">(May 26 2018 at 18:25)</a>:</h4>
<p>submitted <a href="https://sourceforge.net/p/brlcad/patches/491/" target="_blank" title="https://sourceforge.net/p/brlcad/patches/491/">https://sourceforge.net/p/brlcad/patches/491/</a></p>



<a name="127136534"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127136534" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127136534">(May 26 2018 at 18:29)</a>:</h4>
<p><em>bu_vls_printf()</em> normally doesn't send anything to stdout or stderr, only if something bad happens like an unknown format specifier.</p>



<a name="127136578"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127136578" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127136578">(May 26 2018 at 18:30)</a>:</h4>
<blockquote>
<p>though the 'g's appear to be cut off from the bottom..</p>
</blockquote>
<p>That's probable an issue of Archer'd terminal widget.</p>



<a name="127136701"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127136701" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127136701">(May 26 2018 at 18:35)</a>:</h4>
<blockquote>
<p><em>bu_vls_printf()</em> normally doesn't send anything to stdout or stderr, only if something bad happens like an unknown format specifier.</p>
</blockquote>
<p>Okay, I will test and figure out what to use accordingly</p>



<a name="127161830"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127161830" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127161830">(May 27 2018 at 11:46)</a>:</h4>
<blockquote>
<p>though the 'g's appear to be cut off from the bottom..</p>
</blockquote>
<p>Looks OK on my machine: <a href="/user_uploads/1549/3s7wDA__RGCKcRq2B1-nusTJ/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/3s7wDA__RGCKcRq2B1-nusTJ/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/1549/3s7wDA__RGCKcRq2B1-nusTJ/pasted_image.png"></a></div>



<a name="127162102"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162102" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162102">(May 27 2018 at 11:58)</a>:</h4>
<p>hmm.. not sure why it is like that on mine.<br>
edit: I think it could be because of the different distros we use and the fonts these distros use.</p>



<a name="127162159"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162159" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162159">(May 27 2018 at 12:00)</a>:</h4>
<p>BTW I started to add that rt_cmd_tab things, it is sad that everything has to be made global for it work. Even parsing of the arguments must be done in function, because of cm_opt.</p>



<a name="127162203"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162203" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162203">(May 27 2018 at 12:02)</a>:</h4>
<p>are all the cm_~ functions relevant for rtcheck?</p>



<a name="127162411"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162411" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162411">(May 27 2018 at 12:11)</a>:</h4>
<blockquote>
<p>are all the cm_~ functions relevant for rtcheck?</p>
</blockquote>
<p>Probable not, but for the other src/rt programs.</p>
<p>Global variables in an executable aren't as bad as in a library. If an executable will be started multiple times the data of their instances are protected by running in different processes (each process has its own memory space).</p>
<p>Library functions could be called in parallel in different threads of the same process which can lead to problems with global variables (the threads of a process run all in the same memory space).</p>



<a name="127162566"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162566" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162566">(May 27 2018 at 12:16)</a>:</h4>
<blockquote>
<p>Global variables in an executable aren't as bad as in a library. If an executable will be started multiple times the data of their instances are protected by running in different processes (each process has its own memory space).</p>
<p>Library functions could be called in parallel in different threads of the same process which can lead to problems with global variables (the threads of a process run all in the same memory space).</p>
</blockquote>
<p>Thanks for the explanation! :)<br>
and saw your comment on the patch, working on it.</p>



<a name="127162707"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162707" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162707">(May 27 2018 at 12:20)</a>:</h4>
<p>hmm so for pp - partp and hp - InputHdp, sounds good?</p>



<a name="127162725"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162725" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162725">(May 27 2018 at 12:21)</a>:</h4>
<p>I couldn't find anything for pp, so partp is my guess <span class="emoji emoji-1f62c" title="grimacing">:grimacing:</span></p>



<a name="127162831"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162831" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162831">(May 27 2018 at 12:24)</a>:</h4>
<p>What do pp and hp stand for? The last "p" is probable for "partition", but the first letters?</p>



<a name="127162844"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162844" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162844">(May 27 2018 at 12:25)</a>:</h4>
<p>h is for head</p>



<a name="127162893"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162893" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162893">(May 27 2018 at 12:26)</a>:</h4>
<p>And p?</p>



<a name="127162899"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162899" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162899">(May 27 2018 at 12:27)</a>:</h4>
<p>PartHead ?</p>



<a name="127162965"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127162965" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127162965">(May 27 2018 at 12:29)</a>:</h4>
<p>This would be "ph", but you have "pp" and "hp". The second one could be *headPartition", but the first one?</p>



<a name="127163016"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127163016" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127163016">(May 27 2018 at 12:31)</a>:</h4>
<p>meh.. It should be partPartition</p>



<a name="127163236"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127163236" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127163236">(May 27 2018 at 12:40)</a>:</h4>
<p>Looking at src/librt/bool.c it looks like "pp" stands for "partition pointer" and "hp" for "head pointer". This isn't still very helpfull. Maybe <em>rt_default_multioverlap()</em> can explain this.</p>
<p>All-in-all it looks like that <em>hp</em> is useless.<br>
And I've just realized that you included <em>application</em> in <em>analyze_overlaps_callback</em>. You shouldn't do this. This callback function has its own context.</p>



<a name="127163336"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127163336" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127163336">(May 27 2018 at 12:43)</a>:</h4>
<blockquote>
<p>And I've just realized that you included <em>application</em> in <em>analyze_overlaps_callback</em>. You shouldn't do this. This callback function has its own context.</p>
</blockquote>
<p>yeah that is right :D, I kept ap unused there. Will correct that!</p>



<a name="127164697"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127164697" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127164697">(May 27 2018 at 13:36)</a>:</h4>
<p>hmm, I cannot remove ap. Because it is need for plot file in rtcheck. But hp seems useless!</p>
<div class="codehilite"><pre><span></span>register struct xray *rp = &amp;ap-&gt;a_ray;
vect_t ihit;
vect_t ohit;
VJOIN1(ihit, rp-&gt;r_pt, ihitp-&gt;hit_dist, rp-&gt;r_dir);
VJOIN1(ohit, rp-&gt;r_pt, ohitp-&gt;hit_dist, rp-&gt;r_dir);
pdv_3line(outfp, ihit, ohit);
</pre></div>



<a name="127172252"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127172252" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127172252">(May 27 2018 at 17:57)</a>:</h4>
<p>Looks like <em>analyze_overlaps_callback</em> needs a <em>struct xray</em>* parameter.</p>



<a name="127172453"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127172453" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127172453">(May 27 2018 at 18:05)</a>:</h4>
<p>correction: <em>const struct xray</em>*</p>



<a name="127172492"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127172492" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127172492">(May 27 2018 at 18:06)</a>:</h4>
<p>yeah true :)</p>



<a name="127172721"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127172721" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127172721">(May 27 2018 at 18:16)</a>:</h4>
<p>I am giving rp the name rayPointer in analyze.h</p>



<a name="127172885"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127172885" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127172885">(May 27 2018 at 18:23)</a>:</h4>
<p><em>ray</em> or <em>rayp</em> is enough, or?</p>



<a name="127207352"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127207352" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127207352">(May 28 2018 at 14:11)</a>:</h4>
<p>I think matflag is working for these commands, need to test the others<br>
<a href="/user_uploads/1549/5HD5h2YVT9ENKggsGCyL3Sji/screenshot.png" target="_blank" title="screenshot.png">screenshot.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/5HD5h2YVT9ENKggsGCyL3Sji/screenshot.png" target="_blank" title="screenshot.png"><img src="/user_uploads/1549/5HD5h2YVT9ENKggsGCyL3Sji/screenshot.png"></a></div>



<a name="127207430"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127207430" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127207430">(May 28 2018 at 14:13)</a>:</h4>
<p>woops no, I gave -a and -e so it deactivated matflag</p>



<a name="127207552"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127207552" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127207552">(May 28 2018 at 14:16)</a>:</h4>
<p>okay removed and it still works :D</p>



<a name="127210458"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127210458" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127210458">(May 28 2018 at 15:25)</a>:</h4>
<p>Here is the progress so far, <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
<a href="/user_uploads/1549/HXNjyBWA5_YTYgn36sfN8MWr/rtck.c" target="_blank" title="rtck.c">rtck.c</a></p>



<a name="127211796"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127211796" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127211796">(May 28 2018 at 16:00)</a>:</h4>
<p>Only out of curiosity: Wasn't it possible to use functions from src/rt there, e.g. to do the command line parsing? ("No" is a valid answer ;)</p>



<a name="127211913"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127211913" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127211913">(May 28 2018 at 16:04)</a>:</h4>
<p>there are a few changes like my do_frame is different and def_tree is different so anything that uses these functions need to be custom.</p>



<a name="127212047"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212047" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212047">(May 28 2018 at 16:06)</a>:</h4>
<p>cmd_end, cm_multiview are different because of do_frame and def_tree</p>



<a name="127212115"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212115" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212115">(May 28 2018 at 16:09)</a>:</h4>
<p>cm_tree is custom because I can only use rt_gettree not rt_gettrees</p>



<a name="127212185"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212185" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212185">(May 28 2018 at 16:10)</a>:</h4>
<p>cm_start is custom because frame number is non functional for rtcheck I believe, my cm_start just returns without doing anything</p>



<a name="127212198"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212198" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212198">(May 28 2018 at 16:11)</a>:</h4>
<p>cm_vsize, cm_eyept, cm_lookat_pt, cm_orientation can be reused because they are simple</p>



<a name="127212310"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212310" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212310">(May 28 2018 at 16:14)</a>:</h4>
<p>some of them need APP.a_rt_i as global variable but I am not dealing with APP in rt, analyze_overlaps API uses it. But I have rtip, so they all can be changed to use rtip hence they need to be custom</p>



<a name="127212614"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212614" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212614">(May 28 2018 at 16:25)</a>:</h4>
<p>OK.<br>
Therefore you are making progress. Do you already have a schedule for your next patches?</p>



<a name="127212666"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212666" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212666">(May 28 2018 at 16:26)</a>:</h4>
<p>BTW I was not able to test the old_way of processing stdin, i gave a text file containing 20 numbers, 1 for viewsize, 3 for eyept and 16 for Viewrotscale. I checked with rtcheck and my rtcheck both crashed with a bomb log</p>



<a name="127212713"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212713" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212713">(May 28 2018 at 16:28)</a>:</h4>
<blockquote>
<p>OK.<br>
Therefore you are making progress. Do you already have a schedule for your next patches?</p>
</blockquote>
<p>Nope, not yet planned.</p>



<a name="127212722"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212722" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212722">(May 28 2018 at 16:28)</a>:</h4>
<p>Did you run it in a debugger? It should stop when the exception happens.</p>



<a name="127212788"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212788" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212788">(May 28 2018 at 16:30)</a>:</h4>
<p>not really, since it crashed with both I thought it could be issue with my input.</p>



<a name="127212806"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212806" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212806">(May 28 2018 at 16:31)</a>:</h4>
<div class="codehilite"><pre><span></span>Interpreting command stream in old format

bn_mat_inv: singular matrix

bn_mat_inv: singular matrix

Saving stack trace to rtck-7930-bomb.log
</pre></div>



<a name="127212853"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212853" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212853">(May 28 2018 at 16:32)</a>:</h4>
<p><a href="/user_uploads/1549/sSTKdgnVNG99o8bGDfEV4jof/example.txt" target="_blank" title="example.txt">example.txt</a></p>



<a name="127212856"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212856" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212856">(May 28 2018 at 16:32)</a>:</h4>
<p>this was the input <span class="emoji emoji-1f648" title="see no evil">:see_no_evil:</span></p>



<a name="127212863"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212863" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212863">(May 28 2018 at 16:33)</a>:</h4>
<p>I am sure that viewrotscale is wrong</p>



<a name="127212908"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212908" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212908">(May 28 2018 at 16:34)</a>:</h4>
<p>Shouldn't the input be commands, like the ones on your last screen shot?</p>



<a name="127212913"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212913" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212913">(May 28 2018 at 16:34)</a>:</h4>
<p>that I believe is the new way.. "command driven"</p>



<a name="127212920"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212920" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212920">(May 28 2018 at 16:35)</a>:</h4>
<div class="codehilite"><pre><span></span>    if (fscanf(fp, CPP_SCAN(NUMBER_LEN), number) != 1) return -1;
    viewsize = atof(number);
    if (fscanf(fp, CPP_SCAN(NUMBER_LEN), number) != 1) return -1;
    eye_model[X] = atof(number);
    if (fscanf(fp, CPP_SCAN(NUMBER_LEN), number) != 1) return -1;
    eye_model[Y] = atof(number);
    if (fscanf(fp, CPP_SCAN(NUMBER_LEN), number) != 1) return -1;
    eye_model[Z] = atof(number);
    for (i = 0; i &lt; 16; i++) {
    if (fscanf(fp, CPP_SCAN(NUMBER_LEN), number) != 1)
        return -1;
    Viewrotscale[i] = atof(number);
    }
</pre></div>



<a name="127212927"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212927" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212927">(May 28 2018 at 16:35)</a>:</h4>
<p>this is the snippet of old way</p>



<a name="127212972"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212972" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212972">(May 28 2018 at 16:36)</a>:</h4>
<p>BTW, the matrix in your example is really singular. Try</p>
<div class="codehilite"><pre><span></span>1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1
</pre></div>



<a name="127212975"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212975" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212975">(May 28 2018 at 16:36)</a>:</h4>
<p>okay thanks</p>



<a name="127212986"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127212986" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127212986">(May 28 2018 at 16:37)</a>:</h4>
<p>works now :D</p>



<a name="127213276"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213276" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213276">(May 28 2018 at 16:47)</a>:</h4>
<p>gonna test everything else now. Will see if libged/rtcheck works</p>



<a name="127213310"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213310" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213310">(May 28 2018 at 16:48)</a>:</h4>
<p>or are we replacing it? with check_overlaps?</p>



<a name="127213329"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213329" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213329">(May 28 2018 at 16:49)</a>:</h4>
<p>if so then archer needs some changes too, like there is a button in archer to run rtcheck from the menu bar</p>



<a name="127213332"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213332" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213332">(May 28 2018 at 16:49)</a>:</h4>
<p>and also the objects from view</p>



<a name="127213390"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213390" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213390">(May 28 2018 at 16:51)</a>:</h4>
<p>via libged/rtcheck wrapper there is no need to mention the objects :)<br>
<a href="/user_uploads/1549/LuazPT-jM9d_7uYa5OdlDZa7/Screenshot-from-2018-05-28-22-21-12.png" target="_blank" title="Screenshot-from-2018-05-28-22-21-12.png">Screenshot-from-2018-05-28-22-21-12.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/LuazPT-jM9d_7uYa5OdlDZa7/Screenshot-from-2018-05-28-22-21-12.png" target="_blank" title="Screenshot-from-2018-05-28-22-21-12.png"><img src="/user_uploads/1549/LuazPT-jM9d_7uYa5OdlDZa7/Screenshot-from-2018-05-28-22-21-12.png"></a></div>



<a name="127213530"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213530" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213530">(May 28 2018 at 16:56)</a>:</h4>
<p><em>check_overlaps</em> shall replace <em>rtcheck</em>. We want to get rid of calling another executable there. And the feature of to not need to mention the objects is something I would like to see in <em>check_overlaps</em> too.</p>



<a name="127213537"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213537" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213537">(May 28 2018 at 16:56)</a>:</h4>
<p>And, the adaption/improvement of the GUI is also part of your project.</p>



<a name="127213595"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213595" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213595">(May 28 2018 at 16:58)</a>:</h4>
<p>And, I would put back the <em>gqa</em> stuff. <em>gqa</em> does its own thing, and everything in one run.</p>



<a name="127213661"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213661" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213661">(May 28 2018 at 17:00)</a>:</h4>
<blockquote>
<p><em>check_overlaps</em> shall replace <em>rtcheck</em>. We want to get rid of calling another executable there. And the feature of to not need to mention the objects is something I would like to see in <em>check_overlaps</em> too.</p>
</blockquote>
<p>Hmm, will work on it and get it working!</p>
<blockquote>
<p>And, the adaption/improvement of the GUI is also part of your project.</p>
</blockquote>
<p>okay understood, once check_overlaps is ready will adapt it.</p>
<blockquote>
<p>And, I would put back the <em>gqa</em> stuff. <em>gqa</em> does its own thing, and everything in one run.</p>
</blockquote>
<p>Yeah but I need the output of these tools rtcheck and gqa  in memory and not use text processing for the overlap checker tool I am gonna make</p>



<a name="127213765"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213765" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213765">(May 28 2018 at 17:04)</a>:</h4>
<blockquote>
<blockquote>
<p>And, I would put back the <em>gqa</em> stuff. <em>gqa</em> does its own thing, and everything in one run.</p>
</blockquote>
<p>Yeah but I need the output of these tools rtcheck and gqa  in memory and not use text processing for the overlap checker tool I am gonna make</p>
</blockquote>
<p>? You don't need the output of <em>rtcheck</em>, you have <em>analyze_overlaps()</em> and <em>ged_check_overlaps()</em> now. And, don't look at <em>gqa</em>, at least for the moment.</p>



<a name="127213881"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213881" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213881">(May 28 2018 at 17:08)</a>:</h4>
<p>In that case it is fine. Yeah analyze_overlaps and check_overlaps can do the job</p>



<a name="127213891"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127213891" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127213891">(May 28 2018 at 17:09)</a>:</h4>
<p>the <a href="http://checker.sh" target="_blank" title="http://checker.sh">checker.sh</a> uses gqa for 2nd opinion, it can work with just the output of check_overlaps</p>



<a name="127214015"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127214015" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127214015">(May 28 2018 at 17:13)</a>:</h4>
<p>oh there is also one more thing missing in check_overlaps the display of overlaps in yellow color</p>



<a name="127214120"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127214120" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127214120">(May 28 2018 at 17:17)</a>:</h4>
<blockquote>
<p>oh there is also one more thing missing in check_overlaps the display of overlaps in yellow color</p>
</blockquote>
<p>This is something what has to happen in the callback function.</p>



<a name="127214177"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127214177" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127214177">(May 28 2018 at 17:19)</a>:</h4>
<p>okay, I need to find the code that does it for rtcheck</p>



<a name="127214245"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127214245" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127214245">(May 28 2018 at 17:21)</a>:</h4>
<p>looks like <code>_ged_cvt_vlblock_to_solids()</code> does it on line 121 in libged/rtcheck.c</p>



<a name="127214418"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127214418" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127214418">(May 28 2018 at 17:26)</a>:</h4>
<p>humm I don't get it. There is usage of vlblock which is new to me</p>



<a name="127214531"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127214531" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127214531">(May 28 2018 at 17:30)</a>:</h4>
<p>I'm in doubt. Can it be that <em>_ged_cvt_vlblock_to_solids()</em> codes only "OVERLAPS" for printing on the screen and <em>rt_process_uplot_value()</em> does the real work?</p>



<a name="127214709"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127214709" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127214709">(May 28 2018 at 17:37)</a>:</h4>
<p>yeah that would be right, <em>_ged_cvt_vlblock_to_solids()</em> gives it the name OVERLAPSffff00 and <em>rt_process_uplot_value()</em> does the real work of plotting it</p>



<a name="127214713"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127214713" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127214713">(May 28 2018 at 17:37)</a>:</h4>
<p>#FFFF00 is for yellow color</p>



<a name="127214864"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127214864" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127214864">(May 28 2018 at 17:42)</a>:</h4>
<p>something to do with plot file, let me make it display in txt for readability</p>



<a name="127214993"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127214993" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127214993">(May 28 2018 at 17:47)</a>:</h4>
<p><a href="/user_uploads/1549/j6LVGPKTnmdwafE-pENNZHUZ/test.txt" target="_blank" title="test.txt">test.txt</a></p>



<a name="127215033"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127215033" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127215033">(May 28 2018 at 17:48)</a>:</h4>
<p>plot file for rtcheck -g10 -G10 -a10 -e102 truck.g g4</p>



<a name="127218917"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127218917" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127218917">(May 28 2018 at 19:45)</a>:</h4>
<blockquote>
<p>And the feature of to not need to mention the objects is something I would like to see in <em>check_overlaps</em> too.</p>
</blockquote>
<p>Done! :) <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
<a href="/user_uploads/1549/DoiyIr4wg-o8lqEFzaPg0FTp/Screenshot-from-2018-05-29-01-10-51.png" target="_blank" title="Screenshot-from-2018-05-29-01-10-51.png">Screenshot-from-2018-05-29-01-10-51.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/DoiyIr4wg-o8lqEFzaPg0FTp/Screenshot-from-2018-05-29-01-10-51.png" target="_blank" title="Screenshot-from-2018-05-29-01-10-51.png"><img src="/user_uploads/1549/DoiyIr4wg-o8lqEFzaPg0FTp/Screenshot-from-2018-05-29-01-10-51.png"></a></div>



<a name="127219224"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127219224" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127219224">(May 28 2018 at 19:53)</a>:</h4>
<p>Please have a look if it's proper, only the changes I did to check_overlaps.c :<br>
<a href="/user_uploads/1549/RjjR8o90DCo_xnuLbVpvjVVF/visibleobjs.patch" target="_blank" title="visibleobjs.patch">visibleobjs.patch</a></p>



<a name="127259247"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127259247" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127259247">(May 29 2018 at 16:03)</a>:</h4>
<p>Umm, I think I got plotting working, but again not sure if followed proper procedure to do that.<br>
<a href="/user_uploads/1549/gpa0Qa-MFiig--DntKHe6Ma9/Screenshot-from-2018-05-29-21-32-12.png" target="_blank" title="Screenshot-from-2018-05-29-21-32-12.png">Screenshot-from-2018-05-29-21-32-12.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/gpa0Qa-MFiig--DntKHe6Ma9/Screenshot-from-2018-05-29-21-32-12.png" target="_blank" title="Screenshot-from-2018-05-29-21-32-12.png"><img src="/user_uploads/1549/gpa0Qa-MFiig--DntKHe6Ma9/Screenshot-from-2018-05-29-21-32-12.png"></a></div>



<a name="127259263"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127259263" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127259263">(May 29 2018 at 16:03)</a>:</h4>
<p>as you see from the image I am using temp file.</p>



<a name="127259750"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127259750" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127259750">(May 29 2018 at 16:13)</a>:</h4>
<blockquote>
<p>Please have a look if it's proper, only the changes I did to check_overlaps.c :<br>
<a href="/user_uploads/1549/RjjR8o90DCo_xnuLbVpvjVVF/visibleobjs.patch" target="_blank" title="visibleobjs.patch">visibleobjs.patch</a></p>
</blockquote>
<p>oh I also found a bug with this just now, if I <code>draw g4</code>. Then run <code>check_overlaps g4</code>.<br>
Then it runs g4 twice :/</p>



<a name="127259868"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127259868" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127259868">(May 29 2018 at 16:15)</a>:</h4>
<p>Today's work it also has the yesterday's work of visibleobjs.patch<br>
<a href="/user_uploads/1549/31DV3ysONDGzXLvXTDJkLTc-/plot_overlaps.patch" target="_blank" title="plot_overlaps.patch">plot_overlaps.patch</a></p>



<a name="127260052"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127260052" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127260052">(May 29 2018 at 16:19)</a>:</h4>
<blockquote>
<p>Please have a look if it's proper, only the changes I did to check_overlaps.c :<br>
<a href="/user_uploads/1549/RjjR8o90DCo_xnuLbVpvjVVF/visibleobjs.patch" target="_blank" title="visibleobjs.patch">visibleobjs.patch</a></p>
</blockquote>
<p>How about either using the given objects if there are given or use the ones from <em>ged_build_tops()</em> if there are none?</p>



<a name="127260118"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127260118" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127260118">(May 29 2018 at 16:20)</a>:</h4>
<p>that is a good idea!</p>



<a name="127260134"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127260134" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127260134">(May 29 2018 at 16:21)</a>:</h4>
<p>will do it now.</p>



<a name="127260152"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127260152" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127260152">(May 29 2018 at 16:22)</a>:</h4>
<p>The plotting shouldn't need a temp file. In principle it should possible to build the plot stream in the callback function and draw it afterwords (or meanwhile?)</p>



<a name="127260382"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127260382" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127260382">(May 29 2018 at 16:26)</a>:</h4>
<p>It should be a kind of vlist: <code>struct bu_list *vhead</code>, <code>RT_ADD_VLIST()</code>, <code>bn_vlist_2string()</code> to throw some keywords.</p>



<a name="127260415"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127260415" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127260415">(May 29 2018 at 16:27)</a>:</h4>
<blockquote>
<p>The plotting shouldn't need a temp file. In principle it should possible to build the plot stream in the callback function and draw it afterwords (or meanwhile?)</p>
</blockquote>
<p>yeah that is what I was hoping to do but all the functions need a FILE*.</p>



<a name="127260482"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127260482" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127260482">(May 29 2018 at 16:28)</a>:</h4>
<blockquote>
<p>It should be a kind of vlist: <code>struct bu_list *vhead</code>, <code>RT_ADD_VLIST()</code>, <code>bn_vlist_2string()</code> to throw some keywords.</p>
</blockquote>
<p>Didn't understand this..</p>



<a name="127260747"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127260747" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127260747">(May 29 2018 at 16:34)</a>:</h4>
<p>The <em>vlist</em> is a list of vectors considered for displaying on the screen. The primitives have a <em>rt_~_plot()</em> function which generates such a list. These vector lists are used to generate the wireframe view in mged and Archer. The words I wrote are the list type and some functions/macro to build up such a list. I'm pretty sure that this is also how the highlighting of the overlaps works.</p>



<a name="127261017"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261017" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261017">(May 29 2018 at 16:40)</a>:</h4>
<p>thanks, I think I am understanding it now. Like the function used <code>rt_process_uplot_value</code> does essentially gets the 6 values from the plot file and uses <code>BN_ADD_VLIST</code> to add these to <code>vbp-&gt;free_vlist_hd</code>.</p>



<a name="127261118"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261118" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261118">(May 29 2018 at 16:43)</a>:</h4>
<p>Look at <em>rt_process_uplot_value()</em> in src/librt/vlist.c. There you can see that the <code>V x1 y1 z1x2 y2 z2</code> are translated to two <code>BN_ADD_VLIST()</code> commands.</p>



<a name="127261121"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261121" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261121">(May 29 2018 at 16:43)</a>:</h4>
<p>I think I could merge <code>pdv_3line</code> and <code>rt_process_uplot_value</code> into a custom function that does not use FILE *</p>



<a name="127261197"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261197" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261197">(May 29 2018 at 16:45)</a>:</h4>
<blockquote>
<p>Look at <em>rt_process_uplot_value()</em> in src/librt/vlist.c. There you can see that the <code>V x1 y1 z1x2 y2 z2</code> are translated to two <code>BN_ADD_VLIST()</code> commands.</p>
</blockquote>
<p>Yeah exactly I remember the 6 values from the plot file I sent yesterday. First 3 for <code>BN_VLIST_LINE_MOVE</code> and next 3 for <code>BN_VLIST_LINE_DRAW</code></p>



<a name="127261202"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261202" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261202">(May 29 2018 at 16:45)</a>:</h4>
<p>Give the callbackData a handle to this list (or a handle to the <em>ged_check_ovl</em> which contains this structure) and build it up in the callbacks.</p>



<a name="127261359"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261359" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261359">(May 29 2018 at 16:49)</a>:</h4>
<p>by handle you mean the <code>struct bu_list *vhead</code> returned from running these:</p>
<div class="codehilite"><pre><span></span>struct bn_vlblock *vbp = rt_vlblock_init();
struct bu_list *vhead = bn_vlblock_find(vbp, 0xFF, 0xFF, 0x00);
</pre></div>



<a name="127261491"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261491" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261491">(May 29 2018 at 16:52)</a>:</h4>
<p>Yes. You are initializing <em>chk_ovl</em> this way. Maybe it's a good idea to keep this variable, but make it part of <em>overlapData</em>.</p>



<a name="127261534"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261534" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261534">(May 29 2018 at 16:53)</a>:</h4>
<p>Then do what you are currently doing in <em>plotoverlaps()-&gt;rt_process_uplot_value()</em> in <em>overlapHandler()-&gt;log_overlaps()</em> now.</p>



<a name="127261583"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261583" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261583">(May 29 2018 at 16:54)</a>:</h4>
<p>Okay got it :). And display the overlaps as overlay with <code>_ged_cvt_vlblock_to_solids</code> at the end</p>



<a name="127261588"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261588" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261588">(May 29 2018 at 16:54)</a>:</h4>
<p>Exactly.</p>



<a name="127261661"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261661" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261661">(May 29 2018 at 16:56)</a>:</h4>
<p>Okay cool. There was one more bug I faced. Like once I ran check_overlaps and got the overlay if I run it again it would consider the OVERLAPSffff00 as a visible object and tries to rt_gettree it and crash.</p>



<a name="127261916"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261916" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261916">(May 29 2018 at 17:02)</a>:</h4>
<p>Clean up the display first?</p>



<a name="127261935"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127261935" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127261935">(May 29 2018 at 17:02)</a>:</h4>
<p>Sure thing!</p>



<a name="127263611"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127263611" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127263611">(May 29 2018 at 17:39)</a>:</h4>
<p>Umm that object issues is solved now :)<br>
And passed the structure to logoverlaps and tested with a simple print statement with gedp. So that is working as well. Gonna cleanup the display now.</p>



<a name="127266450"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127266450" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127266450">(May 29 2018 at 18:36)</a>:</h4>
<p>Success! :) Thanks <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> for such wonderful suggestions.</p>



<a name="127266467"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127266467" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127266467">(May 29 2018 at 18:36)</a>:</h4>
<p>now it is just 3 lines to build up the list and display is 2 lines :D</p>



<a name="127266854"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127266854" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127266854">(May 29 2018 at 18:44)</a>:</h4>
<p><a href="/user_uploads/1549/DfQEQ99erilJGchrZ_6kkFHl/Screenshot-from-2018-05-30-00-14-21.png" target="_blank" title="Screenshot-from-2018-05-30-00-14-21.png">Screenshot-from-2018-05-30-00-14-21.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/DfQEQ99erilJGchrZ_6kkFHl/Screenshot-from-2018-05-30-00-14-21.png" target="_blank" title="Screenshot-from-2018-05-30-00-14-21.png"><img src="/user_uploads/1549/DfQEQ99erilJGchrZ_6kkFHl/Screenshot-from-2018-05-30-00-14-21.png"></a></div>



<a name="127271550"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127271550" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127271550">(May 29 2018 at 20:11)</a>:</h4>
<blockquote>
<p>Okay cool. There was one more bug I faced. Like once I ran check_overlaps and got the overlay if I run it again it would consider the OVERLAPSffff00 as a visible object and tries to rt_gettree it and crash.</p>
</blockquote>
<p>I don't understand why it thinks it a visible object. But I kinda hard-coded it for now <span class="emoji emoji-1f62c" title="grimacing">:grimacing:</span> to erase overlays just before buildingtops :</p>
<div class="codehilite"><pre><span></span>    if ((db_lookup(gedp-&gt;ged_wdbp-&gt;dbip, &quot;OVERLAPSffff00&quot;, LOOKUP_QUIET)) != RT_DIR_NULL) {
             dl_erasePathFromDisplay(gedp-&gt;ged_gdp-&gt;gd_headDisplay, gedp-&gt;ged_wdbp-&gt;dbip, gedp-&gt;ged_free_vlist_callback, &quot;OVERLAPSffff00&quot;, 0, gedp-&gt;freesolid);
    }
</pre></div>


<p>hopefully there is another way</p>



<a name="127292138"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127292138" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127292138">(May 30 2018 at 06:03)</a>:</h4>
<blockquote>
<p>Okay cool. There was one more bug I faced. Like once I ran check_overlaps and got the overlay if I run it again it would consider the OVERLAPSffff00 as a visible object and tries to rt_gettree it and crash.</p>
</blockquote>
<p>I'm most interested in rt_gettree crashing .. it shouldn't.  can you provide a backtrace?</p>



<a name="127294314"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127294314" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127294314">(May 30 2018 at 07:16)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> <br>
<a href="https://pastebin.com/gkz865p7" target="_blank" title="https://pastebin.com/gkz865p7">https://pastebin.com/gkz865p7</a><br>
This is 2nd run of  <code>check_overlaps</code> from the logs <code>rt_gettree (rtip=0x13a64c0,
    node=0x132abc0 "g4")</code> this is alright.<br>
Then later there is one more call <code>rt_gettree (rtip=0x13a64c0, node=0x0)</code> this is causing the crash.</p>
<div class="codehilite"><pre><span></span>Thread 1 &quot;mged&quot; received signal SIGSEGV, Segmentation fault.
0x00007fffe83d5253 in db_follow_path_for_state (tsp=0x7fffffffbf70, total_path=0x7fffffffbf30, orig_str=0x0, noisy=1) at /home/sharan/brlcad/src/librt/db_tree.c:849
</pre></div>


<p>Gonna investigate it</p>



<a name="127295160"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127295160" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127295160">(May 30 2018 at 07:42)</a>:</h4>
<p>humm. So I ran the original <code>rtcheck</code> then ran a modded version <code>check_overlaps</code> that prints number of tops and names then returns.<br>
<a href="/user_uploads/1549/Ve_YpU2vNUs0174qhyniVrIU/Screenshot-from-2018-05-30-13-12-10.png" target="_blank" title="Screenshot-from-2018-05-30-13-12-10.png">Screenshot-from-2018-05-30-13-12-10.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/Ve_YpU2vNUs0174qhyniVrIU/Screenshot-from-2018-05-30-13-12-10.png" target="_blank" title="Screenshot-from-2018-05-30-13-12-10.png"><img src="/user_uploads/1549/Ve_YpU2vNUs0174qhyniVrIU/Screenshot-from-2018-05-30-13-12-10.png"></a></div>



<a name="127295983"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127295983" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127295983">(May 30 2018 at 08:07)</a>:</h4>
<p>okay I think I know how <code>rtcheck</code> doesn't crash when running it for the second time but check_overlaps does now.<br>
<code>rtcheck</code> uses <code>ged_count_tops</code> to allocate memory for the <code>gedp-&gt;ged_gdp-&gt;gd_rt_cmd</code>to fit the visible tops.<br>
But it only considers the count of objects returned from <code>ged_build_tops</code>.<br>
So I did that experiment on my check_overlaps turns out <code>ged_build_tops</code> returned one less number than <code>ged_count_tops</code> when there are overlays displayed.<br>
<a href="/user_uploads/1549/SkQANOUq25cKjDKHKyIyCuVb/Screenshot-from-2018-05-30-13-33-16.png" target="_blank" title="Screenshot-from-2018-05-30-13-33-16.png">Screenshot-from-2018-05-30-13-33-16.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/SkQANOUq25cKjDKHKyIyCuVb/Screenshot-from-2018-05-30-13-33-16.png" target="_blank" title="Screenshot-from-2018-05-30-13-33-16.png"><img src="/user_uploads/1549/SkQANOUq25cKjDKHKyIyCuVb/Screenshot-from-2018-05-30-13-33-16.png"></a></div>



<a name="127296734"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127296734" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127296734">(May 30 2018 at 08:27)</a>:</h4>
<p>BTW before fixing that I had one thing in mind,<br>
I can run <code>check_overlaps g4</code> and get it to display the overlays without actually drawing g4, which displays overlays just floating in the air making no sense.<br>
I can also do this <code>draw g2</code> and then doing <code>check_overlaps g4</code> which would display overlaps of g4 as overlays on g2, again making no sense.<br>
There are a these options to solve this in my opinion :<br>
1) if a user runs <code>check_overlaps g4</code> and g4 is not drawn then it shouldn't display the overlaps<br>
But displays overlays when g4 is drawn. This method would require checking of mentioned objects and visible objects.<br>
2) if a user runs <code>check_overlaps g4</code> and g4 is not drawn then it could automatically draw g4 for the user and display the overlays.<br>
3) like <code>rtcheck</code> command does not allow to explicitly mention objects (but executable rtcheck does allow it) with command like <code>rtcheck g4</code>, I could make check_overlaps work strictly for only visible objects.</p>



<a name="127297023"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127297023" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127297023">(May 30 2018 at 08:35)</a>:</h4>
<p>Fixed the issue with a quick fix for now <a href="/user_uploads/1549/QO1c4wcbAeloTHCsFV6T0jex/quick_fix.c" target="_blank" title="quick_fix.c">quick_fix.c</a><br>
Will do a clean fix when the above doubt is cleared :)</p>



<a name="127317028"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127317028" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127317028">(May 30 2018 at 16:50)</a>:</h4>
<blockquote>
<blockquote>
<p>Okay cool. There was one more bug I faced. Like once I ran check_overlaps and got the overlay if I run it again it would consider the OVERLAPSffff00 as a visible object and tries to rt_gettree it and crash.</p>
</blockquote>
<p>I don't understand why it thinks it a visible object. But I kinda hard-coded it for now <span class="emoji emoji-1f62c" title="grimacing">:grimacing:</span> to erase overlays just before buildingtops :</p>
<p>hopefully there is another way</p>
</blockquote>
<p>The question which came into my mind is: Should you clean up the display before creating a new overlay?</p>
<p>How does rtcheck handle this?</p>



<a name="127317111"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127317111" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127317111">(May 30 2018 at 16:52)</a>:</h4>
<p>BTW, <em>rtcheck</em>draws nothing here. Do I need to do something extra to get the overlay?</p>



<a name="127317172"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127317172" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127317172">(May 30 2018 at 16:54)</a>:</h4>
<p>Umm it cleans up using the function call : <code>_ged_cvt_vlblock_to_solids(gedp, chk_overlay.vbp, "OVERLAPS", 0)</code><br>
Which calls <code>invent_solid</code> in src/libged/display_list.c : 1132 which zaps the overlaps if drawing again</p>



<a name="127317199"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127317199" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127317199">(May 30 2018 at 16:55)</a>:</h4>
<blockquote>
<p>BTW, <em>rtcheck</em> draws nothing here. Do I need to do something extra to get the overlay?</p>
</blockquote>
<p>nothing extra, try to run with a lower g,G value, less number of overlaps aren't easy to see. something like -g5 -G5 would make it display good.</p>



<a name="127317336"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127317336" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127317336">(May 30 2018 at 16:58)</a>:</h4>
<p>OK, thanks. With <em>1</em> I can see something.<br>
Do you have a current patch which allow me to look for the reason of the crash?</p>



<a name="127317379"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127317379" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127317379">(May 30 2018 at 16:59)</a>:</h4>
<blockquote>
<p>OK, thanks. With <em>1</em> I can see something.<br>
Do you have a current patch which allow me to look for the reason of the crash?</p>
</blockquote>
<p>I mentioned the reason above, it is clear now.<br>
I quote it here:</p>
<blockquote>
<p>okay I think I know how <code>rtcheck</code> doesn't crash when running it for the second time but check_overlaps does now.<br>
<code>rtcheck</code> uses <code>ged_count_tops</code> to allocate memory for the <code>gedp-&gt;ged_gdp-&gt;gd_rt_cmd</code>to fit the visible tops.<br>
But it only considers the count of objects returned from <code>ged_build_tops</code>.<br>
So I did that experiment on my check_overlaps turns out <code>ged_build_tops</code> returned one less number than <code>ged_count_tops</code> when there are overlays displayed.</p>
</blockquote>



<a name="127317628"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127317628" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127317628">(May 30 2018 at 17:04)</a>:</h4>
<p><a href="/user_uploads/1549/d076iq7OMO2J_b2mF3yHGBB6/check_overlaps_crash.patch" target="_blank" title="check_overlaps_crash.patch">check_overlaps_crash.patch</a></p>



<a name="127317650"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127317650" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127317650">(May 30 2018 at 17:04)</a>:</h4>
<p>here is what i did to fix it: <br>
<a href="/user_uploads/1549/7eUzFrRR8_jcRUfFeTxCyec9/check_overlaps_fix.patch" target="_blank" title="check_overlaps_fix.patch">check_overlaps_fix.patch</a></p>



<a name="127318438"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127318438" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127318438">(May 30 2018 at 17:21)</a>:</h4>
<p>... and I had to wait some time until the overlay appeared.</p>
<p>Just looked at the implementation of <em>ged_count_tops()</em> and <em>ged_build_tops()</em>. These functions iterate over the display list. The overlay has a RT_DIR_PHONY_ADDR flag, which means that it isn't (yet) in the database.</p>
<p><code>tops -a</code> will show the overlays as well.</p>



<a name="127318696"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127318696" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127318696">(May 30 2018 at 17:26)</a>:</h4>
<blockquote>
<p>... and I had to wait some time until the overlay appeared.</p>
</blockquote>
<p>performance issues? when I try with -g1 -G1 it takes around 3mins for me with 100% CPU</p>
<blockquote>
<p>Just looked at the implementation of <em>ged_count_tops()</em> and <em>ged_build_tops()</em>. These functions iterate over the display list. The overlay has a RT_DIR_PHONY_ADDR flag, which means that it isn't (yet) in the database.</p>
</blockquote>
<p>Yeah RT_DIR_PHONY_ADDR is set by invent_solid.</p>
<blockquote>
<p><code>tops -a</code> will show the overlays as well.</p>
</blockquote>
<p>yup saw it.</p>



<a name="127318790"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127318790" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127318790">(May 30 2018 at 17:28)</a>:</h4>
<p>so are you suggesting that I write a custom ged_count_tops that skips the <code>RT_DIR_PHONY_ADDR</code> flag?</p>



<a name="127318820"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127318820" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127318820">(May 30 2018 at 17:29)</a>:</h4>
<p>like in <code>ged_build_tops</code> it continues when flag is detected</p>



<a name="127318935"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127318935" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127318935">(May 30 2018 at 17:31)</a>:</h4>
<p>Is this necessary? I think, the solution you found is okey. Can it be improved?</p>



<a name="127319016"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127319016" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127319016">(May 30 2018 at 17:32)</a>:</h4>
<p>I'm satisfied.</p>



<a name="127319044"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127319044" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127319044">(May 30 2018 at 17:33)</a>:</h4>
<blockquote>
<p>Is this necessary? I think, the solution you found is okey. Can it be improved?</p>
</blockquote>
<p>Yeah but the improvement would be negligible, because right now <code>tobjtab = (char **)bu_calloc(tnobjs, sizeof(char *), "alloc tobjtab")</code> is allocating memory for one extra object which is not used.</p>



<a name="127319065"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127319065" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127319065">(May 30 2018 at 17:33)</a>:</h4>
<p>only in case of when there are overlay</p>



<a name="127319185"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127319185" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127319185">(May 30 2018 at 17:35)</a>:</h4>
<p>according to this image <a href="user_uploads/1549/SkQANOUq25cKjDKHKyIyCuVb/Screenshot-from-2018-05-30-13-33-16.png" target="_blank" title="user_uploads/1549/SkQANOUq25cKjDKHKyIyCuVb/Screenshot-from-2018-05-30-13-33-16.png">https://brlcad.zulipchat.com/user_uploads/1549/SkQANOUq25cKjDKHKyIyCuVb/Screenshot-from-2018-05-30-13-33-16.png</a></p>
<div class="message_inline_image"><a href="user_uploads/1549/SkQANOUq25cKjDKHKyIyCuVb/Screenshot-from-2018-05-30-13-33-16.png" target="_blank" title="https://brlcad.zulipchat.com/user_uploads/1549/SkQANOUq25cKjDKHKyIyCuVb/Screenshot-from-2018-05-30-13-33-16.png"><img src="user_uploads/1549/SkQANOUq25cKjDKHKyIyCuVb/Screenshot-from-2018-05-30-13-33-16.png"></a></div>



<a name="127319218"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127319218" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127319218">(May 30 2018 at 17:35)</a>:</h4>
<p>that null was the space allocated for overlay which is not filled by build_tops</p>



<a name="127319877"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127319877" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127319877">(May 30 2018 at 17:47)</a>:</h4>
<blockquote>
<p>BTW before fixing that I had one thing in mind,<br>
I can run <code>check_overlaps g4</code> and get it to display the overlays without actually drawing g4, which displays overlays just floating in the air making no sense.<br>
I can also do this <code>draw g2</code> and then doing <code>check_overlaps g4</code> which would display overlaps of g4 as overlays on g2, again making no sense.<br>
There are a these options to solve this in my opinion :<br>
1) if a user runs <code>check_overlaps g4</code> and g4 is not drawn then it shouldn't display the overlaps<br>
But displays overlays when g4 is drawn. This method would require checking of mentioned objects and visible objects.<br>
2) if a user runs <code>check_overlaps g4</code> and g4 is not drawn then it could automatically draw g4 for the user and display the overlays.<br>
3) like <code>rtcheck</code> command does not allow to explicitly mention objects (but executable rtcheck does allow it) with command like <code>rtcheck g4</code>, I could make check_overlaps work strictly for only visible objects.</p>
</blockquote>
<p>also what to do about this problem</p>



<a name="127320475"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127320475" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127320475">(May 30 2018 at 17:59)</a>:</h4>
<blockquote>
<p>BTW before fixing that I had one thing in mind,<br>
I can run <code>check_overlaps g4</code> and get it to display the overlays without actually drawing g4, which displays overlays just floating in the air making no sense.<br>
I can also do this <code>draw g2</code> and then doing <code>check_overlaps g4</code> which would display overlaps of g4 as overlays on g2, again making no sense.<br>
There are a these options to solve this in my opinion :<br>
1) if a user runs <code>check_overlaps g4</code> and g4 is not drawn then it shouldn't display the overlaps<br>
But displays overlays when g4 is drawn. This method would require checking of mentioned objects and visible objects.<br>
2) if a user runs <code>check_overlaps g4</code> and g4 is not drawn then it could automatically draw g4 for the user and display the overlays.<br>
3) like <code>rtcheck</code> command does not allow to explicitly mention objects (but executable rtcheck does allow it) with command like <code>rtcheck g4</code>, I could make check_overlaps work strictly for only visible objects.</p>
</blockquote>
<p>I would say: If the user wants to examine the overlaps in a different context (like the overlaps of <em>g4</em> in the context of <em>g2</em>), do it. If there is no context yet: That's OK too.</p>



<a name="127320723"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127320723" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127320723">(May 30 2018 at 18:02)</a>:</h4>
<p>ok then so that is solved, I have prepared a few more question to ask today.</p>



<a name="127320738"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127320738" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127320738">(May 30 2018 at 18:03)</a>:</h4>
<p>should I print this information ? for the new rtcheck program.</p>
<div class="codehilite"><pre><span></span>View: 35 azimuth, 25 elevation off of front view
Orientation: 0.248097, 0.476591, 0.748097, 0.389435
Eye_pos: 10588.7, 4181.26, 4710.67
Size: 11224.1mm
Grid: (21.9221, 21.9221) mm, (512, 512) pixels
</pre></div>


<p>It was useful to me to debug but for the end user?</p>



<a name="127321381"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127321381" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127321381">(May 30 2018 at 18:16)</a>:</h4>
<p><code>_ged_wait_status</code> defined in <em>/libged/rtcheck.c:79</em> is declared in header file : <em>libged/ged_private.h: 349</em><br>
is used in <em>libged/nirt.c : 530</em>. So when I remove <em>rtcheck.c</em> from libged was thinking to move <em>_ged_wait_status</em> to <em>libged/nirt.c</em></p>



<a name="127321935"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127321935" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127321935">(May 30 2018 at 18:26)</a>:</h4>
<p>what to do about the rtcheck related code from <code>cmd_rt</code> wrapper in <em>mged/rtif.c : 57</em>? remove it ? as I am using plain wrapper for <code>check_overlaps</code></p>



<a name="127322156"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127322156" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127322156">(May 30 2018 at 18:30)</a>:</h4>
<blockquote>
<p>should I print this information ? for the new rtcheck program.</p>
<div class="codehilite"><pre><span></span>View: 35 azimuth, 25 elevation off of front view
Orientation: 0.248097, 0.476591, 0.748097, 0.389435
Eye_pos: 10588.7, 4181.26, 4710.67
Size: 11224.1mm
Grid: (21.9221, 21.9221) mm, (512, 512) pixels
</pre></div>


<p>It was useful to me to debug but for the end user?</p>
</blockquote>
<p><em>rtcheck</em> prints similar stuff, but is in general annoying, that's true. How about giving <em>check_overlaps</em> a flag to print such debug information?</p>



<a name="127322183"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127322183" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127322183">(May 30 2018 at 18:31)</a>:</h4>
<blockquote>
<p><code>_ged_wait_status</code> defined in <em>/libged/rtcheck.c:79</em> is declared in header file : <em>libged/ged_private.h: 349</em><br>
is used in <em>libged/nirt.c : 530</em>. So when I remove <em>rtcheck.c</em> from libged was thinking to move <em>_ged_wait_status</em> to <em>libged/nirt.c</em></p>
</blockquote>
<p>Sounds good and reasonable.</p>



<a name="127322274"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127322274" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127322274">(May 30 2018 at 18:33)</a>:</h4>
<blockquote>
<p><em>rtcheck</em> prints similar stuff, but is in general annoying, that's true. How about giving <em>check_overlaps</em> a flag to print such debug information?</p>
</blockquote>
<p>sounds good, by flag you meant like an option right?</p>



<a name="127322344"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127322344" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127322344">(May 30 2018 at 18:34)</a>:</h4>
<blockquote>
<p>what to do about the rtcheck related code from <code>cmd_rt</code> wrapper in <em>mged/rtif.c : 57</em>? remove it ? as I am using plain wrapper for <code>check_overlaps</code></p>
</blockquote>
<p>Yes, remove it. Does Archer have similar issues?</p>



<a name="127322384"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127322384" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127322384">(May 30 2018 at 18:36)</a>:</h4>
<p>Yes archer also has similar code but I think it is exclusive for rtcheck, so I will need to adapt them for check_overlaps</p>



<a name="127322532"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127322532" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127322532">(May 30 2018 at 18:38)</a>:</h4>
<blockquote>
<blockquote>
<p><em>rtcheck</em> prints similar stuff, but is in general annoying, that's true. How about giving <em>check_overlaps</em> a flag to print such debug information?</p>
</blockquote>
<p>sounds good, by flag you meant like an option right?</p>
</blockquote>
<p>Yes, like <code>-d</code> for debug or <code>-v</code> for verbose.</p>



<a name="127322836"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127322836" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127322836">(May 30 2018 at 18:44)</a>:</h4>
<p>Now related to -M flag,<br>
there is a command <code>multiview</code>if mentioned in the stdin would make rtcheck to run for a array of az/el values.<br>
But my rtcheck works with error messages like : <br>
<code>WARNING: rt_prep_parallel(/home/sharan/brlcad/build/bin/truck.g, 1) invoked a second time, ignored </code></p>



<a name="127322907"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127322907" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127322907">(May 30 2018 at 18:46)</a>:</h4>
<p>edit: found the mistake I did for the crash for original rtcheck</p>



<a name="127323236"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127323236" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127323236">(May 30 2018 at 18:53)</a>:</h4>
<p>humm there is also seg fault at the end, I will investigate. <br>
At first glance it looks like the plot file is kept the same.<br>
The original rtcheck adds a suffix of digit for each run, have to find how it does this.</p>



<a name="127323413"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127323413" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127323413">(May 30 2018 at 18:58)</a>:</h4>
<p>found it, so framenumber really has significance for rtcheck too :D</p>
<div class="codehilite"><pre><span></span>    if (outputfile != (char *)0) {
    if (framenumber &lt;= 0) {
        snprintf(framename, 128, &quot;%s&quot;, outputfile);
    } else {
        snprintf(framename, 128, &quot;%s.%d&quot;, outputfile, framenumber);
    }
</pre></div>



<a name="127323749"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127323749" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127323749">(May 30 2018 at 19:04)</a>:</h4>
<blockquote>
<p>But my rtcheck works with error messages like : <br>
<code>WARNING: rt_prep_parallel(/home/sharan/brlcad/build/bin/truck.g, 1) invoked a second time, ignored </code></p>
</blockquote>
<p>also found this, it because I run <code>rt_prep_parallel(rtip, npsw)</code> without checking <code>rtip-&gt;needprep</code></p>



<a name="127323833"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127323833" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127323833">(May 30 2018 at 19:06)</a>:</h4>
<p>If there is something left you couldn't fix provide me with a patch file and a description of how to reproduce the error. I'll look at it tomorrow then.</p>



<a name="127323869"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127323869" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127323869">(May 30 2018 at 19:07)</a>:</h4>
<p>Thank you. I will try to fix these bugs tonight. If not I would have the patch posted here.</p>



<a name="127354065"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127354065" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127354065">(May 31 2018 at 09:44)</a>:</h4>
<p>Fixed all the bugs for now, still have to test cm_anim and cm_set options.</p>



<a name="127355568"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127355568" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127355568">(May 31 2018 at 10:35)</a>:</h4>
<p>humm fixed one major flaw in the overlapHandler, it was not properly giving overlap pairs. It was giving the same name for reg1 and reg2.<br>
 So the outputs of old rtcheck and new rtcheck didn't match</p>



<a name="127355639"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127355639" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127355639">(May 31 2018 at 10:37)</a>:</h4>
<p>now the plotting also is correct :)</p>



<a name="127357885"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127357885" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127357885">(May 31 2018 at 11:41)</a>:</h4>
<p>Here is the patch of all changes I did :<br>
<a href="/user_uploads/1549/zkXZv26nYagez7pj9en0QhQ6/31.05.progress.patch" target="_blank" title="31.05.progress.patch">31.05.progress.patch</a> <br>
I just discovered one issue with check_overlaps, it doesn't get the values from the view like az/el, instead if not mentioned it uses the default values but rtcheck gets these values from the screen and runs rtcheck.</p>



<a name="127363143"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127363143" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127363143">(May 31 2018 at 13:56)</a>:</h4>
<p>Will try to fix that issue, I think I figured it out</p>



<a name="127366819"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127366819" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127366819">(May 31 2018 at 15:10)</a>:</h4>
<p><a href="/user_uploads/1549/wnk6f2Cvt222rjOoRcCp1agG/Selection_006.png" target="_blank" title="Selection_006.png">Selection_006.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/wnk6f2Cvt222rjOoRcCp1agG/Selection_006.png" target="_blank" title="Selection_006.png"><img src="/user_uploads/1549/wnk6f2Cvt222rjOoRcCp1agG/Selection_006.png"></a></div>



<a name="127366871"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127366871" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127366871">(May 31 2018 at 15:10)</a>:</h4>
<p>done :)</p>



<a name="127367085"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127367085" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127367085">(May 31 2018 at 15:15)</a>:</h4>
<p>added a flag that is enabled by default and gets disabled when the user mentions az/el explicitly.<br>
according to that flag this is run: </p>
<div class="codehilite"><pre><span></span>if(getfromview){
    _ged_rt_set_eye_model(gedp, eye_model);
    viewsize =  gedp-&gt;ged_gvp-&gt;gv_size;
    quat_mat2quat(quat, gedp-&gt;ged_gvp-&gt;gv_rotation);
    quat_quat2mat(Viewrotscale, quat);
} else {
    check_do_ae(...)
}
</pre></div>


<p>the rest is handled by grid_setup.<br>
for printing the az/el value from the view2model generated from grid_setup I had to use:</p>
<div class="codehilite"><pre><span></span>    vect_t work, temp;
    VSET(work, 0, 0, 1);
    MAT3X3VEC(temp, view2model, work);
    bn_ae_vec(&amp;azimuth, &amp;elevation, temp);
    bu_vls_printf(gedp-&gt;ged_result_str, &quot;\nView: %g azimuth, %g elevation off of front view\n&quot;, azimuth, elevation);
</pre></div>



<a name="127367651"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127367651" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127367651">(May 31 2018 at 15:28)</a>:</h4>
<p>I moved <code>rt_prep_parallel(rtip, npsw)</code> to libged, rt from libanalyze because without preping it first I was getting the first value in the plot file as <em>W 0 0 0 0 0 0</em>, these are the values set by <code>pdv_3space(outfp, rtip-&gt;rti_pmin, rtip-&gt;rti_pmax)</code>. <br>
<code>rt_prep_parallel</code> sets the values for <em>rtip-&gt;rti_pmin</em> and <em>rtip-&gt;rti_pmax</em>. Since I am not passing outfp to libanalyze, I decided to do <code>rt_prep_parallel</code> in libged, rt.</p>



<a name="127367963"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127367963" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127367963">(May 31 2018 at 15:34)</a>:</h4>
<blockquote>
<p>I moved <code>rt_prep_parallel(rtip, npsw)</code> to libged, rt from libanalyze because without preping it first I was getting the first value in the plot file as <em>W 0 0 0 0 0 0</em>, these are the values set by <code>pdv_3space(outfp, rtip-&gt;rti_pmin, rtip-&gt;rti_pmax)</code>. <br>
<code>rt_prep_parallel</code> sets the values for <em>rtip-&gt;rti_pmin</em> and <em>rtip-&gt;rti_pmax</em>. Since I am not passing outfp to libanalyze, I decided to do <code>rt_prep_parallel</code> in libged, rt.</p>
</blockquote>
<p>This sounds like it could cause problems if somebody doesn't call <em>rt_prep_parallel()</em> before <em>analyze_overlaps()</em>. It is a bad thing if there are non-obvious preconditions for a function call.</p>



<a name="127368483"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127368483" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127368483">(May 31 2018 at 15:46)</a>:</h4>
<p>okay I have a solution in mind, </p>
<div class="codehilite"><pre><span></span>if (rtip-&gt;needprep) {
    rt_prep_parallel(rtip, npsw);
}
</pre></div>


<p>This would be in libanalyze and if I want I can do rt_prep_parallel before as well without no harm</p>



<a name="127368731"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127368731" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127368731">(May 31 2018 at 15:52)</a>:</h4>
<p>What exactly is the issue with calling <em>rt_prep_parallel()</em> in libanalyze? <em>rti_pmin</em> and <em>rti_pmax</em> are different then? Why?</p>



<a name="127369131"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127369131" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127369131">(May 31 2018 at 16:00)</a>:</h4>
<p>umm for outputting plot file in rtcheck, the first row is <code>W 0 0 0 0 0 0</code>, which is wrong,( though W doesn't have any significance )<br>
That is caused by <em>rti_pmin</em> and <em>rti_pmax</em> not having any value initialized.<br>
Their values are initialized by <em>rt_prep_parallel</em>.</p>



<a name="127369199"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127369199" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127369199">(May 31 2018 at 16:02)</a>:</h4>
<p>once analyze_overlaps is called the only way back to libged is the overlapHandler which is called multiple times for per overlap, so that was not the right place to put the 'first' row of plot-file.</p>



<a name="127369508"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127369508" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127369508">(May 31 2018 at 16:09)</a>:</h4>
<p>I would say the line <code>pdv_3space(outfp, rtip-&gt;rti_pmin, rtip-&gt;rti_pmax);</code> in src/rt/rtcheck.c is wrong. Use the right values there.</p>



<a name="127369603"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127369603" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127369603">(May 31 2018 at 16:12)</a>:</h4>
<p>Did not understand what you mean by right values.</p>



<a name="127369733"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127369733" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127369733">(May 31 2018 at 16:14)</a>:</h4>
<p>According what you say, <em>rtip-&gt;rti_pmin</em> and <em>rtip-&gt;rti_pmax</em> are uninitialized when you call <em>pdv_3space()</em>. What are the right values? The bounding box of the geometry? Should the line be therefore <code>pdv_3space(outfp, bounding_box_min, bounding_box_max);</code>?</p>



<a name="127369966"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127369966" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127369966">(May 31 2018 at 16:19)</a>:</h4>
<p>oh the <code>rtip-&gt;mdl_min</code> and <code>rtip-&gt;mdl_max</code> values?<br>
but there some kind of processing happening on <code>rtip-&gt;mdl_min</code> and <code>rtip-&gt;mdl_max</code> on line 377 src/librt/prep.c</p>



<a name="127370451"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127370451" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127370451">(May 31 2018 at 16:29)</a>:</h4>
<p>Yes, this is true. If you want to get the min-max-box you have to call <em>rt_prep()</em> or <em>rt_prep_parallel()</em> first.</p>
<p>Looking at my own code I saw that I write <code>if (m_rtip-&gt;needprep)</code> before calling the preparation function. Therefore this is probable what you should do too in <em>analyze_overlaps()</em>.<br>
And, only when you need the min-max-box you should call the prep function in advance, i.e. for example in rtcheck.c.</p>



<a name="127370610"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127370610" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127370610">(May 31 2018 at 16:32)</a>:</h4>
<p>Okay cool, so I would remove that from libged/check_overlap.c but keep it in src/rt/rtcheck.c  and in libanalyze will check if it needs prep and call rt_prep</p>



<a name="127370722"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127370722" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127370722">(May 31 2018 at 16:35)</a>:</h4>
<p>The getting from view code I wrote today is fine right? which is not there in progress patch I sent.</p>



<a name="127370797"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127370797" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127370797">(May 31 2018 at 16:37)</a>:</h4>
<p>Do you mean this one?</p>
<blockquote>
<div class="codehilite"><pre><span></span><span class="k">if</span><span class="p">(</span><span class="n">getfromview</span><span class="p">){</span>
    <span class="n">_ged_rt_set_eye_model</span><span class="p">(</span><span class="n">gedp</span><span class="p">,</span> <span class="n">eye_model</span><span class="p">);</span>
    <span class="n">viewsize</span> <span class="o">=</span>  <span class="n">gedp</span><span class="o">-&gt;</span><span class="n">ged_gvp</span><span class="o">-&gt;</span><span class="n">gv_size</span><span class="p">;</span>
    <span class="n">quat_mat2quat</span><span class="p">(</span><span class="n">quat</span><span class="p">,</span> <span class="n">gedp</span><span class="o">-&gt;</span><span class="n">ged_gvp</span><span class="o">-&gt;</span><span class="n">gv_rotation</span><span class="p">);</span>
    <span class="n">quat_quat2mat</span><span class="p">(</span><span class="n">Viewrotscale</span><span class="p">,</span> <span class="n">quat</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">check_do_ae</span><span class="p">(...)</span>
<span class="p">}</span>
</pre></div>


</blockquote>
<p>This looks OK.</p>



<a name="127370979"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127370979" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127370979">(May 31 2018 at 16:40)</a>:</h4>
<p>yup. Okay <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="127371225"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127371225" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127371225">(May 31 2018 at 16:46)</a>:</h4>
<p>now what remains to test is cm_anim (<em>rt/do.c:360</em>) option and cm_set (<em>rt/do.c:437</em>) option for matflag, <br>
I had tried cm_set with just the keyword 'set' but it didn't print anything for both rtcheck and old rtcheck. So I am not sure how it works</p>



<a name="127372491"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127372491" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127372491">(May 31 2018 at 17:14)</a>:</h4>
<p><em>set</em> should work as <code>set width=10</code> for example. You can see the possible values in src/rt/do.c:410 ff. I don't know which of them (if any) are relevant for <em>rtcheck</em>.</p>
<p><em>anim</em> is marked as experimental, probable not considered to be used with rtcheck. See e.g. <a href="http://brlcad.org/OLD/reports/tr-313/chapt3.html#The%20RT%20Matrix%20Operations%20for%20Animation" target="_blank" title="http://brlcad.org/OLD/reports/tr-313/chapt3.html#The%20RT%20Matrix%20Operations%20for%20Animation">http://brlcad.org/OLD/reports/tr-313/chapt3.html#The%20RT%20Matrix%20Operations%20for%20Animation</a></p>



<a name="127373068"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127373068" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127373068">(May 31 2018 at 17:27)</a>:</h4>
<p>okay with set width=10 and set height=10 it is working</p>



<a name="127373120"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127373120" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127373120">(May 31 2018 at 17:28)</a>:</h4>
<p>humm I had tried <code>set width = 512</code><br>
the space caused problems</p>



<a name="127373170"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127373170" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127373170">(May 31 2018 at 17:29)</a>:</h4>
<p>The parser is implemented in src/libbu/parse.c. It is a very simple one.</p>



<a name="127373439"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127373439" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127373439">(May 31 2018 at 17:34)</a>:</h4>
<p>yup got it <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="127373640"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127373640" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127373640">(May 31 2018 at 17:38)</a>:</h4>
<p>so I think rtcheck is ready. These were the patches I had in mind to submit:</p>
<ul>
<li>once check_overlaps is ready will push version 2 for #491.<ul>
<li>which I believe is ready now.</li>
</ul>
</li>
<li>patch replacing the old rtcheck executable.<ul>
<li>ready to submit after review.</li>
</ul>
</li>
<li>patch adapting archer and mged for check_overlap command.</li>
<li>patch covering the documentation related to check_overlap command and updation of documentation for rtcheck.</li>
</ul>



<a name="127412226"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127412226" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127412226">(Jun 01 2018 at 11:39)</a>:</h4>
<p>umm I was getting some random outputs as overlays :<br>
<a href="/user_uploads/1549/MZT0IXdKWblnFncbOqgdvrwd/scrambled.png" target="_blank" title="scrambled.png">scrambled.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/MZT0IXdKWblnFncbOqgdvrwd/scrambled.png" target="_blank" title="scrambled.png"><img src="/user_uploads/1549/MZT0IXdKWblnFncbOqgdvrwd/scrambled.png"></a></div><p>and crash on a re-run of check_overlaps:</p>
<div class="codehilite"><pre><span></span>Thread 17 &quot;mged&quot; received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x7fffdb168700 (LWP 11854)]
0x00007ffff77c8405 in log_overlaps (reg1=0x14ff1b0 &quot;/g4/r80&quot;, reg2=0x13165d0 &quot;/g4/r64&quot;, depth=3.4213709577525151,
    ihit=0x7fffdb167320, ohit=0x7fffdb167340, context=0x7fffffffc430) at /home/sharan/brlcad/src/libged/check_overlaps.c:68
68      BN_ADD_VLIST(callbackdata-&gt;vbp-&gt;free_vlist_hd, callbackdata-&gt;vhead, ihit, BN_VLIST_LINE_MOVE);
</pre></div>


<p>What I noticed was that the number of overlaps were not matching like the summary prints different count but my count variable says different. So I tried with <code>-P 1</code> option and it worked fine without any strange behaviours.</p>
<p>Hence it was a issue of threads so I protected the critical section with semaphores in overlapHandler and it fixed it.</p>
<div class="codehilite"><pre><span></span> bu_semaphore_acquire(BU_SEM_SYSCALL);
 log_overlaps(reg1-&gt;reg_name, reg2-&gt;reg_name, depth, ihit, ohit, context);
 bu_semaphore_release(BU_SEM_SYSCALL);
</pre></div>



<a name="127412747"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127412747" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127412747">(Jun 01 2018 at 11:54)</a>:</h4>
<p>found one more issue,<br>
if I run <code>check_overlaps g4</code> it would plot the overlays.<br>
But if next I run <code>check_overlaps</code> the check <code>if (tnobjs &lt;= 0 )</code> passes because <code>ged_count_tops</code> considers the overlay as object and continues execution which is wrong and I get an error from rt_prep_parallel saying <em>no primitives left to prep</em><br>
so to fix this I added this check <code>if (tnobjs &lt;= 0 )</code> once again after <code>ged_build_tops</code> but now the check <code>if (tnobjs &lt;= 0 )</code> fails and it aborts the execution because <code>ged_build_tops</code> corrects the count.<br>
one other way to solve it would be write the <code>ged_count_tops</code>code inside check_overlaps.c to not count <code>RT_DIR_PHONY_ADDR</code> objects</p>



<a name="127470962"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127470962" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127470962">(Jun 02 2018 at 16:37)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
I implemented the overlaps_list using bu_list. Because there was a comment <em>(rt/viewcheck.c:341)</em> about the need of doubly linked list to iterate the list backwards looking for duplicate entries.<br>
<a href="user_uploads/1549/iwHpTHHQnMTMVoT46jVhcKct/rtcheck.c" target="_blank" title="user_uploads/1549/iwHpTHHQnMTMVoT46jVhcKct/rtcheck.c">rtcheck.c</a></p>



<a name="127472956"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127472956" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127472956">(Jun 02 2018 at 17:52)</a>:</h4>
<p>It looks like you are on a good way. I'm looking forward to get the patches from you which I can apply to the trunk.</p>



<a name="127473062"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127473062" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127473062">(Jun 02 2018 at 17:56)</a>:</h4>
<p>Thank you :)<br>
Yep I will send the patches soon.. just testing everything to solve any bugs.</p>



<a name="127473072"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127473072" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127473072">(Jun 02 2018 at 17:57)</a>:</h4>
<blockquote>
<p>found one more issue,<br>
if I run <code>check_overlaps g4</code> it would plot the overlays.<br>
But if next I run <code>check_overlaps</code> the check <code>if (tnobjs &lt;= 0 )</code> passes because <code>ged_count_tops</code> considers the overlay as object and continues execution which is wrong and I get an error from rt_prep_parallel saying <em>no primitives left to prep</em><br>
so to fix this I added this check <code>if (tnobjs &lt;= 0 )</code> once again after <code>ged_build_tops</code> but now the check <code>if (tnobjs &lt;= 0 )</code> fails and it aborts the execution because <code>ged_build_tops</code> corrects the count.<br>
one other way to solve it would be write the <code>ged_count_tops</code>code inside check_overlaps.c to not count <code>RT_DIR_PHONY_ADDR</code> objects</p>
</blockquote>
<p>what should I do about this? the 2nd time check was a quick fix</p>



<a name="127473244"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127473244" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127473244">(Jun 02 2018 at 18:03)</a>:</h4>
<p>OK, this issue is still open. I'll look at it tomorrow. Can I reproduce it with your last patch?</p>



<a name="127473289"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127473289" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127473289">(Jun 02 2018 at 18:04)</a>:</h4>
<p>I will send a full patch right now <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="127473454"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127473454" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127473454">(Jun 02 2018 at 18:11)</a>:</h4>
<p><a href="/user_uploads/1549/_OAGgKS53r8UYT2YUHEpWwZE/02.06.progress.patch" target="_blank" title="02.06.progress.patch">02.06.progress.patch</a></p>



<a name="127473510"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127473510" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127473510">(Jun 02 2018 at 18:13)</a>:</h4>
<p>oh and I saw these function calls in libged/rtcheck: line 283<br>
<code>GED_CHECK_DRAWABLE(gedp, GED_ERROR)</code> and <code>GED_CHECK_VIEW(gedp, GED_ERROR)</code> <br>
Not sure what they do</p>



<a name="127473562"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127473562" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127473562">(Jun 02 2018 at 18:15)</a>:</h4>
<p>they check <code>_gedp-&gt;ged_gdp == GED_DRAWABLE_NULL</code> and <code>_gedp-&gt;ged_gvp == GED_VIEW_NULL</code> but what do they signify?</p>



<a name="127473764"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127473764" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127473764">(Jun 02 2018 at 18:22)</a>:</h4>
<p>Maybe the <em>gedp</em> hasn't always a view attached. I cannot test it at the moment, but you can start mged without graphics attached, for example.</p>



<a name="127473917"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127473917" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127473917">(Jun 02 2018 at 18:29)</a>:</h4>
<p>yep that is it, I launched mged with -c and ran rtcheck it said <em>A view does not exist.</em></p>



<a name="127473968"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127473968" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127473968">(Jun 02 2018 at 18:31)</a>:</h4>
<p>You see, we learned something again :)</p>



<a name="127474059"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127474059" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127474059">(Jun 02 2018 at 18:35)</a>:</h4>
<p>okay then once that issue is resolved I would submit the v2 for patch #491, gonna review rtcheck for submission in the meantime.</p>



<a name="127502171"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127502171" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127502171">(Jun 03 2018 at 12:51)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="cm">/* else copy all the objects in view if any */</span>
<span class="k">if</span> <span class="p">(</span><span class="n">nobjs</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">nvobjs</span> <span class="o">=</span> <span class="n">ged_build_tops</span><span class="p">(</span><span class="n">gedp</span><span class="p">,</span> <span class="n">objp</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tobjtab</span><span class="p">[</span><span class="n">tnobjs</span><span class="p">]);</span>

    <span class="cm">/* now, as we know the exact number of objects in the view, check again for &gt; 0 */</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">nvobjs</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">bu_vls_printf</span><span class="p">(</span><span class="n">gedp</span><span class="o">-&gt;</span><span class="n">ged_result_str</span><span class="p">,</span><span class="s">&quot;no objects specified or in view, aborting</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="n">bu_free</span><span class="p">(</span><span class="n">tobjtab</span><span class="p">,</span> <span class="s">&quot;free tobjtab&quot;</span><span class="p">);</span>
        <span class="n">tobjtab</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">GED_ERROR</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>



<a name="127502284"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127502284" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127502284">(Jun 03 2018 at 12:55)</a>:</h4>
<p>What bothers me more is the <code>if (!nobjs &amp;&amp; getfromview) {</code> line. It makes that <code>draw g4</code> + <code>check_overlaps</code> gives a different result as <code>check_overlaps g4</code>, but I don't have a better idea. Omitting the <code>!nobjs &amp;&amp;</code> part leads to not finding any overlap because of a degenerated view.</p>



<a name="127502293"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127502293" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127502293">(Jun 03 2018 at 12:55)</a>:</h4>
<p>Probably it's best as it is.</p>



<a name="127502383"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127502383" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127502383">(Jun 03 2018 at 12:58)</a>:</h4>
<blockquote>
<div class="codehilite"><pre><span></span><span class="cm">/* else copy all the objects in view if any */</span>
<span class="k">if</span> <span class="p">(</span><span class="n">nobjs</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">nvobjs</span> <span class="o">=</span> <span class="n">ged_build_tops</span><span class="p">(</span><span class="n">gedp</span><span class="p">,</span> <span class="n">objp</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tobjtab</span><span class="p">[</span><span class="n">tnobjs</span><span class="p">]);</span>

    <span class="cm">/* now, as we know the exact number of objects in the view, check again for &gt; 0 */</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">nvobjs</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">bu_vls_printf</span><span class="p">(</span><span class="n">gedp</span><span class="o">-&gt;</span><span class="n">ged_result_str</span><span class="p">,</span><span class="s">&quot;no objects specified or in view, aborting</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="n">bu_free</span><span class="p">(</span><span class="n">tobjtab</span><span class="p">,</span> <span class="s">&quot;free tobjtab&quot;</span><span class="p">);</span>
        <span class="n">tobjtab</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">GED_ERROR</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


</blockquote>
<p>yeah this looks good, a comment so that it's not confusing</p>
<blockquote>
<p>What bothers me more is the <code>if (!nobjs &amp;&amp; getfromview) {</code> line. It makes that <code>draw g4</code> + <code>check_overlaps</code> gives a different result as <code>check_overlaps g4</code>, but I don't have a better idea. Omitting the <code>!nobjs &amp;&amp;</code> part leads to not finding any overlap because of a degenerated view.</p>
</blockquote>
<p>it gives a different result because, when doing <code>check_overlaps g4</code> it expects the view info from the user and if not provided uses the default values on the other hand <code>draw g4</code> + <code>check_overlaps</code> takes the view info and checks for overlaps as it is shown on the screen</p>



<a name="127504071"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127504071" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127504071">(Jun 03 2018 at 14:04)</a>:</h4>
<p>welp the recent changes broke <em>multiview</em> command, but I know how to fix it :)</p>



<a name="127504169"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127504169" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127504169">(Jun 03 2018 at 14:08)</a>:</h4>
<p>I am only initializing overlaplist pointer olist in main and free it in printoverlaps fuction.<br>
but multiview doesn't exit instead it loops in do_frame,  so in 2nd run causes seg fault.</p>



<a name="127504219"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127504219" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127504219">(Jun 03 2018 at 14:10)</a>:</h4>
<p>hence I am moving the initializing of overlaplist to do_frame therefore for every run it creates a new overlaplist. and frees the overlaplist after printing them</p>



<a name="127504221"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127504221" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127504221">(Jun 03 2018 at 14:10)</a>:</h4>
<blockquote>
<p>it gives a different result because, when doing <code>check_overlaps g4</code> it expects the view info from the user and if not provided uses the default values on the other hand <code>draw g4</code> + <code>check_overlaps</code> takes the view info and checks for overlaps as it is shown on the screen</p>
</blockquote>
<p>Understood, but the idea was: If an information isn't provided by command line parameters, use the view to get them. The issue which came up with this is, that the view may not contain no useful data too. Therefore, it's probable OK as it is now.</p>



<a name="127504263"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127504263" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127504263">(Jun 03 2018 at 14:12)</a>:</h4>
<blockquote>
<p>I am only initializing overlaplist pointer olist in main and free it in printoverlaps fuction.<br>
but multiview doesn't exit instead it loops in do_frame,  so in 2nd run causes seg fault.</p>
</blockquote>
<p>Then, why don't you free it in <em>main()</em>?</p>



<a name="127504318"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127504318" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127504318">(Jun 03 2018 at 14:14)</a>:</h4>
<blockquote>
<blockquote>
<p>I am only initializing overlaplist pointer olist in main and free it in printoverlaps fuction.<br>
but multiview doesn't exit instead it loops in do_frame,  so in 2nd run causes seg fault.</p>
</blockquote>
<p>Then, why don't you free it in <em>main()</em>?</p>
</blockquote>
<p>yeah that works but wouldn't I need a new overlaplist for every run with different az/el values else all the runs would have the data from previous run?</p>



<a name="127504477"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127504477" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127504477">(Jun 03 2018 at 14:21)</a>:</h4>
<p>Expected : <a href="/user_uploads/1549/JyvXFltkezddur3yG8qBOHYQ/rtcheck_old_output.txt" target="_blank" title="rtcheck_old_output.txt">rtcheck_old_output.txt</a> </p>
<p>What I get if free only in main: <a href="/user_uploads/1549/puJeiouRHAWuKoVdNzQgHmy8/rtcheck_output.txt" target="_blank" title="rtcheck_output.txt">rtcheck_output.txt</a></p>



<a name="127504532"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127504532" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127504532">(Jun 03 2018 at 14:23)</a>:</h4>
<p>check frame 1 and frame 2 the difference would be clear. rtcheckold gets 0 overlaps but my rtcheck since it is freeing only in the end gets the same overlaps as frame 0 because it appends to the previous result</p>



<a name="127504743"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127504743" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127504743">(Jun 03 2018 at 14:30)</a>:</h4>
<p>OK, that's why you moved the allocation and free to <em>rtcheck_do_frame()</em>. Sounds reasonable.</p>



<a name="127504768"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127504768" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127504768">(Jun 03 2018 at 14:31)</a>:</h4>
<p>yep <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="127504946"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127504946" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127504946">(Jun 03 2018 at 14:36)</a>:</h4>
<p>okay so I am gonna submit the patch for check_overlaps</p>



<a name="127505043"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127505043" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127505043">(Jun 03 2018 at 14:40)</a>:</h4>
<p>will do a quick test on archer and see how it behaves with plotting now</p>



<a name="127507621"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127507621" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127507621">(Jun 03 2018 at 16:21)</a>:</h4>
<p>Accepted. Some comments:</p>
<ul>
<li>src/libged/check_overlaps.c<ul>
<li>file name (in the first line)</li>
<li>bn/plot3.h really necessary?</li>
<li>double new-line in lines 66/67</li>
</ul>
</li>
</ul>



<a name="127508092"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127508092" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127508092">(Jun 03 2018 at 16:37)</a>:</h4>
<p>okay got it. Will do one more patch fixing that.</p>



<a name="127508721"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127508721" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127508721">(Jun 03 2018 at 16:58)</a>:</h4>
<p>Made additional changes as well. Using const char for options and help string and a typo fix.</p>



<a name="127509183"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127509183" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127509183">(Jun 03 2018 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
I don't know how to fix the comment <em>on line 421 rt/do.c</em> its in the <code>struct bu_structparse set_parse[]</code>, I have copied this struct in rtcheck.c too.</p>



<a name="127541530"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127541530" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127541530">(Jun 04 2018 at 12:01)</a>:</h4>
<p>in the meantime I thought I will start working on the next patch, that is adaptation of GUI to use check_overlaps instead of rtcheck and get rid of <em>libged/rtcheck.c</em></p>



<a name="127555866"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127555866" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127555866">(Jun 04 2018 at 17:26)</a>:</h4>
<p>while doing that I hit a few questions like:<br>
1) <em>tclscripts/lib/Display.tcl</em>  and <em>tclscripts/lib/Drawable.tcl</em> there is definition of rtcheck but the file is deprecated, so I can just remove them right? without adding check_overlaps there.<br>
2) in <em>tclscripts/lib/Ged.tcl</em> at line 3213 there is a method called pane_rtcheck. I am not sure what it does different than normal rtcheck which is also defined in the file.</p>



<a name="127556005"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127556005" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127556005">(Jun 04 2018 at 17:29)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
I don't know how to fix the comment <em>on line 421 rt/do.c</em> its in the <code>struct bu_structparse set_parse[]</code>, I have copied this struct in rtcheck.c too.</p>
</blockquote>
<p>I see two solutions:<br>
1. Leave it as it is. This may not be optimal, but you don't change the behavior this way. This is a valid course of action.<br>
2. Introduce <em>rtcheck_bot_minpieces</em> etc. variables and use <code>bu_byteoffset(rtcheck_bot_minpieces)</code> etc. in <em>set_parse</em>. Then set <code>rtcheck_bot_minpieces = rt_bot_minpieces;</code> etc. before parsing the arguments and <code>rt_bot_minpieces = rtcheck_bot_minpieces;</code> etc. afterward.</p>



<a name="127556327"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127556327" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127556327">(Jun 04 2018 at 17:35)</a>:</h4>
<p>hmm, yeah 2nd option seems fine would try it out..</p>



<a name="127556787"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127556787" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127556787">(Jun 04 2018 at 17:44)</a>:</h4>
<blockquote>
<p>while doing that I hit a few questions like:<br>
1) <em>tclscripts/lib/Display.tcl</em>  and <em>tclscripts/lib/Drawable.tcl</em> there is definition of rtcheck but the file is deprecated, so I can just remove them right? without adding check_overlaps there.</p>
</blockquote>
<p>Right.</p>
<blockquote>
<p>2) in <em>tclscripts/lib/Ged.tcl</em> at line 3213 there is a method called pane_rtcheck. I am not sure what it does different than normal rtcheck which is also defined in the file.</p>
</blockquote>
<p>You probable need the <em>pane_~</em> method too. They look like a window specific version of the commands, and you handle with the view in <em>ged_check_overlaps()</em>.</p>



<a name="127557089"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127557089" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127557089">(Jun 04 2018 at 17:50)</a>:</h4>
<p>okay got it thanks!<br>
but then normal rtcheck uses something like : <br>
<code>eval $mGed rtcheck $itk_component($itk_option(-pane)) $args</code><br>
but my check_overlaps just uses :<br>
<code>eval $mGed check_overlaps $args</code><br>
I tried the same like :<br>
<code>eval $mGed check_overlaps $itk_component($itk_option(-pane)) $args</code> <br>
But gave an error : <br>
<em>Error: error: object '.archer0.hpane.pane0.childsite.vpane.pane1.childsite.canvasF.mged.pane0.childsite.pw.pane1.childsite.view' does not exists, aborting.</em><br>
and these in logs.. </p>
<div class="codehilite"><pre><span></span>db_lookup(.archer0.hpane.pane0.childsite.vpane.pane1.childsite.canvasF.mged.pane0.childsite.pw.pane1.childsite.view) failed: .archer0.hpane.pane0.childsite.vpane.pane1.childsite.canvasF.mged.pane0.childsite.pw.pane1.childsite.view does not exist
db_string_to_path() of &#39;.archer0.hpane.pane0.childsite.vpane.pane1.childsite.canvasF.mged.pane0.childsite.pw.pane1.childsite.view&#39; failed on &#39;.archer0.hpane.pane0.childsite.vpane.pane1.childsite.canvasF.mged.pane0.childsite.pw.pane1.childsite.view&#39;
db_walk_tree: warning - .archer0.hpane.pane0.childsite.vpane.pane1.childsite.canvasF.mged.pane0.childsite.pw.pane1.childsite.view not found.
</pre></div>



<a name="127557495"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127557495" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127557495">(Jun 04 2018 at 17:59)</a>:</h4>
<p>Maybe, you can find out how the other commands handle the pane information?</p>



<a name="127557605"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127557605" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127557605">(Jun 04 2018 at 18:01)</a>:</h4>
<p>okay sure I will have a look at it :)</p>



<a name="127557829"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127557829" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127557829">(Jun 04 2018 at 18:05)</a>:</h4>
<p>will post my progress for today</p>



<a name="127557906"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127557906" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127557906">(Jun 04 2018 at 18:07)</a>:</h4>
<p><a href="/user_uploads/1549/0fNdX5IlhbSDCzQSzfB4LDSr/4.06_progress.patch" target="_blank" title="4.06_progress.patch">4.06_progress.patch</a></p>



<a name="127558063"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127558063" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127558063">(Jun 04 2018 at 18:10)</a>:</h4>
<p><a href="/user_uploads/1549/qmjewR95soO3Z0g7XaaUTyoE/Screenshot-from-2018-06-04-23-38-34.png" target="_blank" title="Screenshot-from-2018-06-04-23-38-34.png">Screenshot-from-2018-06-04-23-38-34.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/qmjewR95soO3Z0g7XaaUTyoE/Screenshot-from-2018-06-04-23-38-34.png" target="_blank" title="Screenshot-from-2018-06-04-23-38-34.png"><img src="/user_uploads/1549/qmjewR95soO3Z0g7XaaUTyoE/Screenshot-from-2018-06-04-23-38-34.png"></a></div><p>I also noticed when I draw it won't show up on the screen, I tried the same with prebuild archer it worked fine. Is it a archer bug? or did I do something :/<br>
<a href="/user_uploads/1549/rHdDYFVekVMZX6xzBogILAti/Archer-7.27.0_011.png" target="_blank" title="Archer-7.27.0_011.png">Archer-7.27.0_011.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/rHdDYFVekVMZX6xzBogILAti/Archer-7.27.0_011.png" target="_blank" title="Archer-7.27.0_011.png"><img src="/user_uploads/1549/rHdDYFVekVMZX6xzBogILAti/Archer-7.27.0_011.png"></a></div>



<a name="127558644"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127558644" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127558644">(Jun 04 2018 at 18:23)</a>:</h4>
<p>Hmm, <code>draw g4</code> works for me (compiled yesterday with your patch).</p>



<a name="127558707"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127558707" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127558707">(Jun 04 2018 at 18:24)</a>:</h4>
<p>oh and you didn't do anything extra?</p>



<a name="127558975"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127558975" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127558975">(Jun 04 2018 at 18:30)</a>:</h4>
<p>doing <code>rt</code> shows it but it wont show as wireframe</p>



<a name="127559056"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127559056" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127559056">(Jun 04 2018 at 18:32)</a>:</h4>
<p>But, didn't you posted Archer screen shots here with wireframe images on them?</p>



<a name="127559154"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127559154" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127559154">(Jun 04 2018 at 18:34)</a>:</h4>
<p>nope I have not, all screenshots were from mged. Is compiling any different, I just do <code>cmake ..</code> and then <code>make -j4</code></p>



<a name="127560148"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127560148" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127560148">(Jun 04 2018 at 18:57)</a>:</h4>
<p>Beats me, have you checked that you've installed all required libraries from <a href="https://brlcad.org/wiki/Compiling" target="_blank" title="https://brlcad.org/wiki/Compiling">https://brlcad.org/wiki/Compiling</a>? Does the cmake run print any complains about missing libraries?</p>



<a name="127560348"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127560348" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127560348">(Jun 04 2018 at 19:01)</a>:</h4>
<p><a href="https://pastebin.com/msdrMFYt" target="_blank" title="https://pastebin.com/msdrMFYt">https://pastebin.com/msdrMFYt</a></p>



<a name="127560401"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127560401" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127560401">(Jun 04 2018 at 19:02)</a>:</h4>
<p>cmake logs<br>
I don't see any complaints though there are a few things it says not found etc</p>



<a name="127560417"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127560417" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127560417">(Jun 04 2018 at 19:02)</a>:</h4>
<p>but if its critical it should have aborted it <span class="emoji emoji-1f914" title="thinking face">:thinking_face:</span></p>



<a name="127560535"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127560535" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127560535">(Jun 04 2018 at 19:05)</a>:</h4>
<p>all the dependencies on <a href="https://brlcad.org/wiki/Compiling" target="_blank" title="https://brlcad.org/wiki/Compiling">https://brlcad.org/wiki/Compiling</a> are statisfied</p>



<a name="127560543"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127560543" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127560543">(Jun 04 2018 at 19:05)</a>:</h4>
<p>I see, that you don't compile with OpenGL. This could lead to unexpected behavior.</p>



<a name="127560898"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127560898" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127560898">(Jun 04 2018 at 19:12)</a>:</h4>
<p>Okay I will try with OpenGL. Let me see if I can figure out how to do that</p>



<a name="127564111"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127564111" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127564111">(Jun 04 2018 at 20:20)</a>:</h4>
<p>yes! that was it. Now it is working great :)</p>



<a name="127576025"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127576025" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127576025">(Jun 05 2018 at 01:23)</a>:</h4>
<p>Yeah, Archer (unlike MGED) requires OpenGL for display.</p>



<a name="127581463"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127581463" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127581463">(Jun 05 2018 at 04:23)</a>:</h4>
<p>what's odd is that archer actually started with opengl compiled off</p>



<a name="127585138"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127585138" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127585138">(Jun 05 2018 at 06:32)</a>:</h4>
<p>Odd indeed</p>



<a name="127610266"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127610266" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127610266">(Jun 05 2018 at 16:53)</a>:</h4>
<p>humm after hours of figuring out how pane info is handled in <em>tclscripts/archer/</em> I had almost given up :/<br>
But <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> your suggestion helped ; ) I tried to backtrace rtcheck on a vannila build and found out that it was actually handled in libtclcad/tclcadobj.c using <code>to_view_func</code>. <br>
changing <code>{"check_overlaps", (char *)0, TO_UNLIMITED, to_pass_through_func, ged_check_overlaps}</code> to <code>{"check_overlaps", (char *)0, TO_UNLIMITED, to_view_func, ged_check_overlaps}</code> solved it :)</p>



<a name="127610683"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127610683" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127610683">(Jun 05 2018 at 17:02)</a>:</h4>
<p>I also ended up adding cmd_~ wrapper for check_overlaps instead of plainwrapper.</p>
<div class="codehilite"><pre><span></span><span class="kt">int</span>
<span class="nf">cmd_check_overlaps</span><span class="p">(</span><span class="n">ClientData</span> <span class="n">UNUSED</span><span class="p">(</span><span class="n">clientData</span><span class="p">),</span>  <span class="n">Tcl_Interp</span> <span class="o">*</span><span class="n">interp</span><span class="p">,</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span>  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">ret</span><span class="p">;</span>
    <span class="n">Tcl_DString</span> <span class="n">ds</span><span class="p">;</span>

    <span class="n">CHECK_DBI_NULL</span><span class="p">;</span>

    <span class="cm">/* skip past _mged_ */</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;_&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;m&#39;</span> <span class="o">&amp;&amp;</span>
    <span class="n">bu_strncmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&quot;_mged_&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">6</span><span class="p">;</span>

    <span class="n">Tcl_DStringInit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ds</span><span class="p">);</span>

    <span class="n">ret</span> <span class="o">=</span> <span class="n">ged_check_overlaps</span><span class="p">(</span><span class="n">gedp</span><span class="p">,</span> <span class="n">argc</span><span class="p">,</span> <span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">**</span><span class="p">)</span><span class="n">argv</span><span class="p">);</span>

    <span class="n">Tcl_DStringAppend</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ds</span><span class="p">,</span> <span class="n">bu_vls_addr</span><span class="p">(</span><span class="n">gedp</span><span class="o">-&gt;</span><span class="n">ged_result_str</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
    <span class="n">Tcl_DStringResult</span><span class="p">(</span><span class="n">interp</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ds</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">ret</span> <span class="o">==</span> <span class="n">GED_OK</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">TCL_OK</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">TCL_ERROR</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>It is quite similar to cmd_rt <em>(just difference is <code>ged_check_overlaps</code> in-place of <code>ged_rt</code>)</em>, but I don't know how this will help xD. Like when does the skipping of <em>_mged_</em> is required?</p>



<a name="127614285"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127614285" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127614285">(Jun 05 2018 at 18:20)</a>:</h4>
<p>hey the adaptation helped MGED also. Now I can press tab after type <em>ch</em> and it will complete to <em>check_overlaps</em> :)</p>



<a name="127615795"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127615795" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127615795">(Jun 05 2018 at 18:50)</a>:</h4>
<p>Today's progress..<br>
<a href="/user_uploads/1549/JUKOFYB2_EQRfftrLQeWJwgY/5.06.progress.patch" target="_blank" title="5.06.progress.patch">5.06.progress.patch</a></p>



<a name="127620814"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127620814" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127620814">(Jun 05 2018 at 20:26)</a>:</h4>
<p>Impressive :)<br>
Regarding <em>_mged_</em> I had to look at the code (at the earliest on Thursday). But, my first idea would be that this TCL script is considered to run on mged too. However, I'm not sure, had to look at the code first.</p>



<a name="127620907"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127620907" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127620907">(Jun 05 2018 at 20:28)</a>:</h4>
<p>OK, you found this too :)</p>



<a name="127657144"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127657144" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127657144">(Jun 06 2018 at 13:52)</a>:</h4>
<p>BTW i submitted the patch for rtcheck, in that I had deleted viewcheck.c but later I thought is deleting okay?  should I have had put a <em>deprecated</em> comment and just remove it from cmakelists?</p>



<a name="127676313"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127676313" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127676313">(Jun 06 2018 at 20:31)</a>:</h4>
<p>I have started to update the documentation now ..</p>



<a name="127677339"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127677339" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127677339">(Jun 06 2018 at 20:50)</a>:</h4>
<p>humm I don't understand why I can't see the changes. make says it built but when I open the html page no change :/</p>



<a name="127678921"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127678921" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127678921">(Jun 06 2018 at 21:23)</a>:</h4>
<p>okay I am seeing the changes I made in man1 and mann in MGED</p>



<a name="127679817"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127679817" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127679817">(Jun 06 2018 at 21:33)</a>:</h4>
<blockquote>
<p>humm I don't understand why I can't see the changes. make says it built but when I open the html page no change :/</p>
</blockquote>
<p>Okay scratch that xD I was looking the wrong directory</p>



<a name="127690484"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127690484" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127690484">(Jun 07 2018 at 02:43)</a>:</h4>
<blockquote>
<p>So I did that experiment on my check_overlaps turns out <code>ged_build_tops</code> returned one less number than <code>ged_count_tops</code> when there are overlays displayed.</p>
</blockquote>
<p>I can see how this would be confusing, one building from the .g and the other counting what's displayed (not from the .g)</p>



<a name="127692265"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127692265" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127692265">(Jun 07 2018 at 03:47)</a>:</h4>
<blockquote>
<p>1) if a user runs <code>check_overlaps g4</code> and g4 is not drawn then it shouldn't display the overlaps<br>
But displays overlays when g4 is drawn. This method would require checking of mentioned objects and visible objects.</p>
</blockquote>
<p>On the surface, this seems reasonable behavior.  I'd suggest also adding a flag to explicitly draw or not draw overlaps, something like "check overlaps -V g4" and "check overlaps -v g4" to turn off/on respectively.</p>
<blockquote>
<p>3) like <code>rtcheck</code> command does not allow to explicitly mention objects (but executable rtcheck does allow it) with command like <code>rtcheck g4</code>, I could make check_overlaps work strictly for only visible objects.</p>
</blockquote>
<p>Also reasonable.</p>



<a name="127693400"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127693400" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127693400">(Jun 07 2018 at 04:24)</a>:</h4>
<blockquote>
<p>It is quite similar to cmd_rt <em>(just difference is <code>ged_check_overlaps</code> in-place of <code>ged_rt</code>)</em>, but I don't know how this will help xD. Like when does the skipping of <em>_mged_</em> is required?</p>
</blockquote>
<p>You don't really need to worry about the _mged_ bit.  But if you want to know, it's because all commands are registered twice with the Tcl interpreter, one with and without a _mged_ prefix.  This is because users can override commands and certain places in the code, we need to make sure we're calling the original.</p>



<a name="127713472"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127713472" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127713472">(Jun 07 2018 at 11:26)</a>:</h4>
<blockquote>
<blockquote>
<p>1) if a user runs <code>check_overlaps g4</code> and g4 is not drawn then it shouldn't display the overlaps<br>
But displays overlays when g4 is drawn. This method would require checking of mentioned objects and visible objects.</p>
</blockquote>
<p>On the surface, this seems reasonable behavior.  I'd suggest also adding a flag to explicitly draw or not draw overlaps, something like "check overlaps -V g4" and "check overlaps -v g4" to turn off/on respectively.</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I thought about this for a while and discovered the following cases: </p>
<ul>
<li>Case 1 : If no objects are mentioned : gets objects from view, gets view info and plots the overlays.</li>
<li>Case 2 : If objects are mentioned :<ul>
<li>Case 2.1 : No objects are actually drawn : gets objects from argv, use view info provided by the user else default values, plot overlays if explicitly mentioned.</li>
<li>Case 2.2 : If the mentioned objects are already drawn : follow Case 1.</li>
<li>Case 2.3 : If mentioned objects not match the visible objects : follow Case 2.1. </li>
</ul>
</li>
</ul>
<p>Implementation can be a bit complicated but not impossible.<br>
And when thinking all this I found a flaw, what if the user says <code>check_overlaps g4 g4</code> the current implementation of check_overlaps doesn't handle this exception.</p>
<blockquote>
<blockquote>
<p>3) like <code>rtcheck</code> command does not allow to explicitly mention objects (but executable rtcheck does allow it) with command like <code>rtcheck g4</code>, I could make check_overlaps work strictly for only visible objects.</p>
</blockquote>
<p>Also reasonable.</p>
</blockquote>
<p>At the end this seems best with very straight forward implementation.</p>



<a name="127713524"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127713524" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127713524">(Jun 07 2018 at 11:28)</a>:</h4>
<blockquote>
<blockquote>
<p>It is quite similar to cmd_rt <em>(just difference is <code>ged_check_overlaps</code> in-place of <code>ged_rt</code>)</em>, but I don't know how this will help xD. Like when does the skipping of <em>_mged_</em> is required?</p>
</blockquote>
<p>You don't really need to worry about the _mged_ bit.  But if you want to know, it's because all commands are registered twice with the Tcl interpreter, one with and without a _mged_ prefix.  This is because users can override commands and certain places in the code, we need to make sure we're calling the original.</p>
</blockquote>
<p>okay, I did find the code that adds the _mged_ prefix but was confused when I saw it being registered twice with <em>Tcl_CreateCommand</em>. Thanks for clearing the confusion :)</p>



<a name="127720528"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127720528" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127720528">(Jun 07 2018 at 14:26)</a>:</h4>
<p>In general your task is a restructuring and refactoring one, so you certainly don’t have to figure out the best usage.. you can focus on the code and making it do what it currently does.  Overlaps are just one of a whole suite of things that users want to check, and even overlaps aren’t done the best we could.</p>



<a name="127720916"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127720916" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127720916">(Jun 07 2018 at 14:32)</a>:</h4>
<p>That’s to say you’re doing great :) keep up the good work!</p>



<a name="127721476"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127721476" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127721476">(Jun 07 2018 at 14:42)</a>:</h4>
<blockquote>
<p>In general your task is a restructuring and refactoring one, so you certainly don’t have to figure out the best usage.. you can focus on the code and making it do what it currently does.  Overlaps are just one of a whole suite of things that users want to check, and even overlaps aren’t done the best we could.</p>
</blockquote>
<p>Okay understood! So I will make check_overlaps behave like existing rtcheck command and always get objects from view.<br>
And I fixed the flaw of duplicate objects given for the my version of rtcheck program, because the existing rtcheck handles it fine.<br>
Here is what I did:</p>
<ul>
<li>This function in main to add the objects to list</li>
</ul>
<div class="codehilite"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">nobjs</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">add_to_objlist</span><span class="p">(</span><span class="n">objtab</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="o">&amp;</span><span class="n">objlist</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">bu_log</span><span class="p">(</span><span class="s">&quot;&#39;%s&#39; object repeated, duplicates ignored</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">objtab</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="p">}</span>
</pre></div>


<ul>
<li>add_to_objlist looks like this :</li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">HIDDEN</span> <span class="kt">int</span>
<span class="nf">add_to_objlist</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">object</span><span class="p">,</span> <span class="k">struct</span> <span class="n">object_list</span> <span class="o">**</span><span class="n">objlistp</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">struct</span> <span class="n">object_list</span> <span class="o">*</span><span class="n">op</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">object_list</span> <span class="o">*</span><span class="n">new_op</span><span class="p">;</span>
    <span class="n">BU_GET</span><span class="p">(</span><span class="n">new_op</span><span class="p">,</span> <span class="k">struct</span> <span class="n">object_list</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">BU_LIST_FOR</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">object_list</span><span class="p">,</span> <span class="o">&amp;</span><span class="p">((</span><span class="o">*</span><span class="n">objlistp</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">l</span><span class="p">)))</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">((</span><span class="n">BU_STR_EQUAL</span><span class="p">(</span><span class="n">object</span><span class="p">,</span> <span class="n">op</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">)))</span> <span class="p">{</span>
        <span class="n">bu_free</span><span class="p">((</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span> <span class="n">new_op</span><span class="p">,</span> <span class="s">&quot;object list&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">new_op</span><span class="o">-&gt;</span><span class="n">name</span> <span class="o">=</span> <span class="n">object</span><span class="p">;</span>
    <span class="n">BU_LIST_INSERT</span><span class="p">(</span><span class="o">&amp;</span><span class="p">((</span><span class="o">*</span><span class="n">objlistp</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">l</span><span class="p">),</span> <span class="o">&amp;</span><span class="p">(</span><span class="n">new_op</span><span class="o">-&gt;</span><span class="n">l</span><span class="p">));</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<ul>
<li>and then used a BU_LIST_FOR for rt_gettree as well, at the end freed the list.</li>
</ul>
<p>did the same for the <em>tree</em> command that is used to input obj list from a file using matflag.<br>
PS: don't mind indentation shown here, It's alright in the actual program ;)</p>



<a name="127721488"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127721488" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127721488">(Jun 07 2018 at 14:42)</a>:</h4>
<blockquote>
<p>That’s to say you’re doing great :) keep up the good work!</p>
</blockquote>
<p>Thank you :)</p>



<a name="127725359"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127725359" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127725359">(Jun 07 2018 at 16:02)</a>:</h4>
<p>now check_overlaps will take objects from view only. I also updated the related help data too.</p>



<a name="127726919"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127726919" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127726919">(Jun 07 2018 at 16:38)</a>:</h4>
<p>humm I don't understand the relevance of <em>doc/html/manuals/cadwidgets/</em> and also Database, Display, Drawable, QuadDisplay, MGED are deprecated. So as discussed before I am removing rtcheck related things but not adding check_overlaps there.</p>



<a name="127726999"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127726999" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127726999">(Jun 07 2018 at 16:40)</a>:</h4>
<p><em>doc/tool_categories.txt</em> is the list of programs or commands? it seems like list of programs. So not adding check_overlaps there.</p>



<a name="127729583"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127729583" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127729583">(Jun 07 2018 at 17:36)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> If I submit a v2 for <a href="https://sourceforge.net/p/brlcad/patches/494/" target="_blank" title="https://sourceforge.net/p/brlcad/patches/494/">https://sourceforge.net/p/brlcad/patches/494/</a> should I do it with the changes I did today to check_overlaps?</p>



<a name="127729738"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127729738" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127729738">(Jun 07 2018 at 17:39)</a>:</h4>
<blockquote>
<p>In general your task is a restructuring and refactoring one, so you certainly don’t have to figure out the best usage.. you can focus on the code and making it do what it currently does.  Overlaps are just one of a whole suite of things that users want to check, and even overlaps aren’t done the best we could.</p>
</blockquote>
<p>This doesn't mean however that you can't realize own ideas and improve the behavior.</p>
<p>I don't understand what the issue with the drawing of overlaps of not displayed elements is. What's the problem there? I've rather a problem with drawing the overlaps on visible elements because they are hard to see. I've just tried<code>check_overlaps g4</code> an a clear screen in Archer. This gave me a better view on the problem areas as I got before.</p>



<a name="127729846"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127729846" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127729846">(Jun 07 2018 at 17:40)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> If I submit a v2 for <a href="https://sourceforge.net/p/brlcad/patches/494/" target="_blank" title="https://sourceforge.net/p/brlcad/patches/494/">https://sourceforge.net/p/brlcad/patches/494/</a> should I do it with the changes I did today to check_overlaps?</p>
</blockquote>
<p>Put them back.</p>



<a name="127730018"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127730018" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127730018">(Jun 07 2018 at 17:44)</a>:</h4>
<blockquote>
<p><em>doc/tool_categories.txt</em> is the list of programs or commands? it seems like list of programs. So not adding check_overlaps there.</p>
</blockquote>
<p>Right.</p>



<a name="127730105"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127730105" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127730105">(Jun 07 2018 at 17:46)</a>:</h4>
<blockquote>
<p>I don't understand what the issue with the drawing of overlaps of not displayed elements is. What's the problem there? I've rather a problem with drawing the overlaps on visible elements because they are hard to see. I've just tried<code>check_overlaps g4</code> an a clear screen in Archer. This gave me a better view on the problem areas as I got before.</p>
</blockquote>
<p>Agreed they are hard to see with objects shown but for me seeing them float in air also doesn't help much.<br>
The objects are helpful when checking for overlaps very closely like : <br>
<a href="/user_uploads/1549/yEIbN2pOFKjyay_jnuuYzUbw/Screenshot-from-2018-06-07-23-16-04.png" target="_blank" title="Screenshot-from-2018-06-07-23-16-04.png">Screenshot-from-2018-06-07-23-16-04.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/yEIbN2pOFKjyay_jnuuYzUbw/Screenshot-from-2018-06-07-23-16-04.png" target="_blank" title="Screenshot-from-2018-06-07-23-16-04.png"><img src="/user_uploads/1549/yEIbN2pOFKjyay_jnuuYzUbw/Screenshot-from-2018-06-07-23-16-04.png"></a></div><blockquote>
<p>Put them back.</p>
</blockquote>
<p>Yeah I had a backup :D</p>



<a name="127730309"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127730309" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127730309">(Jun 07 2018 at 17:51)</a>:</h4>
<blockquote>
<p>Agreed they are hard to see with objects shown but for me seeing them float in air also doesn't help much.</p>
</blockquote>
<p>But, you can do this only if you have seen them. For example, I could only see the overlaps at the tires, but <em>seeing them float in air</em> showed the ones below the driver's cab too. Now, I can have a closer look at them with <em>g4</em> switched on.</p>



<a name="127730559"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127730559" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127730559">(Jun 07 2018 at 17:56)</a>:</h4>
<p>yeah that is true!</p>



<a name="127730645"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127730645" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127730645">(Jun 07 2018 at 17:58)</a>:</h4>
<p>the floating in air is helpful because the constructor knows where he placed the objects and if some standard view like left/right is used then it can be easy to identify</p>



<a name="127730849"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127730849" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127730849">(Jun 07 2018 at 18:02)</a>:</h4>
<p>It was really reasonable to let <em>check_overlaps</em> behave like <em>rtchek</em> in mged. It was, until you had the great idea of allowing to explicitly mention the objects. This extends the possibilities and makes things easier. Sorry, but by implementing this feature messed it up ;) I don't want the old behavior back.</p>



<a name="127730957"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127730957" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127730957">(Jun 07 2018 at 18:05)</a>:</h4>
<blockquote>
<p>It was really reasonable to let <em>check_overlaps</em> behave like <em>rtchek</em> in mged. It was, until you had the great idea of allowing to explicitly mention the objects. This extends the possibilities and makes things easier. Sorry, but by implementing this feature messed it up ;) I don't want the old behavior back.</p>
</blockquote>
<p>haha it was not an idea but for testing purposes before I get into the code of getting objects from view xD. Well if that now counts as a good one then I am good :)</p>



<a name="127731636"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127731636" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127731636">(Jun 07 2018 at 18:21)</a>:</h4>
<p>Umm I think my patch for adaptation is ready<br>
documentation one would be ready by tomorrow.</p>



<a name="127731722"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127731722" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127731722">(Jun 07 2018 at 18:23)</a>:</h4>
<p>That's OK. I couldn't check them today anyway.</p>



<a name="127731793"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127731793" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127731793">(Jun 07 2018 at 18:24)</a>:</h4>
<p>okay cool <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="127765928"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127765928" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127765928">(Jun 08 2018 at 10:55)</a>:</h4>
<p>hey can we rename executable rtcheck to check_overlaps as well for consistency ?</p>



<a name="127766027"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127766027" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127766027">(Jun 08 2018 at 10:58)</a>:</h4>
<p>the documentation would be less confusing if that is done, in my opinion.</p>



<a name="127778128"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127778128" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127778128">(Jun 08 2018 at 15:34)</a>:</h4>
<blockquote>
<p>This doesn't mean however that you can't realize own ideas and improve the behavior.</p>
</blockquote>
<p>yes, absolutely this too!  apologies if it came across as suggesting you <em>not</em> think about and make things better.  sometimes the best solutions come from fresh eyes.</p>



<a name="127779444"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127779444" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127779444">(Jun 08 2018 at 16:01)</a>:</h4>
<blockquote>
<p>hey can we rename executable rtcheck to check_overlaps as well for consistency ?</p>
</blockquote>
<p>we'd have to follow our change policy (see top-level CHANGES file), but that's a bit too specific for my command sense taste.</p>
<p>we did a whole command planning overhaul a while back to plan out how we're going to consolidate the crazy top-level namespace.   the intention is to merge the features of rtcheck+gqa+glint+analyze into one command.  I don't recall what we settled on, but I'd expect something a little generalized with subcommands like "check overlaps ..." or "analyze overlaps ..." or "evaluate overlaps ..." etc</p>



<a name="127780854"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127780854" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127780854">(Jun 08 2018 at 16:33)</a>:</h4>
<blockquote>
<p>hey can we rename executable rtcheck to check_overlaps as well for consistency ?</p>
</blockquote>
<p>I'm in favor for different names, because I think it could be confusing to have a TCL command and a program with the same name but (slightly) different behavior/parameters. And regarding Sean's comment, the names may be changed later on.</p>



<a name="127781144"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127781144" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127781144">(Jun 08 2018 at 16:40)</a>:</h4>
<blockquote>
<p>we'd have to follow our change policy (see top-level CHANGES file), but that's a bit too specific for my command sense taste.</p>
</blockquote>
<p>humm the CHANGES file is interesting.</p>
<blockquote>
<p>I'm in favor for different names, because I think it could be confusing to have a TCL command and a program with the same name but (slightly) different behavior/parameters. And regarding Sean's comment, the names may be changed later on.</p>
</blockquote>
<p>Okay got it.<br>
yeah the confusion arising from what you say sound true.</p>



<a name="127781299"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127781299" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127781299">(Jun 08 2018 at 16:44)</a>:</h4>
<p>I had this doubt when doing the documentation to whether to explain the options for check_overlaps, because the -h option prints the usage info already.</p>



<a name="127781416"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127781416" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127781416">(Jun 08 2018 at 16:47)</a>:</h4>
<p>I think I should do that at least in the man pages</p>



<a name="127782643"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127782643" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127782643">(Jun 08 2018 at 17:15)</a>:</h4>
<p>there's a school of thinking that help should be pervasive and in many forms as you don't know where the user is at and they may not know how/where to find help (e.g., that there is a -h option or that there is a manual page).. especially in an inconsistent system like ours</p>



<a name="127782817"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127782817" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127782817">(Jun 08 2018 at 17:19)</a>:</h4>
<p>okay got it adding the options everywhere.<br>
The confusion arose from manual for rtcheck <em>command</em> not describing it and saying to refer to rthcheck <em>program's</em> manual for description of the options, but now that we have two different names so doing that is not correct!</p>



<a name="127782829"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127782829" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127782829">(Jun 08 2018 at 17:19)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> sorry if I made extra work for you to undo changes or made things confusing.  as usual daniel's insights are spot on.  having a deterministic command line that works the same inside and out are better than one that does has different usage, though I think we're moving towards there only being one.</p>



<a name="127782967"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127782967" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127782967">(Jun 08 2018 at 17:23)</a>:</h4>
<p>saran, would it be hard to make your command take a subcommand (overlaps) as a required argument?  that would be useful to set the stage for adding  more sub-commands down the road (and it's the same number of chars usability-wise), even if you only are concerned with this one.</p>



<a name="127782976"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127782976" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127782976">(Jun 08 2018 at 17:23)</a>:</h4>
<p>oh, and something to think about ...</p>



<a name="127782983"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127782983" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127782983">(Jun 08 2018 at 17:23)</a>:</h4>
<p>I'm in favor of a pervasive help too.</p>



<a name="127783074"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783074" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783074">(Jun 08 2018 at 17:25)</a>:</h4>
<p>there is the possibility for different overlap visualization methods ... the yellow wireframe lines are okay, but certainly not the only way</p>



<a name="127783085"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783085" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783085">(Jun 08 2018 at 17:25)</a>:</h4>
<p>one of the things the checker script did in a previous form was calculate the overlapping volume via tessellation and then draw that as a solid yellow volume.  it was quite effective!</p>



<a name="127783125"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783125" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783125">(Jun 08 2018 at 17:26)</a>:</h4>
<p>i think I have a picture somewhere...</p>



<a name="127783150"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783150" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783150">(Jun 08 2018 at 17:27)</a>:</h4>
<p><a href="/user_uploads/1549/UXceQ4bNOKh6jkQH3lJ3llAu/Screenshot-1.png" target="_blank" title="Screenshot-1.png">Screenshot-1.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/UXceQ4bNOKh6jkQH3lJ3llAu/Screenshot-1.png" target="_blank" title="Screenshot-1.png"><img src="/user_uploads/1549/UXceQ4bNOKh6jkQH3lJ3llAu/Screenshot-1.png"></a></div>



<a name="127783210"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783210" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783210">(Jun 08 2018 at 17:28)</a>:</h4>
<p>not suggesting you do that .. just something to keep in mind, that we might not stick with yellow lines or might have other options</p>



<a name="127783234"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783234" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783234">(Jun 08 2018 at 17:29)</a>:</h4>
<p>sounds interesting and looks good!</p>



<a name="127783305"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783305" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783305">(Jun 08 2018 at 17:30)</a>:</h4>
<p>options that deal with grid sampling (e.g., the -s size and -n, -w options) are similarly tied to the current implementation -- not the generic conceptual notion of telling a user where there are overlaps</p>



<a name="127783350"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783350" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783350">(Jun 08 2018 at 17:31)</a>:</h4>
<p>there's (what I believe to be) a far superior method for finding overlaps using quasirandom spherical sampling, halting at convergence or density criteria</p>



<a name="127783408"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783408" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783408">(Jun 08 2018 at 17:32)</a>:</h4>
<p>even gqa shooting three grids has proven quite inadequate by our professional modelers</p>



<a name="127783422"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783422" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783422">(Jun 08 2018 at 17:32)</a>:</h4>
<p>The content of the overlay is generated in the <em>log_overlaps()</em> function. I.e. if someone wants to improve it one day, the entrypoint is well determinate.</p>



<a name="127783503"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783503" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783503">(Jun 08 2018 at 17:34)</a>:</h4>
<blockquote>
<p>options that deal with grid sampling (e.g., the -s size and -n, -w options) are similarly tied to the current implementation -- not the generic conceptual notion of telling a user where there are overlaps</p>
</blockquote>
<p>I would be in favor of a more generic interface, which is implementation independent, too. But, how much can we break the existing interface (i.e. parameters)?</p>



<a name="127783592"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783592" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783592">(Jun 08 2018 at 17:36)</a>:</h4>
<blockquote>
<p>saran, would it be hard to make your command take a subcommand (overlaps) as a required argument?  that would be useful to set the stage for adding  more sub-commands down the road (and it's the same number of chars usability-wise), even if you only are concerned with this one.</p>
</blockquote>
<p>I think this can be done in the wrapper itself</p>



<a name="127783708"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783708" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783708">(Jun 08 2018 at 17:38)</a>:</h4>
<blockquote>
<p>I would be in favor of a more generic interface, which is implementation independent, too. But, how much can we break the existing interface (i.e. parameters)?</p>
</blockquote>
<p>a new command can do whatever we want it to do :)</p>
<p>the only consideration is a practical one that one of the goals of this project is turning that shell script into C (so it can run on windows), with it's specific overlap reporting behavior as that's tied to an entire production workflow in active use</p>



<a name="127783763"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783763" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783763">(Jun 08 2018 at 17:39)</a>:</h4>
<p>that begs having a command (maybe a separate command? or maybe it's the first implementation guts to this command?) that does what the current does -- but even then doesn't need to expose the parameters of gqa or rtcheck or anything else</p>



<a name="127783816"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783816" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783816">(Jun 08 2018 at 17:40)</a>:</h4>
<p>it's being called by a gui and is essentially unpublished, so it can change or be whatever is needed</p>



<a name="127783966"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127783966" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127783966">(Jun 08 2018 at 17:43)</a>:</h4>
<blockquote>
<p>a new command can do whatever we want it to do :)</p>
</blockquote>
<p>That's true, but how about a command which shall replace another one? It isn't the goal to have a bunch of commands which do the same thing all a bit different (rtcheck, qga, check_overlaps, ...).</p>



<a name="127784026"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127784026" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127784026">(Jun 08 2018 at 17:45)</a>:</h4>
<p>what I kind of thought would happen, in libanalyze terms, is that we end up with an interface that merely generates ray patterns.  it doesn't shoot them, just creates them.  so rtcheck would call this routine to create a grid of rays based on the current view, gqa would call the same routine, but pass the three orthogonal views.  another pattern that could be supported might be "random spherical".  this new command could either be the generalization that lets you specify what pattern(s) you want or has some notion of predefined pattern sets (or both).</p>



<a name="127784091"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127784091" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127784091">(Jun 08 2018 at 17:46)</a>:</h4>
<p>so the tool only has to concern itself with what patterns it needs to generate and something parallelizes them all (iteratively based on some other criteria)</p>



<a name="127784125"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127784125" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127784125">(Jun 08 2018 at 17:47)</a>:</h4>
<p>the goal would indeed be to replace all those commands, so there fundamentally needs to be "some" way to specify a direction vector and generate a pattern (grid) of rays so I can get current rtcheck and/or gqa output</p>



<a name="127831163"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127831163" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127831163">(Jun 09 2018 at 19:53)</a>:</h4>
<p>Regarding r71050, the rtcheck command can't just disappear without going through deprecation.  It's an ancient tool in production use (within mged) that predates me even joining development.</p>



<a name="127831448"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127831448" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127831448">(Jun 09 2018 at 20:04)</a>:</h4>
<p>yup got it, so how to proceed since it has been committed? A commit adding back the rtcheck command?</p>



<a name="127831505"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127831505" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127831505">(Jun 09 2018 at 20:05)</a>:</h4>
<p>essentially -- you'll need to reverse-merge at least the rtcheck.c file to undo the delete.  that way it will retain the history of edits when it's restored.</p>



<a name="127831549"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127831549" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127831549">(Jun 09 2018 at 20:06)</a>:</h4>
<p>something like this <a href="http://www.thedumbterminal.co.uk/posts/2012/04/restoring_a_deleted_file_or_directory_from_subversion.html" target="_blank" title="http://www.thedumbterminal.co.uk/posts/2012/04/restoring_a_deleted_file_or_directory_from_subversion.html">http://www.thedumbterminal.co.uk/posts/2012/04/restoring_a_deleted_file_or_directory_from_subversion.html</a></p>



<a name="127831699"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127831699" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127831699">(Jun 09 2018 at 20:12)</a>:</h4>
<p>it might be easiest to undo all of r71050 and then redo the gui changes</p>



<a name="127831701"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127831701" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127831701">(Jun 09 2018 at 20:12)</a>:</h4>
<p>s/redo/reapply/</p>



<a name="127831901"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127831901" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127831901">(Jun 09 2018 at 20:20)</a>:</h4>
<blockquote>
<p>something like this <a href="http://www.thedumbterminal.co.uk/posts/2012/04/restoring_a_deleted_file_or_directory_from_subversion.html" target="_blank" title="http://www.thedumbterminal.co.uk/posts/2012/04/restoring_a_deleted_file_or_directory_from_subversion.html">http://www.thedumbterminal.co.uk/posts/2012/04/restoring_a_deleted_file_or_directory_from_subversion.html</a></p>
</blockquote>
<p>well I didn't delete the files, so it should be good, just moved _ged_wait_status from rtcheck to nirt.c</p>
<blockquote>
<p>it might be easiest to undo all of r71050 and then redo the gui changes</p>
</blockquote>
<p>yup this seems the way to go with the gui changes.<br>
so I should revert using <code>svn merge -r [current_version]:[previous_version] [repository_url]</code> and then <code>svn commit -m "Revert bad commit r71050"</code></p>



<a name="127831911"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127831911" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127831911">(Jun 09 2018 at 20:21)</a>:</h4>
<p>but this would revert all the commit in between</p>



<a name="127831968"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127831968" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127831968">(Jun 09 2018 at 20:22)</a>:</h4>
<p>welp, actually I am not sure :/ svn is kinda new to me</p>



<a name="127832024"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127832024" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127832024">(Jun 09 2018 at 20:25)</a>:</h4>
<p>no, that looks right</p>



<a name="127832031"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127832031" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127832031">(Jun 09 2018 at 20:25)</a>:</h4>
<p><a href="https://stackoverflow.com/questions/13330011/how-do-i-revert-an-svn-commit" target="_blank" title="https://stackoverflow.com/questions/13330011/how-do-i-revert-an-svn-commit">https://stackoverflow.com/questions/13330011/how-do-i-revert-an-svn-commit</a></p>



<a name="127832077"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127832077" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127832077">(Jun 09 2018 at 20:27)</a>:</h4>
<p>it's not a "bad" commit, so I would change the message to just that you're reverting r71050 and say why (can't delete rtcheck without deprecation)</p>



<a name="127832321"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127832321" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127832321">(Jun 09 2018 at 20:35)</a>:</h4>
<p>ok understood, I sent a commit..</p>



<a name="127832364"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127832364" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127832364">(Jun 09 2018 at 20:36)</a>:</h4>
<p>humm it got aborted</p>



<a name="127832366"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127832366" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127832366">(Jun 09 2018 at 20:36)</a>:</h4>
<p>you're probably out of date -- I just made a few commits</p>



<a name="127832367"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127832367" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127832367">(Jun 09 2018 at 20:36)</a>:</h4>
<p>svn up</p>



<a name="127832368"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127832368" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127832368">(Jun 09 2018 at 20:36)</a>:</h4>
<p>hehe ok</p>



<a name="127832415"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127832415" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127832415">(Jun 09 2018 at 20:38)</a>:</h4>
<p>done :)</p>



<a name="127833955"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127833955" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127833955">(Jun 09 2018 at 21:39)</a>:</h4>
<p>BTW since I cannot remove rtcheck. What must be done to the new rtcheck program (that uses libanalyze)? <br>
I had removed the compilation of previous rtcheck from cmakelists in src/rt/ and replaced it with mine.</p>



<a name="127834001"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834001" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834001">(Jun 09 2018 at 21:40)</a>:</h4>
<p>there is no "new rtcheck program" ... you named it something else :)</p>



<a name="127834055"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834055" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834055">(Jun 09 2018 at 21:42)</a>:</h4>
<p>that was the check_overlaps <em>command</em>, I also wrote the rtcheck <em>program</em>.  <a href="https://sourceforge.net/p/brlcad/patches/495/" target="_blank" title="https://sourceforge.net/p/brlcad/patches/495/">https://sourceforge.net/p/brlcad/patches/495/</a></p>



<a name="127834103"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834103" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834103">(Jun 09 2018 at 21:44)</a>:</h4>
<p>they're essentially just independent commands at this point.  if the new command essentially does everything rtcheck did, then we can schedule rtcheck for formal deprecation.  one of us familiar with all rtcheck can do can evaluate what is missing, if anything.   the gui menus can still be updated to call the new one because they're functionally the same.</p>



<a name="127834111"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834111" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834111">(Jun 09 2018 at 21:45)</a>:</h4>
<p>AH, now that's a different question! sorry, misunderstood</p>



<a name="127834168"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834168" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834168">(Jun 09 2018 at 21:46)</a>:</h4>
<p>what's needed and doesn't exist to answer that question is a regression test -- do you know if it behaves the same, produces the same output?</p>



<a name="127834217"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834217" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834217">(Jun 09 2018 at 21:48)</a>:</h4>
<p>it should behave the same, I did do unit tests comparing the old rtcheck and new rtcheck.<br>
But output is different. It does not display all the debug information that current rtcheck prints.</p>



<a name="127834219"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834219" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834219">(Jun 09 2018 at 21:48)</a>:</h4>
<p>debug info?</p>



<a name="127834326"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834326" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834326">(Jun 09 2018 at 21:52)</a>:</h4>
<p>this is how it would put <a href="https://pastebin.com/sHDxtUw3" target="_blank" title="https://pastebin.com/sHDxtUw3">https://pastebin.com/sHDxtUw3</a></p>



<a name="127834373"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834373" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834373">(Jun 09 2018 at 21:54)</a>:</h4>
<p>orignal output of rtcheck <a href="https://pastebin.com/aQxYipPY" target="_blank" title="https://pastebin.com/aQxYipPY">https://pastebin.com/aQxYipPY</a></p>



<a name="127834379"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834379" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834379">(Jun 09 2018 at 21:55)</a>:</h4>
<p>ah, the setup and shutdown performance metrics... interesting</p>



<a name="127834419"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834419" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834419">(Jun 09 2018 at 21:56)</a>:</h4>
<p>probably fine, but let me get back to you on it in a few hours.  can you show something with more interesting/complicated output, like maybe run on havoc in havoc.g?</p>



<a name="127834420"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834420" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834420">(Jun 09 2018 at 21:56)</a>:</h4>
<p>old and new</p>



<a name="127834423"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834423" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834423">(Jun 09 2018 at 21:57)</a>:</h4>
<p>okay will do <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="127834535"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834535" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834535">(Jun 09 2018 at 22:01)</a>:</h4>
<p>wow the outputs are different for the pairs themselves! need to investigate..</p>



<a name="127834576"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127834576" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127834576">(Jun 09 2018 at 22:02)</a>:</h4>
<p>the count of overlaps is fine</p>



<a name="127856764"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127856764" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127856764">(Jun 10 2018 at 12:55)</a>:</h4>
<blockquote>
<p>Regarding r71050, the rtcheck command can't just disappear without going through deprecation.  It's an ancient tool in production use (within mged) that predates me even joining development.</p>
</blockquote>
<p>Reverting the whole r71050 commit looks a bit like an overreaction. Wouldn't it be sufficient to let the TCL <em>rtcheck</em> point to <em>ged_check_overlaps()</em>?</p>



<a name="127859267"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127859267" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127859267">(Jun 10 2018 at 14:34)</a>:</h4>
<p>humm I believe we want the rtcheck menu also in Archer under raytrace where I added check_overlaps. So there was a lot of changes to do, so I thought revert was a good way to go.</p>



<a name="127863487"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127863487" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127863487">(Jun 10 2018 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> <br>
the new rtcheck output:<br>
<a href="https://pastebin.ca/4044082" target="_blank" title="https://pastebin.ca/4044082">https://pastebin.ca/4044082</a> - without -R flag<br>
<a href="https://pastebin.ca/4044098" target="_blank" title="https://pastebin.ca/4044098">https://pastebin.ca/4044098</a> - with -R flag<br>
old rtcheck output:<br>
<a href="https://pastebin.ca/4044120" target="_blank" title="https://pastebin.ca/4044120">https://pastebin.ca/4044120</a> - without -R flag<br>
<a href="https://pastebin.ca/4044109" target="_blank" title="https://pastebin.ca/4044109">https://pastebin.ca/4044109</a> - with -R flag</p>



<a name="127863546"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127863546" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127863546">(Jun 10 2018 at 17:19)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
I fixed a big derp with the reg1 and reg2 names being copied<br>
This was what I had before:</p>
<div class="codehilite"><pre><span></span>    <span class="n">BU_ALLOC</span><span class="p">(</span><span class="n">op</span><span class="o">-&gt;</span><span class="n">reg1</span><span class="p">,</span><span class="kt">char</span><span class="p">);</span>
    <span class="n">BU_ALLOC</span><span class="p">(</span><span class="n">op</span><span class="o">-&gt;</span><span class="n">reg2</span><span class="p">,</span><span class="kt">char</span><span class="p">);</span>
    <span class="n">bu_strlcpy</span><span class="p">(</span><span class="n">op</span><span class="o">-&gt;</span><span class="n">reg1</span><span class="p">,</span> <span class="n">reg1</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">op</span><span class="o">-&gt;</span><span class="n">reg1</span><span class="p">));</span>
    <span class="n">bu_strlcpy</span><span class="p">(</span><span class="n">op</span><span class="o">-&gt;</span><span class="n">reg2</span><span class="p">,</span> <span class="n">reg2</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">op</span><span class="o">-&gt;</span><span class="n">reg2</span><span class="p">));</span>
</pre></div>


<p>this worked for truck.g because all the region names were less than 8 characters, but with havoc the regions names were just "/havoc/".<br>
I fixed it with :</p>
<div class="codehilite"><pre><span></span>    <span class="n">new_op</span><span class="o">-&gt;</span><span class="n">reg1</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="n">bu_malloc</span><span class="p">(</span><span class="n">strlen</span><span class="p">(</span><span class="n">reg1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;reg1&quot;</span><span class="p">);</span>
    <span class="n">new_op</span><span class="o">-&gt;</span><span class="n">reg2</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="n">bu_malloc</span><span class="p">(</span><span class="n">strlen</span><span class="p">(</span><span class="n">reg2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;reg2&quot;</span><span class="p">);</span>
    <span class="n">bu_strlcpy</span><span class="p">(</span><span class="n">new_op</span><span class="o">-&gt;</span><span class="n">reg1</span><span class="p">,</span> <span class="n">reg1</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">reg1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
    <span class="n">bu_strlcpy</span><span class="p">(</span><span class="n">new_op</span><span class="o">-&gt;</span><span class="n">reg2</span><span class="p">,</span> <span class="n">reg2</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">reg2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
</pre></div>


<p>this looks fine right?<br>
I need to update check_overlaps.c with this.</p>



<a name="127863698"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127863698" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127863698">(Jun 10 2018 at 17:25)</a>:</h4>
<p>looks fine to me, gonna commit :)</p>



<a name="127864276"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127864276" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127864276">(Jun 10 2018 at 17:48)</a>:</h4>
<blockquote>
<p>humm I believe we want the rtcheck menu also in Archer under raytrace where I added check_overlaps. So there was a lot of changes to do, so I thought revert was a good way to go.</p>
</blockquote>
<p>If this is the easiest way for you, OK, but you have to commit the parts which were uncritical now separately.</p>



<a name="127864367"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127864367" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127864367">(Jun 10 2018 at 17:50)</a>:</h4>
<p>yep got it <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span> <br>
have to fix the documentation patch too.. without removal of rtcheck related stuffs</p>



<a name="127864417"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127864417" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127864417">(Jun 10 2018 at 17:52)</a>:</h4>
<p>Do the functionality part first. Then, describe what you did in the documentation. And yes, if we keep the <em>rtcheck</em> command, then we need to keep its documentation too.</p>



<a name="127864521"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127864521" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127864521">(Jun 10 2018 at 17:57)</a>:</h4>
<p>Okay got it. <br>
Your comment on #496<br>
1) Please have a look at the following widgt: mged-&gt;Tools-&gt;Overlap Tool.<br>
What to do about this? This seems to be broken.</p>
<p>2) Please test the widget Archer-&gt;Raytrace-&gt;check overlaps-&gt;512x512 with an empty view (nothing is drawn).<br>
This I had fixed with a catch statement and print the warning as pop-up message/</p>



<a name="127864690"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127864690" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127864690">(Jun 10 2018 at 18:03)</a>:</h4>
<blockquote>
<p>1) Please have a look at the following widgt: mged-&gt;Tools-&gt;Overlap Tool.<br>
What to do about this? This seems to be broken</p>
</blockquote>
<p>Maybe you can fix it?</p>
<blockquote>
<p>2) Please test the widget Archer-&gt;Raytrace-&gt;check overlaps-&gt;512x512 with an empty view (nothing is drawn).<br>
This I had fixed with a catch statement and print the warning as pop-up message/</p>
</blockquote>
<p>For example. (I think there is already a pop-up message, but the only way to close it is to exit the program.)</p>



<a name="127864799"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127864799" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127864799">(Jun 10 2018 at 18:07)</a>:</h4>
<blockquote>
<blockquote>
<p>1) Please have a look at the following widgt: mged-&gt;Tools-&gt;Overlap Tool.<br>
What to do about this? This seems to be broken</p>
</blockquote>
<p>Maybe you can fix it?</p>
</blockquote>
<p>Okay I will have a look after all the pending work is done. </p>
<blockquote>
<blockquote>
<p>2) Please test the widget Archer-&gt;Raytrace-&gt;check overlaps-&gt;512x512 with an empty view (nothing is drawn).<br>
This I had fixed with a catch statement and print the warning as pop-up message/</p>
</blockquote>
<p>For example. (I think there is already a pop-up message, but the only way to close it is to exit the program.)</p>
</blockquote>
<p>Yeah, now the message is not that serious. Like a informational message. If this is not fine then I could print the message in command area.</p>



<a name="127864908"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127864908" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127864908">(Jun 10 2018 at 18:11)</a>:</h4>
<blockquote>
<blockquote>
<blockquote>
<p>1) Please have a look at the following widgt: mged-&gt;Tools-&gt;Overlap Tool.<br>
What to do about this? This seems to be broken</p>
</blockquote>
<p>Maybe you can fix it?</p>
</blockquote>
<p>Okay I will have a look after all the pending work is done. </p>
</blockquote>
<p><span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>
<blockquote>
<blockquote>
<blockquote>
<p>2) Please test the widget Archer-&gt;Raytrace-&gt;check overlaps-&gt;512x512 with an empty view (nothing is drawn).<br>
This I had fixed with a catch statement and print the warning as pop-up message/</p>
</blockquote>
<p>For example. (I think there is already a pop-up message, but the only way to close it is to exit the program.)</p>
</blockquote>
<p>Yeah, now the message is not that serious. Like a informational message. If this is not fine then I could print the message in command area.</p>
</blockquote>
<p>I don't complain about the message. I complain about that I can't close it. I could exit it only by closing the whole program.</p>



<a name="127864965"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127864965" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127864965">(Jun 10 2018 at 18:12)</a>:</h4>
<p>hehe I fixed that. I will show it once, I reapply the changes :)</p>



<a name="127865018"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127865018" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127865018">(Jun 10 2018 at 18:14)</a>:</h4>
<p>If you have fixed it for you and will commit the changes later on, I'm fine. I wanted only mention that there is an issue.</p>



<a name="127865107"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127865107" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127865107">(Jun 10 2018 at 18:17)</a>:</h4>
<p>yeah thanks for pointing it out.  Was a serious bug, like the message would keep on coming back to back.</p>



<a name="127865443"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127865443" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127865443">(Jun 10 2018 at 18:26)</a>:</h4>
<p>I was comparing the outputs of rtcheck programs, these are the difference. I was wondering why this happened <br>
<a href="https://www.diffchecker.com/iTmDvAKR" target="_blank" title="https://www.diffchecker.com/iTmDvAKR">https://www.diffchecker.com/iTmDvAKR</a></p>



<a name="127865496"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127865496" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127865496">(Jun 10 2018 at 18:28)</a>:</h4>
<p>left is old and right is new</p>



<a name="127865581"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127865581" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127865581">(Jun 10 2018 at 18:31)</a>:</h4>
<p>Looks like the entries are in different order?</p>



<a name="127865633"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127865633" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127865633">(Jun 10 2018 at 18:33)</a>:</h4>
<p>but there is one pair that is extra on new rtcheck, which makes the unique count 20</p>



<a name="127865641"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127865641" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127865641">(Jun 10 2018 at 18:33)</a>:</h4>
<p>one on line 14,15</p>



<a name="127865685"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127865685" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127865685">(Jun 10 2018 at 18:34)</a>:</h4>
<p>humm those are identical pairs</p>



<a name="127865687"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127865687" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127865687">(Jun 10 2018 at 18:34)</a>:</h4>
<p>so that condition which checks reg1 == reg2 is not working.. will check it out</p>



<a name="127865845"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127865845" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127865845">(Jun 10 2018 at 18:40)</a>:</h4>
<p>Indeed <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span> <br>
It seems to overlap with itself. Shall this be reported?</p>



<a name="127865901"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127865901" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127865901">(Jun 10 2018 at 18:42)</a>:</h4>
<p>No that is not it I think, Look at 20,21 lines on both side they also have reg1==reg2</p>



<a name="127866030"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127866030" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127866030">(Jun 10 2018 at 18:47)</a>:</h4>
<p>can the outputs vary with each run o_O.. once old rtcheck reported 18 unique pairs now it is reporting 20</p>



<a name="127866075"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127866075" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127866075">(Jun 10 2018 at 18:48)</a>:</h4>
<p><a href="https://pastebin.ca/4044821" target="_blank" title="https://pastebin.ca/4044821">https://pastebin.ca/4044821</a> back to back ran twice. different outputs each time</p>



<a name="127866145"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127866145" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127866145">(Jun 10 2018 at 18:51)</a>:</h4>
<p>The order can vary, but the number? You should check it single thread (one processor) first.</p>



<a name="127866238"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127866238" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127866238">(Jun 10 2018 at 18:54)</a>:</h4>
<p>okay now it is better :)</p>



<a name="127866239"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127866239" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127866239">(Jun 10 2018 at 18:54)</a>:</h4>
<p><a href="https://www.diffchecker.com/Z090oQsR" target="_blank" title="https://www.diffchecker.com/Z090oQsR">https://www.diffchecker.com/Z090oQsR</a></p>



<a name="127866299"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127866299" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127866299">(Jun 10 2018 at 18:57)</a>:</h4>
<p>Hmm, there is still a difference.</p>
<p>However, you should check your semaphores next. I could imagine that there is an unprotected variable.</p>



<a name="127866344"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127866344" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127866344">(Jun 10 2018 at 18:58)</a>:</h4>
<p>okay it seems like it</p>



<a name="127866345"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127866345" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127866345">(Jun 10 2018 at 18:58)</a>:</h4>
<p>I ran with -R flag and both were identical! :D</p>



<a name="127867266"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127867266" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127867266">(Jun 10 2018 at 19:32)</a>:</h4>
<p>oh I think I know why it was showing that slight variation.<br>
The older implementation used a singly linked list and to check for any reverse duplicates it went to the beginning and used the next pointer to check for it: <a href="https://pastebin.ca/4045571" target="_blank" title="https://pastebin.ca/4045571">https://pastebin.ca/4045571</a><br>
to improve this behaviour I used bu_list so it would go from current pair and backwards until it reaches head: <a href="https://pastebin.ca/4045594" target="_blank" title="https://pastebin.ca/4045594">https://pastebin.ca/4045594</a><br>
So I believe the new rtcheck displays correct output <span class="emoji emoji-1f914" title="thinking face">:thinking_face:</span></p>



<a name="127867536"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127867536" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127867536">(Jun 10 2018 at 19:42)</a>:</h4>
<p>Since the -R flag outputs are same, <br>
there are 4 times this pair:<br>
<code>/havoc/main_rotor/mr_bldassys/mr_bldassy101/mr_phorn101/r.rot138  /havoc/main_rotor/mr_bldassys/mr_bldassy101/mr_bldroot101/r.bld101</code><br>
and only one of the : <code>/havoc/main_rotor/mr_bldassys/mr_bldassy101/mr_bldroot101/r.bld101  /havoc/main_rotor/mr_bldassys/mr_bldassy101/mr_phorn101/r.rot138 </code><br>
and checking this : <a href="/user_uploads/1549/OHlD0lTqiKocqcvLtLDwDZKC/rtcheck.txt" target="_blank" title="rtcheck.txt">rtcheck.txt</a> <br>
we see that the single pair is at 31st position, where as the one that gave 4 count is at 26th, 27th, 28th and 30th.<br>
The output is different because of the direction of iteration.</p>



<a name="127901667"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127901667" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127901667">(Jun 11 2018 at 14:22)</a>:</h4>
<p>I am gonna push three commits for check_overlaps adaptation to Archer and MGED.</p>



<a name="127901675"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127901675" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127901675">(Jun 11 2018 at 14:22)</a>:</h4>
<p>One pushed..</p>



<a name="127901683"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127901683" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127901683">(Jun 11 2018 at 14:23)</a>:</h4>
<p>it has been awfully slow for me :/</p>



<a name="127901888"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127901888" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127901888">(Jun 11 2018 at 14:27)</a>:</h4>
<p>svn: E175002: Commit failed (details follow):<br>
svn: E175002: Unexpected HTTP status 504 'Gateway Time-out' on '/p/brlcad/code/brlcad/trunk/src/tclscripts/archer'</p>



<a name="127902135"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127902135" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127902135">(Jun 11 2018 at 14:32)</a>:</h4>
<p>gonna try ssh checkout maybe that will solve the issues</p>



<a name="127907261"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127907261" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127907261">(Jun 11 2018 at 16:24)</a>:</h4>
<p>I prepared the docbook changes after reverting any rtcheck <em>command</em> changes I previously did: <a href="/user_uploads/1549/jG53EBAsIB9eqZS7q-fAUwjM/new_doc.patch" target="_blank" title="new_doc.patch">new_doc.patch</a> <br>
Once the doubt about new rtcheck vs old rtcheck (programs) is clear, documentation would be good to go! Because in this patch I have added <em>-d</em> flag to new rtcheck <em>program</em>.</p>



<a name="127910472"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127910472" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127910472">(Jun 11 2018 at 17:42)</a>:</h4>
<p>Just a remark: You should, whenever possible, have only one issue per commit.</p>



<a name="127910551"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127910551" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127910551">(Jun 11 2018 at 17:44)</a>:</h4>
<p>For example: The commit for revision 71065 handles two issues.</p>



<a name="127910685"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127910685" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127910685">(Jun 11 2018 at 17:47)</a>:</h4>
<p>ohh got it. <span class="emoji emoji-1f605" title="sweat smile">:sweat_smile:</span> <br>
even those three to commit were hard, I don't know why but commit and checkout seems very slow. Took multiple tries to get one commit pushed. I decided to checkout using ssh, hoping it would improve all this problems, it has been running for 5 hours now :/ still not completed.</p>



<a name="127910967"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127910967" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127910967">(Jun 11 2018 at 17:52)</a>:</h4>
<p>Yes, sourceforge has had its days :(</p>



<a name="127911099"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127911099" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127911099">(Jun 11 2018 at 17:54)</a>:</h4>
<p>ahh, well GitHub soon I suppose :)</p>



<a name="127911202"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127911202" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127911202">(Jun 11 2018 at 17:56)</a>:</h4>
<p>what is your opinion on the difference between the old rtcheck and new rtcheck. It happens because of the direction of iteration of the lists as I had explained earlier.</p>



<a name="127912594"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127912594" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127912594">(Jun 11 2018 at 18:24)</a>:</h4>
<p>yay ssh checkout is ready :)</p>



<a name="127912907"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127912907" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127912907">(Jun 11 2018 at 18:31)</a>:</h4>
<blockquote>
<p>ahh, well GitHub soon I suppose :)</p>
</blockquote>
<p>I'm personally not a fan of git. And, especially with such a big repository as BRL-CAD, I'm expecting huge checkouts. Well, let's see.</p>



<a name="127913176"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127913176" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127913176">(Jun 11 2018 at 18:36)</a>:</h4>
<blockquote>
<p>what is your opinion on the difference between the old rtcheck and new rtcheck. It happens because of the direction of iteration of the lists as I had explained earlier.</p>
</blockquote>
<p>Yea, I saw it and thought: okay ;)</p>



<a name="127913372"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127913372" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127913372">(Jun 11 2018 at 18:41)</a>:</h4>
<p>hmm okay <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span>, still need a final answer on whether to replace old rtcheck while I wait for it, I will have a look at the MGED's overlap tool to fix the error.</p>



<a name="127946827"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127946827" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127946827">(Jun 12 2018 at 10:25)</a>:</h4>
<p>According to the <a href="https://sourceforge.net/p/brlcad/code/61110/" target="_blank" title="https://sourceforge.net/p/brlcad/code/61110/">r61110</a> g_lint was renamed to glint, so overlap tool was broken because it was expecting g_lint which no longer exists. So renaming g_lint to glint  in <em>src/tclscripts/mged/overlap.tcl</em> fixed it.</p>



<a name="127947077"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127947077" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127947077">(Jun 12 2018 at 10:32)</a>:</h4>
<p>I was thinking to add getting view information like az, el and size information as default values when the overlap tool is open. Because the defaults 0, 0 and 3.937008in (100mm)  for az, el and size is not helpful.</p>



<a name="127965648"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/127965648" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#127965648">(Jun 12 2018 at 17:51)</a>:</h4>
<p>I was wondering on what to do next, I started to read the checker.tcl file to understand it.</p>



<a name="128009610"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128009610" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128009610">(Jun 13 2018 at 13:55)</a>:</h4>
<blockquote>
<p>According to the <a href="https://sourceforge.net/p/brlcad/code/61110/" target="_blank" title="https://sourceforge.net/p/brlcad/code/61110/">r61110</a> g_lint was renamed to glint, so overlap tool was broken because it was expecting g_lint which no longer exists. So renaming g_lint to glint  in <em>src/tclscripts/mged/overlap.tcl</em> fixed it.</p>
</blockquote>
<p>Good catch Saran.  That warrants a "fixed bug" line in the top level NEWS file with your name on it.</p>



<a name="128009706"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128009706" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128009706">(Jun 13 2018 at 13:57)</a>:</h4>
<blockquote>
<p>I was wondering on what to do next, I started to read the checker.tcl file to understand it.</p>
</blockquote>
<p>I read through what you wrote on the ordering of old vs new rtcheck and didn't fully understand the situation.  Is the problem that one of them is not collapsing ordered pairs into the same result?  That is A overlaps B and B overlaps A is treated as two instead of one result?</p>



<a name="128009754"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128009754" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128009754">(Jun 13 2018 at 13:58)</a>:</h4>
<p>I believe the original intention is to just list such and  A and B pairing once, not twice</p>



<a name="128009814"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128009814" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128009814">(Jun 13 2018 at 13:59)</a>:</h4>
<p>regardless, users need the shortest useful list of overlaps because the typical workflow is to go through them one at a time for the "important" ones until all overlaps are below some size</p>



<a name="128009875"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128009875" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128009875">(Jun 13 2018 at 14:00)</a>:</h4>
<p>if you have that all working with the new rtcheck, I'd think your next step would be integrating the next thing the shell script was doing</p>



<a name="128014525"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128014525" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128014525">(Jun 13 2018 at 15:36)</a>:</h4>
<blockquote>
<blockquote>
<p>According to the <a href="https://sourceforge.net/p/brlcad/code/61110/" target="_blank" title="https://sourceforge.net/p/brlcad/code/61110/">r61110</a> g_lint was renamed to glint, so overlap tool was broken because it was expecting g_lint which no longer exists. So renaming g_lint to glint  in <em>src/tclscripts/mged/overlap.tcl</em> fixed it.</p>
</blockquote>
<p>Good catch Saran.  That warrants a "fixed bug" line in the top level NEWS file with your name on it.</p>
</blockquote>
<p>done :)</p>
<blockquote>
<blockquote>
<p>I was wondering on what to do next, I started to read the checker.tcl file to understand it.</p>
</blockquote>
<p>I read through what you wrote on the ordering of old vs new rtcheck and didn't fully understand the situation.  Is the problem that one of them is not collapsing ordered pairs into the same result?  That is A overlaps B and B overlaps A is treated as two instead of one result?</p>
</blockquote>
<p>Humm after actually scribbling the linkedlist on a paper and seeing the iteration it goes through, the direction should not matter, so what I told didn't make sense xD.<br>
So I started debugging and found out why:<br>
Original rtcheck, when it sees that a pair is seen in reverse it breaks and inserts the new pair before that and discards the old pair by setting the new_op-&gt; next = NULL. See lines 191-193 and 209 in rt/viewcheck.c. <br>
It cleverly does this by using a prev pointer which, I thought was kept in the for loop <em>(that checks for reverse pair)</em> just for reaching the end of the list. <br>
Now I need to find a way to do this in bu_list for my new rtcheck.</p>



<a name="128016214"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128016214" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128016214">(Jun 13 2018 at 16:09)</a>:</h4>
<p>Fixed! This is the final diff of the outputs for havoc.g <a href="https://www.diffchecker.com/aW9UNTRM" target="_blank" title="https://www.diffchecker.com/aW9UNTRM">https://www.diffchecker.com/aW9UNTRM</a> <em>(left is old and right is new)</em></p>



<a name="128016809"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128016809" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128016809">(Jun 13 2018 at 16:23)</a>:</h4>
<p>I ran with multiview and compared the outputs of 15 runs, there are still some differences in some frames :/ will work on it.</p>



<a name="128020564"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128020564" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128020564">(Jun 13 2018 at 17:45)</a>:</h4>
<p>BTW the behaviour of old rtcheck removing the link doesn't seem right to me. That could mean a loss of data</p>



<a name="128021343"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128021343" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128021343">(Jun 13 2018 at 18:02)</a>:</h4>
<p>like check this : <a href="https://www.diffchecker.com/6eUp2NXS" target="_blank" title="https://www.diffchecker.com/6eUp2NXS">https://www.diffchecker.com/6eUp2NXS</a><br>
I have print some extra information for debugging. Left is old and right is new.<br>
Look at line 84 the reverse pair it found was actually at position line 81.<br>
What the old rtcheck did was remove the pairs  on line 81 and 82 and inserted the pair at line 95.<br>
What the new rtcheck did was just remove the pair on line 81 only. <br>
old rtcheck just removed the information at line 82 which is not correct IMO.</p>



<a name="128021421"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128021421" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128021421">(Jun 13 2018 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> please have a look</p>



<a name="128022896"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128022896" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128022896">(Jun 13 2018 at 18:33)</a>:</h4>
<blockquote>
<p>like check this : <a href="https://www.diffchecker.com/6eUp2NXS" target="_blank" title="https://www.diffchecker.com/6eUp2NXS">https://www.diffchecker.com/6eUp2NXS</a><br>
I have print some extra information for debugging. Left is old and right is new.<br>
Look at line 84 the reverse pair it found was actually at position line 81.<br>
What the old rtcheck did was remove the pairs  on line 81 and 82 and inserted the pair at line 95.<br>
What the new rtcheck did was just remove the pair on line 81 only. <br>
old rtcheck just removed the information at line 82 which is not correct IMO.</p>
</blockquote>
<p>I'm confused: Does <em>old rtcheck</em> remove lines 81 and 82 and inserted line 95, or just removes line 82?</p>
<p>When I understood you right, <em>old rtcheck</em> replaces line 82 by line 95, and <em>new rtcheck</em> doesn't do this. But lines 82 and 95 differ by the number of matches, right?</p>



<a name="128023074"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128023074" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128023074">(Jun 13 2018 at 18:36)</a>:</h4>
<p>old rtcheck removes  pairs at line 81 and 82 to insert the pair on line 95(on left side)</p>



<a name="128023292"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128023292" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128023292">(Jun 13 2018 at 18:41)</a>:</h4>
<p>while inserting the new pair on line 85, it detects that a reverse pair <em>(the pair on line 81)</em> exist.<br>
Old rtcheck in attempt to remove this reverse pair, it makes the <code>next</code> pointer of pair at line 80 to pair line 85. But what it does is it discards the information on line 82 with it. Get it?</p>



<a name="128024435"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128024435" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128024435">(Jun 13 2018 at 19:04)</a>:</h4>
<p>what old rtcheck does:<br>
<a href="/user_uploads/1549/JLCm1ihd9effzb-Dt9Kae1Tb/Untitled-Diagram4.jpg" target="_blank" title="Untitled-Diagram4.jpg">representation</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/JLCm1ihd9effzb-Dt9Kae1Tb/Untitled-Diagram4.jpg" target="_blank" title="representation"><img src="/user_uploads/1549/JLCm1ihd9effzb-Dt9Kae1Tb/Untitled-Diagram4.jpg"></a></div>



<a name="128024687"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128024687" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128024687">(Jun 13 2018 at 19:11)</a>:</h4>
<p>what I did that gave the above diff which I think should be done. Since I am using bu_list it is a circular doubly linked list<br>
<a href="/user_uploads/1549/DRWRsqkaMc-eTaOi4bHNOQD7/Untitled-Diagram5.jpg" target="_blank" title="Untitled-Diagram5.jpg">representation2</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/DRWRsqkaMc-eTaOi4bHNOQD7/Untitled-Diagram5.jpg" target="_blank" title="representation2"><img src="/user_uploads/1549/DRWRsqkaMc-eTaOi4bHNOQD7/Untitled-Diagram5.jpg"></a></div>



<a name="128027285"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128027285" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128027285">(Jun 13 2018 at 20:08)</a>:</h4>
<p>OK, I see what you mean. The <code>prev_ol=op,</code> in line 189 of src/rt/viewcheck.c was probable unintentional (copy-n-paste error?).</p>



<a name="128027365"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128027365" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128027365">(Jun 13 2018 at 20:10)</a>:</h4>
<p>I think it serves the purpose when inserting at line 203, because it inserts new pairs at the end.</p>



<a name="128027436"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128027436" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128027436">(Jun 13 2018 at 20:12)</a>:</h4>
<p>but there is already one prev_ol = op on top too at line 174</p>



<a name="128027522"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128027522" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128027522">(Jun 13 2018 at 20:14)</a>:</h4>
<p>so either one of them could be unintentional but as you said line 189 seems like a copy paste error</p>



<a name="128027775"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128027775" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128027775">(Jun 13 2018 at 20:19)</a>:</h4>
<p>yeah definitely seems like a copy-n-paste error. Because the upper loop either returns when a duplicate is found or reaches the end of the list for insertion</p>



<a name="128029408"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128029408" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128029408">(Jun 13 2018 at 20:54)</a>:</h4>
<p>finally same, after removing that error in old rtcheck : <a href="https://www.diffchecker.com/2xw8qsYG" target="_blank" title="https://www.diffchecker.com/2xw8qsYG">https://www.diffchecker.com/2xw8qsYG</a></p>



<a name="128029751"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128029751" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128029751">(Jun 13 2018 at 21:01)</a>:</h4>
<p>So, it's OK now, I suppose?</p>



<a name="128029765"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128029765" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128029765">(Jun 13 2018 at 21:01)</a>:</h4>
<p>yeah good to go!</p>



<a name="128030066"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128030066" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128030066">(Jun 13 2018 at 21:06)</a>:</h4>
<p>just different ordering without that -P1 flag</p>



<a name="128060028"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128060028" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128060028">(Jun 14 2018 at 11:35)</a>:</h4>
<blockquote>
<p>if you have that all working with the new rtcheck, I'd think your next step would be integrating the next thing the shell script was doing</p>
</blockquote>
<p>We have not yet started with the shell script. Hence I had some basic questions related to the implementation, so that a plan can be made before proceeding.</p>



<a name="128060137"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128060137" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128060137">(Jun 14 2018 at 11:37)</a>:</h4>
<p>I am hoping to discuss it tonight with Daniel.</p>



<a name="128076500"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128076500" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128076500">(Jun 14 2018 at 17:43)</a>:</h4>
<blockquote>
<p>just different ordering without that -P1 flag</p>
</blockquote>
<p>This is because the parallel execution introduces an element of chance. Depending on how much time the different threads get from the operating system their results can show op in different orders.</p>



<a name="128076934"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128076934" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128076934">(Jun 14 2018 at 17:50)</a>:</h4>
<p>since the overlap tool requires one shell script and one tcl file. And our plan is to combine them into one right? <br>
So would it be like a command or an executable?</p>



<a name="128077059"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128077059" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128077059">(Jun 14 2018 at 17:52)</a>:</h4>
<p>how would it be possible to provide GUI like the checker.tcl, with a c/c++ file? like "Wrap C/C++ code to make it callable from Tcl" in this <a href="https://wiki.tcl.tk/3474" target="_blank" title="https://wiki.tcl.tk/3474">https://wiki.tcl.tk/3474</a>?</p>



<a name="128079660"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128079660" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128079660">(Jun 14 2018 at 18:44)</a>:</h4>
<p>Maybe I'm wrong, but the GUI can be still written in TCL/Tk, but it shouldn't call another program but work as mged or Archer by calling libged functions.</p>



<a name="128079959"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128079959" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128079959">(Jun 14 2018 at 18:50)</a>:</h4>
<p>by libged you mean MGED commands right? like it does in checker.tcl file line 1093 it calls the draw command :</p>
<div class="codehilite"><pre><span></span> if [catch {draw -C255/0/0 $path} path_error] {
    puts &quot;ERROR: $path_error&quot;
    }
</pre></div>



<a name="128080245"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128080245" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128080245">(Jun 14 2018 at 18:56)</a>:</h4>
<p>I am confused on why are we even converting the checker.tcl file to a C/C++ file? Aren't tcl files cross-compatible ?</p>



<a name="128080669"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128080669" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128080669">(Jun 14 2018 at 19:05)</a>:</h4>
<p>Hmm, I thought the main issue regarding portability is with the shell script <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a>.</p>



<a name="128080743"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128080743" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128080743">(Jun 14 2018 at 19:07)</a>:</h4>
<p>yeah the shell script has to be implemented in C. That I agree</p>



<a name="128080842"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128080842" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128080842">(Jun 14 2018 at 19:09)</a>:</h4>
<p>the shell script needs a list of objects to check overlaps for.</p>



<a name="128080846"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128080846" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128080846">(Jun 14 2018 at 19:09)</a>:</h4>
<p>Probable a mixture of TCL and libged. Maybe, <em>check_overlaps</em> has already everything what you need. However, I haven't looked at <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> closely yet.</p>



<a name="128080908"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128080908" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128080908">(Jun 14 2018 at 19:10)</a>:</h4>
<blockquote>
<p>the shell script needs a list of objects to check overlaps for.</p>
</blockquote>
<p>This is what the Tk GUI is for?</p>



<a name="128081024"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128081024" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128081024">(Jun 14 2018 at 19:12)</a>:</h4>
<p>like I was hoping like to click the Overlap Tool from a drop down menu, which shows a UI to input the objects. Then it runs the check_overlaps command and gives the ouput to the checker.tcl</p>



<a name="128081228"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128081228" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128081228">(Jun 14 2018 at 19:16)</a>:</h4>
<p>the script does basically run rtcheck and gqa 16 times with different az/el values ( 0, 45, 90, 135),then using a combination of text processing tools on the output to get just the region names and volume (multiplying max-depth with count). Then sorting and removing any duplicates. Saving this all to a pairing file which the checker.tcl reads</p>



<a name="128081614"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128081614" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128081614">(Jun 14 2018 at 19:26)</a>:</h4>
<p>OK, TCL should have the necessary text processing functions build in already.<br>
Left <em>gqa</em>.</p>



<a name="128081662"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128081662" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128081662">(Jun 14 2018 at 19:27)</a>:</h4>
<p>A TCL file that calls the check_overlaps command and reads the ouput using regex.</p>



<a name="128081714"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128081714" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128081714">(Jun 14 2018 at 19:28)</a>:</h4>
<p>Something like this.</p>



<a name="128081826"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128081826" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128081826">(Jun 14 2018 at 19:30)</a>:</h4>
<p>yeah sounds alright to me. Shouldn't we remove the requirement of files? and keep everything in memory when we invoke checker.tcl ?</p>



<a name="128081856"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128081856" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128081856">(Jun 14 2018 at 19:31)</a>:</h4>
<p>You should look for <em>gqa</em> and see if there is already a libged function for it. There is already some functionality in libanalyze to support <em>gqa</em> functionality, but I don't know how it's used.</p>



<a name="128081913"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128081913" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128081913">(Jun 14 2018 at 19:32)</a>:</h4>
<blockquote>
<p>yeah sounds alright to me. Shouldn't we remove the requirement of files? and keep everything in memory when we invoke checker.tcl ?</p>
</blockquote>
<p>Definitely!</p>



<a name="128081936"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128081936" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128081936">(Jun 14 2018 at 19:33)</a>:</h4>
<blockquote>
<p>You should look for <em>gqa</em> and see if there is already a libged function for it. There is already some functionality in libanalyze to support <em>gqa</em> functionality, but I don't know how it's used.</p>
</blockquote>
<p>well <em>gqa</em> is already a libged function. Infact the executable version just calls <em>ged_gqa</em></p>



<a name="128081986"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128081986" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128081986">(Jun 14 2018 at 19:34)</a>:</h4>
<p>So, we are fine there :)</p>



<a name="128082062"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128082062" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128082062">(Jun 14 2018 at 19:36)</a>:</h4>
<p>gqa uses the libanalyze function <code>add_unique_pair</code> in libanalyze/overlaps.c to basically check for duplicates and increase the count and update the max depth</p>



<a name="128082166"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128082166" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128082166">(Jun 14 2018 at 19:38)</a>:</h4>
<blockquote>
<p>So, we are fine there :)</p>
</blockquote>
<p>yeah :)</p>
<blockquote>
<blockquote>
<p>yeah sounds alright to me. Shouldn't we remove the requirement of files? and keep everything in memory when we invoke checker.tcl ?</p>
</blockquote>
<p>Definitely!</p>
</blockquote>
<p>So I was looking at the usage for check.tcl. It expects <code>check [-F] [overlaps_file]</code> so the check.tcl file would need some change.</p>



<a name="128082249"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128082249" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128082249">(Jun 14 2018 at 19:40)</a>:</h4>
<blockquote>
<p>gqa uses the libanalyze function <code>add_unique_pair</code> in libanalyze/overlaps.c to basically check for duplicates and increase the count and update the max depth</p>
</blockquote>
<p>This is another issue, which Sean has mentioned too, that several functions have the similar functionality to shoot a grid of rays and analyzing the callbacks. This is something you should look at in the next stage, when you are familiar with gqa and did the checker GUI.</p>



<a name="128082415"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128082415" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128082415">(Jun 14 2018 at 19:45)</a>:</h4>
<blockquote>
<p>This is another issue, which Sean has mentioned too, that several functions have the similar functionality to shoot a grid of rays and analyzing the callbacks. This is something you should look at in the next stage, when you are familiar with gqa and did the checker GUI.</p>
</blockquote>
<p>okay got it.</p>



<a name="128082568"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128082568" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128082568">(Jun 14 2018 at 19:48)</a>:</h4>
<p>to get started with checker GUI, I will first make a simple UI with a text box and calls the check_overlaps command with the inputed objects.</p>



<a name="128132826"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128132826" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128132826">(Jun 15 2018 at 18:06)</a>:</h4>
<p>Got this far, then my ISP went down :(. Using mobile data now.<br>
<a href="/user_uploads/1549/4a29VISNW4f7gvqtBzpFaBeM/Screenshot-from-2018-06-15-23-21-34.png" target="_blank" title="Screenshot-from-2018-06-15-23-21-34.png">Screenshot-from-2018-06-15-23-21-34.png</a><br>
right now I am just getting the values and printing instantly without storing.<br>
I was planning to do something like a database using dicts with keys as reg1, reg2 and volume.</p>
<div class="message_inline_image"><a href="/user_uploads/1549/4a29VISNW4f7gvqtBzpFaBeM/Screenshot-from-2018-06-15-23-21-34.png" target="_blank" title="Screenshot-from-2018-06-15-23-21-34.png"><img src="/user_uploads/1549/4a29VISNW4f7gvqtBzpFaBeM/Screenshot-from-2018-06-15-23-21-34.png"></a></div>



<a name="128133453"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128133453" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128133453">(Jun 15 2018 at 18:20)</a>:</h4>
<p>oh just received the mail regarding the first evaluations, thank you for the feedback <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span></p>



<a name="128136674"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128136674" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128136674">(Jun 15 2018 at 19:25)</a>:</h4>
<p>Maybe you can store the overlaps in a list similar to the one you created for <em>check_overlaps()</em>?</p>



<a name="128155005"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128155005" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128155005">(Jun 16 2018 at 04:15)</a>:</h4>
<p>Yep, that was the plan. But linked list not there in Tcl. I'll read up and find something to use for it.</p>



<a name="128175467"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128175467" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128175467">(Jun 16 2018 at 17:38)</a>:</h4>
<p>This looks fine<br>
<a href="http://www.wellho.net/resources/ex.php?item=t245/itlist" target="_blank" title="http://www.wellho.net/resources/ex.php?item=t245/itlist">http://www.wellho.net/resources/ex.php?item=t245/itlist</a></p>



<a name="128175690"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128175690" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128175690">(Jun 16 2018 at 17:47)</a>:</h4>
<p>For example. Another possibility would be to use a set of lists. Each one for the first object, second object, number of overlaps, depth, etc..</p>



<a name="128175735"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128175735" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128175735">(Jun 16 2018 at 17:48)</a>:</h4>
<p>But, the example you found is more elegant.</p>



<a name="128175794"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128175794" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128175794">(Jun 16 2018 at 17:50)</a>:</h4>
<p>yeah true, the set of lists was the first thing that came to mind but using objects I would be able deal with them as pairs</p>



<a name="128175799"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128175799" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128175799">(Jun 16 2018 at 17:51)</a>:</h4>
<p>and have a common variable containing everything</p>



<a name="128179342"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128179342" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128179342">(Jun 16 2018 at 20:10)</a>:</h4>
<p>That is done, I also added a sorting function which is passed to <code>lsort -command</code>.<br>
Next things to do include <em>gqa</em> command's output, then imitate the behaviour of <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> of grouping the pairs by name with increasing volume accordingly.</p>



<a name="128248303"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128248303" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128248303">(Jun 18 2018 at 14:07)</a>:</h4>
<p>So I was going through <em>src/tclscripts/checker/check.sh</em> <br>
On line 141, I was wondering why keep that line inside the loops that iterate the az, el values.</p>



<a name="128249734"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128249734" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128249734">(Jun 18 2018 at 14:33)</a>:</h4>
<p>if line 139 was not appending to the $OBJ.pairings with <code>&gt;&gt;</code> I would have understood why. <br>
But keeping both line 139 and line 141 is actually redundant, was it a typo?</p>



<a name="128259785"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128259785" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128259785">(Jun 18 2018 at 17:56)</a>:</h4>
<p>After adjusting the possible typo in <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a>,  and pointing <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> to the compiled rtcheck instead of prebuilt one.<br>
I was able to get this <a href="https://www.diffchecker.com/f4Kn2zVh" target="_blank" title="https://www.diffchecker.com/f4Kn2zVh">https://www.diffchecker.com/f4Kn2zVh</a>.<br>
There is minute changes in rounding/decimal places. On left is ouput from <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> and right is the output of my tool</p>



<a name="128262565"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128262565" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128262565">(Jun 18 2018 at 18:44)</a>:</h4>
<p>Well yes, it looks like line 141 should be put after the az-el loop.</p>



<a name="128299311"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128299311" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128299311">(Jun 19 2018 at 11:15)</a>:</h4>
<p>Cool thanks for checking it out.</p>



<a name="128302200"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128302200" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128302200">(Jun 19 2018 at 12:36)</a>:</h4>
<p>I removed the class and objects now using a nested list. It is way less complex than using classes.</p>



<a name="128314247"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128314247" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128314247">(Jun 19 2018 at 16:48)</a>:</h4>
<p>I was testing the overlap tool with havoc.g.  It was crashing, to inspect it :<br>
I ran <code>check_overlaps -s1024 -a45 -e0 havoc</code> it gave a seg fault. <a href="https://hastebin.com/ezagerajet.cs" target="_blank" title="https://hastebin.com/ezagerajet.cs">Backtrace</a><br>
I also ran <code>gqa -q -Ao -g10mm,10mm havoc</code> that too gave seg fault.  <a href="https://hastebin.com/upipimicul.cs" target="_blank" title="https://hastebin.com/upipimicul.cs">Backtrace</a><br>
Running same with rtcheck in terminal is fine : <a href="https://hastebin.com/yobawabira.sql" target="_blank" title="https://hastebin.com/yobawabira.sql">log</a> also for gqa : <a href="https://hastebin.com/vebelonovi.swift" target="_blank" title="https://hastebin.com/vebelonovi.swift">log</a>. Those extra messages being printed by bu_log is causing the issue in MGED I think judging by the backtrace.<br>
But there are other messages like <em>Trying initial grid spacing: 10 mm</em> in gqa which are printed using bu_log. in <em>libged/gqa.c</em> . Am I missing something here?</p>



<a name="128317685"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128317685" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128317685">(Jun 19 2018 at 18:02)</a>:</h4>
<p>Any suggestions to link the tools together removing the file dependency?</p>



<a name="128329906"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128329906" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128329906">(Jun 19 2018 at 21:39)</a>:</h4>
<p>Hmm isn't it better to store the overlaps as a file ?<br>
Because it's a lengthy process - running check overlaps 16 times and gqa at 1mm,1mm. <br>
The user shouldn't have to wait everytime the tool is opened, how about display a window asking to either "load previous data" or " create new overlaps data"?</p>



<a name="128436856"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128436856" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128436856">(Jun 21 2018 at 20:05)</a>:</h4>
<p>I made some progress with the above idea :)<br>
Now a menu is displayed : <a href="/user_uploads/1549/eTE7w8aStEz9jYrwU9CZAVpO/overlapmenu.png" target="_blank" title="overlapmenu.png">overlapmenu.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/eTE7w8aStEz9jYrwU9CZAVpO/overlapmenu.png" target="_blank" title="overlapmenu.png"><img src="/user_uploads/1549/eTE7w8aStEz9jYrwU9CZAVpO/overlapmenu.png"></a></div><p>The user has three options - 1) Browse for overlaps file, 2) Create new overlap file, 3) if overlap file is found in the directory of the db then user can launch checker directly.<br>
Browse menu is pretty straightforward, once browsed it displays the status and Go is enabled : <a href="/user_uploads/1549/zaoX1qLs35KjxAjT6t7S3XWt/browse.png" target="_blank" title="browse.png">browse.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/zaoX1qLs35KjxAjT6t7S3XWt/browse.png" target="_blank" title="browse.png"><img src="/user_uploads/1549/zaoX1qLs35KjxAjT6t7S3XWt/browse.png"></a></div><p>Create new overlaps file launches the tool I made: <a href="/user_uploads/1549/2Han9G8m7ysQchBGtWVHecHT/overlaptool.png" target="_blank" title="overlaptool.png">overlaptool.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/2Han9G8m7ysQchBGtWVHecHT/overlaptool.png" target="_blank" title="overlaptool.png"><img src="/user_uploads/1549/2Han9G8m7ysQchBGtWVHecHT/overlaptool.png"></a></div><p>which closes the overlap menu and opens checker when overlaps file is created.<br>
<a href="/user_uploads/1549/423PdI2GtLC1l_-kvZkOUGhJ/check.png" target="_blank" title="check.png">check.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/423PdI2GtLC1l_-kvZkOUGhJ/check.png" target="_blank" title="check.png"><img src="/user_uploads/1549/423PdI2GtLC1l_-kvZkOUGhJ/check.png"></a></div>



<a name="128437063"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128437063" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128437063">(Jun 21 2018 at 20:09)</a>:</h4>
<p>right now menu+overlap tool is in one tcl file and the checker separate.</p>



<a name="128564184"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128564184" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128564184">(Jun 24 2018 at 17:59)</a>:</h4>
<blockquote>
<p>I was testing the overlap tool with havoc.g.  It was crashing, to inspect it :<br>
I ran <code>check_overlaps -s1024 -a45 -e0 havoc</code> it gave a seg fault. <a href="https://hastebin.com/ezagerajet.cs" target="_blank" title="https://hastebin.com/ezagerajet.cs">Backtrace</a><br>
I also ran <code>gqa -q -Ao -g10mm,10mm havoc</code> that too gave seg fault.  <a href="https://hastebin.com/upipimicul.cs" target="_blank" title="https://hastebin.com/upipimicul.cs">Backtrace</a><br>
Running same with rtcheck in terminal is fine : <a href="https://hastebin.com/yobawabira.sql" target="_blank" title="https://hastebin.com/yobawabira.sql">log</a> also for gqa : <a href="https://hastebin.com/vebelonovi.swift" target="_blank" title="https://hastebin.com/vebelonovi.swift">log</a>. Those extra messages being printed by bu_log is causing the issue in MGED I think judging by the backtrace.<br>
But there are other messages like <em>Trying initial grid spacing: 10 mm</em> in gqa which are printed using bu_log. in <em>libged/gqa.c</em> . Am I missing something here?</p>
</blockquote>
<p>I can't see anything at <a href="http://hastebin.com" target="_blank" title="http://hastebin.com">hastebin.com</a>. Therefore, I tried it myself and got a crash in <em>Tk_FreeGC()</em> while outputting a "Root solver reported %d intersections != {0, 2, 4} on %s" error message. Because it works with the <code>-P1</code> option, I'm in favor for a multithread related issue.</p>



<a name="128565442"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128565442" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128565442">(Jun 24 2018 at 18:49)</a>:</h4>
<blockquote>
<p>I can't see anything at <a href="http://hastebin.com" target="_blank" title="http://hastebin.com">hastebin.com</a>. Therefore, I tried it myself and got a crash in <em>Tk_FreeGC()</em> while outputting a "Root solver reported %d intersections != {0, 2, 4} on %s" error message. Because it works with the <code>-P1</code> option, I'm in favor for a multithread related issue.</p>
</blockquote>
<p>Then it is a multi thread issue, but unclear on why it happens. It once didn't crash and actually worked so unexpected behaviour can be linked to threads again.</p>



<a name="128565485"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128565485" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128565485">(Jun 24 2018 at 18:50)</a>:</h4>
<p>Regarding the usage of files: I prefer to not use files for handing over data from one function to another but to use the direct way. If you  want however to use them to save the results of an analysis run for later evaluation its another story and maybe reasonable.</p>



<a name="128565532"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128565532" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128565532">(Jun 24 2018 at 18:52)</a>:</h4>
<p>yeah the use of files not only helps to save time spent in finding out the overlaps and there is also a marked file generated by the tool to save progress of resolved overlaps</p>



<a name="128565533"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128565533" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128565533">(Jun 24 2018 at 18:52)</a>:</h4>
<blockquote>
<p>Then it is a multi thread issue, but unclear on why it happens. It once didn't crash and actually worked so unexpected behaviour can be linked to threads again.</p>
</blockquote>
<p>It looks like the log call hook to TCL/Tk isn't protected by a mutex(?)</p>



<a name="128565656"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128565656" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128565656">(Jun 24 2018 at 18:57)</a>:</h4>
<p>That looks like it, lemme try protecting it.</p>



<a name="128589045"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128589045" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128589045">(Jun 25 2018 at 08:29)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> that didn't work, I wrapped with <code>bu_semaphore_acquire(BU_SEM_SYSCALL)</code> and <code>bu_semaphore_release(BU_SEM_SYSCALL)</code> It still crashed :/</p>
<p>I also noticed a weird behaviour. Here is how I was able to reproduce it : <br>
1) Run <em>check_overlaps -a45 -e0 -P1 havoc</em><br>
2) Run <em>check_overlaps -a45 -e0 havoc</em> (without P option) <br>
Then MGED would freeze. The command appears twice: <a href="/user_uploads/1549/31SgXTWambt234_nh1dVWOIU/Screenshot-from-2018-06-25-13-45-43.png" target="_blank" title="Screenshot-from-2018-06-25-13-45-43.png"></a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/31SgXTWambt234_nh1dVWOIU/Screenshot-from-2018-06-25-13-45-43.png" target="_blank" title=""><img src="/user_uploads/1549/31SgXTWambt234_nh1dVWOIU/Screenshot-from-2018-06-25-13-45-43.png"></a></div><p>Another weird behaviour. Steps:<br>
1) Run <em>check_overlaps -a45 -e0 -P1 havoc</em> (7 root solver messages)<br>
2) Run <em>check_overlaps -a45 -e0 -P1 havoc</em> (Only 3 root solver messages)<br>
3) Run <em>check_overlaps -a45 -e0 -P1 havoc</em> (NO root solver messages)<br>
4) Run <em>check_overlaps -a45 -e0 havoc</em> (without P option, NO crashes)<br>
Then for all subsequent runs root solver messages don't show up.</p>



<a name="128612584"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128612584" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128612584">(Jun 25 2018 at 17:36)</a>:</h4>
<p>That the root solver messages go away is surprising, that the havoc (or to be more precise the cone primitive) has issues is not, e.g. <a href="https://sourceforge.net/p/brlcad/bugs/288" target="_blank" title="https://sourceforge.net/p/brlcad/bugs/288">https://sourceforge.net/p/brlcad/bugs/288</a></p>



<a name="128612785"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128612785" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128612785">(Jun 25 2018 at 17:41)</a>:</h4>
<p>hmm interesting..</p>



<a name="128613082"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128613082" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128613082">(Jun 25 2018 at 17:47)</a>:</h4>
<p>I found one more strange behaviour.  This time its gqa,<br>
Run <em>gqa -q -Ao -g30mm,30mm havoc</em> and then run <em>gqa -q -Ao -g20mm,20mm havoc</em>. MGED gets frozen with nothing happening.</p>



<a name="128613167"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128613167" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128613167">(Jun 25 2018 at 17:49)</a>:</h4>
<p>"processing with grid spacing ..." message appears twice</p>



<a name="128613645"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128613645" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128613645">(Jun 25 2018 at 17:58)</a>:</h4>
<blockquote>
<p>I found one more strange behaviour.  This time its gqa,<br>
Run <em>gqa -q -Ao -g30mm,30mm havoc</em> and then run <em>gqa -q -Ao -g20mm,20mm havoc</em>. MGED gets frozen with nothing happening.</p>
</blockquote>
<p>The debugger shows the same reason here: During ray-trace <em>bu_log()</em> is called which results in a segmentation fault in <em>Tk_FreeGC()</em>.</p>



<a name="128613833"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128613833" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128613833">(Jun 25 2018 at 18:01)</a>:</h4>
<p>It gets stuck here then I have to use crtl+c to show this backtrace on gdb <a href="https://hastebin.com/yukugegefa" target="_blank" title="https://hastebin.com/yukugegefa">https://hastebin.com/yukugegefa</a></p>



<a name="128617422"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128617422" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128617422">(Jun 25 2018 at 19:12)</a>:</h4>
<p>Hmm, strange.</p>
<blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> that didn't work, I wrapped with <code>bu_semaphore_acquire(BU_SEM_SYSCALL)</code> and <code>bu_semaphore_release(BU_SEM_SYSCALL)</code> It still crashed :/</p>
</blockquote>
<p>What did you wrapped with the semaphore?</p>



<a name="128618510"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128618510" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128618510">(Jun 25 2018 at 19:35)</a>:</h4>
<p>I wrapped <code>bu_hook_call(...)</code> on line 85 in <em>src/libbu/log.c</em>, since it seemed the most appropriate.<br>
As that didn't work, I removed the previous changes and  tried with <code>call_hook-&gt;hookfunc(...)</code> on line 83 in <em>src/libbu/hook.c</em>.<br>
Also with <code>Tcl_Eval(...)</code> on line 162 in <em>src/mged/cmd.c</em> since it seemed like the entry to TCL/Tk.<br>
The last two attempts also didn't work and required including <em>bu/parallel.h</em> which seemed not right.</p>



<a name="128670783"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128670783" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128670783">(Jun 26 2018 at 18:14)</a>:</h4>
<p>BTW this is the work I have done so far for removing the <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a>.<br>
<a href="/user_uploads/1549/IBRc2gBKhdlf-wpjeilNeOlw/overlaps_tool.patch" target="_blank" title="overlaps_tool.patch">overlaps_tool.patch</a> <br>
After patching run from mged using <em>overlaps_tool [-F] [overlap_file]</em> (If overlap file is mentioned, then no menu will be shown, directly runs the checker tool)</p>



<a name="128671187"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128671187" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128671187">(Jun 26 2018 at 18:21)</a>:</h4>
<blockquote>
<p>I wrapped <code>bu_hook_call(...)</code> on line 85 in <em>src/libbu/log.c</em>, since it seemed the most appropriate.</p>
</blockquote>
<p>The whole <em>bu_log()</em> doesn't look thread safe. See for example at the global variables below the header in src/libbu/log.c.<br>
However, I don't think that these are the reason for the crash. I suppose it is something with the TCL call, but what?</p>



<a name="128671396"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128671396" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128671396">(Jun 26 2018 at 18:25)</a>:</h4>
<blockquote>
<p>The whole <em>bu_log()</em> doesn't look thread safe. See for example at the global variables below the header in src/libbu/log.c.</p>
</blockquote>
<p>Yeah that is true!</p>



<a name="128672290"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128672290" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128672290">(Jun 26 2018 at 18:41)</a>:</h4>
<p>even a simple message like <code>bu_log("%s\n",reg1-&gt;reg_name);</code> at the end in overlapHandler(), in check_overlaps.c can crash MGED</p>



<a name="128672343"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128672343" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128672343">(Jun 26 2018 at 18:42)</a>:</h4>
<blockquote>
<p>BTW this is the work I have done so far for removing the <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a>.<br>
<a href="/user_uploads/1549/IBRc2gBKhdlf-wpjeilNeOlw/overlaps_tool.patch" target="_blank" title="overlaps_tool.patch">overlaps_tool.patch</a> <br>
After patching run from mged using <em>overlaps_tool [-F] [overlap_file]</em> (If overlap file is mentioned, then no menu will be shown, directly runs the checker tool)</p>
</blockquote>
<p>Thanks, I'll have a look at it. I'ts probably the best to proceed with this.</p>



<a name="128672665"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128672665" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128672665">(Jun 26 2018 at 18:48)</a>:</h4>
<blockquote>
<p>even a simple message like <code>bu_log("%s\n",reg1-&gt;reg_name);</code> at the end in overlapHandler(), in check_overlaps.c can crash MGED</p>
</blockquote>
<p>welp its the same deal here too, with -P1 it works fine!</p>



<a name="128673696"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128673696" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128673696">(Jun 26 2018 at 19:07)</a>:</h4>
<p>I've just looked at the mged code to see which semaphores there are used. But, I could find only one call to <em>bu_semaphore_release()</em>, no call to <em>bu_semaphore_acquire()</em>.</p>



<a name="128673777"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128673777" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128673777">(Jun 26 2018 at 19:08)</a>:</h4>
<blockquote>
<p>welp its the same deal here too, with -P1 it works fine!</p>
</blockquote>
<p>Yes, it works with <code>-P1</code> or if the algorithm runs in another process.</p>



<a name="128673978"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128673978" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128673978">(Jun 26 2018 at 19:12)</a>:</h4>
<blockquote>
<p>I've just looked at the mged code to see which semaphores there are used. But, I could find only one call to <em>bu_semaphore_release()</em>, no call to <em>bu_semaphore_acquire()</em>.</p>
</blockquote>
<p>By MGED's code where do you mean? Did you try adding <em>bu_semaphore_acquire()</em> before the <em>bu_semaphore_release()</em> ?  or could it like it is acquired somewhere else..</p>
<blockquote>
<p>Yes, it works with <code>-P1</code> or if the algorithm runs in another process.</p>
</blockquote>
<p>Didn't understand the algorithm runs in another process. How do we do that?</p>



<a name="128674729"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128674729" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128674729">(Jun 26 2018 at 19:28)</a>:</h4>
<blockquote>
<p>By MGED's code where do you mean? Did you try adding <em>bu_semaphore_acquire()</em> before the <em>bu_semaphore_release()</em> ?  or could it like it is acquired somewhere else..</p>
</blockquote>
<p>I did simply a grep on BU_SEM_ in the src/mged directory.<br>
I cannot test setting <em>bu_semaphore_acquire()</em> now because this laptop has only one core (it's an old one).</p>
<blockquote>
<p>Didn't understand the algorithm runs in another process. How do we do that?</p>
</blockquote>
<p>If <em>rtcheck</em> is called to execute the algorithm it runs in another process. I.e., <em>mged</em> and <em>rtcheck</em> run in different processes.</p>



<a name="128674846"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128674846" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128674846">(Jun 26 2018 at 19:30)</a>:</h4>
<blockquote>
<p>I cannot test setting <em>bu_semaphore_acquire()</em> now because this laptop has only one core (it's an old one).</p>
</blockquote>
<p>Okay I will try to find it and check it out.</p>
<blockquote>
<p>If <em>rtcheck</em> is called to execute the algorithm it runs in another process. I.e., <em>mged</em> and <em>rtcheck</em> run in different processes.</p>
</blockquote>
<p>oh yeah that is right.</p>



<a name="128675972"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128675972" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128675972">(Jun 26 2018 at 19:50)</a>:</h4>
<p>Hmm that is in cmd.c in the function <code>cmdline(struct bu_vls *vp, int record)</code> but cmdline is never called according to gdb when I run check_overlaps.<br>
So that didn't help but good catch :)</p>



<a name="128724795"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128724795" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128724795">(Jun 27 2018 at 16:29)</a>:</h4>
<p>It reminds me on <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=171353" target="_blank" title="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=171353">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=171353</a></p>



<a name="128725369"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128725369" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128725369">(Jun 27 2018 at 16:40)</a>:</h4>
<p>Yeah looks quite similar, and seems fixed with Tcl 8.4.4. But we are running tcl 8.5.19 (? According to NEWS) so should have been fixed.</p>



<a name="128725534"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128725534" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128725534">(Jun 27 2018 at 16:44)</a>:</h4>
<p>still why can't we make the entry point to Tcl single threaded</p>



<a name="128725925"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128725925" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128725925">(Jun 27 2018 at 16:52)</a>:</h4>
<blockquote>
<p>Yeah looks quite similar, and seems fixed with Tcl 8.4.4. But we are running tcl 8.5.19 (? According to NEWS) so should have been fixed.</p>
</blockquote>
<p>They fixed another part of Tk (I think it was Tkinter). Tk_FreeGC() and TkGetDisplay() are still the same.</p>



<a name="128725972"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128725972" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128725972">(Jun 27 2018 at 16:53)</a>:</h4>
<blockquote>
<p>still why can't we make the entry point to Tcl single threaded</p>
</blockquote>
<p>Because TkGetDisplay() uses thread specific memory. I.e., the call must come from the main thread, otherwise it won't find the display.</p>



<a name="128726152"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128726152" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128726152">(Jun 27 2018 at 16:57)</a>:</h4>
<blockquote>
<p>They fixed another part of Tk (I think it was Tkinter). Tk_FreeGC() and TkGetDisplay() are still the same.</p>
</blockquote>
<p>hmm that is a bummer!</p>



<a name="128726221"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128726221" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128726221">(Jun 27 2018 at 16:58)</a>:</h4>
<p>Maybe we can apply the patch they did for tkinter</p>



<a name="128727050"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128727050" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128727050">(Jun 27 2018 at 17:16)</a>:</h4>
<p>hmm running <em>output_hook</em> command first and then running <em>check_overlaps -a45 -e0 havoc</em> seems to solve the issue</p>



<a name="128727105"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128727105" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128727105">(Jun 27 2018 at 17:17)</a>:</h4>
<p>but the color of bu_log messages change from red to blue and order also changes i.e it gets printed at the end only</p>



<a name="128727222"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128727222" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128727222">(Jun 27 2018 at 17:19)</a>:</h4>
<p>because it deletes the existing hook</p>



<a name="128727679"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128727679" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128727679">(Jun 27 2018 at 17:29)</a>:</h4>
<p>the default output_hook command is <em>output_callback</em></p>



<a name="128728901"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128728901" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128728901">(Jun 27 2018 at 17:53)</a>:</h4>
<p>I send an email to the developer mailing list to find out if it's reasonable to fix the Tk binding. It should be possible (in one post they write about "specific APIs for queuing events from one thread into another") but I couldn't find a hint in the Tkinter history yet.</p>
<p>Or, one could do it the same way as in Archer: Send the bu_log() messages to the console (?)</p>
<p>Or, one could allow single thread ged commands only.</p>



<a name="128729037"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128729037" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128729037">(Jun 27 2018 at 17:56)</a>:</h4>
<p>For me the Archer way seems the best. After all these are log messages and shouldn't disturb the user.</p>



<a name="128729211"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128729211" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128729211">(Jun 27 2018 at 18:00)</a>:</h4>
<p>BTW did you get a chance to look at the overlaps tool I sent yesterday. Since I am still learning Tcl/Tk, I was hoping for some feedback to improve the code.</p>



<a name="128731982"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128731982" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128731982">(Jun 27 2018 at 18:54)</a>:</h4>
<blockquote>
<p>BTW did you get a chance to look at the overlaps tool I sent yesterday. Since I am still learning Tcl/Tk, I was hoping for some feedback to improve the code.</p>
</blockquote>
<p>Hmm, how can I run it?</p>



<a name="128732012"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128732012" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128732012">(Jun 27 2018 at 18:55)</a>:</h4>
<p><em>overlaps_tool</em></p>



<a name="128732442"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128732442" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128732442">(Jun 27 2018 at 19:04)</a>:</h4>
<p>The <em>Go</em> results in wild db_lookup() messages. Is this supposed to be so at the moment?</p>



<a name="128732533"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128732533" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128732533">(Jun 27 2018 at 19:06)</a>:</h4>
<p>I have not seen any messages like that</p>



<a name="128732568"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128732568" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128732568">(Jun 27 2018 at 19:07)</a>:</h4>
<p>which go button BTW? the menu's or the overlap file one? edit: nvm there is only one GO</p>



<a name="128732664"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128732664" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128732664">(Jun 27 2018 at 19:09)</a>:</h4>
<div class="codehilite"><pre><span></span>db_lookup(v��������5v$) failed: v��������5v$ does not exist
db_string_to_path() of &#39;v��������5v$&#39; failed on &#39;v��������5v$&#39;
</pre></div>



<a name="128732738"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128732738" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128732738">(Jun 27 2018 at 19:10)</a>:</h4>
<p>oh that looks bad :O. Can you please tell me how to reproduce this?</p>



<a name="128732865"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128732865" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128732865">(Jun 27 2018 at 19:13)</a>:</h4>
<p>It was the truck with g4.</p>



<a name="128732928"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128732928" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128732928">(Jun 27 2018 at 19:14)</a>:</h4>
<p>The path to the overlaps file is <a href="http://truck.g.ck/ck.truck.g.overlaps" target="_blank" title="http://truck.g.ck/ck.truck.g.overlaps">truck.g.ck/ck.truck.g.overlaps</a></p>



<a name="128732948"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128732948" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128732948">(Jun 27 2018 at 19:15)</a>:</h4>
<p>hmm that sounds alright. Can you check the overlaps file in that folder?</p>



<a name="128733075"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128733075" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128733075">(Jun 27 2018 at 19:18)</a>:</h4>
<div class="codehilite"><pre><span></span>/g4/r136 /g4/r176 305504.8500
/g4/r54 /g4/r74 34041.2306
/g4/r59 /g4/r74 34036.0681
/g4/r69 /g4/r80 33660.9235
/g4/r64 /g4/r80 33648.8302
/g4/r12 /g4/r25 16537.3320
/g4/r20 /g4/r27 16537.3171
/g4/r103 /g4/r105 15767.0500
/g4/r104 /g4/r105 15767.0500
/g4/r103 /g4/r93 14959.0125
/g4/r104 /g4/r95 14959.0125
/g4/r3 /g4/r93 4313.0296
/g4/r3 /g4/r95 4311.5429
/g4/r136 /g4/r179 705.6438
/g4/r178 /g4/r179 705.6438
/g4/r136 /g4/r180 700.0875
/g4/r119 /g4/r93 685.8000
/g4/r119 /g4/r95 685.8000
/g4/r25 /g4/r3 122.2375
/g4/r1 /g4/r27 81.1188
/g4/r1 /g4/r25 81.0265
/g4/r27 /g4/r3 80.9625
/g4/r121 /g4/r122 0.0000
</pre></div>



<a name="128733106"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128733106" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128733106">(Jun 27 2018 at 19:19)</a>:</h4>
<p>yeah that is as expected!</p>



<a name="128733235"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128733235" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128733235">(Jun 27 2018 at 19:22)</a>:</h4>
<p><a href="/user_uploads/1549/dKxsBTSeith84mEPBP-fd5ZH/Screenshot-from-2018-06-28-00-51-08.png" target="_blank" title="Screenshot-from-2018-06-28-00-51-08.png">Screenshot-from-2018-06-28-00-51-08.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/dKxsBTSeith84mEPBP-fd5ZH/Screenshot-from-2018-06-28-00-51-08.png" target="_blank" title="Screenshot-from-2018-06-28-00-51-08.png"><img src="/user_uploads/1549/dKxsBTSeith84mEPBP-fd5ZH/Screenshot-from-2018-06-28-00-51-08.png"></a></div>



<a name="128733257"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128733257" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128733257">(Jun 27 2018 at 19:22)</a>:</h4>
<p>When I restart the overlap_tool it works with the existing file.</p>



<a name="128733301"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128733301" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128733301">(Jun 27 2018 at 19:23)</a>:</h4>
<p>yeah it loads from previously generated overlaps file. So with that no wild db_lookup messages?</p>



<a name="128734398"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128734398" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128734398">(Jun 27 2018 at 19:49)</a>:</h4>
<p>Right, but after hitting "Create New Overlaps File" I get no window with the overlaps as in your screenshot.</p>



<a name="128734487"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128734487" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128734487">(Jun 27 2018 at 19:50)</a>:</h4>
<p>After creating new overlaps it loads the created new overlaps file in the menu and ready to run. That window in screenshot is after pressing the Go button on the menu once it is loaded</p>



<a name="128784188"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128784188" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128784188">(Jun 28 2018 at 17:39)</a>:</h4>
<p>I was trying to visualize gqa using <a href="http://geogebra.org" target="_blank" title="http://geogebra.org">geogebra.org</a> with the coordinates printed out with -d option. Now I have an idea of how gqa shoots the ray! I am impressed by how it works like shooting the rays in all 3 axis covering the whole bounding box with uniform grid spacing.</p>



<a name="128785437"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128785437" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128785437">(Jun 28 2018 at 18:03)</a>:</h4>
<p>I also like how it skips the repeated rays when refining to a lower grid spacing</p>



<a name="128786627"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128786627" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128786627">(Jun 28 2018 at 18:28)</a>:</h4>
<p>fixed a small bug  with gqa :) <a href="https://sourceforge.net/p/brlcad/code/71101/" target="_blank" title="https://sourceforge.net/p/brlcad/code/71101/">r71101</a></p>



<a name="128788742"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128788742" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128788742">(Jun 28 2018 at 19:09)</a>:</h4>
<blockquote>
<p>fixed a small bug  with gqa :) <a href="https://sourceforge.net/p/brlcad/code/71101/" target="_blank" title="https://sourceforge.net/p/brlcad/code/71101/">r71101</a></p>
</blockquote>
<p>I saw your commit <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span></p>



<a name="128788938"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128788938" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128788938">(Jun 28 2018 at 19:13)</a>:</h4>
<blockquote>
<p>After creating new overlaps it loads the created new overlaps file in the menu and ready to run. That window in screenshot is after pressing the Go button on the menu once it is loaded</p>
</blockquote>
<p>I've to leave the <em>Overlap Menu</em> and restart it to make the <em>Go</em> button work.</p>
<p>In addition: Why do I have to Browse for a .g file? I'm getting an error when it isn't the same what is currently loaded in mged.</p>



<a name="128789707"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128789707" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128789707">(Jun 28 2018 at 19:30)</a>:</h4>
<blockquote>
<p>I've to leave the <em>Overlap Menu</em> and restart it to make the <em>Go</em> button work.</p>
</blockquote>
<p>I will have a look at it.</p>
<blockquote>
<p>In addition: Why do I have to Browse for a .g file? I'm getting an error when it isn't the same what is currently loaded in mged.</p>
</blockquote>
<p>It's not for browsing .g file :P I kept it there in case someone needs to load overlaps file from anywhere.</p>



<a name="128791439"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128791439" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128791439">(Jun 28 2018 at 20:07)</a>:</h4>
<p>Here is a GIF on how it works for me:<br>
<a href="/user_uploads/1549/Xgi5UK59MHdfQCUNRews98hQ/Peek-2018-06-29-01-35.gif" target="_blank" title="Peek-2018-06-29-01-35.gif">Peek-2018-06-29-01-35.gif</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/Xgi5UK59MHdfQCUNRews98hQ/Peek-2018-06-29-01-35.gif" target="_blank" title="Peek-2018-06-29-01-35.gif"><img src="/user_uploads/1549/Xgi5UK59MHdfQCUNRews98hQ/Peek-2018-06-29-01-35.gif"></a></div><p>Not sure why you can't run it in one go :/</p>



<a name="128791507"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128791507" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128791507">(Jun 28 2018 at 20:09)</a>:</h4>
<p>I made the grid spacing 10mm for making the GIF short. With 1mm it takes some time.</p>



<a name="128816775"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128816775" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128816775">(Jun 29 2018 at 08:06)</a>:</h4>
<p>now the text-entry field for objects take focus when it is created and &lt;Return&gt; key is binded to run the check_overlaps button in the overlap file tool</p>



<a name="128827486"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128827486" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128827486">(Jun 29 2018 at 13:14)</a>:</h4>
<blockquote>
<p>Not sure why you can't run it in one go :/</p>
</blockquote>
<p>hmm, maybe I know why it didn't work you. I think you were loading the .g file then running "create new overlaps file". <br>
There is a bug that only loaded the filename once on widget creation only. That is why you had to reload the overlaps_tool.<br>
Thanks for finding it out!, will fix it.</p>



<a name="128827614"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128827614" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128827614">(Jun 29 2018 at 13:18)</a>:</h4>
<p>that also explains the wild db_lookup messages :D. I need to think of a way to validate the browsed file. Or should I remove the browse feature ?</p>



<a name="128827706"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128827706" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128827706">(Jun 29 2018 at 13:21)</a>:</h4>
<p>It could be handy in case one wants to open overlaps file located elsewhere but then there rises an issue of loading incorrect files or even overlaps file for a different .g file !</p>



<a name="128828005"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128828005" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128828005">(Jun 29 2018 at 13:29)</a>:</h4>
<p>well now it restricts browsing only .overlaps file<br>
<a href="/user_uploads/1549/fLyrAQIqNQzljpax1BZDPYWc/filetypes.png" target="_blank" title="filetypes.png">filetypes.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/fLyrAQIqNQzljpax1BZDPYWc/filetypes.png" target="_blank" title="filetypes.png"><img src="/user_uploads/1549/fLyrAQIqNQzljpax1BZDPYWc/filetypes.png"></a></div>



<a name="128828915"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128828915" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128828915">(Jun 29 2018 at 13:50)</a>:</h4>
<p>got the idea to validate the overlaps file with help of <code>pathlist</code> command.</p>



<a name="128837765"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128837765" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128837765">(Jun 29 2018 at 16:38)</a>:</h4>
<p>All should be okay now :) <br>
<a href="/user_uploads/1549/eA-mR7ivC3SK-e3EwOlmp56Y/overlaps_tool_v2.patch" target="_blank" title="overlaps_tool_v2.patch">overlaps_tool_v2.patch</a></p>



<a name="128840199"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128840199" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128840199">(Jun 29 2018 at 17:31)</a>:</h4>
<p>Made the overlaps_tool such that once it is launched the user can only click/type inside the overlaps tool. I did so that the user cannot modify the database while the overlaps file is generated.</p>



<a name="128887592"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128887592" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128887592">(Jun 30 2018 at 17:15)</a>:</h4>
<blockquote>
<blockquote>
<p>Not sure why you can't run it in one go :/</p>
</blockquote>
<p>hmm, maybe I know why it didn't work you. I think you were loading the .g file then running "create new overlaps file". <br>
There is a bug that only loaded the filename once on widget creation only. That is why you had to reload the overlaps_tool.<br>
Thanks for finding it out!, will fix it.</p>
</blockquote>
<p>Exactly this was the reason.</p>



<a name="128887661"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128887661" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128887661">(Jun 30 2018 at 17:16)</a>:</h4>
<p>You should make clear that there is an either-or in the dialog: Either create a new overlaps file or use an existing one.</p>



<a name="128887672"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128887672" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128887672">(Jun 30 2018 at 17:17)</a>:</h4>
<p>I misinterpreted is as: Hit first button, then hit second button, then hit third button.</p>



<a name="128887721"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128887721" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128887721">(Jun 30 2018 at 17:18)</a>:</h4>
<p>oh yeah that is a problem, what if I kept the two buttons on one level with a 'OR' label between them</p>



<a name="128887798"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128887798" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128887798">(Jun 30 2018 at 17:21)</a>:</h4>
<p>radio buttons would have been nice but there is also the feature of loading previously used overlaps file.</p>



<a name="128887800"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128887800" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128887800">(Jun 30 2018 at 17:21)</a>:</h4>
<p>And usually you haven't to browse for the overlaps file because it has a canonical name which will be loaded automatically. On the other hand, you cannot set the file name in <em>Create New Overlaps File</em>.</p>



<a name="128887852"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128887852" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128887852">(Jun 30 2018 at 17:23)</a>:</h4>
<p>what do you say we remove the browse button?</p>



<a name="128887909"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128887909" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128887909">(Jun 30 2018 at 17:25)</a>:</h4>
<p>there are other problems from loading overlaps like the progress file wouldn't match ( <em>.marked</em> file created by checker tool to keep the resolved overlaps )</p>



<a name="128888030"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128888030" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128888030">(Jun 30 2018 at 17:29)</a>:</h4>
<blockquote>
<p>And usually you haven't to browse for the overlaps file because it has a canonical name which will be loaded automatically. On the other hand, you cannot set the file name in <em>Create New Overlaps File</em>.</p>
</blockquote>
<p>yeah that naming helps load automatically that's why I didn't add option to save overlaps file with a different name</p>



<a name="128888158"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128888158" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128888158">(Jun 30 2018 at 17:32)</a>:</h4>
<p>You could use multiple (or a changing) dialogs. The first could have two buttons: <em>Create New File</em> and <em>Load Existing File</em>. If one hits the <em>Create New File</em> the dialog which asks for the group will appear. If one hits the <em>Load existing File</em> button a new dialog which could appear which lets the user select between <em>Use Last File (/home/blablabla)</em> and <em>Browse for Overlaps File</em>. ...</p>



<a name="128888224"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128888224" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128888224">(Jun 30 2018 at 17:34)</a>:</h4>
<p>Or one dialog with <em>Create New File</em>, <em>Use Last File (/home/blablabla)</em>, and <em>Browse for Overlaps File</em>.</p>



<a name="128888243"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128888243" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128888243">(Jun 30 2018 at 17:35)</a>:</h4>
<p>okay both sounds good. So no <em>go</em> buttons.</p>



<a name="128888292"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128888292" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128888292">(Jun 30 2018 at 17:36)</a>:</h4>
<p>I liked the one with three buttons because it's less clicks to actually get to the checker tool</p>



<a name="128888349"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128888349" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128888349">(Jun 30 2018 at 17:38)</a>:</h4>
<p>If previous file not there then <em>Use Last File</em> would be disabled</p>



<a name="128888599"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128888599" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128888599">(Jun 30 2018 at 17:46)</a>:</h4>
<p>I will have the changes ready by the next day. Thank you for the inputs :)</p>



<a name="128918135"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128918135" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128918135">(Jul 01 2018 at 11:37)</a>:</h4>
<p>How about  something like this  :<br>
<a href="/user_uploads/1549/N6mccMKaWqGDXNsm7eOM5HT-/Peek-2018-07-01-16-50.gif" target="_blank" title="Peek-2018-07-01-16-50.gif"></a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/N6mccMKaWqGDXNsm7eOM5HT-/Peek-2018-07-01-16-50.gif" target="_blank" title=""><img src="/user_uploads/1549/N6mccMKaWqGDXNsm7eOM5HT-/Peek-2018-07-01-16-50.gif"></a></div>



<a name="128929031"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929031" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929031">(Jul 01 2018 at 18:33)</a>:</h4>
<p>Looks good. I like especially the tooltips.</p>



<a name="128929092"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929092" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929092">(Jul 01 2018 at 18:35)</a>:</h4>
<p>Great :)</p>



<a name="128929186"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929186" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929186">(Jul 01 2018 at 18:38)</a>:</h4>
<p>So I guess it's good to go now and ready to be committed . (?)</p>



<a name="128929251"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929251" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929251">(Jul 01 2018 at 18:41)</a>:</h4>
<p>Yes, it's a new feature which can be tweaked afterwards if something needs to be improved.</p>



<a name="128929397"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929397" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929397">(Jul 01 2018 at 18:46)</a>:</h4>
<p>cool! Moving on to the next task. With libanalyze doing the grid setup. I read gqa's code and was thinking how much can be moved to libanalyze. There is this one loop that decides the axis and which calls bu_parallel to run planeworker which actually prepares the ray to shoot.</p>



<a name="128929457"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929457" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929457">(Jul 01 2018 at 18:49)</a>:</h4>
<p>So if it needs to be moved to libanalyze the arguments could be like the rtip for the models dimensions and it would return like an array or linked list with origin and direction for the rays.</p>



<a name="128929459"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929459" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929459">(Jul 01 2018 at 18:49)</a>:</h4>
<p>then gqa will be actually shoot the rays by iterating this list preparing the rays</p>



<a name="128929512"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929512" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929512">(Jul 01 2018 at 18:51)</a>:</h4>
<p>is something like that in mind? because I am a bit confused</p>



<a name="128929688"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929688" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929688">(Jul 01 2018 at 18:57)</a>:</h4>
<p>Something like that. However, I wonder if passing a large array is the best solution. Another possibility is to pass a function which returns the rays one after the other (i.e. a call-back function).</p>



<a name="128929738"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929738" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929738">(Jul 01 2018 at 18:59)</a>:</h4>
<p>hmm that sounds better.</p>



<a name="128929787"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929787" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929787">(Jul 01 2018 at 19:00)</a>:</h4>
<p>what was the basic goal? was it something like merging gqa and check_overlaps. So that we can run check_overlaps within gqa but with a single grid?</p>



<a name="128929837"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929837" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929837">(Jul 01 2018 at 19:02)</a>:</h4>
<p>The idea was to get a set of functions for all the grid-shooting routines.</p>



<a name="128929900"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929900" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929900">(Jul 01 2018 at 19:05)</a>:</h4>
<p>oh when we call these functions we can pass like an option to get a single gird or three grids like gqa?</p>



<a name="128929946"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128929946" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128929946">(Jul 01 2018 at 19:06)</a>:</h4>
<p>or separate functions for single and three grids</p>



<a name="128930153"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128930153" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128930153">(Jul 01 2018 at 19:15)</a>:</h4>
<p>At the moment <em>analyze_overlaps()</em> generates the grid by itself, but how about having grid generating functions which can be passed as parameter to <em>analyze_overlaps()</em>. For example there could be a generator for parallel rays starting from a rectangular grid. Then, <em>gqa</em> could use it three times for the three coordinate axis directions.</p>



<a name="128930309"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128930309" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128930309">(Jul 01 2018 at 19:21)</a>:</h4>
<p>didn't understand the part "having grid generating functions which can be passed as parameter to analyze_overlaps()". how would we be passing the function? and from where? libged?</p>



<a name="128930768"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128930768" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128930768">(Jul 01 2018 at 19:39)</a>:</h4>
<p>How: As a parameter of <em>analyze_overlaps()</em>. It has currently many other parameters for the internal grid generation.<br>
From where: For example libged. Currently it passes a set of parameters for the internall grid generation. It could be a call-back function instead.</p>



<a name="128930824"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128930824" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128930824">(Jul 01 2018 at 19:41)</a>:</h4>
<p>BTW, here is an example for a call-back implementation in C++ (untested ;)</p>
<div class="codehilite"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="c1">// typedef for the call-back</span>
<span class="k">class</span> <span class="nc">NumberProvider</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="k">virtual</span> <span class="o">~</span><span class="n">NumberProvider</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{]</span>

    <span class="k">virtual</span> <span class="kt">int</span> <span class="k">operator</span><span class="p">()(</span><span class="kt">void</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>
    <span class="n">NumberProvider</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="c1">// the function which uses the call-back</span>
<span class="kt">void</span> <span class="nf">PrintNumber</span><span class="p">(</span><span class="n">NumberProvider</span><span class="o">&amp;</span> <span class="n">provider</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">provider</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="nl">std</span><span class="p">:</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// an implemetation of the call-back</span>
<span class="k">class</span> <span class="nc">Counter</span> <span class="o">:</span> <span class="k">public</span> <span class="n">NumberProvider</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">Counter</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="o">:</span> <span class="n">NumberProvider</span><span class="p">(),</span> <span class="n">m_lastNumber</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{}</span>

    <span class="k">virtual</span> <span class="kt">int</span> <span class="k">operator</span><span class="p">()(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">++</span><span class="n">m_lastNumber</span><span class="p">;</span>
    <span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">m_lastNumber</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span>    <span class="n">argn</span><span class="p">,</span>
         <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Counter</span> <span class="n">counter</span><span class="p">;</span>

    <span class="k">for</span><span class="p">(;;)</span>
        <span class="n">PrintNumber</span><span class="p">(</span><span class="n">counter</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>



<a name="128930925"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128930925" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128930925">(Jul 01 2018 at 19:45)</a>:</h4>
<p>Thanks for the example will have a look :)</p>



<a name="128930966"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128930966" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128930966">(Jul 01 2018 at 19:46)</a>:</h4>
<blockquote>
<p>How: As a parameter of <em>analyze_overlaps()</em>. It has currently many other parameters for the internal grid generation.<br>
From where: For example libged. Currently it passes a set of parameters for the internall grid generation. It could be a call-back function instead.</p>
</blockquote>
<p>so we are passing the grid generating function defined in libged as a function pointer to libanalyze. How would this help? why not call this function directly in libged</p>



<a name="128965799"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128965799" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128965799">(Jul 02 2018 at 14:15)</a>:</h4>
<blockquote>
<p>Yes, it's a new feature which can be tweaked afterwards if something needs to be improved.</p>
</blockquote>
<p>Committed : <a href="https://sourceforge.net/p/brlcad/code/71106/" target="_blank" title="https://sourceforge.net/p/brlcad/code/71106/">r71106</a>, <a href="https://sourceforge.net/p/brlcad/code/71107/" target="_blank" title="https://sourceforge.net/p/brlcad/code/71107/">r71107</a><br>
Was thinking about the line 301 in TODO file inside <em>tclscripts/checker/</em></p>



<a name="128967460"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128967460" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128967460">(Jul 02 2018 at 14:42)</a>:</h4>
<blockquote>
<p>BTW, here is an example for a call-back implementation in C++ (untested ;)</p>
</blockquote>
<p>had to brush up my C++ to understand this :D</p>



<a name="128975528"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128975528" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128975528">(Jul 02 2018 at 17:03)</a>:</h4>
<blockquote>
<p>Was thinking about the line 301 in TODO file inside <em>tclscripts/checker/</em></p>
</blockquote>
<p>Isn't this the one you are working on right now?</p>



<a name="128975541"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128975541" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128975541">(Jul 02 2018 at 17:03)</a>:</h4>
<blockquote>
<blockquote>
<p>Was thinking about the line 301 in TODO file inside <em>tclscripts/checker/</em></p>
</blockquote>
<p>Isn't this the one you are working on right now?</p>
</blockquote>
<p>yeah whether to remove this line from TODO</p>



<a name="128975610"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128975610" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128975610">(Jul 02 2018 at 17:04)</a>:</h4>
<p>Can you test it on Windows? How does <em>gqa</em> behave there?</p>



<a name="128975724"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128975724" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128975724">(Jul 02 2018 at 17:07)</a>:</h4>
<p>Sure can do! Will test it out.</p>



<a name="128976031"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128976031" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128976031">(Jul 02 2018 at 17:13)</a>:</h4>
<blockquote>
<blockquote>
<p>BTW, here is an example for a call-back implementation in C++ (untested ;)</p>
</blockquote>
<p>had to brush up my C++ to understand this :D</p>
</blockquote>
<p>It was meant as an example that using a call-back mechanism doesn't need to look ugly.</p>
<p>Only an idea, don't know if it's a good one: Stay with the current <em>analyze_overlaps()</em> libanalyze API function, but making analyze_overlaps.c a C++ file and use C++ features there to implement <em>analyze_overlaps()</em> with a separate grid generator. Other programs as <em>gqa</em> could use these directly if transformed to C++ too.</p>



<a name="128976365"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128976365" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128976365">(Jul 02 2018 at 17:19)</a>:</h4>
<p>umm not sure about CPP. I am more comfortable with C. <span class="emoji emoji-1f605" title="sweat smile">:sweat_smile:</span><br>
But the whole idea of the task still doesn't make much sense to me yet.</p>



<a name="128976469"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128976469" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128976469">(Jul 02 2018 at 17:21)</a>:</h4>
<p>The idea was to use a grid generator function which will be passed a callback function to shoot the rays right?</p>



<a name="128976649"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128976649" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128976649">(Jul 02 2018 at 17:25)</a>:</h4>
<p>Right, but the separation in the core algorithm and the grid generator needn't to be done in libged.</p>
<div class="codehilite"><pre><span></span><span class="n">analyze_overlaps</span><span class="p">(...)</span> <span class="p">{</span>
    <span class="n">RectangularParallelRayGenerator</span> <span class="n">gridGenerator</span><span class="p">(...);</span>

    <span class="n">analyze_overlaps_core</span><span class="p">(</span><span class="n">gridGenerator</span><span class="p">,</span> <span class="p">...);</span>
<span class="p">}</span>
</pre></div>



<a name="128976711"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128976711" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128976711">(Jul 02 2018 at 17:26)</a>:</h4>
<p>It's OK to stay with C.</p>



<a name="128976853"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128976853" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128976853">(Jul 02 2018 at 17:29)</a>:</h4>
<p>hmm.. Need to clear some more basic questions. I am not sure what are we trying to do here. Yes we need grid generating functions but which command will be using these functions? check_overlaps?</p>



<a name="128978235"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128978235" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128978235">(Jul 02 2018 at 17:55)</a>:</h4>
<blockquote>
<p>hmm.. Need to clear some more basic questions. I am not sure what are we trying to do here. Yes we need grid generating functions but which command will be using these functions? check_overlaps?</p>
</blockquote>
<p>For example, and rtcheck, and maybe gqa.</p>



<a name="128978308"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128978308" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128978308">(Jul 02 2018 at 17:56)</a>:</h4>
<p>okay,  so what will be doing with analyze_overlaps in rtcheck and gqa? I am confused because gqa does a lot more than just checks for overlaps</p>



<a name="128978959"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128978959" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128978959">(Jul 02 2018 at 18:08)</a>:</h4>
<p>gqa would use the same grid generator but with a different base algorithm.</p>



<a name="128979127"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128979127" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128979127">(Jul 02 2018 at 18:11)</a>:</h4>
<p>different base algorithm ? you mean splitting the gqa code to libged and libanalyze as we did for check_overlaps?</p>



<a name="128979795"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128979795" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128979795">(Jul 02 2018 at 18:23)</a>:</h4>
<p>Yes, and to gtools.</p>



<a name="128979907"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128979907" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128979907">(Jul 02 2018 at 18:25)</a>:</h4>
<p>gtools?</p>



<a name="128979975"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128979975" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128979975">(Jul 02 2018 at 18:26)</a>:</h4>
<p>Home of the gqa algorithm?</p>



<a name="128980003"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128980003" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128980003">(Jul 02 2018 at 18:27)</a>:</h4>
<p>humm. gqa is fully written in libged. in gtools gqa.c only calls the ged_gqa</p>



<a name="128980087"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128980087" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128980087">(Jul 02 2018 at 18:28)</a>:</h4>
<p>Ah, I see, it calls <em>ged_gqa()</em>.</p>



<a name="128980106"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128980106" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128980106">(Jul 02 2018 at 18:29)</a>:</h4>
<p>Not like rtcheck.</p>



<a name="128980110"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128980110" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128980110">(Jul 02 2018 at 18:29)</a>:</h4>
<p>yeah that is right</p>



<a name="128980418"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128980418" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128980418">(Jul 02 2018 at 18:35)</a>:</h4>
<p>now would that information change anything we have discussed so far?</p>



<a name="128980487"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128980487" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128980487">(Jul 02 2018 at 18:36)</a>:</h4>
<p>No, not really. Your plan sounds good.</p>



<a name="128980517"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128980517" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128980517">(Jul 02 2018 at 18:37)</a>:</h4>
<p>we would need a different file in libanalyze for gqa right?</p>



<a name="128980631"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128980631" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128980631">(Jul 02 2018 at 18:40)</a>:</h4>
<p>Maybe two: One for gqa and one for the grid generator.</p>



<a name="128980710"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128980710" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128980710">(Jul 02 2018 at 18:41)</a>:</h4>
<p>ahh so we wont be passing function pointer to grid-generator from libged right? as you had said yesterday</p>



<a name="128980721"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128980721" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128980721">(Jul 02 2018 at 18:41)</a>:</h4>
<p>instead call the grid generator defined in the libanalyze</p>



<a name="128980975"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128980975" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128980975">(Jul 02 2018 at 18:46)</a>:</h4>
<p>I thought we want to pass the pointer to the grid generator (defined in libanalyze) ton <em>analyze_overlaps()</em> (defined in libanalyze too) in libged's <em>ged_check_overlaps()</em>?</p>



<a name="128981103"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128981103" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128981103">(Jul 02 2018 at 18:48)</a>:</h4>
<p>oh, yeah that works. I had misunderstood it before as to define grid generator in libged and pass a pointer to analyze_overlaps in ged_check_overlaps</p>



<a name="128981481"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128981481" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128981481">(Jul 02 2018 at 18:56)</a>:</h4>
<p>to summarize it :<br>
1) need a rectangular grid generator function in libanalyze.<br>
2) pass pointer to this function from libged to analyze_overlaps(in case of check_overlaps).<br>
3) call grid setup in analyze_overlaps.</p>
<p>Now grid setup needs function pointer to the function that shoots the rays right. How are we dealing with that?<br>
In analyze_overlaps, <em>analov_do_pixel</em> shoots the rays.</p>



<a name="128981848"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128981848" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128981848">(Jul 02 2018 at 19:04)</a>:</h4>
<p>Putting this data in the "context" (the additional variable to the function pointer)?</p>



<a name="128982178"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/128982178" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#128982178">(Jul 02 2018 at 19:13)</a>:</h4>
<p>Hmm not following the idea completely, but I will start coding hopefully then things will be clear to me.</p>



<a name="129009854"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129009854" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129009854">(Jul 03 2018 at 08:14)</a>:</h4>
<blockquote>
<p>Can you test it on Windows? How does <em>gqa</em> behave there?</p>
</blockquote>
<p>I did test it. check_overlaps was crashing due to a derp, but fixed it.<br>
Overlaps_tool works fine now on windows but it freezes in case of havoc. The same <em>bu_log</em> problem there too I think.  But it is stranger there, some parts of the messages gets printed then it freezes. I think after some part gets printed the thread gets switched causing the issue.<br>
Of course -P1 works.</p>



<a name="129035447"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129035447" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129035447">(Jul 03 2018 at 17:05)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> <br>
Today I was going through check_overlaps/rtcheck, on how it produces the grid.<br>
There is one major difference between check_overlaps and gqa. <br>
In the check_overlaps:<br>
There is  ability to provide az/el values and shoot from eye. Also the grid formed is on the basis of the size value(zoomed in or out).<br>
If zoomed out, the eye is near and the grid formed is large with high gridspacing. <br>
If zoomed in, the eye goes very far and the grid formed is small with lesser gridspacing.<br>
In gqa, The grid shape and position remains consistent, only grid spacing can be changed.</p>
<p>So I was trying to figure out how can these two use the same grid generator. Like maybe some common arguments.</p>



<a name="129035725"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129035725" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129035725">(Jul 03 2018 at 17:10)</a>:</h4>
<p>Just a plotting for three different az/el values and zoom level.<br>
<a href="/user_uploads/1549/ZtaqbSHEYMsMd_QhJ-3Tx4-s/Screenshot-from-2018-07-03-22-39-03.png" target="_blank" title="Screenshot-from-2018-07-03-22-39-03.png"></a><br>
truck.g g4</p>
<div class="message_inline_image"><a href="/user_uploads/1549/ZtaqbSHEYMsMd_QhJ-3Tx4-s/Screenshot-from-2018-07-03-22-39-03.png" target="_blank" title=""><img src="/user_uploads/1549/ZtaqbSHEYMsMd_QhJ-3Tx4-s/Screenshot-from-2018-07-03-22-39-03.png"></a></div>



<a name="129036135"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129036135" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129036135">(Jul 03 2018 at 17:17)</a>:</h4>
<p>For example, there could be a function <code>grid_generator()</code> (don't take my naming too serious) which has a parameter <code>grid_layout</code>:</p>
<div class="codehilite"><pre><span></span><span class="k">struct</span> <span class="n">grid_layout</span> <span class="p">{</span>
    <span class="n">point_t</span> <span class="n">ray_direction</span><span class="p">;</span>
    <span class="n">point_t</span> <span class="n">start_point</span><span class="p">;</span>
    <span class="n">point_t</span> <span class="n">grid_x_direction</span><span class="p">;</span>
    <span class="n">point_t</span> <span class="n">grid_y_direction</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">points_in_x_direction</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">points_in_y_direction</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">current_x_count</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">current_y_count</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>


<p>and one or two initializing functions <code>init_grid_layout(&lt;all possible parameters&gt;)</code> or <code>init_grid_1(&lt;check_overlaps() parameters&gt;)</code> and <code>init_grid_2(&lt;gqa parameters&gt;)</code>.</p>



<a name="129036226"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129036226" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129036226">(Jul 03 2018 at 17:19)</a>:</h4>
<p>BTW, the <code>grid_layout</code> would be the <em>context</em> I wrote about.</p>



<a name="129036570"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129036570" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129036570">(Jul 03 2018 at 17:26)</a>:</h4>
<p>sounds like a good plan. Thanks for the input.<br>
I got the ray_direction, start_point in the structure. <br>
Are <em>grid_x_direction</em> and <em>grid_y_direction</em> same as <em>dx_model</em> and <em>dy_model</em> which are scaled by <em>cell_width</em> and <em>cell_height</em> of the unit vectors  <em>dx_unit</em> and <em>dy_unit</em> or are they just the unit vectors?</p>



<a name="129036768"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129036768" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129036768">(Jul 03 2018 at 17:29)</a>:</h4>
<p><em>points_in_x_direction</em> and <em>points_in_y_direction</em> must be the width and height in pixels right?</p>



<a name="129036923"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129036923" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129036923">(Jul 03 2018 at 17:31)</a>:</h4>
<p>Didn't understand the purpose of the last two ints - <em>current_x_count</em> and <em>current_y_count</em></p>



<a name="129037098"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129037098" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129037098">(Jul 03 2018 at 17:35)</a>:</h4>
<p>The following is incomplete!</p>
<div class="codehilite"><pre><span></span><span class="n">grid_generator</span><span class="p">(</span><span class="n">gl</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">x_index</span> <span class="o">=</span> <span class="n">gl</span><span class="p">.</span><span class="n">current_x_count</span><span class="o">++</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">y_index</span> <span class="o">=</span> <span class="n">gl</span><span class="p">.</span><span class="n">current_y_count</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">gl</span><span class="p">.</span><span class="n">current_x_count</span> <span class="o">==</span> <span class="n">gl</span><span class="p">.</span><span class="n">points_in_x_direction</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">gl</span><span class="p">.</span><span class="n">current_x_count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="o">++</span><span class="n">gl</span><span class="p">.</span><span class="n">current_y_count</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">gl</span><span class="p">.</span><span class="n">start_point</span> <span class="o">+</span> <span class="n">x_index</span> <span class="o">*</span> <span class="n">gl</span><span class="p">.</span><span class="n">grid_x_direction</span> <span class="o">+</span> <span class="n">y_index</span> <span class="o">*</span> <span class="n">gl</span><span class="p">.</span><span class="n">grid_y_direction</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>



<a name="129037216"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129037216" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129037216">(Jul 03 2018 at 17:37)</a>:</h4>
<p>You could call them <code>current_~_index</code> too.</p>



<a name="129037217"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129037217" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129037217">(Jul 03 2018 at 17:37)</a>:</h4>
<p>gotcha! I can relate the above code to <code>VJOIN2 (point, workerData-&gt;viewbase_model, a.a_x, workerData-&gt;dx_model, a.a_y, workerData-&gt;dy_model)</code></p>



<a name="129037250"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129037250" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129037250">(Jul 03 2018 at 17:37)</a>:</h4>
<p>Probable ;) I wrote mine with C++ in mind.</p>



<a name="129037401"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129037401" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129037401">(Jul 03 2018 at 17:40)</a>:</h4>
<p>great! now I am understanding most of the grid generator function. Thanks a ton for the help :)</p>



<a name="129037523"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129037523" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129037523">(Jul 03 2018 at 17:43)</a>:</h4>
<p>Right now confusing me is where would be calling this grid_generator function.<br>
With above code it seems like we can call this right before shooting the rays in case of check_overlaps.<br>
We can get the direction and point with functions returning these values from the structure we initialize .</p>



<a name="129037724"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129037724" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129037724">(Jul 03 2018 at 17:47)</a>:</h4>
<p>and in case of gqa just before calling bu_parallel in the <em>views</em> loop we can initialize the structure and use functions similarly in <em>plane_worker</em> to shoot the rays</p>



<a name="129037737"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129037737" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129037737">(Jul 03 2018 at 17:47)</a>:</h4>
<p>You could make <code>grid_generator()</code> accepting <code>struct xray*</code> as parameter and returning an <code>int</code> saying if the last point was reached.</p>



<a name="129037996"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129037996" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129037996">(Jul 03 2018 at 17:53)</a>:</h4>
<p>oh you mean like passing the a_ray to the grid_generator which would plug in the values for r_dir and r_pt.</p>



<a name="129040288"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129040288" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129040288">(Jul 03 2018 at 18:31)</a>:</h4>
<p>Ok then, I will get started on making check_overlaps to use new grid generator function. :)</p>



<a name="129063085"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129063085" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129063085">(Jul 04 2018 at 04:26)</a>:</h4>
<blockquote>
<p>just different ordering without that -P1 flag</p>
</blockquote>
<p>adding the -B flag will let you test parallel while eliminating the element of chance -- it essentially zeros out the random number tables</p>



<a name="129064128"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129064128" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129064128">(Jul 04 2018 at 05:02)</a>:</h4>
<blockquote>
<p>I was able to get this <a href="https://www.diffchecker.com/f4Kn2zVh" target="_blank" title="https://www.diffchecker.com/f4Kn2zVh">https://www.diffchecker.com/f4Kn2zVh</a>.<br>
There is minute changes in rounding/decimal places. On left is ouput from <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> and right is the output of my tool</p>
</blockquote>
<p>Sorry to revisit an old point, but <span class="user-mention" data-user-id="109608">@Saran Narayan</span> did you ever figure out what exactly was the source of the rounding differences?  differences may be to be expected, but we still need to know what exactly introduced them for this particular feature.  your rtcheck diffs seemed spot on, so that even raises the curiosity level.</p>



<a name="129074141"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129074141" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129074141">(Jul 04 2018 at 09:13)</a>:</h4>
<blockquote>
<blockquote>
<p>I was able to get this <a href="https://www.diffchecker.com/f4Kn2zVh" target="_blank" title="https://www.diffchecker.com/f4Kn2zVh">https://www.diffchecker.com/f4Kn2zVh</a>.<br>
There is minute changes in rounding/decimal places. On left is ouput from <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> and right is the output of my tool</p>
</blockquote>
<p>Sorry to revisit an old point, but <span class="user-mention" data-user-id="109608">@Saran Narayan</span> did you ever figure out what exactly was the source of the rounding differences?  differences may be to be expected, but we still need to know what exactly introduced them for this particular feature.  your rtcheck diffs seemed spot on, so that even raises the curiosity level.</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  Yes I did. I believe it has to do with awk printing the size value after multiplying the length with depth. It does this rounding that limits output to six digits (like 0.123456, 1.23456, 12.3456, 123.456 ...) see <a href="https://www.diffchecker.com/EY0VNKhF" target="_blank" title="https://www.diffchecker.com/EY0VNKhF">https://www.diffchecker.com/EY0VNKhF</a>  on the left is the output of awk multiplying it in <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> and on the right is the output of tcl multiplying it in my script.</p>



<a name="129074229"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129074229" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129074229">(Jul 04 2018 at 09:16)</a>:</h4>
<blockquote>
<blockquote>
<p>just different ordering without that -P1 flag</p>
</blockquote>
<p>adding the -B flag will let you test parallel while eliminating the element of chance -- it essentially zeros out the random number tables</p>
</blockquote>
<p>Thanks! I didn't know about the -B flag. It was not there in rtcheck's man. I would need to add this to my current rtcheck.</p>



<a name="129095561"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129095561" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129095561">(Jul 04 2018 at 17:09)</a>:</h4>
<p>Here is my progress :<br>
<a href="/user_uploads/1549/wG1u5V6xMfSJj4Ft2qMRAzjv/4_07_progress.patch" target="_blank" title="4_07_progress.patch">4_07_progress.patch</a> <br>
There is a lot of things that can be removed. Its WIP :)</p>



<a name="129095658"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129095658" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129095658">(Jul 04 2018 at 17:11)</a>:</h4>
<p>Here I initialized the grid normally without any functions. What exactly does the initializer function take as parameters? are they similar to check_overlaps's grid_setup ?</p>



<a name="129096475"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129096475" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129096475">(Jul 04 2018 at 17:32)</a>:</h4>
<p>Why has <em>analyze_overlaps()</em> still so many parameters?</p>



<a name="129096529"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129096529" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129096529">(Jul 04 2018 at 17:34)</a>:</h4>
<p>yeah I am removing them.</p>



<a name="129096530"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129096530" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129096530">(Jul 04 2018 at 17:34)</a>:</h4>
<p>OK :)</p>



<a name="129096532"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129096532" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129096532">(Jul 04 2018 at 17:34)</a>:</h4>
<p><code>APP.a_rbeam = 0.5 * viewsize / width</code> because of this line I have to pass viewsize and width</p>



<a name="129096617"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129096617" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129096617">(Jul 04 2018 at 17:37)</a>:</h4>
<p>This means, that <em>a_rbeam</em> is related to the grid cell size?</p>



<a name="129096677"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129096677" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129096677">(Jul 04 2018 at 17:39)</a>:</h4>
<p>yeah 0.5 * cell_width</p>



<a name="129096733"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129096733" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129096733">(Jul 04 2018 at 17:40)</a>:</h4>
<p>I could pass cell_width in the grid_context then it would be fine.</p>



<a name="129096817"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129096817" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129096817">(Jul 04 2018 at 17:43)</a>:</h4>
<p>Then, there should be a function like <code>double rectangular_grid_cell_width(struct rectangular_grid* grid)</code>, but how. It would be easier to do this with C++, but this isn't a real alternative here ...</p>



<a name="129096882"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129096882" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129096882">(Jul 04 2018 at 17:45)</a>:</h4>
<p>humm that is right! I did not think that way</p>



<a name="129097016"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129097016" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129097016">(Jul 04 2018 at 17:49)</a>:</h4>
<p>You could use a table of function pointers like</p>
<div class="codehilite"><pre><span></span><span class="k">struct</span> <span class="n">grid_generator</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">next_ray</span><span class="p">)(</span><span class="k">struct</span> <span class="n">xray</span> <span class="o">*</span><span class="n">ray</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">);</span>
    <span class="kt">double</span> <span class="p">(</span><span class="o">*</span><span class="n">cell_width</span><span class="p">)(</span><span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>



<a name="129097194"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129097194" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129097194">(Jul 04 2018 at 17:53)</a>:</h4>
<p>yeah this should work. But it could be a bit messy..</p>



<a name="129097264"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129097264" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129097264">(Jul 04 2018 at 17:55)</a>:</h4>
<p>ah but with this we can reduce the parameters further.</p>



<a name="129097492"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129097492" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129097492">(Jul 04 2018 at 18:00)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="k">struct</span> <span class="n">grid_generator</span> <span class="p">{</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">;</span>
    <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">next_ray</span><span class="p">)(</span><span class="k">struct</span> <span class="n">xray</span> <span class="o">*</span><span class="n">ray</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">);</span>
    <span class="kt">double</span> <span class="o">*</span><span class="n">cell_width</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>


<p>something like this would be needed right? CMIIW</p>



<a name="129097588"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129097588" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129097588">(Jul 04 2018 at 18:04)</a>:</h4>
<p>oh nevermind got it!</p>



<a name="129098181"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129098181" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129098181">(Jul 04 2018 at 18:21)</a>:</h4>
<p>Okay that is done. Thanks for the idea :)</p>



<a name="129098308"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129098308" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129098308">(Jul 04 2018 at 18:25)</a>:</h4>
<p>Now that we are doing grid setup completely on libged I should move rt_prep_parallel to libged</p>



<a name="129098435"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129098435" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129098435">(Jul 04 2018 at 18:28)</a>:</h4>
<blockquote>
<div class="codehilite"><pre><span></span><span class="k">struct</span> <span class="n">grid_generator</span> <span class="p">{</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">;</span>
    <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">next_ray</span><span class="p">)(</span><span class="k">struct</span> <span class="n">xray</span> <span class="o">*</span><span class="n">ray</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">);</span>
    <span class="kt">double</span> <span class="o">*</span><span class="n">cell_width</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>


<p>something like this would be needed right? CMIIW</p>
</blockquote>
<p>I personally would like to have the two functions, because I don't like redundant data. It was even hard for me to accept the <code>rectangular_grid.total_points</code>.</p>



<a name="129098501"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129098501" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129098501">(Jul 04 2018 at 18:30)</a>:</h4>
<blockquote>
<p>Now that we are doing grid setup completely on libged I should move rt_prep_parallel to libged</p>
</blockquote>
<p>Ohh, no? For me this is an <em>analyze_overlaps()</em> internal matter.</p>



<a name="129098608"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129098608" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129098608">(Jul 04 2018 at 18:34)</a>:</h4>
<blockquote>
<blockquote>
<p>Now that we are doing grid setup completely on libged I should move rt_prep_parallel to libged</p>
</blockquote>
<p>Ohh, no? For me this is an <em>analyze_overlaps()</em> internal matter.</p>
</blockquote>
<p>humm I thought about it because I saw my comment above rt_prep_parallel saying it needs to be run before grid_setup.</p>



<a name="129098654"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129098654" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129098654">(Jul 04 2018 at 18:34)</a>:</h4>
<p>yeah it is not need.</p>



<a name="129098660"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129098660" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129098660">(Jul 04 2018 at 18:34)</a>:</h4>
<p>I will keep it in libanalyze</p>



<a name="129150567"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129150567" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129150567">(Jul 05 2018 at 17:08)</a>:</h4>
<p>I tried to implement the changes in gqa.<br>
<a href="/user_uploads/1549/9RJDnKGONDfEeJuwxSlpBxPw/5_07_progress.patch" target="_blank" title="5_07_progress.patch">5_07_progress.patch</a></p>



<a name="129152075"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129152075" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129152075">(Jul 05 2018 at 17:37)</a>:</h4>
<p>I don't know if it's wise to do these changes on gqa while it's still in libged (and not in libanalyze).<br>
You are setting up the grid there directly, but then, you forget that you know <em>struct rectangular_grid</em> and introduce two new functions grid_x_index() and grid_y_index(). I may need some time to form an opinion ...</p>



<a name="129152345"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129152345" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129152345">(Jul 05 2018 at 17:41)</a>:</h4>
<p>Yeah I thought of it as an attempt before moving it fully to libanalyze.</p>



<a name="129152448"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129152448" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129152448">(Jul 05 2018 at 17:43)</a>:</h4>
<p>BTW What are benefits of moving gqa to libanalyze ?</p>



<a name="129152481"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129152481" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129152481">(Jul 05 2018 at 17:43)</a>:</h4>
<p>Shouldn't be vmath.h included in analyze.h?</p>



<a name="129152602"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129152602" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129152602">(Jul 05 2018 at 17:45)</a>:</h4>
<blockquote>
<p>Shouldn't be vmath.h included in analyze.h?</p>
</blockquote>
<p>yeah that sounds good. But all the other libanalyze files have them included separately.</p>



<a name="129152800"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129152800" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129152800">(Jul 05 2018 at 17:49)</a>:</h4>
<blockquote>
<p>BTW What are benefits of moving gqa to libanalyze ?</p>
</blockquote>
<p>Same reason as for rtcheck/analyze_overlaps(), to get the basic algorithm separated in a function which could be used in other contexts too?<br>
Hmm, however, I'm not sure about this.</p>



<a name="129152980"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129152980" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129152980">(Jul 05 2018 at 17:52)</a>:</h4>
<p>if it were like different commands for like overlaps,  volume,  weight then having one common algorithm that does basics would have made sense in my opinion. But it is already aggregated together as one command.</p>



<a name="129155890"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129155890" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129155890">(Jul 05 2018 at 18:36)</a>:</h4>
<p>Right.</p>
<p>I thought about the grid_x_index() and grid_y_index() thing because I don't like it. They feel somehow artificial (this is subjective, I know). The reason why they are there is that the grid can be refined and already computed grid points shall not be computed again. (Right?) It would look better if there would be a function like <em>refine_grid_in_between</em> which sets up the grid structure in a way that it behaves so.</p>



<a name="129156274"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129156274" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129156274">(Jul 05 2018 at 18:42)</a>:</h4>
<blockquote>
<p>The reason why they are there is that the grid can be refined and already computed grid points shall not be computed again. (Right?) It would look better if there would be a function like <em>refine_grid_in_between</em> which sets up the grid structure in a way that it behaves so.</p>
</blockquote>
<p>Yeah for refinement and as well for app.a_user line 1379 (<em>unedited gqa.c</em>) which is used in <code>hit():1223</code><br>
But a function to refine would look good.</p>



<a name="129195991"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129195991" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129195991">(Jul 06 2018 at 11:33)</a>:</h4>
<p>hmm I didn't know what to do next. Since we weren't sure about moving gqa to libanalyze.<br>
I just changed the rtcheck program I wrote earlier to use the new grid generating function.</p>



<a name="129215088"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129215088" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129215088">(Jul 06 2018 at 17:43)</a>:</h4>
<p>Maybe you could integrate the grid generator in check_overlaps first.</p>



<a name="129215242"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129215242" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129215242">(Jul 06 2018 at 17:46)</a>:</h4>
<p>I already did that right? Like did the changes for check_overlaps + analyze_overlaps</p>



<a name="129216833"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129216833" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129216833">(Jul 06 2018 at 18:21)</a>:</h4>
<p>Yes, in the patch you send me it was contained.</p>



<a name="129216907"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129216907" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129216907">(Jul 06 2018 at 18:23)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> What do you want?</p>



<a name="129216973"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129216973" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129216973">(Jul 06 2018 at 18:24)</a>:</h4>
<blockquote>
<p>Yes, in the patch you send me it was contained.</p>
</blockquote>
<p>I will commit those changes then. Will not do those extra functions I added for gqa.</p>



<a name="129218153"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129218153" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129218153">(Jul 06 2018 at 18:48)</a>:</h4>
<p>I'll have more time to look into your matter at the weekend. This week was very busy.</p>



<a name="129218171"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129218171" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129218171">(Jul 06 2018 at 18:49)</a>:</h4>
<p>Okay got it. Thanks :)</p>



<a name="129218398"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129218398" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129218398">(Jul 06 2018 at 18:54)</a>:</h4>
<p>I had added a folder to libanalyze as GridGeneration. So when I commit by <code>svn commit src/libanalyze/GridGeneration/ -m "..." </code> should work right?</p>



<a name="129219117"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129219117" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129219117">(Jul 06 2018 at 19:08)</a>:</h4>
<p>well I committed but I kinda mixed it up :/</p>



<a name="129219194"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129219194" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129219194">(Jul 06 2018 at 19:10)</a>:</h4>
<p>I didn't realize I was committing the changes for analyze_overlaps too in include/analyze.h in <a href="https://sourceforge.net/p/brlcad/code/71117/" target="_blank" title="https://sourceforge.net/p/brlcad/code/71117/">r71117</a></p>



<a name="129220265"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129220265" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129220265">(Jul 06 2018 at 19:31)</a>:</h4>
<p>I could compile and run it, i.e. it should be OK now.</p>



<a name="129264132"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129264132" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129264132">(Jul 07 2018 at 16:51)</a>:</h4>
<p>From your perspective, would it make sense to use the grid generator in gqa?</p>
<p>Would it make sense to replace gqa by a function using analyze_overlaps() because it give you a better control on analyzing the overlaps?</p>
<p>In your proposal there is an image of your prototype for an improved object selection. Do you still want to use it in overlaps_tool?</p>
<p>Do you have other ideas of how the overlaps_tool could be improved?<br>
Currently, the left region is displayed in red and the right in blue. But, when I draw e.g. g4 first, it will be displayed in red too, which makes it impossible to see where the two overlapping regions are. Only the right/blue one can be identified.</p>
<p>Why can't I check the overlaps between /g4/r25 and /g4/r12 of truck.g in overlaps_tool?</p>



<a name="129266390"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129266390" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129266390">(Jul 07 2018 at 17:57)</a>:</h4>
<blockquote>
<p>From your perspective, would it make sense to use the grid generator in gqa?</p>
</blockquote>
<p>Well Sean once told me that libanalyze was like a place for common tools used by these analyzing programs like rtcheck, gqa. So having and using grid generator does make sense to me.<br>
In case of gqa, for rectangular grid it does not seem to help much but if there were more types of grid generating functions. Then having a common place for these grid generating functions and using them does make sense.</p>
<blockquote>
<p>Would it make sense to replace gqa by a function using analyze_overlaps() because it give you a better control on analyzing the overlaps?</p>
</blockquote>
<p>well gqa does a lot more than just checks for overlaps. So something like analyze_overlaps cannot replace it.<br>
Yeah the better control of analyzing just some regions is better but then with gqa shooting three grids, all overlaps are found.<br>
I would think <em>gqa</em> as a tool to check for overlaps as a whole and <em>check_overlaps</em> as something that can be used to analyze them in detail.</p>
<blockquote>
<p>In your proposal there is an image of your prototype for an improved object selection. Do you still want to use it in overlaps_tool?</p>
</blockquote>
<p>Yeah something like that is good.  Like having the tree displayed would give a better idea of the database.</p>
<blockquote>
<p>Do you have other ideas of how the overlaps_tool could be improved?<br>
Currently, the left region is displayed in red and the right in blue. But, when I draw e.g. g4 first, it will be displayed in red too, which makes it impossible to see where the two overlapping regions are. Only the right/blue one can be identified.</p>
</blockquote>
<p>Yes that is true that having the colors mixed up is bad. <br>
About the ideas well the TODO list is full of ideas :D. I initially had proposed to improve <em>checker_tool</em> by doing those TODO task but then I was told that converting the unix script to a command was higher priority. Well I could start with that next and try to do those TODO tasks.</p>
<blockquote>
<p>Why can't I check the overlaps between /g4/r25 and /g4/r12 of truck.g in overlaps_tool?</p>
</blockquote>
<p>It worked for me I could display them on screen. But subtracting wont work unless you launch the overlaps_tool with -F option. <br>
With -F option we are displayed a warning message: </p>
<div class="codehilite"><pre><span></span>WARNING: Running with -F means check will assume that only the first unioned
         solid in a region is responsible for any overlap. When subtracting
         region A from overlapping region B, the first unioned solid in A will
         be subtracted from the first unioned solid in B. This may cause the
         wrong volume to be subtracted, leaving the overlap unresolved.
</pre></div>



<a name="129285784"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129285784" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129285784">(Jul 08 2018 at 05:42)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  Yes I did. I believe it has to do with awk printing the size value after multiplying the length with depth. It does this rounding that limits output to six digits (like 0.123456, 1.23456, 12.3456, 123.456 ...) see <a href="https://www.diffchecker.com/EY0VNKhF" target="_blank" title="https://www.diffchecker.com/EY0VNKhF">https://www.diffchecker.com/EY0VNKhF</a>  on the left is the output of awk multiplying it in <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> and on the right is the output of tcl multiplying it in my script.</p>
</blockquote>
<p>Ah, yes that makes sense.  Could be confirmed by using printf in awk instead of print, with the same print specifier, but it certainly makes sense.  Thanks!</p>



<a name="129285835"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129285835" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129285835">(Jul 08 2018 at 05:44)</a>:</h4>
<blockquote>
<p>Thanks! I didn't know about the -B flag. It was not there in rtcheck's man. I would need to add this to my current rtcheck.</p>
</blockquote>
<p>It's really only intended as a developer option, but it probably should be documented better somewhere.  I think it's in rt's manual page, so it would make sense if it were on all of the rt* tool docs.</p>



<a name="129286363"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129286363" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129286363">(Jul 08 2018 at 06:04)</a>:</h4>
<blockquote>
<blockquote>
<p>BTW What are benefits of moving gqa to libanalyze ?</p>
</blockquote>
<p>Same reason as for rtcheck/analyze_overlaps(), to get the basic algorithm separated in a function which could be used in other contexts too?<br>
Hmm, however, I'm not sure about this.</p>
</blockquote>
<p>Not only this.  At heart, a main distinction of rtcheck vs gqa is time vs quality.  Generalizing their behavior into library routine(s) is intended to get us closer to controling time vs quality more easily.  When you consider what <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> does, it is essentially sacrificing time for even more "quality" -- more overlaps reported.  In a near future, we want even more advanced methods that run faster (time, e.g., quick real-time checking) or give better results (quality, e.g., spherical sampling or brep CSG evaluation).</p>



<a name="129286433"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129286433" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129286433">(Jul 08 2018 at 06:07)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span> What do you want?</p>
</blockquote>
<p>Your entire discussion over the past few days has been SPOT on, same considerations I've thought through myself.  I think the answer could just fine in any number of directions, and a good path is hopefully made self-evident with focus being on the short-term goal of doing what <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> is doing from C/C++ code without exec's and refining away code duplication from there.</p>



<a name="129286629"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129286629" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129286629">(Jul 08 2018 at 06:15)</a>:</h4>
<p>Beyond that, the decision is really up for discussion or just try something so we can have "some time to form an opinion" :)<br>
I think it would be good to think beyond gridded sampling methods -- like s/grid_generator/ray_generator/ where you still have an iterator that returns the "next" ray, but it might not be limited to a grid pattern.  The difficulty will likely be how to control parameters of the pattern.</p>



<a name="129308130"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129308130" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129308130">(Jul 08 2018 at 17:39)</a>:</h4>
<blockquote>
<blockquote>
<p>Would it make sense to replace gqa by a function using analyze_overlaps() because it give you a better control on analyzing the overlaps?</p>
</blockquote>
<p>well gqa does a lot more than just checks for overlaps. So something like analyze_overlaps cannot replace it.<br>
Yeah the better control of analyzing just some regions is better but then with gqa shooting three grids, all overlaps are found.<br>
I would think <em>gqa</em> as a tool to check for overlaps as a whole and <em>check_overlaps</em> as something that can be used to analyze them in detail.</p>
</blockquote>
<p>I've just realized that my question was missing an important addition, namely "in the <em>overlaps_tool</em>". I didn't meant it in general.</p>



<a name="129308233"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129308233" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129308233">(Jul 08 2018 at 17:43)</a>:</h4>
<blockquote>
<blockquote>
<p>Why can't I check the overlaps between /g4/r25 and /g4/r12 of truck.g in overlaps_tool?</p>
</blockquote>
<p>It worked for me I could display them on screen.</p>
</blockquote>
<p>When I write for example <em>/g4/r25</em> in the Object(s) field of the overlap_tool I get the error message "Unrecognized object names: /g4/r25".</p>



<a name="129308496"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129308496" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129308496">(Jul 08 2018 at 17:51)</a>:</h4>
<blockquote>
<p>I've just realized that my question was missing an important addition, namely "in the <em>overlaps_tool</em>". I didn't meant it in general.</p>
</blockquote>
<p>Well I don't get the "better control" on analyzing the overlaps in <em>overlaps_tool</em>. To the end user it is just running the commands and listing the overlaps.  As a developer yes I had better control in specifying the az/el values but then at the end I had to run it for 16 different combinations of az/el values to get an overall count which gqa does for me with just one command.</p>



<a name="129308693"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129308693" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129308693">(Jul 08 2018 at 17:58)</a>:</h4>
<blockquote>
<p>When I write for example <em>/g4/r25</em> in the Object(s) field of the overlap_tool I get the error message "Unrecognized object names: /g4/r25".</p>
</blockquote>
<p>Humm I am using the <em>t [obj]</em> command to check if the object actually exists in the db. And running <em>t /g4/r25</em> gives me a db_lookup error.<br>
the t command works for <em>t r25</em>.<br>
What if I use pathlist command? That works with both g4 and /g4/r25<br>
PS: I am using the pathlist command for verifying the overlaps file browsed is correct or not.</p>



<a name="129308841"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129308841" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129308841">(Jul 08 2018 at 18:03)</a>:</h4>
<p><em>paths</em> command also works</p>



<a name="129309402"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129309402" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129309402">(Jul 08 2018 at 18:21)</a>:</h4>
<blockquote>
<p>Beyond that, the decision is really up for discussion or just try something so we can have "some time to form an opinion" :)<br>
I think it would be good to think beyond gridded sampling methods -- like s/grid_generator/ray_generator/ where you still have an iterator that returns the "next" ray, but it might not be limited to a grid pattern.  The difficulty will likely be how to control parameters of the pattern.</p>
</blockquote>
<p>First, you have a point here: It's in fact a ray and not only a grid generator. If Saran agrees too, he could rename it some day.</p>
<p>And regarding the not being limited to a rectangular pattern: This was a goal of this reorganization of the code too. Currently, the ray generator has only two functions: <code>next_ray()</code> and <code>grid_cell_width()</code>, where <code>grid_cell_width()</code> has in fact the meaning of "ray thickness". This is still very general and could be applied to patterns starting from a sphere or randomly in 3D space or ...<br>
<em>gqa</em> has an additional requirement: It wants to control the fineness. There Saran's first attempt relies on the rectangularity of the grid. But, one could think of a ray generator function <code>refine_grid()</code>, which abstract this for any kind of grids.</p>
<p>However, currently the libanalyze analyze_overlaps() would work with any kind of ray generator whereas libged's check_overlaps relies on the rectangular shape (its input values are designed for this only).</p>



<a name="129309608"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129309608" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129309608">(Jul 08 2018 at 18:28)</a>:</h4>
<p>To sum our discussion up, I see the following tasks as the next development steps:</p>
<ul>
<li>Better object selection via GUI in overlaps_tool similar to the prototype in the proposal.</li>
<li>Go through the ideas in the TODO for improving the checker_tool and implement some of them, etc..</li>
<li>Move the core algorithm of <em>gqa</em> to libanalyze and make it work with a generalized ray generator.</li>
</ul>
<p>Any comments?</p>



<a name="129309735"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129309735" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129309735">(Jul 08 2018 at 18:32)</a>:</h4>
<blockquote>
<p><em>paths</em> command also works</p>
</blockquote>
<p>Liked this, because it threw lesser error messages in validating the overlaps file. With <em>pathlist</em> it gave a big error message in MGED's command window.<br>
And now it should be fixed <a href="/user_uploads/1549/C6fBJLcUjEqCTPAywH08YfCZ/overlaps_tool_objects_fix.patch" target="_blank" title="overlaps_tool_objects_fix.patch">overlaps_tool_objects_fix.patch</a></p>



<a name="129309981"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129309981" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129309981">(Jul 08 2018 at 18:41)</a>:</h4>
<blockquote>
<p>To sum our discussion up, I see the following tasks as the next development steps:<br>
* Better object selection via GUI in overlaps_tool similar to the prototype in the proposal.<br>
* Go through the ideas in the TODO for improving the checker_tool and implement some of them, etc..<br>
* Move the core algorithm of <em>gqa</em> to libanalyze and make it work with a generalized ray generator.</p>
<p>Any comments?</p>
</blockquote>
<p>Okay I will start with the better object selection. Will do some reading on how MGED's geometry browser GUI works.</p>



<a name="129328041"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129328041" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129328041">(Jul 09 2018 at 05:14)</a>:</h4>
<blockquote>
<p><em>gqa</em> has an additional requirement: It wants to control the fineness. There Saran's first attempt relies on the rectangularity of the grid. But, one could think of a ray generator function <code>refine_grid()</code>, which abstract this for any kind of grids.</p>
</blockquote>
<p>gqa's refinement could even be simply embedded in the natural progression of "next ray" where its pattern is an X grid, a Y grid, a Z grid, an X grid with a different thickness (and offset), a Y grid at the new thickness, etc.</p>
<blockquote>
<p>However, currently the libanalyze analyze_overlaps() would work with any kind of ray generator whereas libged's check_overlaps relies on the rectangular shape (its input values are designed for this only).</p>
</blockquote>
<p>the abstract concepts I'm hearing are ray creation/generation (e.g., grid, 3grid, spherical, etc), dispatch pattern (e.g., sequentially, random, hilbert, etc), and evaluation method (e.g., overlaps, volume, surface area, etc)</p>



<a name="129345695"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129345695" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129345695">(Jul 09 2018 at 12:31)</a>:</h4>
<p>I was able to get the geometry listed, using some code from Geometry browser. Changed the double click to add to objs list and color it yellow.<br>
<a href="/user_uploads/1549/wRVbp3eI7P6Jftx3UnxSXSv4/Screenshot-from-2018-07-09-17-46-00.png" target="_blank" title="Screenshot-from-2018-07-09-17-46-00.png"></a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/wRVbp3eI7P6Jftx3UnxSXSv4/Screenshot-from-2018-07-09-17-46-00.png" target="_blank" title=""><img src="/user_uploads/1549/wRVbp3eI7P6Jftx3UnxSXSv4/Screenshot-from-2018-07-09-17-46-00.png"></a></div><p>That got me thinking, the overlaps tool runs the check_overlaps and gqa on per objects from the entry box  like this :</p>
<div class="codehilite"><pre><span></span><span class="k">foreach</span> obj <span class="nv">$_objs</span> <span class="k">{</span>
    <span class="nv">$this</span> <span class="nv">runCheckOverlaps</span> <span class="nv">$obj</span>
    <span class="nv">$this</span> <span class="nv">runGqa</span> <span class="nv">$obj</span>
<span class="k">}</span>
</pre></div>


<p>This is how the <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> also behaved. So giving individual regions in the _objs list won't make sense like <code>/g4/r25 /g4/r12</code> this would make the tool run <code>check_overlaps /g4/r25</code> and <code>gqa /g4/r25</code> then <code>check_overlaps /g4/r12</code> and <code>gqa /g4/r12</code>. Both regions individually would give zero overlaps.</p>
<p>So should I change the behaviour to something like this:</p>
<div class="codehilite"><pre><span></span><span class="nv">$this</span> <span class="nv">runCheckOverlaps</span> <span class="nv">$_objs</span>
<span class="nv">$this</span> <span class="nv">runGqa</span> <span class="nv">$_objs</span>
</pre></div>


<p>So that it would run the tools like <code>check_overlaps /g4/r25 /g4/r12</code> and <code>gqa /g4/r25 /g4/r12</code> hence get overlaps between the regions.</p>



<a name="129346570"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129346570" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129346570">(Jul 09 2018 at 12:49)</a>:</h4>
<p>This is confusing me:</p>
<div class="codehilite"><pre><span></span>mged&gt; gqa -Ao -g1mm,1mm /g4/r25 /g4/r12
Trying initial grid spacing: 1 mm
Using grid spacing lower limit: 1 mm
Processing with grid spacing 1 mm 1241 x 688 x 864
/home/sharan/brlcad/mod_ssh/src/libged/gqa.c:1461 Didn&#39;t find object named &quot;g4/r25&quot; in 2 entries
/home/sharan/brlcad/mod_ssh/src/libged/gqa.c:1461 Didn&#39;t find object named &quot;g4/r12&quot; in 2 entries
NOTE: Stopped, grid spacing refined to 0.5 (below lower limit 1).
Summary (1mm grid spacing):
list Overlaps:
/g4/r12 /g4/r25 count:727 dist:363.945mm @ (7443 833.03 1093)
</pre></div>


<p>it says it can't find objects but then reports the overlaps.</p>



<a name="129371123"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129371123" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129371123">(Jul 09 2018 at 20:14)</a>:</h4>
<p>Progress so far :<br>
<a href="/user_uploads/1549/hCwFcLxhqpw2ZNXi8Zw_en55/Peek-2018-07-10-01-42.gif" target="_blank" title="Peek-2018-07-10-01-42.gif">Peek-2018-07-10-01-42.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/hCwFcLxhqpw2ZNXi8Zw_en55/Peek-2018-07-10-01-42.gif" target="_blank" title="Peek-2018-07-10-01-42.gif"><img src="/user_uploads/1549/hCwFcLxhqpw2ZNXi8Zw_en55/Peek-2018-07-10-01-42.gif"></a></div>



<a name="129388393"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129388393" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129388393">(Jul 10 2018 at 03:36)</a>:</h4>
<blockquote>
<p>it says it can't find objects but then reports the overlaps.</p>
</blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> that is odd.  looking at the code, I think you found a bug -- when an object isn't found, find_cmd_line_obj() returns GED_ERROR which is a 1 ... which is a valid object table entry (but wrong!).  want to try and fix it?</p>



<a name="129396671"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129396671" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129396671">(Jul 10 2018 at 07:28)</a>:</h4>
<p>umm yeah I am trying to fix it but figuring out how it works,  gqa expects the objects like g4 or havoc as entry, anything like /g4/ or g4/ throws that error message.</p>
<blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> that is odd.  looking at the code, I think you found a bug -- when an object isn't found, find_cmd_line_obj() returns GED_ERROR which is a 1 ... which is a valid object table entry (but wrong!).  want to try and fix it?</p>
</blockquote>
<p>Here you say 1 is valid but wrong and in the FIXME comment you said the type is not valid and value is correct. <br>
So the fix would be returning a 'int' with value as 1 ? But that doesn't fix the <em>Didn't find object</em> messages.</p>



<a name="129418334"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129418334" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129418334">(Jul 10 2018 at 15:48)</a>:</h4>
<blockquote>
<p>umm yeah I am trying to fix it but figuring out how it works,  gqa expects the objects like g4 or havoc as entry, anything like /g4/ or g4/ throws that error message.</p>
</blockquote>
<p>Well yes, because you can see in find_cmd_line_obj() that it does a simple iteration over the arguments and compares against all regions (&amp;regp-&gt;reg_name[1])...<br>
since those are region names and not paths, they'll never match a path, so find_cmd_line_obj() returns an index of 1 (i.e., GED_ERROR... which is wrong/bad).</p>



<a name="129418479"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129418479" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129418479">(Jul 10 2018 at 15:51)</a>:</h4>
<blockquote>
<p>Here you say 1 is valid but wrong and in the FIXME comment you said the type is not valid and value is correct. <br>
So the fix would be returning a 'int' with value as 1 ? But that doesn't fix the <em>Didn't find object</em> messages.</p>
</blockquote>
<p>I didn't say the value was "correct".  I wrote that the value (1) could be a _valid_ index and in your example it is a valid index.  right now, the return "type" of that function is an index into an array (see where find_cmd_line_obj() is called) ... so returning anything non-negative is probably going to be bad... do you see why?</p>



<a name="129422080"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129422080" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129422080">(Jul 10 2018 at 17:01)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> any progress?</p>



<a name="129422161"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129422161" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129422161">(Jul 10 2018 at 17:03)</a>:</h4>
<blockquote>
<p>Well yes, because you can see in find_cmd_line_obj() that it does a simple iteration over the arguments and compares against all regions (&amp;regp-&gt;reg_name[1])...<br>
since those are region names and not paths, they'll never match a path, so find_cmd_line_obj() returns an index of 1 (i.e., GED_ERROR... which is wrong/bad).</p>
</blockquote>
<p>yeah  I did see this. In the call to <code>find_cmd_line_obj()</code>  pointer to reg_name[1] is passed which cuts off the front "/" in the region name and inside the <code>find_cmd_line_obj()</code> it replaces the next occurance of "/" with "null termination". <br>
So from /g4/r1 it becomes g4/r1, then the next "/" is replaced by null termination making it just g4. which matches the object, (i.e g4)</p>



<a name="129422226"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129422226" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129422226">(Jul 10 2018 at 17:04)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> any progress?</p>
</blockquote>
<p>I had made some progress with the overlap tool- added ability to batch add/remove elements into the objectlist with wildcards, but nothing related the bug fix</p>



<a name="129422496"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129422496" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129422496">(Jul 10 2018 at 17:10)</a>:</h4>
<p>I don't know what should be the expected behaviour in case if paths are supplied in cmd-line arguments.</p>



<a name="129422974"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129422974" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129422974">(Jul 10 2018 at 17:21)</a>:</h4>
<p>should it be like for input <code>gqa /g4/r25 /g4/r12</code> on  call to <code>find_cmd_line_objs()</code> for <em>/g4/r25</em> it must return 0 and for <em>/g4/r12</em> it must return 1</p>



<a name="129423862"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129423862" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129423862">(Jul 10 2018 at 17:39)</a>:</h4>
<p>According to current behaviour it is like linking the objects with the regions i.e /g4/r1, /g4/r2 all return the index of g4 in the obj_table.</p>



<a name="129425376"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129425376" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129425376">(Jul 10 2018 at 18:08)</a>:</h4>
<blockquote>
<p>so returning anything non-negative is probably going to be bad... do you see why?</p>
</blockquote>
<p>yeah that is right because it would match incorrectly. Should the fix be something like this? <a href="/user_uploads/1549/JsYpwJvZeBK6oY3Z2bOi_0GS/gqa_fix.patch" target="_blank" title="gqa_fix.patch">gqa_fix.patch</a></p>



<a name="129425952"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129425952" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129425952">(Jul 10 2018 at 18:21)</a>:</h4>
<p>Today's progress regarding overlaps_tool's objection selection:<br>
<a href="/user_uploads/1549/rQs0rGSYMSl65vYF8HPA0KTn/Peek-2018-07-10-23-49.gif" target="_blank" title="Peek-2018-07-10-23-49.gif"></a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/rQs0rGSYMSl65vYF8HPA0KTn/Peek-2018-07-10-23-49.gif" target="_blank" title=""><img src="/user_uploads/1549/rQs0rGSYMSl65vYF8HPA0KTn/Peek-2018-07-10-23-49.gif"></a></div>



<a name="129426111"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129426111" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129426111">(Jul 10 2018 at 18:24)</a>:</h4>
<p>the top entry can also be used to add individual items as well ( not shown in the gif )</p>



<a name="129426244"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129426244" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129426244">(Jul 10 2018 at 18:27)</a>:</h4>
<p>now I think what's left is to add Check Tops and Clear Selection buttons.</p>



<a name="129426950"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129426950" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129426950">(Jul 10 2018 at 18:41)</a>:</h4>
<blockquote>
<p>I don't know what should be the expected behaviour in case if paths are supplied in cmd-line arguments.</p>
</blockquote>
<p>what happens if you "draw /g4/r25 /g4/r12" and "gqa" in mged?  probably the expected behavior ;)</p>



<a name="129427037"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129427037" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129427037">(Jul 10 2018 at 18:42)</a>:</h4>
<blockquote>
<p>yeah that is right because it would match incorrectly. Should the fix be something like this? <a href="/user_uploads/1549/JsYpwJvZeBK6oY3Z2bOi_0GS/gqa_fix.patch" target="_blank" title="gqa_fix.patch">gqa_fix.patch</a></p>
</blockquote>
<p>This looks good to me except that you left the fixme comment ;)</p>



<a name="129427361"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129427361" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129427361">(Jul 10 2018 at 18:49)</a>:</h4>
<p>what is the default selection?  if something is drawn?  if nothing is drawn?</p>



<a name="129435446"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129435446" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129435446">(Jul 10 2018 at 21:35)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> I haven't seen you commit anything recently ... at this point, you should be committing daily, throughout the day while you work.  each one of the "today's progress" postings here should have been preceded by at least 1 or 10 commits.  don't be shy ;)</p>



<a name="129437001"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129437001" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129437001">(Jul 10 2018 at 22:09)</a>:</h4>
<p>also, regarding r71117 ... if you're going to introduce anything into public headers in the top-level include/ directory, they need to be documented with /** */ doxygen comments</p>



<a name="129455817"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129455817" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129455817">(Jul 11 2018 at 07:11)</a>:</h4>
<blockquote>
<p>what happens if you "draw /g4/r25 /g4/r12" and "gqa" in mged?  probably the expected behavior ;)</p>
</blockquote>
<p>I get the same behaviour <span class="emoji emoji-1f914" title="thinking face">:thinking_face:</span>  for <em>gqa -Ao</em> after drawing /g4/r25 and /g4/r12</p>



<a name="129455956"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129455956" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129455956">(Jul 11 2018 at 07:15)</a>:</h4>
<blockquote>
<p>what is the default selection?  if something is drawn?  if nothing is drawn?</p>
</blockquote>
<p>right now for both the default selection is nothing. On previous iteration of my overlaps_tool I had made it get the currently drawn objects using the <em>who</em> command. I would restore that behaviour here too.</p>



<a name="129456029"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129456029" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129456029">(Jul 11 2018 at 07:18)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> I haven't seen you commit anything recently ... at this point, you should be committing daily, throughout the day while you work.  each one of the "today's progress" postings here should have been preceded by at least 1 or 10 commits.  don't be shy ;)</p>
</blockquote>
<p>Okay got it!. Will commit regularly.</p>



<a name="129459805"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129459805" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129459805">(Jul 11 2018 at 09:15)</a>:</h4>
<p>Committed lots of things. Now its up to date with my progress.</p>



<a name="129468666"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129468666" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129468666">(Jul 11 2018 at 12:55)</a>:</h4>
<p>Tested it out on windows 10. Seems to be working alright.</p>



<a name="129478023"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129478023" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129478023">(Jul 11 2018 at 15:23)</a>:</h4>
<p>Woot!  Looking good.  So where do we stand on the original script?  Do you do everything it does now?</p>



<a name="129482615"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129482615" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129482615">(Jul 11 2018 at 16:33)</a>:</h4>
<p>Not really there are two things missing: <br>
1) dry_run with -d option : this was not feasible because I am dealing with the overlaps in the memory and it doesn't write the intermediate files to the disk like rtcheck <em>program</em> does.<br>
2) There is a block code disabled with a false flag in <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> at line 264, but it deals with the plot files so again as I am using check_overlaps command instead of rtcheck <em>program</em> it does not write any plot files.</p>



<a name="129486422"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129486422" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129486422">(Jul 11 2018 at 17:37)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> 1) I don't think dry_run is important ... I think that was just to make sure the script was iterating correctly and that it wasn't going to explode into too many rtcheck runs if the iteration wasn't right or some size changed</p>



<a name="129486501"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129486501" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129486501">(Jul 11 2018 at 17:38)</a>:</h4>
<p>2) can also be ignored for now -- that was a means to generate visualization aids for resolving overlaps.  there's other things we can do there that would be better</p>



<a name="129486525"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129486525" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129486525">(Jul 11 2018 at 17:38)</a>:</h4>
<p>SO ... then it sounds like you're there or close to it?  does check_overlaps (without the GUI) still write out an overlaps file?</p>



<a name="129486541"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129486541" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129486541">(Jul 11 2018 at 17:39)</a>:</h4>
<p>what's the usage like?</p>



<a name="129486547"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129486547" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129486547">(Jul 11 2018 at 17:39)</a>:</h4>
<p>(command-line usage)</p>



<a name="129486633"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129486633" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129486633">(Jul 11 2018 at 17:40)</a>:</h4>
<p>check_overlaps does not write an overlaps file.</p>



<a name="129486671"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129486671" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129486671">(Jul 11 2018 at 17:41)</a>:</h4>
<blockquote>
<p>(command-line usage)</p>
</blockquote>
<p>do you mean from terminal like we can run rtcheck or gqa?</p>



<a name="129486764"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129486764" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129486764">(Jul 11 2018 at 17:42)</a>:</h4>
<p>usage inside MGED would be check_overlaps [options] [object(s)]</p>



<a name="129486811"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129486811" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129486811">(Jul 11 2018 at 17:44)</a>:</h4>
<p>I mean from the mged command line</p>



<a name="129486855"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129486855" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129486855">(Jul 11 2018 at 17:44)</a>:</h4>
<p>so yeah, what are those options :)</p>



<a name="129487039"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487039" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487039">(Jul 11 2018 at 17:47)</a>:</h4>
<p>options:<br>
-a #, -e #for the az/el values<br>
-s # for size value<br>
-d for printing information like the eye_pos, orientation, grid size...<br>
- w #, -n # for mentioning the width/height<br>
-g # ,-G # for cell width/height.<br>
-P# to set processors used<br>
-V# to set pixel ratio (width/height)</p>



<a name="129487120"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487120" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487120">(Jul 11 2018 at 17:49)</a>:</h4>
<p>if the options and objects are not mentioned then default values are used -a 35 -e25 -s 512</p>



<a name="129487139"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487139" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487139">(Jul 11 2018 at 17:49)</a>:</h4>
<p>if objects are mentioned but not options again the default values are used</p>



<a name="129487202"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487202" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487202">(Jul 11 2018 at 17:50)</a>:</h4>
<p>but if both are not mentioned then it takes the view information runs the tools on the visible objects</p>



<a name="129487244"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487244" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487244">(Jul 11 2018 at 17:51)</a>:</h4>
<p>so essentially  it has rtcheck's usage</p>



<a name="129487262"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487262" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487262">(Jul 11 2018 at 17:51)</a>:</h4>
<p>yeah basically a replacement for the rtcheck command with the added option of mentioning the objects</p>



<a name="129487316"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487316" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487316">(Jul 11 2018 at 17:52)</a>:</h4>
<p>you can specify objects to rtcheck</p>



<a name="129487325"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487325" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487325">(Jul 11 2018 at 17:52)</a>:</h4>
<p>not in MGED</p>



<a name="129487342"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487342" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487342">(Jul 11 2018 at 17:52)</a>:</h4>
<p>well you have to mention the database too</p>



<a name="129487557"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487557" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487557">(Jul 11 2018 at 17:56)</a>:</h4>
<p><a href="/user_uploads/1549/BCF8avF2aDWHz_kotfWlFMf-/Screenshot-from-2018-07-11-23-26-29.png" target="_blank" title="Screenshot-from-2018-07-11-23-26-29.png">Screenshot-from-2018-07-11-23-26-29.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/BCF8avF2aDWHz_kotfWlFMf-/Screenshot-from-2018-07-11-23-26-29.png" target="_blank" title="Screenshot-from-2018-07-11-23-26-29.png"><img src="/user_uploads/1549/BCF8avF2aDWHz_kotfWlFMf-/Screenshot-from-2018-07-11-23-26-29.png"></a></div>



<a name="129487577"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487577" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487577">(Jul 11 2018 at 17:57)</a>:</h4>
<p>I have truck.g in the bin folder for quick running and it shows this if run rtcheck with objects mentioned</p>



<a name="129487592"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487592" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487592">(Jul 11 2018 at 17:57)</a>:</h4>
<p>it does find overlaps</p>



<a name="129487655"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487655" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487655">(Jul 11 2018 at 17:58)</a>:</h4>
<p>that's not the right usage for inside mged</p>



<a name="129487674"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487674" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487674">(Jul 11 2018 at 17:58)</a>:</h4>
<p>what is it then? running <em>rtcheck g4</em> also fails</p>



<a name="129487682"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487682" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487682">(Jul 11 2018 at 17:58)</a>:</h4>
<p>there's rtcheck the application, and rtcheck the command -- they're similar obviously as one wraps the other, but different expectations</p>



<a name="129487706"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487706" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487706">(Jul 11 2018 at 17:59)</a>:</h4>
<p>the command does not take a .g file -- it uses whatever is open in mged</p>



<a name="129487715"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487715" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487715">(Jul 11 2018 at 17:59)</a>:</h4>
<p>the app takes a file and list of objects</p>



<a name="129487722"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487722" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487722">(Jul 11 2018 at 17:59)</a>:</h4>
<p>in mged, it defaults to objects displayed, but will also take a list of objects</p>



<a name="129487875"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487875" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487875">(Jul 11 2018 at 18:01)</a>:</h4>
<blockquote>
<p>the app takes a file and list of objects</p>
</blockquote>
<p>yeah. The rtcheck command uses the -M option of the app to feed the parameters and the objects</p>



<a name="129487918"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487918" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487918">(Jul 11 2018 at 18:02)</a>:</h4>
<p>what's probably confusing matters is the rtcheck command in mged does try to detect when it looks like you're trying to override the defaults (like specifying a different .g file) but it probably doesn't do a very great job at it as that's not common usage</p>



<a name="129487986"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129487986" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129487986">(Jul 11 2018 at 18:03)</a>:</h4>
<p>so here's where it gets interesting.</p>



<a name="129488044"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129488044" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129488044">(Jul 11 2018 at 18:04)</a>:</h4>
<p>from a design perspective, I've been enjoying listening to you and daniel talk through this new overlaps interface because you have a fresh perspective</p>



<a name="129488079"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129488079" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129488079">(Jul 11 2018 at 18:05)</a>:</h4>
<p>detecting and resolving overlaps is one of our most central and frequently used features, and one of the few features that I dare say we handle considerably better and faster than the big-name commercial CAD systems</p>



<a name="129488099"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129488099" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129488099">(Jul 11 2018 at 18:05)</a>:</h4>
<p>anyways, we're at a point now where we need it to be even better because we've had this accumulation of features go in three different directions for years</p>



<a name="129488142"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129488142" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129488142">(Jul 11 2018 at 18:06)</a>:</h4>
<p>rtcheck, glint, and gqa</p>



<a name="129488169"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129488169" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129488169">(Jul 11 2018 at 18:07)</a>:</h4>
<p>there was an old overlap resolution GUI that simply ran rtcheck and let you iterate through the pairs, subtract left from right or right from left or raw edit the combs -- it was terrible</p>



<a name="129488267"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129488267" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129488267">(Jul 11 2018 at 18:08)</a>:</h4>
<p>there's the new one that you've been working with that runs lots of rtchecks and also gqa (which is essentially three more axis-aligned rtchecks), presents them in priority order, and provides a workflow interface for fixing them -- this is not terrible</p>



<a name="129488313"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129488313" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129488313">(Jul 11 2018 at 18:09)</a>:</h4>
<blockquote>
<p>there was an old overlap resolution GUI that simply ran rtcheck and let you iterate through the pairs, subtract left from right or right from left or raw edit the combs -- it was terrible</p>
</blockquote>
<p>humm it still exists right? under tools-&gt;overlap tool</p>



<a name="129488317"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129488317" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129488317">(Jul 11 2018 at 18:09)</a>:</h4>
<p>however, we still have rtcheck and gqa as rather different tools, and now a check_overlaps command that is highly related but also dissimilar</p>



<a name="129488325"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129488325" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129488325">(Jul 11 2018 at 18:10)</a>:</h4>
<p>yes, still exists but entirely unused by anyone</p>



<a name="129488544"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129488544" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129488544">(Jul 11 2018 at 18:13)</a>:</h4>
<p>it'd be great to <em>get rid of</em> rtcheck and gqa and glint ... replace them with one tool that checks geometry for issues, but that tool definitely does not (or at least should not) have rtcheck's usage as the prima fascia interface to users</p>



<a name="129488852"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129488852" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129488852">(Jul 11 2018 at 18:18)</a>:</h4>
<p>oh that is where you were going with <em>check</em> as command and <em>overlaps</em> as sub-command. So that we can have other sub-commands like what gqa offers?</p>



<a name="129489764"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129489764" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129489764">(Jul 11 2018 at 18:34)</a>:</h4>
<p>and how would we have a different interface to the user? If these tools were to be merged we can have like a grid pattern option where single grid would mean it shoots rays like rtcheck and 3 axis aligned grid which would shoot the grids like gqa does.<br>
But we still need some of the options of rtcheck like grid spacing, az/el values.<br>
I am not really sure what glint does because I have not read the code for glint or used it before, from the man page it seems very similar to rtcheck. But it reports other information like vacuums and air region problems.<br>
So those other functions/information can be like options or sub-commands.</p>



<a name="129491241"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129491241" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129491241">(Jul 11 2018 at 18:57)</a>:</h4>
<blockquote>
<p>oh that is where you were going with <em>check</em> as command and <em>overlaps</em> as sub-command. So that we can have other sub-commands like what gqa offers?</p>
</blockquote>
<p>bingo (and even more suboptions like glint offers)</p>



<a name="129491529"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129491529" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129491529">(Jul 11 2018 at 19:03)</a>:</h4>
<p>hmm then maybe we can have all the algorithms of these three programs in libanalyze. Then have one common driver that calls these libanalyze functions</p>



<a name="129491534"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129491534" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129491534">(Jul 11 2018 at 19:03)</a>:</h4>
<p>breaking it down, there's two or three fundamental operations going on -- we're 1) figuring out where there is and is not geometry and 2) asking some question(s) about that geometry and 3) presenting answers to those questions in some meaningful way</p>



<a name="129491656"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129491656" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129491656">(Jul 11 2018 at 19:05)</a>:</h4>
<p>rtcheck for example, 1) shoots a rectangular grid of rays to get partitions, 2) figures out and keeps a list of where there are overlapping partitions, 3)  presents that list as sets of ordered pairs with their quantities of overlap</p>



<a name="129491726"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129491726" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129491726">(Jul 11 2018 at 19:06)</a>:</h4>
<p>gqa for -Ao (overlaps) is the same for 2 and 3 but for (1) it recursively shoots 3 axis-aligned grids of rays.</p>



<a name="129491864"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129491864" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129491864">(Jul 11 2018 at 19:09)</a>:</h4>
<p>glint is the same as rtcheck for 1/2/3 but has a lot more options for what it will detect during (2) and has had little attention to the quality of (3)</p>



<a name="129491901"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129491901" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129491901">(Jul 11 2018 at 19:09)</a>:</h4>
<p>rtcheck is slightly better at (3) than gqa, but then gqa is far better at (1) and has a lot more options for (2)</p>



<a name="129492086"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129492086" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129492086">(Jul 11 2018 at 19:12)</a>:</h4>
<p>thinking of overlaps in particular, there are two additional methods for (1) that we'd like because they'd likely be quite superior -- spherical sampling and surface intersection testing</p>



<a name="129492122"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129492122" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129492122">(Jul 11 2018 at 19:13)</a>:</h4>
<p>the first is ray tracing, but the latter (surface intersection testing) isn't even ray tracing, which means (2) would have to be completely different to support it</p>



<a name="129492130"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129492130" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129492130">(Jul 11 2018 at 19:13)</a>:</h4>
<p>have I lost you yet? :)</p>



<a name="129492205"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129492205" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129492205">(Jul 11 2018 at 19:14)</a>:</h4>
<p>I understood the analogy of the three fundamental operations. Not so much sure about the two new method you are suggesting :D</p>



<a name="129493045"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129493045" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129493045">(Jul 11 2018 at 19:32)</a>:</h4>
<p>so the next question is really just how much of 1/2/3 is libanalyze's job and it's probably either just 1 or 1 &amp; 2</p>



<a name="129493124"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129493124" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129493124">(Jul 11 2018 at 19:34)</a>:</h4>
<p>from a callback perspective, it's possibly even just 2 for libanalyze, with 1 being registered by the caller as a callback</p>



<a name="129493223"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129493223" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129493223">(Jul 11 2018 at 19:36)</a>:</h4>
<p>so an rtcheck-style application might decide to shoot a grid of rays, handing each one back sequentially for the next ray callback()</p>



<a name="129493248"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129493248" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129493248">(Jul 11 2018 at 19:37)</a>:</h4>
<p>i really liked the "next ray" concept that you and daniel worked out -- that iterator concept is spot on</p>



<a name="129493311"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129493311" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129493311">(Jul 11 2018 at 19:38)</a>:</h4>
<p>that way there can be some predefined patterns (like rectangular grids) or something far more advanced like an adaptive refinement sampling</p>



<a name="129493393"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129493393" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129493393">(Jul 11 2018 at 19:40)</a>:</h4>
<p>yep and with something like nextray we can get xray* preped for the patterns</p>



<a name="129493485"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129493485" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129493485">(Jul 11 2018 at 19:42)</a>:</h4>
<p>we can have different iterators for different patterns which are registered by libged</p>



<a name="129493551"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129493551" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129493551">(Jul 11 2018 at 19:43)</a>:</h4>
<p>these concepts overlap heavily with rendering too, and there you even want to separate the sample ordering since it can have a great effect on performance</p>



<a name="129493644"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129493644" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129493644">(Jul 11 2018 at 19:45)</a>:</h4>
<p>for example, I might want to shoot a grid of rays one line at a time from top to bottom or bottom to top, or maybe in little 4x4 postage stamp sets, or maybe randomly one ray at a time, or ...</p>



<a name="129493760"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129493760" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129493760">(Jul 11 2018 at 19:47)</a>:</h4>
<p>okay now I understand the patterns you were talking about. I remember tweaking these rendering options to get the max performance in Blender.</p>



<a name="129494958"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129494958" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129494958">(Jul 11 2018 at 20:06)</a>:</h4>
<p>in rendering terms, these are typically handled as "camera properties" which doesn't fit well in libanalyze's world but certainly relates since we use render-style analysis methods</p>



<a name="129495228"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129495228" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129495228">(Jul 11 2018 at 20:11)</a>:</h4>
<p>yeah got it..</p>



<a name="129495244"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129495244" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129495244">(Jul 11 2018 at 20:11)</a>:</h4>
<p>so all that discussion, what's next?</p>



<a name="129495617"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129495617" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129495617">(Jul 11 2018 at 20:17)</a>:</h4>
<p>well since I am done with overlaps file tool. I'm ready for the next task. Which would be merging these commands. So to start with I was hoping to move gqa's algorithm to libanalyze?</p>



<a name="129495711"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129495711" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129495711">(Jul 11 2018 at 20:18)</a>:</h4>
<p>I need to figure out what things must be moved to libanalyze</p>



<a name="129495737"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129495737" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129495737">(Jul 11 2018 at 20:18)</a>:</h4>
<p>that sounds good to me (and tricky)</p>



<a name="129495764"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129495764" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129495764">(Jul 11 2018 at 20:19)</a>:</h4>
<p>have you tested how check_overlaps compares with rtcheck in terms of parallel performance?</p>



<a name="129495782"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129495782" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129495782">(Jul 11 2018 at 20:19)</a>:</h4>
<p>from a commit you made the other day, it looked like you ripped out most of the code related to parallel chunking</p>



<a name="129495902"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129495902" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129495902">(Jul 11 2018 at 20:21)</a>:</h4>
<p>yeah that is true. It has gotten a bit slow now after introducing the grid generating function for sure. But I didn't test it extensively.</p>



<a name="129496009"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129496009" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129496009">(Jul 11 2018 at 20:23)</a>:</h4>
<p>it would be good to sort that out before moving on to gqa, just to make sure it's not like 2X-10X slower -- something that might stop people from using it outright</p>



<a name="129496106"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129496106" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129496106">(Jul 11 2018 at 20:24)</a>:</h4>
<p>should also make sure the GUI is well-behaved for real geometries -- like how it behaves if you run on havoc in havoc.g</p>



<a name="129496148"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129496148" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129496148">(Jul 11 2018 at 20:25)</a>:</h4>
<blockquote>
<p>it would be good to sort that out before moving on to gqa, just to make sure it's not like 2X-10X slower -- something that might stop people from using it outright</p>
</blockquote>
<p>alright I would think something to introduce the parallel chunking.</p>



<a name="129496151"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129496151" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129496151">(Jul 11 2018 at 20:25)</a>:</h4>
<p>if something is slow, there needs to be some visual indication while it's working, something to indicate it's not stuck</p>



<a name="129496221"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129496221" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129496221">(Jul 11 2018 at 20:26)</a>:</h4>
<blockquote>
<p>alright I would think something to introduce the parallel chunking.</p>
</blockquote>
<p>No no, that wasn't the point -- that's a complex topic and could consume the remainder of gsoc.  it just requires checking the performance, doing a quick comparison.</p>



<a name="129496307"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129496307" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129496307">(Jul 11 2018 at 20:27)</a>:</h4>
<blockquote>
<blockquote>
<p>alright I would think something to introduce the parallel chunking.</p>
</blockquote>
<p>No no, that wasn't the point -- that's a complex topic and could consume the remainder of gsoc.  it just requires checking the performance, doing a quick comparison.</p>
</blockquote>
<p>haha sure that I can do :)</p>



<a name="129496346"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129496346" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129496346">(Jul 11 2018 at 20:27)</a>:</h4>
<p>there's no point doing anything if performance isn't a problem</p>



<a name="129496500"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129496500" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129496500">(Jul 11 2018 at 20:29)</a>:</h4>
<p>you just may need to comment out the gqa bits or compare it with the shell script if you make it do the same work</p>



<a name="129496780"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129496780" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129496780">(Jul 11 2018 at 20:30)</a>:</h4>
<blockquote>
<p>if something is slow, there needs to be some visual indication while it's working, something to indicate it's not stuck</p>
</blockquote>
<p>which GUI are you taking about here? the command window when running check_overlaps or the one when creating overlaps with overlaps_tool</p>



<a name="129496838"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129496838" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129496838">(Jul 11 2018 at 20:31)</a>:</h4>
<blockquote>
<p>you just may need to comment out the gqa bits or compare it with the shell script if you make it do the same work</p>
</blockquote>
<p>hmm got it but I can't really run the commands on havoc due to the tk bug. It would crash if I run it with multithread</p>



<a name="129496930"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129496930" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129496930">(Jul 11 2018 at 20:32)</a>:</h4>
<p>command window is CLI, not GUI</p>



<a name="129497090"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497090" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497090">(Jul 11 2018 at 20:34)</a>:</h4>
<blockquote>
<p>hmm got it but I can't really run the commands on havoc due to the tk bug. It would crash if I run it with multithread</p>
</blockquote>
<p>I didn't fully get what the problem was when you and daniel were talking about that last... which Tk bug is there that affects your tool, but doesn't affect gqa/rtcheck? :)</p>



<a name="129497099"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497099" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497099">(Jul 11 2018 at 20:34)</a>:</h4>
<p>or why if you know that</p>



<a name="129497207"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497207" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497207">(Jul 11 2018 at 20:36)</a>:</h4>
<p>oh it affects gqa and check_overlaps. So it ultimately affects the tool.</p>



<a name="129497232"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497232" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497232">(Jul 11 2018 at 20:36)</a>:</h4>
<p>it does not affect rtcheck because it runs in a different process</p>



<a name="129497339"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497339" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497339">(Jul 11 2018 at 20:38)</a>:</h4>
<p>on a very loosely related point -- commit 71118.  this looks problematic to me in that you are semaphore locking around every ray.  that's bad.</p>



<a name="129497368"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497368" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497368">(Jul 11 2018 at 20:39)</a>:</h4>
<p>I know the old code locked around every chunk -- that was also bad, slightly less bad, but still not good.  if you can find a way to do it lockless, that would be best.</p>



<a name="129497390"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497390" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497390">(Jul 11 2018 at 20:39)</a>:</h4>
<p>if it doesn't work in parallel, there may be other problems</p>



<a name="129497452"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497452" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497452">(Jul 11 2018 at 20:40)</a>:</h4>
<p>well do you have any suggestions for it :) and yes it does not work in parallel.</p>



<a name="129497537"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497537" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497537">(Jul 11 2018 at 20:41)</a>:</h4>
<p>having multiple threads accessing the function can get unexpected results</p>



<a name="129497775"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497775" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497775">(Jul 11 2018 at 20:45)</a>:</h4>
<p>so what's different?</p>



<a name="129497845"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497845" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497845">(Jul 11 2018 at 20:46)</a>:</h4>
<p>gqa run inside mged doesn't exhibit a problem, or are you saying it does?</p>



<a name="129497937"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497937" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497937">(Jul 11 2018 at 20:48)</a>:</h4>
<p>yes running "gqa -Ao -g10mm,10mm havoc" inside MGED gives a crash.</p>



<a name="129497998"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129497998" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129497998">(Jul 11 2018 at 20:49)</a>:</h4>
<p><span class="emoji emoji-1f631" title="scream">:scream:</span> <br>
that would be a release blocker<br>
checking...</p>



<a name="129498108"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498108" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498108">(Jul 11 2018 at 20:50)</a>:</h4>
<p>yeah it is critical bug. And running "gqa -Ao -P1 -g10mm,10mm havoc" works fine.</p>



<a name="129498109"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498109" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498109">(Jul 11 2018 at 20:50)</a>:</h4>
<p>hm, that seems to be working just fine here</p>



<a name="129498140"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498140" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498140">(Jul 11 2018 at 20:51)</a>:</h4>
<p>7.27.0 recent build, on Mac</p>



<a name="129498147"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498147" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498147">(Jul 11 2018 at 20:51)</a>:</h4>
<p>does it print extra messages?</p>



<a name="129498200"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498200" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498200">(Jul 11 2018 at 20:52)</a>:</h4>
<p>I'm not seeing anything extra -- looks like it should</p>



<a name="129498243"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498243" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498243">(Jul 11 2018 at 20:52)</a>:</h4>
<blockquote>
<p>I was testing the overlap tool with havoc.g.  It was crashing, to inspect it :<br>
I ran <code>check_overlaps -s1024 -a45 -e0 havoc</code> it gave a seg fault. <a href="https://hastebin.com/ezagerajet.cs" target="_blank" title="https://hastebin.com/ezagerajet.cs">Backtrace</a><br>
I also ran <code>gqa -q -Ao -g10mm,10mm havoc</code> that too gave seg fault.  <a href="https://hastebin.com/upipimicul.cs" target="_blank" title="https://hastebin.com/upipimicul.cs">Backtrace</a><br>
Running same with rtcheck in terminal is fine : <a href="https://hastebin.com/yobawabira.sql" target="_blank" title="https://hastebin.com/yobawabira.sql">log</a> also for gqa : <a href="https://hastebin.com/vebelonovi.swift" target="_blank" title="https://hastebin.com/vebelonovi.swift">log</a>. Those extra messages being printed by bu_log is causing the issue in MGED I think judging by the backtrace.<br>
But there are other messages like <em>Trying initial grid spacing: 10 mm</em> in gqa which are printed using bu_log. in <em>libged/gqa.c</em> . Am I missing something here?</p>
</blockquote>
<p>this is what I had</p>



<a name="129498391"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498391" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498391">(Jul 11 2018 at 20:54)</a>:</h4>
<p>what does ldd mged show?</p>



<a name="129498408"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498408" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498408">(Jul 11 2018 at 20:55)</a>:</h4>
<p>at a glance, it looks to me like maybe a library mismatch</p>



<a name="129498491"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498491" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498491">(Jul 11 2018 at 20:56)</a>:</h4>
<p>also be good to see how mged was invoked</p>



<a name="129498673"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498673" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498673">(Jul 11 2018 at 20:59)</a>:</h4>
<p><a href="https://hastebin.com/xupewumisu.go" target="_blank" title="https://hastebin.com/xupewumisu.go">https://hastebin.com/xupewumisu.go</a></p>



<a name="129498720"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498720" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498720">(Jul 11 2018 at 21:00)</a>:</h4>
<blockquote>
<p>also be good to see how mged was invoked</p>
</blockquote>
<p>I don't get it. I just ran <code>./mged</code> from build/bin</p>



<a name="129498971"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129498971" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129498971">(Jul 11 2018 at 21:02)</a>:</h4>
<p>humm the 7.26.4 release build also crashes for me.</p>



<a name="129499230"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129499230" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129499230">(Jul 11 2018 at 21:06)</a>:</h4>
<p>what's the backtrace?</p>



<a name="129499272"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129499272" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129499272">(Jul 11 2018 at 21:07)</a>:</h4>
<p>backtrace of the crash?</p>



<a name="129499326"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129499326" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129499326">(Jul 11 2018 at 21:08)</a>:</h4>
<p>yes</p>



<a name="129499359"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129499359" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129499359">(Jul 11 2018 at 21:08)</a>:</h4>
<p>the 7.26.4 crash, that'll be telling depending on the stack</p>



<a name="129499527"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129499527" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129499527">(Jul 11 2018 at 21:11)</a>:</h4>
<p><a href="https://hastebin.com/idaxoxazuf.cs" target="_blank" title="https://hastebin.com/idaxoxazuf.cs">https://hastebin.com/idaxoxazuf.cs</a></p>



<a name="129499659"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129499659" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129499659">(Jul 11 2018 at 21:13)</a>:</h4>
<p>now that's surprising</p>



<a name="129501102"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129501102" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129501102">(Jul 11 2018 at 21:41)</a>:</h4>
<p>now this is making more sense with daniel's mailing list post</p>



<a name="129501652"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129501652" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129501652">(Jul 11 2018 at 21:52)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> svn up, and see if trunk does better -- or show the next backtrace ;)</p>



<a name="129502505"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129502505" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129502505">(Jul 11 2018 at 22:11)</a>:</h4>
<p>also, what does 'grep THREAD path/to/build/CMakeCache.txt' have for you?</p>



<a name="129506670"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129506670" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129506670">(Jul 11 2018 at 23:57)</a>:</h4>
<p>okay, I think I see what's going on here... the Tcl interp is being shared across multiple threads simultaneously and it shouldn't be called at all.  the problem is ged_gqa() is kicking off threads that bu_log(), which calls a hook mged registered to display everything in the command window.  ged_gqa() needs to disable that hook before printing.</p>



<a name="129507369"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129507369" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129507369">(Jul 12 2018 at 00:17)</a>:</h4>
<p>and I'm betting you have TCL_THREAD=1 ...</p>



<a name="129507412"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129507412" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129507412">(Jul 12 2018 at 00:18)</a>:</h4>
<p>I bet that explains why it's happened to work thus far</p>



<a name="129521739"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129521739" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129521739">(Jul 12 2018 at 07:31)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> svn up, and see if trunk does better -- or show the next backtrace ;)</p>
</blockquote>
<p><a href="https://hastebin.com/ekobopotih.cs" target="_blank" title="https://hastebin.com/ekobopotih.cs">https://hastebin.com/ekobopotih.cs</a></p>



<a name="129521855"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129521855" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129521855">(Jul 12 2018 at 07:33)</a>:</h4>
<blockquote>
<p>also, what does 'grep THREAD path/to/build/CMakeCache.txt' have for you?</p>
</blockquote>
<p><a href="https://hastebin.com/raw/akiqawiman" target="_blank" title="https://hastebin.com/raw/akiqawiman">https://hastebin.com/raw/akiqawiman</a></p>



<a name="129521987"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129521987" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129521987">(Jul 12 2018 at 07:36)</a>:</h4>
<blockquote>
<p>and I'm betting you have TCL_THREAD=1 ...</p>
</blockquote>
<p>yep it is set to TRUE</p>



<a name="129522200"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129522200" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129522200">(Jul 12 2018 at 07:43)</a>:</h4>
<blockquote>
<p>a hook mged registered to display everything in the command window.  ged_gqa() needs to disable that hook before printing.</p>
</blockquote>
<p>yeah the hook <code>output_callback</code>. I remember disabling the hook via MGED by running <code>output_hook</code> command (with no arguments it disables the hook ).</p>



<a name="129534494"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129534494" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129534494">(Jul 12 2018 at 13:03)</a>:</h4>
<p>I compared the performance of check_overlaps vs rtcheck. Both gave me the same timings. Around 38s in overlaps_tool and <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a>.</p>



<a name="129546693"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129546693" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129546693">(Jul 12 2018 at 16:38)</a>:</h4>
<p>So I was going through gqa.c, if I had to move some parts like plane_worker, hit, and overlap to libanalyze I would need to have a huge parameter list. Some of these are from that state structure inside gqa, I planned to pass the needed variables only from the structure.<br>
There are variables like plot_gaps, plot_overlaps... which are file pointers and they also have a list variable and a color variable. I thought of creating functions that deals with gaps, overlaps, air etc and pass a table of function pointers that act as callback functions.</p>



<a name="129548044"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129548044" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129548044">(Jul 12 2018 at 17:04)</a>:</h4>
<blockquote>
<blockquote>
<p>and I'm betting you have TCL_THREAD=1 ...</p>
</blockquote>
<p>yep it is set to TRUE</p>
</blockquote>
<p>So <span class="user-mention" data-user-id="109608">@Saran Narayan</span> this is definitely a difference that might cause the crash -- can you post the entire output from a clean cmake as well as your CMakeOutput.log file (in the build dir CMakeFiles dir)</p>



<a name="129548897"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129548897" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129548897">(Jul 12 2018 at 17:19)</a>:</h4>
<blockquote>
<p>So <span class="user-mention" data-user-id="109608">@Saran Narayan</span> this is definitely a difference that might cause the crash -- can you post the entire output from a clean cmake as well as your CMakeOutput.log file (in the build dir CMakeFiles dir)</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span> clean cmake : <a href="https://hastebin.com/raw/pavofuvafu" target="_blank" title="https://hastebin.com/raw/pavofuvafu">https://hastebin.com/raw/pavofuvafu</a> and  <a href="/user_uploads/1549/Q-Xy5qL-z7M0CHbLvOhPH_a7/CMakeOutput.log" target="_blank" title="CMakeOutput.log">CMakeOutput.log</a></p>



<a name="129555234"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129555234" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129555234">(Jul 12 2018 at 18:51)</a>:</h4>
<p>Mis-posted, thank you for the log!</p>



<a name="129585794"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129585794" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129585794">(Jul 13 2018 at 07:34)</a>:</h4>
<p>When moving gqa to libanalyze, it would be like having different libanalyze functions for each analysis option right? <br>
like analyze_~ where it could be analyze_gaps, analyze_volume, etc. This way we could have different check_~ files like check_gaps, check_volume etc that would call these libanalyze functions.<br>
Was something like in your mind? This would mean some code duplication for each individual sub-commands.</p>
<p>The other way is to have one common driver - check. Which would call the libanalyze functions as per the choice of the user. This reduces the duplication of code.<br>
But both approaches would make these operations exclusive like only one operation can be done at one i.e either check for overlaps or check for gaps..</p>



<a name="129610520"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129610520" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129610520">(Jul 13 2018 at 16:19)</a>:</h4>
<p>Once I get an opinion about the above doubt, I can start the work. <br>
While I was waiting, I thought I'd try this out: check_overlaps with three grid like gqa. <a href="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png" target="_blank" title="Screenshot-from-2018-07-13-21-45-27.png">Screenshot-from-2018-07-13-21-45-27.png</a> <br>
here is the diff : <a href="https://hastebin.com/lezowobevo" target="_blank" title="https://hastebin.com/lezowobevo">https://hastebin.com/lezowobevo</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png" target="_blank" title="Screenshot-from-2018-07-13-21-45-27.png"><img src="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png"></a></div>



<a name="129610721"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129610721" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129610721">(Jul 13 2018 at 16:22)</a>:</h4>
<blockquote>
<p>When moving gqa to libanalyze, it would be like having different libanalyze functions for each analysis option right? <br>
like analyze_~ where it could be analyze_gaps, analyze_volume, etc. This way we could have different check_~ files like check_gaps, check_volume etc that would call these libanalyze functions.</p>
</blockquote>
<p>That's certainly one way to handle it, not the only way.</p>
<blockquote>
<p>Was something like in your mind? This would mean some code duplication for each individual sub-commands.</p>
</blockquote>
<p>Sort of, but not with the code duplication!  And ideally not with execution duplication either, which implies a need for separating what sets up or shoots rays from what analyzes the partitions.</p>
<blockquote>
<p>The other way is to have one common driver - check. Which would call the libanalyze functions as per the choice of the user. This reduces the duplication of code.</p>
</blockquote>
<p>Not sure if you're referring to command or function -- it is the intention that there will be just one command for users to call (with subcommands or options).</p>



<a name="129610893"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129610893" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129610893">(Jul 13 2018 at 16:26)</a>:</h4>
<blockquote>
<p>Once I get an opinion about the above doubt, I can start the work. </p>
</blockquote>
<p>FYI, that's an Indian-English colloquialism, "doubt != questions" for everyone else. :)</p>



<a name="129611190"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611190" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611190">(Jul 13 2018 at 16:32)</a>:</h4>
<blockquote>
<p>While I was waiting, I thought I'd try this out: check_overlaps with three grid like gqa. <a href="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png" target="_blank" title="Screenshot-from-2018-07-13-21-45-27.png">Screenshot-from-2018-07-13-21-45-27.png</a> <br>
here is the diff : <a href="https://hastebin.com/lezowobevo" target="_blank" title="https://hastebin.com/lezowobevo">https://hastebin.com/lezowobevo</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png" target="_blank" title="Screenshot-from-2018-07-13-21-45-27.png"><img src="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png"></a></div></blockquote>
<p>Output looks great, but too much code change to follow what's going on.  Can you summarize?</p>



<a name="129611211"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611211" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611211">(Jul 13 2018 at 16:32)</a>:</h4>
<blockquote>
<blockquote>
<p>The other way is to have one common driver - check. Which would call the libanalyze functions as per the choice of the user. This reduces the duplication of code.</p>
</blockquote>
<p>Not sure if you're referring to command or function -- it is the intention that there will be just one command for users to call (with subcommands or options).</p>
</blockquote>
<p>well I meant like having one file that would handle the options and sub-commands and setup everything for each sub-command and call the libanalyze functions for the respective sub-commands.<br>
and each sub-command will have a callback function which will analyze the partitions.<br>
This way setting up code would remain in one place and would be common. (which is easier said than done :D though )</p>



<a name="129611223"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611223" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611223">(Jul 13 2018 at 16:33)</a>:</h4>
<p>we also need to talk about API design at some point since just adding more and more public functions into analyze.h isn't going to make for a good API ... it needs to be designed, needs to be simple, needs to be consistent, etc</p>



<a name="129611472"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611472" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611472">(Jul 13 2018 at 16:36)</a>:</h4>
<blockquote>
<p>well I meant like having one file that would handle the options and sub-commands and setup everything for each sub-command and call the libanalyze functions for the respective sub-commands.<br>
and each sub-command will have a callback function which will analyze the partitions.<br>
This way setting up code would remain in one place and would be common. (which is easier said than done :D though )</p>
</blockquote>
<p>That sounds about like how I would probably go about implementing it, and even putting each subcommand into separate files (probably all files in a subdirectory since they're 'related').</p>



<a name="129611483"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611483" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611483">(Jul 13 2018 at 16:36)</a>:</h4>
<p>did you come up with i,u,v or was that in the old code?</p>



<a name="129611496"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611496" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611496">(Jul 13 2018 at 16:37)</a>:</h4>
<p>are those principle axes?</p>



<a name="129611566"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611566" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611566">(Jul 13 2018 at 16:38)</a>:</h4>
<blockquote>
<blockquote>
<p>While I was waiting, I thought I'd try this out: check_overlaps with three grid like gqa. <a href="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png" target="_blank" title="Screenshot-from-2018-07-13-21-45-27.png">Screenshot-from-2018-07-13-21-45-27.png</a> <br>
here is the diff : <a href="https://hastebin.com/lezowobevo" target="_blank" title="https://hastebin.com/lezowobevo">https://hastebin.com/lezowobevo</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png" target="_blank" title="Screenshot-from-2018-07-13-21-45-27.png"><img src="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png"></a></div></blockquote>
<p>Output looks great, but too much code change to follow what's going on.  Can you summarize?</p>
</blockquote>
<p>to summarize it:</p>
<ul>
<li>I added one function to setup the rectangular grid,which would then call the normal rectangular grid function within that function which would setup the ray and return. When the end of one view is reached. The function would set the grid up again and continues.</li>
<li>I also added one flag for grid-refinement to the grid struct. The rectangular grid would increase the current_point variable twice when the flag is set and y_index is odd. (the row which has previously shot)</li>
<li>now in check_overlaps when if the three grid is desired then we must use the -t option. It would then follow a different execution path and has its own grid_setup.</li>
</ul>



<a name="129611597"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611597" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611597">(Jul 13 2018 at 16:39)</a>:</h4>
<blockquote>
<p>did you come up with i,u,v or was that in the old code?</p>
</blockquote>
<p>it was used like that in gqa. I just adapted it the struct.</p>



<a name="129611709"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611709" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611709">(Jul 13 2018 at 16:40)</a>:</h4>
<p>ah, I see .. uv and invariant</p>



<a name="129611712"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611712" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611712">(Jul 13 2018 at 16:40)</a>:</h4>
<p>weird</p>



<a name="129611741"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611741" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611741">(Jul 13 2018 at 16:41)</a>:</h4>
<blockquote>
<p>That sounds about like how I would probably go about implementing it, and even putting each subcommand into separate files (probably all files in a subdirectory since they're 'related').</p>
</blockquote>
<p>okay great. The sub-directory sounds good.</p>



<a name="129611768"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611768" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611768">(Jul 13 2018 at 16:41)</a>:</h4>
<p>just a side note -- there is behavior in gqa that we shouldn't propagate.  currently in gqa, if you specify 50mm,2mm, it will stop at the level where overlaps are found.  it should progress through the range specified imho.</p>



<a name="129611825"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611825" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611825">(Jul 13 2018 at 16:42)</a>:</h4>
<p>alright got it.</p>



<a name="129611997"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129611997" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129611997">(Jul 13 2018 at 16:45)</a>:</h4>
<p>so <span class="user-mention" data-user-id="109608">@Saran Narayan</span> do you have time to talk about the API design?</p>



<a name="129612057"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612057" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612057">(Jul 13 2018 at 16:46)</a>:</h4>
<p>yep</p>



<a name="129612074"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612074" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612074">(Jul 13 2018 at 16:46)</a>:</h4>
<p>great</p>



<a name="129612131"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612131" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612131">(Jul 13 2018 at 16:47)</a>:</h4>
<p>so you mentioned having libanalyze functions for respective sub-commands and callback functions to analyze partitions</p>



<a name="129612240"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612240" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612240">(Jul 13 2018 at 16:49)</a>:</h4>
<p>what were you thinking there, like analyze_overlaps(), analyze_gaps(), analyze_mass(), analyze_volume(), etc?</p>



<a name="129612346"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612346" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612346">(Jul 13 2018 at 16:50)</a>:</h4>
<p>yeah, having individual analyze_~ functions and the callback functions would be called in hit routine like gqa does with analysis flags.</p>



<a name="129612371"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612371" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612371">(Jul 13 2018 at 16:50)</a>:</h4>
<p>but we don't have to pass analysis flags since each sub-command will have its own hit routine</p>



<a name="129612410"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612410" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612410">(Jul 13 2018 at 16:52)</a>:</h4>
<p>you lost me a bit -- trying to figure out what code bits would be with the command (in libged) and what bits would live with the analysis function (in libanalyze) ...</p>



<a name="129612507"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612507" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612507">(Jul 13 2018 at 16:52)</a>:</h4>
<p>basically what library is doing what -- libged should be handling the user side of things.  parsing the command, subcommand, and options -- the definition of what work there is to be performed, yes?</p>



<a name="129612576"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612576" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612576">(Jul 13 2018 at 16:54)</a>:</h4>
<blockquote>
<p>basically what library is doing what -- libged should be handling the user side of things.  parsing the command, subcommand, and options -- the definition of what work there is to be performed, yes?</p>
</blockquote>
<p>yeah and libged would also do the job of analyzing the partitions and store the results</p>



<a name="129612614"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612614" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612614">(Jul 13 2018 at 16:54)</a>:</h4>
<p>so the only question is whether it (libged) should be where knowledge of the evaluation method lives or whether libanalyze needs that</p>



<a name="129612707"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612707" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612707">(Jul 13 2018 at 16:55)</a>:</h4>
<p>libanalyze would get function pointer and some context to this function that will evaluate</p>



<a name="129612712"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612712" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612712">(Jul 13 2018 at 16:55)</a>:</h4>
<p>in an abstract sense, I could imagine there being a high level API like: int analyze_volume(&amp;volume, geometry, sample_method, evaluation_method);</p>



<a name="129612796"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612796" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612796">(Jul 13 2018 at 16:56)</a>:</h4>
<p>sample_method would be how to test the geometry like 1grid or 3grid or spherical</p>



<a name="129612853"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612853" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612853">(Jul 13 2018 at 16:57)</a>:</h4>
<p>there would be some corresponding evaluation_method() that takes results from that sampling method, maybe even calls the sampling method internally</p>



<a name="129612997"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129612997" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129612997">(Jul 13 2018 at 16:59)</a>:</h4>
<p>OR ... the concepts could be completely abstracted, in line with the "next ray" line of thinking you and daniel had talked about</p>



<a name="129613085"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613085" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613085">(Jul 13 2018 at 17:00)</a>:</h4>
<p>yeah that is somewhat I meant too like : analyze_volume (rtip, npsw, &amp;context, evaluation_function, grid/ray_function)</p>



<a name="129613167"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613167" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613167">(Jul 13 2018 at 17:01)</a>:</h4>
<p>rtip would assume we're doing ray tracing</p>



<a name="129613259"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613259" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613259">(Jul 13 2018 at 17:02)</a>:</h4>
<p>oh yeah but we need some other methods that don't do raytracing right</p>



<a name="129613263"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613263" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613263">(Jul 13 2018 at 17:02)</a>:</h4>
<p>there are non-ray tracing methods we might be using, which is why I generalized to sample+evaluation .. not grid/ray</p>



<a name="129613267"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613267" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613267">(Jul 13 2018 at 17:02)</a>:</h4>
<p>what's context?</p>



<a name="129613308"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613308" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613308">(Jul 13 2018 at 17:03)</a>:</h4>
<p>the data similar to volume.. to pass to the evaluation method</p>



<a name="129613335"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613335" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613335">(Jul 13 2018 at 17:03)</a>:</h4>
<p>don't understand -- you're already passing an evaluation_function</p>



<a name="129613384"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613384" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613384">(Jul 13 2018 at 17:04)</a>:</h4>
<p>where's the actual volume results?</p>



<a name="129613398"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613398" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613398">(Jul 13 2018 at 17:04)</a>:</h4>
<p>stored in context is what that looks like</p>



<a name="129613412"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613412" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613412">(Jul 13 2018 at 17:04)</a>:</h4>
<p>typically if a function is going to have a context parameter, that's your inputs</p>



<a name="129613430"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613430" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613430">(Jul 13 2018 at 17:05)</a>:</h4>
<p>sometimes it's inputs+outputs, but less common</p>



<a name="129613476"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613476" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613476">(Jul 13 2018 at 17:05)</a>:</h4>
<p>int analyze_volume(&amp;volumes, context);</p>



<a name="129613569"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613569" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613569">(Jul 13 2018 at 17:06)</a>:</h4>
<p>then there'd be functions that work on context like analyze_context_npsw(&amp;context, npsw); or analyze context_evaluation(&amp;context, callback);</p>



<a name="129613691"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613691" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613691">(Jul 13 2018 at 17:08)</a>:</h4>
<blockquote>
<p>don't understand -- you're already passing an evaluation_function</p>
</blockquote>
<p>like we have for analyze_overlaps.. we are passing the context for the evalution method ( overlap_handler)  which checks for the overlaps and inserts this to the context which contains the overlap list.</p>



<a name="129613727"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613727" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613727">(Jul 13 2018 at 17:08)</a>:</h4>
<blockquote>
<p>int analyze_volume(&amp;volumes, context);<br>
then there'd be functions that work on context like analyze_context_npsw(&amp;context, npsw); or analyze context_evaluation(&amp;context, callback);</p>
</blockquote>
<p>didn't get this</p>



<a name="129613978"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129613978" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129613978">(Jul 13 2018 at 17:12)</a>:</h4>
<p>what exactly is &amp;volumes in your example?</p>



<a name="129614045"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614045" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614045">(Jul 13 2018 at 17:13)</a>:</h4>
<p>that would be the volume(s) that were calculated for some specified set of geometry (which would be in the context)</p>



<a name="129614180"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614180" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614180">(Jul 13 2018 at 17:15)</a>:</h4>
<p>yeah that is what I meant by context in a general sense a structure(which would defined in libged) because there are cases where we need to pass more than one variables like overlaps_list and the plot file. Having global variables for evaluation method to access them would not be good.</p>



<a name="129614238"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614238" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614238">(Jul 13 2018 at 17:16)</a>:</h4>
<p>if it's being passed to libanalyze, it'd need to be a libanalyze struct</p>



<a name="129614302"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614302" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614302">(Jul 13 2018 at 17:17)</a>:</h4>
<p>oh but we won't be dealing with the struct in libanalyze.. The evaluation method defined in libged would deal with the struct.</p>



<a name="129614412"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614412" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614412">(Jul 13 2018 at 17:18)</a>:</h4>
<p>this is why design discussion is important -- there's where the code is, where it's called from, and what the API looks like</p>



<a name="129614426"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614426" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614426">(Jul 13 2018 at 17:19)</a>:</h4>
<p>I was specifically referring to API, not necessarily where the code is</p>



<a name="129614549"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614549" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614549">(Jul 13 2018 at 17:21)</a>:</h4>
<p>it's useful to think about design in two modes -- one from the perspective of an end-user, another from the perspective of an application developer (API)</p>



<a name="129614578"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614578" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614578">(Jul 13 2018 at 17:21)</a>:</h4>
<p>in this context, both of those are libged issues -- end-user is the ged command, its options</p>



<a name="129614769"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614769" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614769">(Jul 13 2018 at 17:24)</a>:</h4>
<p>the implementation of a ged command here is calling functions, for example the current ged_gqa() calls LIBRT API almost exclusively.</p>



<a name="129614803"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614803" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614803">(Jul 13 2018 at 17:25)</a>:</h4>
<p>we're talking about abstracting the essence, the computation of ged_gqa() into generalized API itself -- into LIBANALYZE API (almost exclusively)</p>



<a name="129614819"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614819" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614819">(Jul 13 2018 at 17:25)</a>:</h4>
<p>so the question becomes ... what's that API?</p>



<a name="129614887"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129614887" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129614887">(Jul 13 2018 at 17:26)</a>:</h4>
<p>code can/will obviously still live on the ged side of things for some parts and not for others, the question is where to draw the line</p>



<a name="129615069"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615069" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615069">(Jul 13 2018 at 17:29)</a>:</h4>
<p>another way to think about it -- you should be able to write a header without any implementation code in libged or in libanalyze, that clearly shows how it could be used</p>



<a name="129615125"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615125" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615125">(Jul 13 2018 at 17:30)</a>:</h4>
<p>like the analyze_volumes() function we were talking about but with all real types, actual usage</p>



<a name="129615134"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615134" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615134">(Jul 13 2018 at 17:30)</a>:</h4>
<p>just without any implementation</p>



<a name="129615223"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615223" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615223">(Jul 13 2018 at 17:32)</a>:</h4>
<p>you think you could try to do that next?  I think it'll at least give me a better understanding of what you're thinking.  could make one header for what lives in libanalyze and a separate header for what lives in libged if there is "private API" like structures or callbacks that it will know about (different from libanalyze structs/functions).</p>



<a name="129615284"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615284" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615284">(Jul 13 2018 at 17:33)</a>:</h4>
<p>alright I can try that..</p>



<a name="129615441"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615441" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615441">(Jul 13 2018 at 17:36)</a>:</h4>
<blockquote>
<p>there are non-ray tracing methods we might be using, which is why I generalized to sample+evaluation .. not grid/ray</p>
</blockquote>
<p>I had one question, what did you meant here with sample+evaluation. How would the sample method look like. And what would it deal with?</p>



<a name="129615558"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615558" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615558">(Jul 13 2018 at 17:38)</a>:</h4>
<p>because right now I can only think raytracing. How can it be generalized so that we can accommodate non-rt methods.</p>



<a name="129615571"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615571" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615571">(Jul 13 2018 at 17:39)</a>:</h4>
<p>that's getting a bit advanced, but consider one of the analysis methods like analyze_mass()</p>



<a name="129615586"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615586" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615586">(Jul 13 2018 at 17:40)</a>:</h4>
<p>I can shoot a bunch of rays, get a volume estimate, multiply times density, and get mass</p>



<a name="129615635"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615635" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615635">(Jul 13 2018 at 17:40)</a>:</h4>
<p>okay</p>



<a name="129615647"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615647" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615647">(Jul 13 2018 at 17:40)</a>:</h4>
<p>or maybe I already know exactly what it is because it's a box</p>



<a name="129615669"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615669" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615669">(Jul 13 2018 at 17:41)</a>:</h4>
<p>so sample method might be null, and evaluation might be Length<em>Width</em>Height*Density</p>



<a name="129615684"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615684" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615684">(Jul 13 2018 at 17:41)</a>:</h4>
<p>alright got it</p>



<a name="129615725"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615725" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615725">(Jul 13 2018 at 17:42)</a>:</h4>
<p>oversimplified, but there are discrete methods for some things like volume -- if out geometry is a polygonal mesh, for example, I don't really need to shoot rays.  you can get an exact volume value by accumulating tetrahedral volumes</p>



<a name="129615736"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615736" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615736">(Jul 13 2018 at 17:42)</a>:</h4>
<p>yeah that is right</p>



<a name="129615753"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615753" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615753">(Jul 13 2018 at 17:43)</a>:</h4>
<p>another example, with overlaps, I could calculate the intersection of all surfaces to get the "overlapping" regions as geometry, then any areas with non-zero volume would be my overlaps</p>



<a name="129615813"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615813" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615813">(Jul 13 2018 at 17:44)</a>:</h4>
<p>there, the sample method would be to calculate intersecting surfaces, the evaluation method would probably figure out the resulting volumes</p>



<a name="129615828"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615828" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615828">(Jul 13 2018 at 17:44)</a>:</h4>
<p>not a single ray is needed, the result is more precise</p>



<a name="129615859"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615859" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615859">(Jul 13 2018 at 17:45)</a>:</h4>
<p>that all said..... our current methods DO use ray tracing and that's certainly important to consider</p>



<a name="129615868"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615868" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615868">(Jul 13 2018 at 17:45)</a>:</h4>
<p>we do need to shoot 1-grid and 3-grids</p>



<a name="129615876"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615876" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615876">(Jul 13 2018 at 17:45)</a>:</h4>
<p>so on the surface, just moving everything in ged_gqa from libged to libanalyze would be a step in the right direction</p>



<a name="129615935"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615935" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615935">(Jul 13 2018 at 17:46)</a>:</h4>
<p>aah got it now.</p>



<a name="129615936"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615936" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615936">(Jul 13 2018 at 17:46)</a>:</h4>
<p>the problem is eliminating the duplication with the 1-grid method and not exploding libanalyze API in the process</p>



<a name="129615955"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615955" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615955">(Jul 13 2018 at 17:47)</a>:</h4>
<p>right now (and this is no fault of yours) libanalyze is a complete mess, it's just a dumping ground of structures and functions</p>



<a name="129615962"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615962" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615962">(Jul 13 2018 at 17:47)</a>:</h4>
<p>completely useless as an API</p>



<a name="129615983"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615983" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615983">(Jul 13 2018 at 17:47)</a>:</h4>
<p>at least as a PUBLIC api</p>



<a name="129615988"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129615988" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129615988">(Jul 13 2018 at 17:47)</a>:</h4>
<p>pretty much everything in there should be private API, private to the implementation</p>



<a name="129616071"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616071" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616071">(Jul 13 2018 at 17:49)</a>:</h4>
<p>okay got it.</p>



<a name="129616220"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616220" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616220">(Jul 13 2018 at 17:51)</a>:</h4>
<p>so forgetting about everything you know about the current check_overlaps, rtcheck, gqa, etc ... if you wanted to have a function that calculated volume, the question I have is what that should look like as <em>public</em> API (public to a library), so that another application or user could call that function and get a volume as easy and simple as possible</p>



<a name="129616382"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616382" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616382">(Jul 13 2018 at 17:53)</a>:</h4>
<p>at heart without knowing anything about sample methods or our existing libraries/types, it might look something like:  int volume(double *volume, const struct geometry *object);</p>



<a name="129616391"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616391" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616391">(Jul 13 2018 at 17:53)</a>:</h4>
<p>unambiguous, simple, right?</p>



<a name="129616455"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616455" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616455">(Jul 13 2018 at 17:54)</a>:</h4>
<p>yeah</p>



<a name="129616471"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616471" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616471">(Jul 13 2018 at 17:54)</a>:</h4>
<p>without knowing anything, that looks like it's probably an error/success return code, volume is returned in 'volume' and I probably pass geometry as the 'object' parameter</p>



<a name="129616502"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616502" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616502">(Jul 13 2018 at 17:55)</a>:</h4>
<p>that's close to ideal</p>



<a name="129616578"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616578" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616578">(Jul 13 2018 at 17:56)</a>:</h4>
<p>so then the reason it can't be that simple ... getting volume can be really hard for some geometry types</p>



<a name="129616592"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616592" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616592">(Jul 13 2018 at 17:56)</a>:</h4>
<p>yeah</p>



<a name="129616596"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616596" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616596">(Jul 13 2018 at 17:56)</a>:</h4>
<p>so at a minimum, we might think to introduce a quality, precision, or accuracy control</p>



<a name="129616672"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616672" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616672">(Jul 13 2018 at 17:58)</a>:</h4>
<p>maybe something like:  int volume(double *volume, const struct geometry *object, int quality) where quality=0 is fast as possible and quality=100 is exact as possible</p>



<a name="129616700"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616700" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616700">(Jul 13 2018 at 17:58)</a>:</h4>
<p>yeah that still is very abstract</p>



<a name="129616703"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616703" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616703">(Jul 13 2018 at 17:58)</a>:</h4>
<p>YES!</p>



<a name="129616729"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616729" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616729">(Jul 13 2018 at 17:59)</a>:</h4>
<p>that quality parameter is also very vague and maybe quality=100 is impossible to be exact</p>



<a name="129616743"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616743" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616743">(Jul 13 2018 at 17:59)</a>:</h4>
<p>having it be arbitrary depending on the geometry wouldn't be good, so maybe we change it to within a specified tolerance</p>



<a name="129616755"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616755" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616755">(Jul 13 2018 at 17:59)</a>:</h4>
<p>int volume(double *v, const struct geometry *g, double tolerance);</p>



<a name="129616820"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616820" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616820">(Jul 13 2018 at 18:00)</a>:</h4>
<p>yep this makes more sense</p>



<a name="129616849"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616849" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616849">(Jul 13 2018 at 18:01)</a>:</h4>
<p>yep, EXCEPT, we still cannot really guarantee a particular tolerance</p>



<a name="129616874"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616874" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616874">(Jul 13 2018 at 18:01)</a>:</h4>
<p>consider what rtcheck does with a grid of rays method</p>



<a name="129616875"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616875" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616875">(Jul 13 2018 at 18:01)</a>:</h4>
<p>exactly..</p>



<a name="129616879"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616879" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616879">(Jul 13 2018 at 18:01)</a>:</h4>
<p>rays are infinitely thin</p>



<a name="129616885"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616885" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616885">(Jul 13 2018 at 18:01)</a>:</h4>
<p>yup</p>



<a name="129616937"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616937" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616937">(Jul 13 2018 at 18:02)</a>:</h4>
<p>so I might shoot a grid of rays at a lattice...</p>



<a name="129616941"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616941" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616941">(Jul 13 2018 at 18:02)</a>:</h4>
<p>every ray might hit</p>



<a name="129616949"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616949" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616949">(Jul 13 2018 at 18:02)</a>:</h4>
<p>shift the grid and every ray might miss</p>



<a name="129616967"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616967" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616967">(Jul 13 2018 at 18:03)</a>:</h4>
<p>double the rays and every ray might hit again, double again and they might all hit again</p>



<a name="129616971"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129616971" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129616971">(Jul 13 2018 at 18:03)</a>:</h4>
<p>double again and they might all miss</p>



<a name="129617036"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617036" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617036">(Jul 13 2018 at 18:04)</a>:</h4>
<p>I can't say much about tolerance because it's not the spacing between the grid cells</p>



<a name="129617049"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617049" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617049">(Jul 13 2018 at 18:04)</a>:</h4>
<p>so we need to rethink the API .. quality is no good, tolerance is not possible, what else might we do?</p>



<a name="129617080"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617080" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617080">(Jul 13 2018 at 18:05)</a>:</h4>
<p>there is a caveat on tolerance -- it <em>may</em> actually be possible using monte carlo methods, but I'm not sure we could prove it</p>



<a name="129617245"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617245" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617245">(Jul 13 2018 at 18:08)</a>:</h4>
<blockquote>
<p>so we need to rethink the API .. quality is no good, tolerance is not possible, what else might we do?</p>
</blockquote>
<p>alright what can we use then? that is still abstract</p>



<a name="129617478"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617478" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617478">(Jul 13 2018 at 18:12)</a>:</h4>
<p>not just abstract, it's high-level -- trying to be as high level as possible since that will result in the easiest use.  I mean, without knowing anything, it'd be easy to use this function in an int main(int ac, char *av[]) { ... get geometry from file ... ; double v; volume(&amp;v, geometry); printf("volume is %lf\n", v); return 0; }</p>



<a name="129617524"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617524" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617524">(Jul 13 2018 at 18:13)</a>:</h4>
<p>so that tolerance that couldn't work was a distance tolerance ... a different kind of tolerance might work which would be a calculation tolerance of sorts</p>



<a name="129617586"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617586" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617586">(Jul 13 2018 at 18:14)</a>:</h4>
<p>e.g., int volume(double *v, const struct geometry *g, int significant_digits);</p>



<a name="129617765"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617765" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617765">(Jul 13 2018 at 18:17)</a>:</h4>
<p>how would that work? Calculate volume accurately  until we satisfy the significant digits condition?</p>



<a name="129617865"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617865" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617865">(Jul 13 2018 at 18:19)</a>:</h4>
<p>yep, iterate until the numbers seem stable to that level</p>



<a name="129617930"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617930" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617930">(Jul 13 2018 at 18:20)</a>:</h4>
<p>could also be "significant digits after the decimal point" if you wanted to make it size-agnostic</p>



<a name="129617946"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617946" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617946">(Jul 13 2018 at 18:20)</a>:</h4>
<p>so in case of rtcheck what could be the iteration condition? making the grid finer?</p>



<a name="129617963"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617963" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617963">(Jul 13 2018 at 18:21)</a>:</h4>
<p>yep</p>



<a name="129617977"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129617977" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129617977">(Jul 13 2018 at 18:21)</a>:</h4>
<p>lots of possible strategies, but they're all variations on shooting finer grids until the numbers seem to agree</p>



<a name="129618143"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618143" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618143">(Jul 13 2018 at 18:24)</a>:</h4>
<p>hmm all of these are like examples of API in general. Would MGED require such high-levelness ? The end-user won't be writing any code, they would only launch commands like <em>check volume</em>.</p>



<a name="129618207"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618207" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618207">(Jul 13 2018 at 18:25)</a>:</h4>
<p>end user of library is a developer</p>



<a name="129618239"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618239" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618239">(Jul 13 2018 at 18:25)</a>:</h4>
<p>yeah that is right</p>



<a name="129618308"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618308" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618308">(Jul 13 2018 at 18:26)</a>:</h4>
<p>so does a dev require it -- of course not, but that's like saying a user doesn't need "check volume" to be simple and easy to use ... of course it can be more complicated, but it <em>shouldn't</em> if it's done right ;)</p>



<a name="129618337"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618337" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618337">(Jul 13 2018 at 18:27)</a>:</h4>
<p>it also doesn't mean there's not a lot of nasty details underneath in private API</p>



<a name="129618462"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618462" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618462">(Jul 13 2018 at 18:28)</a>:</h4>
<p>that said, we're still not done... we just found what might be reasonable termination criteria with significant digits, but now there's a practical problem</p>



<a name="129618532"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618532" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618532">(Jul 13 2018 at 18:29)</a>:</h4>
<p>we know the methods we know we'll have to use to get significant_digits=10 to complete ... is going to be expensive</p>



<a name="129618537"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618537" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618537">(Jul 13 2018 at 18:29)</a>:</h4>
<p>time consuming</p>



<a name="129618620"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618620" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618620">(Jul 13 2018 at 18:30)</a>:</h4>
<p>yeah indeed</p>



<a name="129618630"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618630" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618630">(Jul 13 2018 at 18:30)</a>:</h4>
<p>a call to volume(&amp;v, &amp;g, 10) might take 10 minutes or 10 days</p>



<a name="129618639"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618639" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618639">(Jul 13 2018 at 18:30)</a>:</h4>
<p>haha true</p>



<a name="129618640"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618640" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618640">(Jul 13 2018 at 18:30)</a>:</h4>
<p>or might take 0.003 seconds</p>



<a name="129618649"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618649" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618649">(Jul 13 2018 at 18:30)</a>:</h4>
<p>it depends on &amp;g</p>



<a name="129618667"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618667" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618667">(Jul 13 2018 at 18:31)</a>:</h4>
<p>so what do we do?</p>



<a name="129618707"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618707" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618707">(Jul 13 2018 at 18:31)</a>:</h4>
<p>decide the methods that are less expensive as per the object</p>



<a name="129618751"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618751" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618751">(Jul 13 2018 at 18:32)</a>:</h4>
<p>say the method is fixed, like rtcheck</p>



<a name="129618809"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618809" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618809">(Jul 13 2018 at 18:33)</a>:</h4>
<p>we don't have a method parameter -- so that could be a solution -- let the caller specify a method, but it still could take seconds or days so we need something more</p>



<a name="129618929"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129618929" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129618929">(Jul 13 2018 at 18:34)</a>:</h4>
<p>humm what could that be</p>



<a name="129619111"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129619111" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129619111">(Jul 13 2018 at 18:37)</a>:</h4>
<p>not necessarily the best idea, but can always ask the caller</p>



<a name="129619160"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129619160" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129619160">(Jul 13 2018 at 18:38)</a>:</h4>
<p>if time is a problem, could have a time limit parameter</p>



<a name="129619182"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129619182" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129619182">(Jul 13 2018 at 18:38)</a>:</h4>
<p>anything else?  are there maybe ways time could be reduced?</p>



<a name="129619196"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129619196" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129619196">(Jul 13 2018 at 18:38)</a>:</h4>
<p>sampling methods?</p>



<a name="129619863"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129619863" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129619863">(Jul 13 2018 at 18:47)</a>:</h4>
<p>what do you mean?</p>



<a name="129619881"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129619881" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129619881">(Jul 13 2018 at 18:47)</a>:</h4>
<p>say the method is fixed -- it's rtcheck</p>



<a name="129619895"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129619895" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129619895">(Jul 13 2018 at 18:48)</a>:</h4>
<p>rtcheck-style rather -- it's a grid</p>



<a name="129619953"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129619953" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129619953">(Jul 13 2018 at 18:48)</a>:</h4>
<p>well the way rtcheck shoots the grids.. in chunks , up down etc</p>



<a name="129619979"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129619979" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129619979">(Jul 13 2018 at 18:48)</a>:</h4>
<p>that is a bit complicated for the end-user to specify tho</p>



<a name="129620007"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620007" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620007">(Jul 13 2018 at 18:49)</a>:</h4>
<p>not necessarily, an "enum type" integer could do it</p>



<a name="129620025"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620025" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620025">(Jul 13 2018 at 18:49)</a>:</h4>
<p>good thinking, but that's still not going to really change the time</p>



<a name="129620097"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620097" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620097">(Jul 13 2018 at 18:50)</a>:</h4>
<p>going multithreaded could definitely change the time</p>



<a name="129620135"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620135" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620135">(Jul 13 2018 at 18:50)</a>:</h4>
<p>but how many CPUs the user wants us to utilize then becomes an issue since they may not want us using all of them (or it may even cause their machine to crash)</p>



<a name="129620148"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620148" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620148">(Jul 13 2018 at 18:51)</a>:</h4>
<p>hence parameter like ...</p>



<a name="129620157"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620157" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620157">(Jul 13 2018 at 18:51)</a>:</h4>
<p>number of processors to use</p>



<a name="129620163"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620163" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620163">(Jul 13 2018 at 18:51)</a>:</h4>
<p>bingo</p>



<a name="129620208"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620208" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620208">(Jul 13 2018 at 18:52)</a>:</h4>
<p>but now it just got a little weird: int volume(double *v, const geometry *g, int sig_dig, int npsw)</p>



<a name="129620272"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620272" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620272">(Jul 13 2018 at 18:52)</a>:</h4>
<p>npsw has nothing to do with 'volume' and entirely to do with the implementation</p>



<a name="129620419"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620419" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620419">(Jul 13 2018 at 18:54)</a>:</h4>
<p>that's where most APIs introduce the concept of a context or attributes or parameters or ... lots of different names for ways to handle all the inputs together so you don't end up adding additional parameters to your function</p>



<a name="129620468"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620468" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620468">(Jul 13 2018 at 18:54)</a>:</h4>
<p>because npsw might just be #4, then someone else figures out they need one more and then another and before too long you have 20 arguments and an unusable API with too many knobs</p>



<a name="129620492"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620492" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620492">(Jul 13 2018 at 18:55)</a>:</h4>
<p>so we can group those into something a little more general and optionally manageable</p>



<a name="129620515"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620515" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620515">(Jul 13 2018 at 18:55)</a>:</h4>
<p>aah like additional parameters</p>



<a name="129620586"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620586" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620586">(Jul 13 2018 at 18:56)</a>:</h4>
<p>maybe: int volume(double *v, const struct context *c);</p>



<a name="129620620"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620620" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620620">(Jul 13 2018 at 18:56)</a>:</h4>
<p>humm and these additional variables would need meaningful defaults too</p>



<a name="129620645"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620645" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620645">(Jul 13 2018 at 18:56)</a>:</h4>
<p>but then we need functions to set that context up like add_geometry(struct context *c); set_significant_digits(struct context *c); set_npsw(struct context *c);</p>



<a name="129620691"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620691" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620691">(Jul 13 2018 at 18:57)</a>:</h4>
<p>ohh right now I am understanding what you meant</p>



<a name="129620699"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620699" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620699">(Jul 13 2018 at 18:57)</a>:</h4>
<p>and could -- if they had meaningful defaults like npsw=ncpu then maybe we wouldn't even call set_npsw unless the user wanted it lower</p>



<a name="129620779"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620779" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620779">(Jul 13 2018 at 18:58)</a>:</h4>
<p>yeah</p>



<a name="129620820"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620820" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620820">(Jul 13 2018 at 18:59)</a>:</h4>
<p>so we still have a problem though</p>



<a name="129620853"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620853" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620853">(Jul 13 2018 at 18:59)</a>:</h4>
<p>even multithreaded, it could take seconds or days .. so that didn't really solve the original problem</p>



<a name="129620933"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620933" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620933">(Jul 13 2018 at 19:00)</a>:</h4>
<p>yeah..</p>



<a name="129620935"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620935" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620935">(Jul 13 2018 at 19:00)</a>:</h4>
<p>it just greatly decreased the chance performance will be a problem</p>



<a name="129620959"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129620959" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129620959">(Jul 13 2018 at 19:00)</a>:</h4>
<p>and gave the caller a necessary control</p>



<a name="129621019"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621019" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621019">(Jul 13 2018 at 19:01)</a>:</h4>
<p>so what's left? what are our options?</p>



<a name="129621058"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621058" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621058">(Jul 13 2018 at 19:02)</a>:</h4>
<p>to give control over methods ? <span class="emoji emoji-1f62c" title="grimacing">:grimacing:</span></p>



<a name="129621142"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621142" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621142">(Jul 13 2018 at 19:02)</a>:</h4>
<p>that's definitely an option</p>



<a name="129621161"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621161" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621161">(Jul 13 2018 at 19:03)</a>:</h4>
<p>make the interface less simple by exposing more control over the implementation</p>



<a name="129621235"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621235" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621235">(Jul 13 2018 at 19:04)</a>:</h4>
<p>oh like the options ? grid spacing etc?</p>



<a name="129621256"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621256" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621256">(Jul 13 2018 at 19:04)</a>:</h4>
<p>that's kind of where we started this conversation, what was it .. something like volume(struct volumes*v, func_t sample_method, func_t evaluation_method)</p>



<a name="129621281"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621281" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621281">(Jul 13 2018 at 19:05)</a>:</h4>
<p>which implied a couple more function arguments to specify their inputs</p>



<a name="129621319"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621319" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621319">(Jul 13 2018 at 19:05)</a>:</h4>
<p>or grouping them like our context concept, where you'd set the function pointers on the context</p>



<a name="129621377"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621377" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621377">(Jul 13 2018 at 19:06)</a>:</h4>
<p>volume(struct volumes *v, struct sample_context *c, struct eval_context *e);</p>



<a name="129621425"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621425" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621425">(Jul 13 2018 at 19:07)</a>:</h4>
<p>does that make more sense now?</p>



<a name="129621461"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621461" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621461">(Jul 13 2018 at 19:07)</a>:</h4>
<p>oh okay.. yeah now I understand the concept of context..</p>



<a name="129621535"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621535" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621535">(Jul 13 2018 at 19:08)</a>:</h4>
<p>but I have this question.. different sampling methods/ evaluation methods would have different signatures</p>



<a name="129621569"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621569" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621569">(Jul 13 2018 at 19:09)</a>:</h4>
<p>so that would imply things like set_geometry(struct sample_context *c, struct geometry *g); and set_significant_digits(struct eval_context *e, int digits);</p>



<a name="129621591"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621591" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621591">(Jul 13 2018 at 19:09)</a>:</h4>
<p>yes they probably would .. maybe .. maybe not :)</p>



<a name="129621659"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621659" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621659">(Jul 13 2018 at 19:10)</a>:</h4>
<p>yeah.. having same signatures would be good.. but challenging..</p>



<a name="129621676"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621676" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621676">(Jul 13 2018 at 19:10)</a>:</h4>
<blockquote>
<p>so that would imply things like set_geometry(struct sample_context *c, struct geometry *g); and set_significant_digits(struct eval_context *e, int digits);</p>
</blockquote>
<p>right got it</p>



<a name="129621839"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621839" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621839">(Jul 13 2018 at 19:14)</a>:</h4>
<p>so these structs of context would be defined in libanalyze as you had mentioned before.. now its coming together</p>



<a name="129621900"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621900" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621900">(Jul 13 2018 at 19:14)</a>:</h4>
<p>yay</p>



<a name="129621918"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621918" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621918">(Jul 13 2018 at 19:14)</a>:</h4>
<p>but we are not exposing it to the user.. but abstracting it with some functions to set it up</p>



<a name="129621939"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621939" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621939">(Jul 13 2018 at 19:15)</a>:</h4>
<p>you don't have to call them that if you know of a better word, but that's a common term for grouping inputs together</p>



<a name="129621976"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129621976" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129621976">(Jul 13 2018 at 19:15)</a>:</h4>
<p>technically, there's no reason for having two, and less is more</p>



<a name="129622055"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622055" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622055">(Jul 13 2018 at 19:16)</a>:</h4>
<p>yeah that is right.. we can totally do it with just one context</p>



<a name="129622076"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622076" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622076">(Jul 13 2018 at 19:17)</a>:</h4>
<p>but more is easier to do :D</p>



<a name="129622092"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622092" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622092">(Jul 13 2018 at 19:17)</a>:</h4>
<p>volume(struct volumes *v, struct context *c); ... set_sample_method(struct context <em>c, int (</em>sample_method)(...), struct inputs *data); set_evaluation_method(struct context <em>c, int (</em>eval_method)(), struct inputs *data); .. etc</p>



<a name="129622196"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622196" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622196">(Jul 13 2018 at 19:19)</a>:</h4>
<p>not sure it's actually easier -- the reason for doing two would be if there's some strong compelling reason to keep them separated, like if there was an incompatibility with other related functions</p>



<a name="129622263"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622263" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622263">(Jul 13 2018 at 19:20)</a>:</h4>
<p>in this instance, I think it actually strongly warrants having just one context because the sample method and eval method are highly related to each other (their implementation will almost certainly be in pairs)</p>



<a name="129622279"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622279" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622279">(Jul 13 2018 at 19:20)</a>:</h4>
<p>yeah that is true</p>



<a name="129622303"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622303" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622303">(Jul 13 2018 at 19:21)</a>:</h4>
<p>so you think this is a header you could try writing, something that just covers the scope of rtcheck and gqa?</p>



<a name="129622314"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622314" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622314">(Jul 13 2018 at 19:21)</a>:</h4>
<p>there's a lot of detail that wasn't written down, probably some mistakes in assumptions</p>



<a name="129622380"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622380" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622380">(Jul 13 2018 at 19:22)</a>:</h4>
<p>spending just a couple hours thinking on this would be beneficial even if you don't end up using it when you get back to the immediate issue at hand, which is moving gqa code to libanalyze</p>



<a name="129622396"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622396" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622396">(Jul 13 2018 at 19:22)</a>:</h4>
<p>yeah I will think about it..</p>



<a name="129622478"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622478" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622478">(Jul 13 2018 at 19:24)</a>:</h4>
<p>about gqa,  there is one challenge I faced with check_overlaps today. I was hoping to have a common grid_setup for single and 3 -grid but gqa doesn't support az/el so I had to make it separate..<br>
And I thought about what would az/el support look like in gqa.. Could not think of anything</p>



<a name="129622499"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622499" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622499">(Jul 13 2018 at 19:24)</a>:</h4>
<p>detail I didn't mention is how you specify all the options for a given sample method like rtcheck's parameters -- that's what something like that "input" structure could hold -- a simple dictionary of key=values that the sample/evaluation method could pull from if they're set</p>



<a name="129622522"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622522" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622522">(Jul 13 2018 at 19:25)</a>:</h4>
<p>gqa supporting az el has been a request for years :)</p>



<a name="129622563"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622563" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622563">(Jul 13 2018 at 19:25)</a>:</h4>
<p>if you can do grid setup for 1-grid, then you should be able to do 3-grid...</p>



<a name="129622636"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622636" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622636">(Jul 13 2018 at 19:26)</a>:</h4>
<p>gqa's 3-grid is just az/el 0,0, and 0,90 and 90,0</p>



<a name="129622654"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622654" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622654">(Jul 13 2018 at 19:27)</a>:</h4>
<p>or something close to that, maybe -90</p>



<a name="129622671"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622671" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622671">(Jul 13 2018 at 19:27)</a>:</h4>
<p>but both are different.. one forms grid around the bound_box while, rtcheck forms a gird around the eye</p>



<a name="129622757"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622757" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622757">(Jul 13 2018 at 19:28)</a>:</h4>
<p>yes, but the grid around the bound_box is the same as a grid around three different eye positions...</p>



<a name="129622781"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622781" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622781">(Jul 13 2018 at 19:28)</a>:</h4>
<p>what's different is gqa's clever incremental stepping so it doesn't reshoot the same rays</p>



<a name="129622832"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622832" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622832">(Jul 13 2018 at 19:29)</a>:</h4>
<blockquote>
<p>yes, but the grid around the bound_box is the same as a grid around three different eye positions...</p>
</blockquote>
<p>hmm if that is the case then it shouldn't be difficult. I just could not visualize it :D</p>



<a name="129622902"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622902" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622902">(Jul 13 2018 at 19:30)</a>:</h4>
<p>well I wouldn't sweat it -- if it's not easy, then keep them separate .. I'll just be sad about it ;(</p>



<a name="129622903"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622903" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622903">(Jul 13 2018 at 19:30)</a>:</h4>
<blockquote>
<p>what's different is gqa's clever incremental stepping so it doesn't reshoot the same rays</p>
</blockquote>
<p>yeah, I did with skipping one ray for every even row</p>



<a name="129622951"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622951" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622951">(Jul 13 2018 at 19:31)</a>:</h4>
<p>at some point in the next week or so, you need to prove that it's right, that it shoots the same grid incrementally as gqa</p>



<a name="129622962"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129622962" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129622962">(Jul 13 2018 at 19:31)</a>:</h4>
<p>not just check the overlap list, but show the rays like 10x10x10, then 20x20x20</p>



<a name="129623019"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623019" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623019">(Jul 13 2018 at 19:32)</a>:</h4>
<p>yeah got it ;)</p>



<a name="129623068"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623068" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623068">(Jul 13 2018 at 19:33)</a>:</h4>
<p>and oh one more thing.. rtcheck supports uneven grid shape.. like in rectangles but gqa shoots in square girds..</p>



<a name="129623099"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623099" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623099">(Jul 13 2018 at 19:33)</a>:</h4>
<p>like with -g10 -G20 I am shooting 10mm by 20mm grids</p>



<a name="129623166"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623166" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623166">(Jul 13 2018 at 19:34)</a>:</h4>
<p>rectangular grids is not important</p>



<a name="129623170"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623170" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623170">(Jul 13 2018 at 19:34)</a>:</h4>
<p>that's an artifact of it being an rt* application</p>



<a name="129623184"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623184" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623184">(Jul 13 2018 at 19:35)</a>:</h4>
<p>humm understood.. it has to do with the image width and height right</p>



<a name="129623196"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623196" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623196">(Jul 13 2018 at 19:35)</a>:</h4>
<p>related</p>



<a name="129623212"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623212" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623212">(Jul 13 2018 at 19:35)</a>:</h4>
<p>it has to do with the size and shape of a "pixel" possibly being not square, depending on an output device</p>



<a name="129623269"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623269" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623269">(Jul 13 2018 at 19:36)</a>:</h4>
<p>yeah that makes sense!</p>



<a name="129623275"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623275" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623275">(Jul 13 2018 at 19:36)</a>:</h4>
<p>if you're displaying on a TV, for example at 4:3 aspect ratio, you might want non-square pixels to get the best image</p>



<a name="129623296"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623296" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623296">(Jul 13 2018 at 19:37)</a>:</h4>
<p>aah right</p>



<a name="129623298"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623298" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623298">(Jul 13 2018 at 19:37)</a>:</h4>
<p>that is entirely counterproductive for a sampling algorithm that is just trying to find overlaps</p>



<a name="129623316"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623316" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623316">(Jul 13 2018 at 19:37)</a>:</h4>
<p>ohk so square grids it is then :)</p>



<a name="129623376"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623376" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623376">(Jul 13 2018 at 19:38)</a>:</h4>
<p>alright then gonna grab some sleep now.. Thank you for spending the time explaining the API in such detail :)</p>



<a name="129623389"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623389" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623389">(Jul 13 2018 at 19:38)</a>:</h4>
<p>ah right, what time is it there?</p>



<a name="129623394"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623394" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623394">(Jul 13 2018 at 19:38)</a>:</h4>
<p>its around 1 AM :D</p>



<a name="129623403"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623403" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623403">(Jul 13 2018 at 19:38)</a>:</h4>
<p>you can check local time by clicking on the user ;)</p>



<a name="129623412"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623412" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623412">(Jul 13 2018 at 19:39)</a>:</h4>
<p>ah, cool.  well thanks for staying up late to talk through this -- it helps me sort thoughts to talk through things too :)</p>



<a name="129623418"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623418" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623418">(Jul 13 2018 at 19:39)</a>:</h4>
<p>ah, so I can, neat</p>



<a name="129623426"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623426" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623426">(Jul 13 2018 at 19:39)</a>:</h4>
<p>/me still prefers /ctcp</p>



<a name="129623434"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623434" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623434">(Jul 13 2018 at 19:39)</a>:</h4>
<p>cool, they added /me support</p>



<a name="129623454"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623454" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623454">(Jul 13 2018 at 19:40)</a>:</h4>
<p>/ctcp ping Sean</p>



<a name="129623483"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129623483" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129623483">(Jul 13 2018 at 19:40)</a>:</h4>
<p>but not that :)</p>



<a name="129667690"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129667690" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129667690">(Jul 14 2018 at 16:39)</a>:</h4>
<blockquote>
<p>so you think this is a header you could try writing, something that just covers the scope of rtcheck and gqa?</p>
</blockquote>
<p>My attempt at it.. <a href="https://hastebin.com/topudekoza.cs" target="_blank" title="https://hastebin.com/topudekoza.cs">https://hastebin.com/topudekoza.cs</a><br>
I couldn't think up any evaluation methods. When the user issues any command like analyze_overlaps then default evaluation method would be used</p>



<a name="129667848"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129667848" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129667848">(Jul 14 2018 at 16:43)</a>:</h4>
<p>hmm  the analyze_volume and analyze_weights need some sort of list for different objects mentioned by the user only double won't work</p>



<a name="129668657"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129668657" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129668657">(Jul 14 2018 at 17:06)</a>:</h4>
<p>BTW <span class="user-mention" data-user-id="102902">@Sean</span> What does the src/libanalyze/api.c do? it looks very similar to gqa</p>



<a name="129821116"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129821116" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129821116">(Jul 17 2018 at 16:19)</a>:</h4>
<p>This is what had planned and have been working on the last few days. <br>
in libged/check dir:  </p>
<ul>
<li><a href="/user_uploads/1549/_Wve3QE0BVMtHZ6x87_TQl9V/check.c" target="_blank" title="check.c">check.c</a> </li>
<li><a href="/user_uploads/1549/qFZTt1GzgA2uIhAWpeKsCPfd/check_private.h" target="_blank" title="check_private.h">check_private.h</a> </li>
<li><a href="/user_uploads/1549/I4hMwVZ4KMkzAkg6fMuhGtdU/check_overlaps.c" target="_blank" title="check_overlaps.c">check_overlaps.c</a></li>
</ul>
<p>in libanalyze : <a href="/user_uploads/1549/XqTpDquW3CORorh0bQ9t3GeH/check_analyze_geometry.c" target="_blank" title="check_analyze_geometry.c">check_analyze_geometry.c</a> </p>
<p>To summarize,<br>
In <em>libged/check/check.c</em> -</p>
<ul>
<li>the options and sub-commands are parsed.</li>
<li>the objects are recognized from cmd_line or view.</li>
<li>if num of views is 1 then it means its single grid mode, they have separate functions for grid_setup.</li>
<li>if num of views is 3 then a triple grid is setup.</li>
<li>according to sub-commands the flow goes to respective check_~ files. In case of overlaps it goes to <em>check/check_overlaps.c</em>.</li>
</ul>
<p>In <em>check/check_overlaps.c</em> -</p>
<ul>
<li>all overlaps related data is put into a callbackdata structure for overlaps. Like the overlaps list, tolerance, color of overlay and plot_file pointer.</li>
<li>There is also a overlap function.</li>
<li>in do while loop grid is refined and flow goes to libanalyze, with the callback data and a function pointer to overlap function.</li>
</ul>
<p>In <em>libanalyze/check_geometry.c</em></p>
<ul>
<li>the function analyze_geometry takes two pointers to a_hit, a_overlap function and callback data.</li>
<li>In case of check_overlaps the call gives a_hit as NULL, so <em>analyze_geometry</em> initializes a_hit to a analyze_geom_hit ( which is defined inside <em>check_geometry.c</em> ) that does nothing.</li>
<li>The a_uptr is set to callback data.</li>
<li>Now when there is overlap in raytracing flow goes back to libged. Where the operation for overlaps is done like adding unique overlaps to the overlaps list in the context. </li>
</ul>
<p>Similarly for other functions, like check_volume, there would be a hit function, so a function pointer to the <em>volume specific hit function</em> is passed to libanalyze.  Also a volume specific callback data would also be passed to libanalyze. The flow would go to libged when there is a hit.</p>
<p>I have only done the check_overlaps. The others are left. Before proceeding I needed an opinion on this idea..</p>



<a name="129821289"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129821289" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129821289">(Jul 17 2018 at 16:23)</a>:</h4>
<p>PS: the files may not be proper right now,  would review it before committing of course. I would commit only if this idea is fine :)</p>



<a name="129886087"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129886087" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129886087">(Jul 18 2018 at 17:48)</a>:</h4>
<p>How does it work, how is your experience with it? Does 'check overlaps ...' work? Does it simplify the things? <em>check_overlaps.c</em> is much smaller than before (which is good), do you expect it to be similar for the other commands?</p>



<a name="129886447"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129886447" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129886447">(Jul 18 2018 at 17:54)</a>:</h4>
<p>yep the command check overlaps is working fine.<br>
Is it simpler? Well it is the same as check_overlaps other than you have to use -N 1 for single grid. Be default it behaves as gqa. I liked the option to refine the grid. Something that was missing in check_overlaps/rtcheck. Plus there is now option to output plot file and also display them.<br>
About the other commands, it may be a bit complicated, like the code is right now ready to work with 3 grids, would need to adapt it for single grid too.</p>



<a name="129886532"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129886532" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129886532">(Jul 18 2018 at 17:56)</a>:</h4>
<p>What concerns me is that it does not actually behave as the API design me and sean discussed. The whole code for gqa does not live in libanalyze. So something like analyze_volume(&amp;volumes, context) is not gonna work</p>



<a name="129886827"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129886827" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129886827">(Jul 18 2018 at 18:01)</a>:</h4>
<p>oh one thing different from check_overlaps is that when refining the grid, the overlaps are not counted twice. I think it is because we are passing an a_overlap function which disregards the partition once its seen by returning a 1. a_logoverlap would duplicate record the overlaps on refining.</p>



<a name="129887173"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129887173" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129887173">(Jul 18 2018 at 18:06)</a>:</h4>
<blockquote>
<p>What concerns me is that it does not actually behave as the API design me and sean discussed. The whole code for gqa does not live in libanalyze. So something like analyze_volume(&amp;volumes, context) is not gonna work</p>
</blockquote>
<p>this is done with <em>libanalyze/api.c</em>, I saw the commit history and patch on sourceforge it was originally done to work with ged_analyze. Maybe I can fix it up, remove the globals and add analyze_~ functions for what is missing?</p>



<a name="129892801"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129892801" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129892801">(Jul 18 2018 at 20:00)</a>:</h4>
<blockquote>
<blockquote>
<p>What concerns me is that it does not actually behave as the API design me and sean discussed. The whole code for gqa does not live in libanalyze. So something like analyze_volume(&amp;volumes, context) is not gonna work</p>
</blockquote>
<p>this is done with <em>libanalyze/api.c</em>, I saw the commit history and patch on sourceforge it was originally done to work with ged_analyze. Maybe I can fix it up, remove the globals and add analyze_~ functions for what is missing?</p>
</blockquote>
<p>Maybe ;)</p>



<a name="129892922"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129892922" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129892922">(Jul 18 2018 at 20:02)</a>:</h4>
<blockquote>
<p>About the other commands, it may be a bit complicated, like the code is right now ready to work with 3 grids, would need to adapt it for single grid too.</p>
</blockquote>
<p>What#s wrong with computing the volume with three grids? It could give better results, or? Like: <code>(grid(x) + grid(y) + grid(z)) / 3</code>?</p>



<a name="129932418"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129932418" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129932418">(Jul 19 2018 at 13:36)</a>:</h4>
<blockquote>
<blockquote>
<p>About the other commands, it may be a bit complicated, like the code is right now ready to work with 3 grids, would need to adapt it for single grid too.</p>
</blockquote>
<p>What#s wrong with computing the volume with three grids? It could give better results, or? Like: <code>(grid(x) + grid(y) + grid(z)) / 3</code>?</p>
</blockquote>
<p>I meant like if I make gqa behave like rtcheck with single grid some calculations need changing and some might not even work.</p>



<a name="129940640"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129940640" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129940640">(Jul 19 2018 at 16:12)</a>:</h4>
<p>hmm there is one disadvantage of moving from gqa to check. Because check works as subcommands. I lose the feature of doing many analysis like -Avo for getting volume as well as overlaps in gqa.</p>



<a name="129943309"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129943309" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129943309">(Jul 19 2018 at 17:04)</a>:</h4>
<blockquote>
<p>I meant like if I make gqa behave like rtcheck with single grid some calculations need changing and some might not even work.</p>
</blockquote>
<p>Please correct me if I'm wrong but, I thought that <em>gqa</em> works with 3 grids and <em>rtcheck</em> with one, and you are trying to do <em>rtcheck</em> with 3 grids?</p>



<a name="129943340"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129943340" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129943340">(Jul 19 2018 at 17:05)</a>:</h4>
<p>Or, 'check overlaps' with 3 grids?</p>



<a name="129943362"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129943362" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129943362">(Jul 19 2018 at 17:06)</a>:</h4>
<p>hmm the plan was to merge these commands(gqa, rtcheck and glint)  into one command <em>check</em></p>



<a name="129943416"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129943416" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129943416">(Jul 19 2018 at 17:06)</a>:</h4>
<blockquote>
<p>hmm there is one disadvantage of moving from gqa to check. Because check works as subcommands. I lose the feature of doing many analysis like -Avo for getting volume as well as overlaps in gqa.</p>
</blockquote>
<p>This was my consideration too.</p>



<a name="129943452"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129943452" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129943452">(Jul 19 2018 at 17:07)</a>:</h4>
<p>so something like <em>check overlaps -g50,10 -a35 -e25 -N1 g4</em> would behave as rtcheck/check_overlaps and something like <em>check overlaps -g50,10 g4</em> would behave as gqa</p>



<a name="129943669"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129943669" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129943669">(Jul 19 2018 at 17:11)</a>:</h4>
<blockquote>
<p>hmm the plan was to merge these commands(gqa, rtcheck and glint)  into one command <em>check</em></p>
</blockquote>
<p>Yes, something like taking the best of all worlds ;)</p>



<a name="129943746"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129943746" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129943746">(Jul 19 2018 at 17:12)</a>:</h4>
<p>yeah :)</p>



<a name="129943767"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129943767" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129943767">(Jul 19 2018 at 17:13)</a>:</h4>
<p>so somethings like volume or weight is best done with triple grid</p>



<a name="129943776"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129943776" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129943776">(Jul 19 2018 at 17:13)</a>:</h4>
<blockquote>
<p>so something like <em>check overlaps -g50,10 -a35 -e25 -N1 g4</em> would behave as rtcheck/check_overlaps and something like <em>check overlaps -g50,10 g4</em> would behave as gqa</p>
</blockquote>
<p>Maybe, if somebody wants to know only the overlaps the 3 grids are taken, but if the grid is explicitly declared on the command line with azimuth, elevation, etc., then only this single grid will be used.</p>



<a name="129943846"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129943846" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129943846">(Jul 19 2018 at 17:14)</a>:</h4>
<p>yeah that would be better! right now I made it like if the user mentions az/el and does not pass -N1 then a message appears that az/el not implemented for triple grids.</p>



<a name="129943968"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129943968" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129943968">(Jul 19 2018 at 17:17)</a>:</h4>
<p>ohh this is how I added triple grids: <a href="https://hastebin.com/ruxejuxoco" target="_blank" title="https://hastebin.com/ruxejuxoco">https://hastebin.com/ruxejuxoco</a></p>



<a name="129944022"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129944022" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129944022">(Jul 19 2018 at 17:18)</a>:</h4>
<p>not sure if you'd approve of those extra vars.</p>



<a name="129946057"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129946057" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129946057">(Jul 19 2018 at 17:54)</a>:</h4>
<p>if I were to move gqa completely to libanalyze, then this is my plan.<br>
for check command. On libged side:</p>
<ul>
<li>create an instance of the raytracing context.</li>
<li>check if the mentioned objects are in the database. But don't use rt_gettrees them yet.</li>
<li>read sub-command.</li>
<li>read all the options user mentions.</li>
<li>choose the grid desired by passing the parameters with functions like <em>set_grid_ae(&amp;context, double az, double el)</em>, <em>set_gridspacing</em>, <em>set_gridspacing_limit</em>. </li>
<li>flow goes according to the subcommands in check.c, where sub-commands specific options are set with separate functions like example: <em>set_overlap_tolerance( &amp;context, double value)</em></li>
<li>the flags variable is set according to the sub-commands.</li>
<li><em>analyze_raytracing_context_init (...)</em> is called which performs the raytracing.</li>
<li>in case of volume, then all I have to do is call <em>analyze_volume</em> and get the result.  I would add more functions for other sub-commmands.</li>
<li>then libged would print the result.</li>
</ul>
<p>The advantage of having something like this would be like if in future there is a need of volume in any other command then the programmer can simply prepare the ray-tracing context and call analyze_volume to get the result easily.<br>
One can also do multi-analysis just have to pass the flags to <em>analyze_raytracing_context_init (...)</em> and call the respective analyze_~ commands.</p>



<a name="129946147"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129946147" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129946147">(Jul 19 2018 at 17:56)</a>:</h4>
<blockquote>
<p>not sure if you'd approve of those extra vars.</p>
</blockquote>
<p>Well, if there are necessary to control the 3 grids. BTW, the initialization of max_views is in another file?</p>



<a name="129946182"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129946182" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129946182">(Jul 19 2018 at 17:57)</a>:</h4>
<blockquote>
<blockquote>
<p>not sure if you'd approve of those extra vars.</p>
</blockquote>
<p>Well, if there are necessary to control the 3 grids. BTW, the initialization of max_views is in another file?</p>
</blockquote>
<p>yeah, done in libged for now. But was thinking to move it to libanalyze according to the above message.</p>



<a name="129946687"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129946687" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129946687">(Jul 19 2018 at 18:06)</a>:</h4>
<p>one thing that would be different would be those commands that deal with lists like overlaps, gaps, adj_air, exp_air...<br>
Because these lists are not produced when the user requests like <em>analyze_overlaps(&amp;context,..)</em> instead they are created when ray-tracing.<br>
One could pass a pointer to a local list pointer but then these structure should declared in analyze.h so that it can be accessible by both libged and libanalyze.</p>



<a name="129946747"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129946747" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129946747">(Jul 19 2018 at 18:07)</a>:</h4>
<p>What do you say about the plan? or should I just stick with current plan?</p>



<a name="129947056"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129947056" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129947056">(Jul 19 2018 at 18:12)</a>:</h4>
<p>The new plan would need lots of public functions defined in <em>include/analyze.h</em></p>



<a name="129949585"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129949585" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129949585">(Jul 19 2018 at 18:58)</a>:</h4>
<p>I thought there was the wish to move the functionality to general purpose functions in libanalyse, as you described it here. The user visible interfaces and programs (gqa, rtcheck, ...) should stay the same, at least for the moment, but their backend can be moved to libanalyze. This way they can be used in other places too. And to get the full advantage of the new functions there are the new libged <code>check</code> commands.</p>
<p>To do this you had to implement the new libanalyze functions first and the libged check commands next.</p>
<p>Sounds like a plan.</p>
<p>(?)</p>



<a name="129949723"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129949723" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129949723">(Jul 19 2018 at 19:01)</a>:</h4>
<p>Regarding the lists: Aren't all lists generated on the user's side when it provides the call-back?</p>



<a name="129949784"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129949784" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129949784">(Jul 19 2018 at 19:02)</a>:</h4>
<blockquote>
<p>I thought there was the wish to move the functionality to general purpose functions in libanalyse, as you described it here. The user visible interfaces and programs (gqa, rtcheck, ...) should stay the same, at least for the moment, but their backend can be moved to libanalyze.</p>
</blockquote>
<p>hmm so you are suggesting that the commands still remain the same but their back-end changes. Like we would be using the new API in the exisiting functions like ged_gqa and ged_rtcheck etc..</p>



<a name="129949830"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129949830" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129949830">(Jul 19 2018 at 19:03)</a>:</h4>
<blockquote>
<p>Regarding the lists: Aren't all lists generated on the user's side when it provides the call-back?</p>
</blockquote>
<p>yeah that could work also.. but commands like adj_air, gaps, .. are identified in the hit function so I got confused.</p>



<a name="129950087"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129950087" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129950087">(Jul 19 2018 at 19:08)</a>:</h4>
<p>but just calling the callback function with callback data is good</p>



<a name="129950699"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129950699" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129950699">(Jul 19 2018 at 19:20)</a>:</h4>
<blockquote>
<blockquote>
<p>I thought there was the wish to move the functionality to general purpose functions in libanalyse, as you described it here. The user visible interfaces and programs (gqa, rtcheck, ...) should stay the same, at least for the moment, but their backend can be moved to libanalyze.</p>
</blockquote>
<p>hmm so you are suggesting that the commands still remain the same but their back-end changes. Like we would be using the new API in the exisiting functions like ged_gqa and ged_rtcheck etc..</p>
</blockquote>
<p>oh wait. Did I get this wrong? Did you mean keeping the gqa, rtcheck, etc as it is for now and just <em>make a copy</em> of the backend in libanalyze. I thought when u said <em>move</em>, you meant literally how move works, like cut paste xD <br>
And use this backend in the new check commands.</p>



<a name="129952160"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129952160" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129952160">(Jul 19 2018 at 19:46)</a>:</h4>
<p>As Sean mentioned some time ago: User visible changes in the sense of a command not be working any more as expected need to be announced. See the CHANGES file for our policy. This is for users which have scripts using rtcheck or gqa for example. These shall not break without warning.</p>



<a name="129952335"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129952335" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129952335">(Jul 19 2018 at 19:48)</a>:</h4>
<blockquote>
<p>oh wait. Did I get this wrong? Did you mean keeping the gqa, rtcheck, etc as it is for now and just <em>make a copy</em> of the backend in libanalyze. I thought when u said <em>move</em>, you meant literally how move works, like cut paste xD <br>
And use this backend in the new check commands.</p>
</blockquote>
<p>Yes, the first step is the copy. Then the implementation of <code>check ...</code>. The last step would be the rewrite of rtcheck (alredy done?), gqa, etc. with the new backend.</p>



<a name="129952476"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129952476" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129952476">(Jul 19 2018 at 19:50)</a>:</h4>
<blockquote>
<blockquote>
<p>oh wait. Did I get this wrong? Did you mean keeping the gqa, rtcheck, etc as it is for now and just <em>make a copy</em> of the backend in libanalyze. I thought when u said <em>move</em>, you meant literally how move works, like cut paste xD <br>
And use this backend in the new check commands.</p>
</blockquote>
<p>Yes, the first step is the copy. Then the implementation of <code>check ...</code>. The last step would be the rewrite of rtcheck (alredy done?), gqa, etc. with the new backend.</p>
</blockquote>
<p>okay got it. and well rtcheck would have to be re-written because this would be different. Since the one I had done uses analyze_overlaps. Which is totally different than the general API</p>



<a name="129952655"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129952655" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129952655">(Jul 19 2018 at 19:53)</a>:</h4>
<p>or should I keep analyze_overlaps as it is.. because I can just pass a triple_grid_generator and have a gqa equivalent functionality from it</p>



<a name="129952744"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129952744" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129952744">(Jul 19 2018 at 19:54)</a>:</h4>
<blockquote>
<p>check_overlaps with three grid like gqa. <a href="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png" target="_blank" title="Screenshot-from-2018-07-13-21-45-27.png">Screenshot-from-2018-07-13-21-45-27.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png" target="_blank" title="Screenshot-from-2018-07-13-21-45-27.png"><img src="/user_uploads/1549/AfFs_djgzbOuQnr-Z1viBnic/Screenshot-from-2018-07-13-21-45-27.png"></a></div></blockquote>
<p>I tried it here</p>



<a name="129952760"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129952760" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129952760">(Jul 19 2018 at 19:54)</a>:</h4>
<blockquote>
<p>or should I keep analyze_overlaps as it is.. because I can just pass a triple_grid_generator and have a gqa equivalent functionality from it</p>
</blockquote>
<p>Well, it would provide a redundant functionality, wouldn't it? This isn't optimal.</p>



<a name="129952867"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129952867" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129952867">(Jul 19 2018 at 19:56)</a>:</h4>
<p>However, going this way you would make sure that you don't break anything. The plan is very ambitious, therefore it is good to have an exit strategy.</p>



<a name="129952931"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129952931" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129952931">(Jul 19 2018 at 19:57)</a>:</h4>
<blockquote>
<p>However, going this way you would make sure that you don't break anything. The plan is very ambitious, therefore it is good to have an exit strategy.</p>
</blockquote>
<p>yeah. That sounds good.</p>



<a name="129953114"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129953114" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129953114">(Jul 19 2018 at 20:00)</a>:</h4>
<p>Another idea: Having this new check-API in libanalyse, could you think of having convenience functions in libanalyse on top of them which ease the use of them for simple tasks as retrieving the volume?</p>



<a name="129953220"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/129953220" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#129953220">(Jul 19 2018 at 20:02)</a>:</h4>
<p>oh like a function that calls these check-API functions privately and provide an easy public API?</p>



<a name="130061111"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130061111" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130061111">(Jul 21 2018 at 16:27)</a>:</h4>
<p>I have check overlaps and check volume working now.</p>



<a name="130061154"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130061154" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130061154">(Jul 21 2018 at 16:28)</a>:</h4>
<p>I followed sean's suggestion and used key=value pair for passing options from libged to libanalyze using bu_hash_tbl.<br>
<a href="/user_uploads/1549/TiMv3gvkyGJ9AC0Sr_Ea1guf/check_options.c" target="_blank" title="check_options.c">check_options.c</a></p>



<a name="130061162"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130061162" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130061162">(Jul 21 2018 at 16:29)</a>:</h4>
<p>This I can have meaningful defaults on libanalyze and just set those values which are passed from libged</p>



<a name="130061287"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130061287" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130061287">(Jul 21 2018 at 16:32)</a>:</h4>
<p>Here are my <em>libged/check/</em> files<br>
<a href="/user_uploads/1549/61-AE_UgM8TjyvNixDOF3imr/check.c" target="_blank" title="check.c">check.c</a> - main driver<br>
<a href="/user_uploads/1549/2eF9GYYJXq_Y_xbtRUMDt6FU/check_private.h" target="_blank" title="check_private.h">check_private.h</a> </p>
<p><a href="/user_uploads/1549/w6gDlyMXxXolaFrzTpr4i6ud/check_volume.c" target="_blank" title="check_volume.c">check_volume.c</a> - check_volume() lives here<br>
<a href="/user_uploads/1549/x1zV0fBPYg7JXYBfa2e5dSeo/check_overlaps.c" target="_blank" title="check_overlaps.c">check_overlaps.c</a>- check_overlaps() lives here</p>



<a name="130061344"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130061344" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130061344">(Jul 21 2018 at 16:34)</a>:</h4>
<blockquote>
<p>This I can have meaningful defaults on libanalyze and just set those values which are passed from libged</p>
</blockquote>
<p>This is how I am parsing the options in libanalyze/api.c : <a href="https://hastebin.com/rowerukure.cpp" target="_blank" title="https://hastebin.com/rowerukure.cpp">https://hastebin.com/rowerukure.cpp</a></p>



<a name="130061511"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130061511" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130061511">(Jul 21 2018 at 16:41)</a>:</h4>
<p>I plan to pass the callback function and callback data combo for the analysis options that deals with lists. So I would have callback function for gaps, adj_air and exposed_air</p>



<a name="130061686"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130061686" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130061686">(Jul 21 2018 at 16:46)</a>:</h4>
<p>I was also wondering about the options that deal with debug flag, verbose flag, quiet_missed_report_flag and print_per_region_stats flags. <br>
Pass a bu_vls struct for printing purposes so libged would print everything at the end? Because bu_log would mean crashes in multi-threaded places of code.</p>



<a name="130061887"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130061887" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130061887">(Jul 21 2018 at 16:51)</a>:</h4>
<blockquote>
<p>I have check overlaps and check volume working now.</p>
</blockquote>
<p><a href="/user_uploads/1549/Rr60Ki2pKyZlTxWpbFBifgi-/Screenshot-from-2018-07-21-22-20-01.png" target="_blank" title="Screenshot-from-2018-07-21-22-20-01.png">Screenshot-from-2018-07-21-22-20-01.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/Rr60Ki2pKyZlTxWpbFBifgi-/Screenshot-from-2018-07-21-22-20-01.png" target="_blank" title="Screenshot-from-2018-07-21-22-20-01.png"><img src="/user_uploads/1549/Rr60Ki2pKyZlTxWpbFBifgi-/Screenshot-from-2018-07-21-22-20-01.png"></a></div>



<a name="130062552"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130062552" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130062552">(Jul 21 2018 at 17:10)</a>:</h4>
<p>You solution with separate context-table and current_state structures is unusual, but probably reasonable. Another possible solution would have been to use state setting functions as e.g. <code>set_state_azimuth(struct current_state *state, fastf_t azimuth)</code> in libged.</p>



<a name="130062643"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130062643" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130062643">(Jul 21 2018 at 17:13)</a>:</h4>
<blockquote>
<p>I was also wondering about the options that deal with debug flag, verbose flag, quiet_missed_report_flag and print_per_region_stats flags. <br>
Pass a bu_vls struct for printing purposes so libged would print everything at the end? Because bu_log would mean crashes in multi-threaded places of code.</p>
</blockquote>
<p>Doing the printing at the end in the main thread should surely solve the multi-threaded Tk issue.</p>



<a name="130062694"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130062694" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130062694">(Jul 21 2018 at 17:15)</a>:</h4>
<blockquote>
<p>You solution with separate context-table and current_state structures is unusual, but probably reasonable. Another possible solution would have been to use state setting functions as e.g. <code>set_state_azimuth(struct current_state *state, fastf_t azimuth)</code> in libged.</p>
</blockquote>
<p>hmm but having the current state struct in analyze.h seemed not so good. Like it contains the internal matters.<br>
But storing the parameters or options in ray _tracing_context is feasible.<br>
That would require a init function that would set the defaults.</p>



<a name="130062761"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130062761" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130062761">(Jul 21 2018 at 17:17)</a>:</h4>
<p>I did separately in the sense if we add non-raytracing functions in the future there would be one common options struct to get options from libged to libanalyze.</p>



<a name="130062823"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130062823" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130062823">(Jul 21 2018 at 17:19)</a>:</h4>
<blockquote>
<blockquote>
<p>I was also wondering about the options that deal with debug flag, verbose flag, quiet_missed_report_flag and print_per_region_stats flags. <br>
Pass a bu_vls struct for printing purposes so libged would print everything at the end? Because bu_log would mean crashes in multi-threaded places of code.</p>
</blockquote>
<p>Doing the printing at the end in the main thread should surely solve the multi-threaded Tk issue.</p>
</blockquote>
<p>Not sure if I follow. Are you suggesting to stick to bu_log in <em>libanalyze</em> but print these information in main thread?</p>



<a name="130063104"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130063104" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130063104">(Jul 21 2018 at 17:27)</a>:</h4>
<blockquote>
<p>hmm but having the current state struct in analyze.h seemed not so good. Like it contains the internal matters.</p>
</blockquote>
<p>You don't need to publish the content of current_state. A simple forward declaration (<code>struct current_state;</code>) in the public header is sufficient.</p>
<blockquote>
<p>But storing the parameters or options in ray _tracing_context is feasible.<br>
That would require a init function that would set the defaults.</p>
</blockquote>
<p>That's true, but you need this for the table as well.</p>
<p>However, don't misinterpret my comments here. Your solution isn't wrong or bad. I want you to learn about alternatives. We learn for live ;)</p>



<a name="130063227"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130063227" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130063227">(Jul 21 2018 at 17:30)</a>:</h4>
<blockquote>
<blockquote>
<blockquote>
<p>I was also wondering about the options that deal with debug flag, verbose flag, quiet_missed_report_flag and print_per_region_stats flags. <br>
Pass a bu_vls struct for printing purposes so libged would print everything at the end? Because bu_log would mean crashes in multi-threaded places of code.</p>
</blockquote>
<p>Doing the printing at the end in the main thread should surely solve the multi-threaded Tk issue.</p>
</blockquote>
<p>Not sure if I follow. Are you suggesting to stick to bu_log in <em>libanalyze</em> but print these information in main thread?</p>
</blockquote>
<p>Not sure if <strong>I</strong> follow ;)<br>
I was simply following your argumentation to "print" the log messages to a bu_vls structure and doing the output when the processing is back in the main thread  in libged(?)</p>



<a name="130063229"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130063229" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130063229">(Jul 21 2018 at 17:30)</a>:</h4>
<blockquote>
<blockquote>
<p>hmm but having the current state struct in analyze.h seemed not so good. Like it contains the internal matters.</p>
</blockquote>
<p>You don't need to publish the content of current_state. A simple forward declaration (<code>struct current_state;</code>) in the public header is sufficient.</p>
<blockquote>
<p>But storing the parameters or options in ray _tracing_context is feasible.<br>
That would require a init function that would set the defaults.</p>
</blockquote>
<p>That's true, but you need this for the table as well.</p>
</blockquote>
<p>Alright that sounds good then. Will give it a try!<br>
This way seems better and would be less complex IMO ;)</p>
<blockquote>
<p>However, don't misinterpret my comments here. Your solution isn't wrong or bad. I want you to learn about alternatives. We learn for live ;)</p>
</blockquote>
<p>Definitely. I like exploring the alternatives.</p>



<a name="130067197"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130067197" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130067197">(Jul 21 2018 at 19:40)</a>:</h4>
<p>okay that is done :)</p>



<a name="130067205"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130067205" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130067205">(Jul 21 2018 at 19:41)</a>:</h4>
<p>Will review the code and push it by tomo</p>



<a name="130108713"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130108713" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130108713">(Jul 22 2018 at 18:18)</a>:</h4>
<p>I added check gap and check exp_air today. Everything done so far is committed to the repo.</p>



<a name="130138034"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130138034" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130138034">(Jul 23 2018 at 09:15)</a>:</h4>
<p>Added adj_air now</p>



<a name="130148103"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130148103" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130148103">(Jul 23 2018 at 13:22)</a>:</h4>
<p>Added check weight</p>



<a name="130148113"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130148113" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130148113">(Jul 23 2018 at 13:23)</a>:</h4>
<p>and analyze_weight function</p>



<a name="130149356"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130149356" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130149356">(Jul 23 2018 at 13:49)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> there is this default density flag in libanalyze/api.c. Which treats all materials as Aluminum, 7079-T6 with density as 2.74. <br>
Is this a desired feature?</p>



<a name="130162584"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130162584" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130162584">(Jul 23 2018 at 17:42)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> there is this default density flag in libanalyze/api.c. Which treats all materials as Aluminum, 7079-T6 with density as 2.74. <br>
Is this a desired feature?</p>
</blockquote>
<p>If you request a weight, you need to provide a density. In this sense any positive value could be used as default. The 7079-T6 aluminium is however already known in BRL-CAD (grep for 7079-T6).</p>



<a name="130162960"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130162960" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130162960">(Jul 23 2018 at 17:48)</a>:</h4>
<blockquote>
<blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> there is this default density flag in libanalyze/api.c. Which treats all materials as Aluminum, 7079-T6 with density as 2.74. <br>
Is this a desired feature?</p>
</blockquote>
<p>If you request a weight, you need to provide a density. In this sense any positive value could be used as default. The 7079-T6 aluminium is however already known in BRL-CAD (grep for 7079-T6).</p>
</blockquote>
<p>okay, but gqa doesn't set any default densities. If the density for the material ID is not found it aborts the ray-tracing. However api.c runs it. Shows some BAD LOS erro messages and calculates a weight. I am not sure if the weight is right as I can't compare with gqa</p>



<a name="130163124"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130163124" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130163124">(Jul 23 2018 at 17:51)</a>:</h4>
<p>I did confirm it working by making a region with one cube and assigning it a material ID of 2 (copper tool steel) and compared the results of gqa and <em>check weight</em></p>



<a name="130163138"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130163138" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130163138">(Jul 23 2018 at 17:51)</a>:</h4>
<p>I passed the density file as the one found in man page of gqa</p>



<a name="130163489"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130163489" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130163489">(Jul 23 2018 at 17:55)</a>:</h4>
<p>That's a hack (imho) because of rtcheck/gqa usability failings.</p>



<a name="130163589"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130163589" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130163589">(Jul 23 2018 at 17:56)</a>:</h4>
<p>Someone was trying to make it is to just a tool work without specifying a density table and almost certainly thought that it's more likely density-wise that the object is made of aluminum (as opposed to picking some other value like water==1.0).  The real issue is that it's clunky to specify densities for geometry.  Rtcheck demands a text file with a specific syntax.  GQA demands this as well, and then demands that you suck it into your .g file where it is no longer as easily edited and must be re-imported repeatedly if it changes.</p>



<a name="130163737"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130163737" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130163737">(Jul 23 2018 at 17:59)</a>:</h4>
<p>There is otherwise no special purpose for 7079-T6 that I'm aware of.  It's just assuming the object is most-likely a vehicle and most vehicles are mostly aluminum.  I don't know of anyone that uses that default for anything, don't believe it's documented which means it can change at will.</p>



<a name="130163856"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130163856" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130163856">(Jul 23 2018 at 18:01)</a>:</h4>
<blockquote>
<p>Someone was trying to make it is to just a tool work without specifying a density table and almost certainly thought that it's more likely density-wise that the object is made of aluminum (as opposed to picking some other value like water==1.0).  The real issue is that it's clunky to specify densities for geometry.  Rtcheck demands a text file with a specific syntax.  GQA demands this as well, and then demands that you suck it into your .g file where it is no longer as easily edited and must be re-imported repeatedly if it changes.</p>
</blockquote>
<p>yeah that is right. BTW Is there like a common database for these densities for the materials used in BRL-CAD? or something that matches the material ID to materials?</p>



<a name="130164145"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130164145" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130164145">(Jul 23 2018 at 18:06)</a>:</h4>
<p>misc/GQA_SAMPLE_DENSITIES</p>



<a name="130164174"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130164174" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130164174">(Jul 23 2018 at 18:07)</a>:</h4>
<p>hmm well that is the same as the one found in man page of gqa :D</p>



<a name="130164279"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130164279" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130164279">(Jul 23 2018 at 18:09)</a>:</h4>
<p>I was asking because gqa was complaining about material IDs not found. So I was wondering like if users can put any random values in  material ID ?</p>



<a name="130164643"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130164643" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130164643">(Jul 23 2018 at 18:15)</a>:</h4>
<p>If a material ID is valid or not depends on the material database provided. If the ID can be found there it should be OK.</p>



<a name="130165054"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165054" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165054">(Jul 23 2018 at 18:22)</a>:</h4>
<p>I added the verbose and debug printing option just now</p>



<a name="130165081"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165081" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165081">(Jul 23 2018 at 18:23)</a>:</h4>
<p>so was thinking if we were to replace gqa's back-end</p>



<a name="130165095"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165095" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165095">(Jul 23 2018 at 18:23)</a>:</h4>
<p>the order of the printing of this information would be different</p>



<a name="130165107"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165107" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165107">(Jul 23 2018 at 18:23)</a>:</h4>
<p>the real tables used in practice are considerably longer and more vetted than the sample densities</p>



<a name="130165179"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165179" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165179">(Jul 23 2018 at 18:24)</a>:</h4>
<p>that's something I'd love to get released, but then we'd really want a better way to manage it than a density text file -- proper material objects or a material database that it can pull properties from</p>



<a name="130165318"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165318" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165318">(Jul 23 2018 at 18:27)</a>:</h4>
<blockquote>
<p>the order of the printing of this information would be different</p>
</blockquote>
<p>I had several conversations with modelers when the tcl <a href="http://checker.sh" target="_blank" title="http://checker.sh">checker.sh</a> was written and the default encounter-ordering wasn't important -- they typically want to review and address issues in priority order, which is typically largest to smallest</p>



<a name="130165475"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165475" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165475">(Jul 23 2018 at 18:30)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> one request for the new check command ... s/weight/mass/g !   it's a bit annoying that has remained for so long.</p>



<a name="130165547"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165547" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165547">(Jul 23 2018 at 18:30)</a>:</h4>
<blockquote>
<p>that's something I'd love to get released, but then we'd really want a better way to manage it than a density text file -- proper material objects or a material database that it can pull properties from</p>
</blockquote>
<p>maybe like have a database of well-know materials and their densities from which a user can choose from when creating regions.<br>
And if the user wants to add any new material then they must also provide the density which gets copied to that .g file.<br>
So when analysis tools run, they would know where to pull this information from.</p>



<a name="130165578"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165578" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165578">(Jul 23 2018 at 18:31)</a>:</h4>
<p>exactly</p>



<a name="130165719"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165719" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165719">(Jul 23 2018 at 18:33)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> one request for the new check command ... s/weight/mass/g !   it's a bit annoying that has remained for so long.</p>
</blockquote>
<p>sorry I didn't get you. I am not familiar with s/word/word/g format</p>



<a name="130165770"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165770" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165770">(Jul 23 2018 at 18:34)</a>:</h4>
<p>substitute weight for mass everywhere ... we don't actually calculate weight</p>



<a name="130165803"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130165803" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130165803">(Jul 23 2018 at 18:34)</a>:</h4>
<p>okay :)</p>



<a name="130166048"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166048" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166048">(Jul 23 2018 at 18:38)</a>:</h4>
<p>So I was talking about the debug information. There is also one thing other than ordering</p>



<a name="130166065"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166065" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166065">(Jul 23 2018 at 18:39)</a>:</h4>
<p>the debug flag also prints the ray_dir and ray_pt</p>



<a name="130166085"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166085" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166085">(Jul 23 2018 at 18:39)</a>:</h4>
<p>but I am using the rectangular_grid function.</p>



<a name="130166144"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166144" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166144">(Jul 23 2018 at 18:40)</a>:</h4>
<p>oh wait never mind :D I can print that just before shooting</p>



<a name="130166145"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166145" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166145">(Jul 23 2018 at 18:40)</a>:</h4>
<p>debug is for devs, can be whatever we need it to be</p>



<a name="130166180"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166180" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166180">(Jul 23 2018 at 18:41)</a>:</h4>
<p>okay got it</p>



<a name="130166192"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166192" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166192">(Jul 23 2018 at 18:41)</a>:</h4>
<p>frankly, debugging could disappear so long as we have a way to know with certainty that there's no bugs (which is unlikely)</p>



<a name="130166265"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166265" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166265">(Jul 23 2018 at 18:42)</a>:</h4>
<p>more important is that it works in parallel, that it shoots the same rays, that -- barring bugs in the original -- it gives the same result set (regardless of ordering)</p>



<a name="130166431"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166431" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166431">(Jul 23 2018 at 18:45)</a>:</h4>
<p>hmm okay</p>



<a name="130166496"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166496" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166496">(Jul 23 2018 at 18:46)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> on that note -- I think your build logs indicated the TCL_THREADS was on for you, yes?  Would you do a build test where you force it off -- see if gqa still has a problem?</p>



<a name="130166540"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166540" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166540">(Jul 23 2018 at 18:47)</a>:</h4>
<p>was talking about this with <span class="user-mention" data-user-id="112516">@starseeker</span> and he was a bit surprised that it was on -- that may be why we don't see issues elsewhere if something is awry in the build logic.</p>



<a name="130166700"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130166700" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130166700">(Jul 23 2018 at 18:49)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> on that note -- I think your build logs indicated the TCL_THREADS was on for you, yes?  Would you do a build test where you force it off -- see if gqa still has a problem?</p>
</blockquote>
<p>yup can do.</p>



<a name="130168833"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130168833" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130168833">(Jul 23 2018 at 19:28)</a>:</h4>
<p>that worked. now it does not crash.</p>



<a name="130169227"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130169227" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130169227">(Jul 23 2018 at 19:35)</a>:</h4>
<p>anyway I noticed this strange behaviour: <br>
edit: gif removed<br>
part of the messages are printed later sometimes</p>



<a name="130169330"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130169330" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130169330">(Jul 23 2018 at 19:37)</a>:</h4>
<p>meh that gif is not clear</p>



<a name="130169334"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130169334" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130169334">(Jul 23 2018 at 19:37)</a>:</h4>
<p><a href="/user_uploads/1549/VgipYmFFCNKDfubc0xvChkfN/Screenshot-from-2018-07-24-01-07-09.png" target="_blank" title="Screenshot-from-2018-07-24-01-07-09.png">Screenshot-from-2018-07-24-01-07-09.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/VgipYmFFCNKDfubc0xvChkfN/Screenshot-from-2018-07-24-01-07-09.png" target="_blank" title="Screenshot-from-2018-07-24-01-07-09.png"><img src="/user_uploads/1549/VgipYmFFCNKDfubc0xvChkfN/Screenshot-from-2018-07-24-01-07-09.png"></a></div>



<a name="130169665"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130169665" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130169665">(Jul 23 2018 at 19:43)</a>:</h4>
<p>those are diagnostic messages from librt -- it's saying a cylinder was hit 3 times</p>



<a name="130169726"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130169726" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130169726">(Jul 23 2018 at 19:44)</a>:</h4>
<p>would be interesting to see those specific rays visualized</p>



<a name="130169746"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130169746" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130169746">(Jul 23 2018 at 19:44)</a>:</h4>
<p>yeah but since these messages are printed using bu_log, they should appear as red and above the bu_vls_printf(gedp-&gt;result_str) messages</p>



<a name="130169962"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130169962" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130169962">(Jul 23 2018 at 19:49)</a>:</h4>
<blockquote>
<p>would be interesting to see those specific rays visualized</p>
</blockquote>
<p>well the struct hit contains a pointer to struct xray * so we can get information about ray from it</p>



<a name="130170053"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130170053" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130170053">(Jul 23 2018 at 19:51)</a>:</h4>
<blockquote>
<p>yeah but since these messages are printed using bu_log, they should appear as red and above the bu_vls_printf(gedp-&gt;result_str) messages</p>
</blockquote>
<p>ideally, but it depends on what the state of the channels and hooks are at the time it logs</p>



<a name="130170066"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130170066" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130170066">(Jul 23 2018 at 19:51)</a>:</h4>
<p>it "should" be distinguished separately ...</p>



<a name="130170340"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130170340" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130170340">(Jul 23 2018 at 19:56)</a>:</h4>
<p>hmm okay then. Now that bu_log seems to be fixed for me, should I revert back to bu_log instead of passing a bu_vls struct for printing purposes in libanalyze?</p>



<a name="130170569"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130170569" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130170569">(Jul 23 2018 at 20:00)</a>:</h4>
<p>bu_log() is fixed?  nothing has changed that I'm aware of</p>



<a name="130170573"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130170573" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130170573">(Jul 23 2018 at 20:00)</a>:</h4>
<p>so I wouldn't say "fixed" :)</p>



<a name="130170592"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130170592" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130170592">(Jul 23 2018 at 20:01)</a>:</h4>
<p>I don't think calling bu_log is any more appropriate than passing a bu_vls</p>



<a name="130170614"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130170614" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130170614">(Jul 23 2018 at 20:01)</a>:</h4>
<p>in fact, that style of having a logging ledger is sort of what the other ged commands need (whether going through a logging api or not)</p>



<a name="130170789"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130170789" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130170789">(Jul 23 2018 at 20:04)</a>:</h4>
<p>hmm okay but one thing is good about bu_log that it displays information as it happens.. Like those grid refining messages. It's an easy way to know something is happening.</p>



<a name="130224589"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130224589" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130224589">(Jul 24 2018 at 17:35)</a>:</h4>
<p>I added moments and centroid</p>



<a name="130224603"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130224603" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130224603">(Jul 24 2018 at 17:35)</a>:</h4>
<p>right now working on surface area</p>



<a name="130225066"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225066" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225066">(Jul 24 2018 at 17:43)</a>:</h4>
<p>I saw you commits, you are making really great progress. You seem to accelerate to the end <span class="emoji emoji-1f600" title="grinning">:grinning:</span></p>



<a name="130225357"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225357" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225357">(Jul 24 2018 at 17:47)</a>:</h4>
<p>What about your patches on sourceforge? I suppose that I can close #495?</p>



<a name="130225505"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225505" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225505">(Jul 24 2018 at 17:49)</a>:</h4>
<blockquote>
<p>I saw you commits, you are making really great progress. You seem to accelerate to the end <span class="emoji emoji-1f600" title="grinning">:grinning:</span></p>
</blockquote>
<p>Haha thank you :). I have accelerated because from Aug 1, I have my regular classes from 9:30 - 16:30. So my time allocated would be affected. Hence trying my best to complete as much as I can :).</p>



<a name="130225566"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225566" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225566">(Jul 24 2018 at 17:50)</a>:</h4>
<blockquote>
<p>What about your patches on sourceforge? I suppose that I can close #495?</p>
</blockquote>
<p>hmm #495 is outdated so it can be closed</p>



<a name="130225693"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225693" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225693">(Jul 24 2018 at 17:52)</a>:</h4>
<p>for #497 I will submit an updated one without the rtcheck related removals</p>



<a name="130225705"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225705" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225705">(Jul 24 2018 at 17:52)</a>:</h4>
<p>#497 is probable outdated too, you redesigned the whole libged stuff, etc.. Therefore ... there you said it :)</p>



<a name="130225738"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225738" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225738">(Jul 24 2018 at 17:53)</a>:</h4>
<p>yeah check overlaps should replace check_overlaps right?</p>



<a name="130225757"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225757" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225757">(Jul 24 2018 at 17:53)</a>:</h4>
<p>but there is one thing I have not added from check_overlaps -- getting view information from view</p>



<a name="130225806"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225806" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225806">(Jul 24 2018 at 17:54)</a>:</h4>
<p>when -a, -e and objs are not mentioned</p>



<a name="130225821"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225821" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225821">(Jul 24 2018 at 17:54)</a>:</h4>
<p>it takes objects from view but not the view information</p>



<a name="130225851"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225851" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225851">(Jul 24 2018 at 17:54)</a>:</h4>
<p>There is probable a reason for it (?)</p>



<a name="130225954"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225954" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225954">(Jul 24 2018 at 17:56)</a>:</h4>
<p>yeah, check defaults to gqa behaviour if nothing is mentioned like <code>check overlaps</code>. We can give <code>check overlaps -a35 -e25 overlaps</code> for single grid.</p>



<a name="130225980"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130225980" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130225980">(Jul 24 2018 at 17:56)</a>:</h4>
<p>only solution there is to add one extra option</p>



<a name="130226100"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226100" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226100">(Jul 24 2018 at 17:58)</a>:</h4>
<p>and I could add one analyze_get_from_view(state, gedp) function. Which setups state</p>



<a name="130226278"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226278" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226278">(Jul 24 2018 at 18:01)</a>:</h4>
<p>triggered by a special option of <code>check overlaps</code>?</p>



<a name="130226296"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226296" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226296">(Jul 24 2018 at 18:01)</a>:</h4>
<p>yup</p>



<a name="130226316"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226316" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226316">(Jul 24 2018 at 18:01)</a>:</h4>
<p>OK :)</p>



<a name="130226572"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226572" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226572">(Jul 24 2018 at 18:06)</a>:</h4>
<p>for surface area</p>



<a name="130226612"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226612" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226612">(Jul 24 2018 at 18:06)</a>:</h4>
<p>since there are no units table</p>



<a name="130226630"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226630" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226630">(Jul 24 2018 at 18:06)</a>:</h4>
<p>I am doing </p>
<div class="codehilite"><pre><span></span>    bu_vls_printf(_ged_current_gedp-&gt;ged_result_str, &quot;\t%s %g %s^2\n&quot;,
              tobjtab[i],
              surf_area / (options-&gt;units[LINE]-&gt;val*options-&gt;units[LINE]-&gt;val),
              options-&gt;units[LINE]-&gt;name);
</pre></div>



<a name="130226678"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226678" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226678">(Jul 24 2018 at 18:07)</a>:</h4>
<p>or should I add one more table?</p>



<a name="130226748"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226748" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226748">(Jul 24 2018 at 18:08)</a>:</h4>
<p>I think what you are doing looks OK.</p>



<a name="130226792"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226792" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226792">(Jul 24 2018 at 18:08)</a>:</h4>
<p>alright cool</p>



<a name="130226887"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226887" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226887">(Jul 24 2018 at 18:10)</a>:</h4>
<p>also should I add some kind of warning, when single grid is chosen</p>



<a name="130226906"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130226906" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130226906">(Jul 24 2018 at 18:10)</a>:</h4>
<p>and user asks for mass/centroid/moments</p>



<a name="130227024"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130227024" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130227024">(Jul 24 2018 at 18:13)</a>:</h4>
<p>I don't know. Personally, I wouldn't do it if the user explicitly gave the parameters for the single grid.</p>



<a name="130227149"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130227149" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130227149">(Jul 24 2018 at 18:15)</a>:</h4>
<p>but the values returned are way off</p>



<a name="130227399"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130227399" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130227399">(Jul 24 2018 at 18:19)</a>:</h4>
<p>Is it so bad?</p>



<a name="130227620"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130227620" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130227620">(Jul 24 2018 at 18:22)</a>:</h4>
<p><a href="https://hastebin.com/jolovakexa.css" target="_blank" title="https://hastebin.com/jolovakexa.css">https://hastebin.com/jolovakexa.css</a></p>



<a name="130227622"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130227622" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130227622">(Jul 24 2018 at 18:22)</a>:</h4>
<p>comparison</p>



<a name="130227863"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130227863" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130227863">(Jul 24 2018 at 18:26)</a>:</h4>
<p>What was it, the havoc?</p>



<a name="130227975"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130227975" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130227975">(Jul 24 2018 at 18:28)</a>:</h4>
<p>nope</p>



<a name="130227979"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130227979" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130227979">(Jul 24 2018 at 18:28)</a>:</h4>
<p><a href="/user_uploads/1549/cMe8ckcD5skK16AWqIjFQpuv/Screenshot-from-2018-07-24-23-58-09.png" target="_blank" title="Screenshot-from-2018-07-24-23-58-09.png">Screenshot-from-2018-07-24-23-58-09.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/cMe8ckcD5skK16AWqIjFQpuv/Screenshot-from-2018-07-24-23-58-09.png" target="_blank" title="Screenshot-from-2018-07-24-23-58-09.png"><img src="/user_uploads/1549/cMe8ckcD5skK16AWqIjFQpuv/Screenshot-from-2018-07-24-23-58-09.png"></a></div>



<a name="130227985"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130227985" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130227985">(Jul 24 2018 at 18:28)</a>:</h4>
<p>the inner cube subtracted and created a region</p>



<a name="130228005"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228005" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228005">(Jul 24 2018 at 18:28)</a>:</h4>
<p>What's it size?</p>



<a name="130228132"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228132" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228132">(Jul 24 2018 at 18:30)</a>:</h4>
<p>the arb8 is 39.3701 X 39.3701 X 39.3701 and arb7 is all values are abs(157.4803)</p>



<a name="130228140"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228140" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228140">(Jul 24 2018 at 18:30)</a>:</h4>
<p>i just created then randomly</p>



<a name="130228146"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228146" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228146">(Jul 24 2018 at 18:30)</a>:</h4>
<p>and material Id is 2</p>



<a name="130228149"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228149" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228149">(Jul 24 2018 at 18:30)</a>:</h4>
<p>mm?</p>



<a name="130228162"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228162" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228162">(Jul 24 2018 at 18:31)</a>:</h4>
<p>inches</p>



<a name="130228273"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228273" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228273">(Jul 24 2018 at 18:33)</a>:</h4>
<p><a href="https://hastebin.com/ulefabapij.css" target="_blank" title="https://hastebin.com/ulefabapij.css">https://hastebin.com/ulefabapij.css</a> here gqa vs check for triple grid</p>



<a name="130228636"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228636" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228636">(Jul 24 2018 at 18:39)</a>:</h4>
<p>Have you computed the volume by hand? The difference is a little bit to big (1.63 vs. 5.43) for such a simple geometry. A factor of 3?</p>



<a name="130228652"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228652" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228652">(Jul 24 2018 at 18:39)</a>:</h4>
<p>Have you tried it for a simple cube?</p>



<a name="130228707"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228707" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228707">(Jul 24 2018 at 18:40)</a>:</h4>
<p>hmm I will try on something simple like the cube.. there you said it</p>



<a name="130228817"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228817" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228817">(Jul 24 2018 at 18:42)</a>:</h4>
<p><a href="https://www.diffchecker.com/cJNUrcoA" target="_blank" title="https://www.diffchecker.com/cJNUrcoA">https://www.diffchecker.com/cJNUrcoA</a></p>



<a name="130228820"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228820" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228820">(Jul 24 2018 at 18:42)</a>:</h4>
<p>comparison with the simple cube of 40x40in</p>



<a name="130228920"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130228920" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130228920">(Jul 24 2018 at 18:45)</a>:</h4>
<p>hmm the dimensions doesn't make sense. Let me recheck from .g</p>



<a name="130229013"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229013" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229013">(Jul 24 2018 at 18:47)</a>:</h4>
<p>its 2000x2000x2000mm</p>



<a name="130229067"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229067" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229067">(Jul 24 2018 at 18:48)</a>:</h4>
<p>I said 39.3701in, but it was the coordinates <span class="emoji emoji-1f605" title="sweat smile">:sweat_smile:</span></p>



<a name="130229101"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229101" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229101">(Jul 24 2018 at 18:49)</a>:</h4>
<p>The single grid is about 1/3rd of the triple grid?</p>



<a name="130229178"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229178" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229178">(Jul 24 2018 at 18:50)</a>:</h4>
<p>how are we comparing them?</p>



<a name="130229199"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229199" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229199">(Jul 24 2018 at 18:50)</a>:</h4>
<p>8 vs. 2.69 m^3 (?)</p>



<a name="130229215"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229215" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229215">(Jul 24 2018 at 18:51)</a>:</h4>
<p>triple grid shoots 39x39x39 rays and single grid shoots 69x69 rays</p>



<a name="130229309"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229309" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229309">(Jul 24 2018 at 18:52)</a>:</h4>
<blockquote>
<p>8 vs. 2.69 m^3 (?)</p>
</blockquote>
<p>yeah that seems awfully close to 1/3</p>



<a name="130229457"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229457" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229457">(Jul 24 2018 at 18:55)</a>:</h4>
<p>I tried out gqa -Av -N1 to force single view</p>



<a name="130229464"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229464" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229464">(Jul 24 2018 at 18:55)</a>:</h4>
<p>but that result came out to be 8 m^3</p>



<a name="130229465"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229465" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229465">(Jul 24 2018 at 18:55)</a>:</h4>
<p>E.g. for geometries made of sheets the single grid method could be very wrong, but for a solid cube?</p>



<a name="130229591"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229591" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229591">(Jul 24 2018 at 18:56)</a>:</h4>
<p>I didn't get what you meant by made of sheets?</p>



<a name="130229712"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229712" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229712">(Jul 24 2018 at 18:58)</a>:</h4>
<p>I will do one thing.. draw the single grid formed with ray_pt values.</p>



<a name="130229713"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229713" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229713">(Jul 24 2018 at 18:58)</a>:</h4>
<p>If parts of the geometry are invisible from a view point as e.g. thin metal sheets (or plates).</p>



<a name="130229752"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229752" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229752">(Jul 24 2018 at 18:58)</a>:</h4>
<blockquote>
<p>If parts of the geometry are invisible from a view point as e.g. thin metal sheets (or plates).</p>
</blockquote>
<p>hmm then three grids are best</p>



<a name="130229761"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229761" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229761">(Jul 24 2018 at 18:59)</a>:</h4>
<blockquote>
<p>I will do one thing.. draw the single grid formed with ray_pt values.</p>
</blockquote>
<p>and see how much is the coverage</p>



<a name="130229780"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130229780" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130229780">(Jul 24 2018 at 18:59)</a>:</h4>
<p>in theory it should cover the whole geometry</p>



<a name="130230370"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130230370" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130230370">(Jul 24 2018 at 19:08)</a>:</h4>
<p>What's state-&gt;num_views? Can it only be set with the <code>-N</code> option?</p>



<a name="130230392"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130230392" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130230392">(Jul 24 2018 at 19:09)</a>:</h4>
<p>yeah and it's set to 1 with with -ae mentioning</p>



<a name="130230775"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130230775" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130230775">(Jul 24 2018 at 19:14)</a>:</h4>
<p>At which code line?</p>



<a name="130230803"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130230803" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130230803">(Jul 24 2018 at 19:14)</a>:</h4>
<p>api.c line 1231</p>



<a name="130230846"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130230846" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130230846">(Jul 24 2018 at 19:15)</a>:</h4>
<p>line 117 libanalyze/check_options.c</p>



<a name="130230951"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130230951" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130230951">(Jul 24 2018 at 19:17)</a>:</h4>
<p>oh wait I have some changes in api.c that is yet to commit related to surface area. So line number can vary</p>



<a name="130231248"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130231248" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130231248">(Jul 24 2018 at 19:22)</a>:</h4>
<p>Yes, a little bit, but I could find it.</p>



<a name="130231338"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130231338" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130231338">(Jul 24 2018 at 19:24)</a>:</h4>
<p>Well, it looks like there is a factor of 3 somewhere ... or something else.</p>



<a name="130231448"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130231448" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130231448">(Jul 24 2018 at 19:26)</a>:</h4>
<p>yep! here is the grid formed <a href="https://www.geogebra.org/3d/vdq9yhbq" target="_blank" title="https://www.geogebra.org/3d/vdq9yhbq">https://www.geogebra.org/3d/vdq9yhbq</a>.<br>
I will try to investigate it</p>



<a name="130231630"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130231630" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130231630">(Jul 24 2018 at 19:29)</a>:</h4>
<p>one thing I noticed is it shoots one less, like in check_overlaps it shoots 70x70 grid. But check shoots 69x69 grid</p>



<a name="130231936"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130231936" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130231936">(Jul 24 2018 at 19:33)</a>:</h4>
<p><a href="/user_uploads/1549/M_89esu4Og_8YnEFrj5_oKgh/Screenshot-from-2018-07-25-01-03-20.png" target="_blank" title="Screenshot-from-2018-07-25-01-03-20.png">Screenshot-from-2018-07-25-01-03-20.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/M_89esu4Og_8YnEFrj5_oKgh/Screenshot-from-2018-07-25-01-03-20.png" target="_blank" title="Screenshot-from-2018-07-25-01-03-20.png"><img src="/user_uploads/1549/M_89esu4Og_8YnEFrj5_oKgh/Screenshot-from-2018-07-25-01-03-20.png"></a></div>



<a name="130232584"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130232584" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130232584">(Jul 24 2018 at 19:47)</a>:</h4>
<p>oh nvm this. The cube is drawn wrong xD. The centre should be 0,0,0</p>



<a name="130235467"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130235467" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130235467">(Jul 24 2018 at 20:35)</a>:</h4>
<p>okay I think I figured it out! It's the difference in number of shots. <br>
8/2.68851 = 2.975 is the factor.<br>
40x40 is the grid formed per view in case of triple grid = 1600 shots<br>
69x69 is the grid formed for single grid = 4761 shots<br>
and 4761/1600 = 2.975</p>



<a name="130236548"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130236548" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130236548">(Jul 24 2018 at 20:50)</a>:</h4>
<p>Not sure how to fix it easily</p>



<a name="130252746"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130252746" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130252746">(Jul 25 2018 at 03:36)</a>:</h4>
<blockquote>
<p><a href="https://hastebin.com/jolovakexa.css" target="_blank" title="https://hastebin.com/jolovakexa.css">https://hastebin.com/jolovakexa.css</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> how much difference is there if you run 1 grid vs 3 grid but to the same grid density  (e.g., in your example, looks like 3 grid went to 639^3 but only checked 1 grid to 277^2)</p>



<a name="130252857"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130252857" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130252857">(Jul 25 2018 at 03:40)</a>:</h4>
<blockquote>
<p>the arb8 is 39.3701 X 39.3701 X 39.3701 and arb7 is all values are abs(157.4803)</p>
</blockquote>
<p>you can try running the 'analyze' command on the primitives -- I believe both of those should compute volume correctly (exactly), then you can do the subtraction to get the actual volume vs check/gqa's estimate</p>



<a name="130253599"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130253599" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130253599">(Jul 25 2018 at 04:06)</a>:</h4>
<blockquote>
<p>okay I think I figured it out! It's the difference in number of shots. <br>
8/2.68851 = 2.975 is the factor.<br>
40x40 is the grid formed per view in case of triple grid = 1600 shots<br>
69x69 is the grid formed for single grid = 4761 shots<br>
and 4761/1600 = 2.975</p>
</blockquote>
<p>This isn't making sense to me.  There should only be that big of a difference if the grid sizes where the same for both, but the 40x40 and 69x69 should be quite different sizes (per cell).  E.g., if we were shooting a 1000x1000mm wide view, 40x40 grid would have 25mm cell width and 69x69 would be about 14.5mm.  If half the shots hit something and reported a thickness of 500mm, for example -- the volume estimate for the 40x40 grid would be exactly 2.5e8mm^3 (because 25^2 * 500 * 40*40/2) and the estimate for 69x69 would be either 2.46e8mm^3 or 2.54e8mm^3, depending on whether we used 34 or 35 cells for "half" of 69.  Either way, the answers are pretty darn close ...</p>



<a name="130259504"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130259504" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130259504">(Jul 25 2018 at 07:18)</a>:</h4>
<p>hmm in the example you gave you kept the viewsize the same. But its not the case with 1 grid vs 3 grid.<br>
For example a 2M x 2M x 2M cube, mdl_max : (1000,1000,1000) mm and mdl_min: (-1000, -1000, -1000) mm<br>
Span is VSUB2(mdl_max, mdl_min) = (2000, 2000, 2000).<br>
For 3 grid the viewsize is 2000mm and area is 2000x2000mm, so for 50mm gridspacing the grid formed is 40x40.<br>
For 1 grid the viewsize is taken as MAGNITUDE(span) = 3464.101mm and area is 3464.101mm x 3464.101mm, so for 50mm gridspacing the grid formed is 69.28 x 69.28 ~ 69x69.</p>



<a name="130259836"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130259836" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130259836">(Jul 25 2018 at 07:29)</a>:</h4>
<p>the formula : o_volume[view] =  o_len[view] * (area[view] / shots[view])<br>
In case of 3grid, the area of the bounding box (since its a cube, its is 2000x2000) = area of the grid so this works out.<br>
In case of 1grid, the area of the bounding box != area of the grid as we saw.<br>
Since the area is kept the same = 4e+06 but the number of shots vary.  Because of the difference (40x40 vs 69x69).<br>
The formula becomes:<br>
in case of 3grid, o_volume[view] =  o_len[view] * 2500<br>
in case of 1grid, o_volume[view] =  o_len[view] * 840.159 only</p>



<a name="130260028"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130260028" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130260028">(Jul 25 2018 at 07:35)</a>:</h4>
<blockquote>
<blockquote>
<p><a href="https://hastebin.com/jolovakexa.css" target="_blank" title="https://hastebin.com/jolovakexa.css">https://hastebin.com/jolovakexa.css</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> how much difference is there if you run 1 grid vs 3 grid but to the same grid density  (e.g., in your example, looks like 3 grid went to 639^3 but only checked 1 grid to 277^2)</p>
</blockquote>
<p>welp I cannot control the density of the grid, but spacing I can keep the same: <a href="https://hastebin.com/uxozakodep.css" target="_blank" title="https://hastebin.com/uxozakodep.css">https://hastebin.com/uxozakodep.css</a>.</p>



<a name="130260429"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130260429" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130260429">(Jul 25 2018 at 07:45)</a>:</h4>
<blockquote>
<blockquote>
<p>the arb8 is 39.3701 X 39.3701 X 39.3701 and arb7 is all values are abs(157.4803)</p>
</blockquote>
<p>you can try running the 'analyze' command on the primitives -- I believe both of those should compute volume correctly (exactly), then you can do the subtraction to get the actual volume vs check/gqa's estimate</p>
</blockquote>
<p>wow thanks for the tip, the analyze command is great :) <br>
did the manual calculation : according to analyze its around 162.667 m^3 and according to check/gqa it is around 162.888 m^3.</p>



<a name="130260968"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130260968" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130260968">(Jul 25 2018 at 07:58)</a>:</h4>
<p>I added this to single_grid_setup <code>state-&gt;area[0] = state-&gt;viewsize * state-&gt;viewsize</code>. Now looks much better :) <a href="https://hastebin.com/raw/dizagoboxu" target="_blank" title="https://hastebin.com/raw/dizagoboxu">https://hastebin.com/raw/dizagoboxu</a></p>



<a name="130279853"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130279853" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130279853">(Jul 25 2018 at 14:53)</a>:</h4>
<p>Enabled print per-region stats option for volume and mass</p>



<a name="130287281"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130287281" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130287281">(Jul 25 2018 at 16:44)</a>:</h4>
<p>added the view information option as -i for check overlaps.</p>



<a name="130292668"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130292668" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130292668">(Jul 25 2018 at 18:14)</a>:</h4>
<blockquote>
<p>I added this to single_grid_setup <code>state-&gt;area[0] = state-&gt;viewsize * state-&gt;viewsize</code>. Now looks much better :) <a href="https://hastebin.com/raw/dizagoboxu" target="_blank" title="https://hastebin.com/raw/dizagoboxu">https://hastebin.com/raw/dizagoboxu</a></p>
</blockquote>
<p>I've just tested your changes and i looks like you found it :)</p>



<a name="130292769"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130292769" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130292769">(Jul 25 2018 at 18:16)</a>:</h4>
<p>yeah now its pretty close :)</p>



<a name="130292777"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130292777" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130292777">(Jul 25 2018 at 18:16)</a>:</h4>
<p>but moments is wrong I have to test it out</p>



<a name="130292789"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130292789" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130292789">(Jul 25 2018 at 18:16)</a>:</h4>
<p>I was testing surf_area too, it seems broken too</p>



<a name="130292820"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130292820" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130292820">(Jul 25 2018 at 18:17)</a>:</h4>
<p>works when grid spacing is like -g10,10. But on refining like -g100,10 it becomes very wrong.</p>



<a name="130292864"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130292864" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130292864">(Jul 25 2018 at 18:18)</a>:</h4>
<p>also the logic only works for boxes</p>



<a name="130292908"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130292908" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130292908">(Jul 25 2018 at 18:20)</a>:</h4>
<blockquote>
<p>works when grid spacing is like -g10,10. But on refining like -g100,10 it becomes very wrong.</p>
</blockquote>
<p>Wouldn't be -g1,1 the refined grid? 100 &gt; 10</p>



<a name="130292966"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130292966" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130292966">(Jul 25 2018 at 18:20)</a>:</h4>
<p>i meant like when the grid is refined by half until it reaches the grid_spacing limit</p>



<a name="130292978"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130292978" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130292978">(Jul 25 2018 at 18:21)</a>:</h4>
<blockquote>
<p>also the logic only works for boxes</p>
</blockquote>
<p>You could take the normal vector into account.</p>



<a name="130293042"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293042" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293042">(Jul 25 2018 at 18:22)</a>:</h4>
<p>can you explain like how normal vector can be used to find surface area?</p>



<a name="130293131"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293131" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293131">(Jul 25 2018 at 18:24)</a>:</h4>
<p>The surface isn't usual orthogonal to the ray direction. I.e. using <code>ray-thickness * ray*thickness</code> as the area below the ray would be wrong. Correct?</p>



<a name="130293331"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293331" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293331">(Jul 25 2018 at 18:28)</a>:</h4>
<p>yep if it doesn't hit the surface at 90 degree then taking the area as ray_thickness * ray_thickness is wrong</p>



<a name="130293461"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293461" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293461">(Jul 25 2018 at 18:30)</a>:</h4>
<p>Therefore, you need to determine how "skew" the surface below the ray is.</p>



<a name="130293475"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293475" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293475">(Jul 25 2018 at 18:31)</a>:</h4>
<p>yes</p>



<a name="130293542"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293542" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293542">(Jul 25 2018 at 18:32)</a>:</h4>
<p>This can be done with the help of the normal vector of the surface at the ray's hit point. The vector product of this vector with the ray's direction vector is equal to the cosine of the angle between these vectors.</p>



<a name="130293665"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293665" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293665">(Jul 25 2018 at 18:35)</a>:</h4>
<p>And since Pythagoras, <code>ray_thickness * ray_thickness / cos(alpha)</code> can be used as an approximation for the surface's area around the ray's hit point.</p>



<a name="130293686"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293686" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293686">(Jul 25 2018 at 18:35)</a>:</h4>
<p>alright sounds good.</p>



<a name="130293751"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293751" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293751">(Jul 25 2018 at 18:36)</a>:</h4>
<p>Aren't the rays very thin?</p>



<a name="130293788"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293788" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293788">(Jul 25 2018 at 18:37)</a>:</h4>
<p>if the rays are 1mm thick then we must use -g1,1 to get correct results right?</p>



<a name="130293881"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293881" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293881">(Jul 25 2018 at 18:39)</a>:</h4>
<blockquote>
<p>Aren't the rays very thin?</p>
</blockquote>
<p>Indeed :) I mean the grid size.</p>



<a name="130293979"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293979" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293979">(Jul 25 2018 at 18:41)</a>:</h4>
<p>hmm so -g1,1 is must to get the surface area.</p>



<a name="130293990"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130293990" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130293990">(Jul 25 2018 at 18:41)</a>:</h4>
<p>But how to get this normal vector along the surface ?</p>



<a name="130294045"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294045" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294045">(Jul 25 2018 at 18:42)</a>:</h4>
<blockquote>
<p>if the rays are 1mm thick then we must use -g1,1 to get correct results right?</p>
</blockquote>
<p>The rays itself have no thickness, I referred to a "ray thickness" value we had at the beginning of your project and which was simply the cell size.</p>



<a name="130294074"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294074" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294074">(Jul 25 2018 at 18:43)</a>:</h4>
<blockquote>
<p>hmm so -g1,1 is must to get the surface area.</p>
</blockquote>
<p>No, the "thickness" is simply your actual cell size.</p>



<a name="130294160"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294160" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294160">(Jul 25 2018 at 18:44)</a>:</h4>
<p>thickness  = cell-size is a bit confusing to be honest :D</p>



<a name="130294193"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294193" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294193">(Jul 25 2018 at 18:45)</a>:</h4>
<blockquote>
<p>But how to get this normal vector along the surface ?</p>
</blockquote>
<p>Something like m_partition-&gt;pt_inhit-&gt;hit_normal and m_partition-&gt;pt_outhit-&gt;hit_normal (for the other side).</p>



<a name="130294275"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294275" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294275">(Jul 25 2018 at 18:47)</a>:</h4>
<blockquote>
<p>thickness  = cell-size is a bit confusing to be honest :D</p>
</blockquote>
<p>In the terms of api.c it's probable <code>cell_area / cos(alpha)</code>.</p>



<a name="130294305"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294305" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294305">(Jul 25 2018 at 18:47)</a>:</h4>
<blockquote>
<blockquote>
<p>But how to get this normal vector along the surface ?</p>
</blockquote>
<p>Something like m_partition-&gt;pt_inhit-&gt;hit_normal and m_partition-&gt;pt_outhit-&gt;hit_normal (for the other side).</p>
</blockquote>
<p>thanks this helps :)</p>



<a name="130294312"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294312" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294312">(Jul 25 2018 at 18:47)</a>:</h4>
<p>I don't know where the <code>* 2</code> comes from there.</p>



<a name="130294315"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294315" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294315">(Jul 25 2018 at 18:47)</a>:</h4>
<blockquote>
<p>I don't know where the <code>* 2</code> comes from there.</p>
</blockquote>
<p>the other side?</p>



<a name="130294380"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294380" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294380">(Jul 25 2018 at 18:48)</a>:</h4>
<p>Sorry, no. In <code>prd-&gt;optr-&gt;o_surf_area[state-&gt;curr_view] += (cell_area * 2);</code> in api.c.</p>



<a name="130294402"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294402" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294402">(Jul 25 2018 at 18:49)</a>:</h4>
<p>Maybe for the front and back side?</p>



<a name="130294470"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294470" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294470">(Jul 25 2018 at 18:50)</a>:</h4>
<p>yeah that is what I mean by the other side i.e the exit</p>



<a name="130294580"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294580" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294580">(Jul 25 2018 at 18:52)</a>:</h4>
<blockquote>
<blockquote>
<p>But how to get this normal vector along the surface ?</p>
</blockquote>
<p>Something like m_partition-&gt;pt_inhit-&gt;hit_normal and m_partition-&gt;pt_outhit-&gt;hit_normal (for the other side).</p>
</blockquote>
<p>hmm this is deprecated, replaced by RT_HIT_NORMAL<br>
I greped and found this:<br>
<code> RT_HIT_NORMAL( inormal, pp-&gt;pt_inhit, pp-&gt;pt_inseg-&gt;seg_stp, &amp;(ap-&gt;a_ray), pp-&gt;pt_inflip )</code><br>
<code>RT_HIT_NORMAL( onormal, pp-&gt;pt_outhit, pp-&gt;pt_outseg-&gt;seg_stp, &amp;(ap-&gt;a_ray), pp-&gt;pt_outflip )</code></p>



<a name="130294691"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294691" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294691">(Jul 25 2018 at 18:55)</a>:</h4>
<p>This looks reasonable.</p>



<a name="130294745"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294745" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294745">(Jul 25 2018 at 18:56)</a>:</h4>
<p>okay great, I will try it out :)</p>



<a name="130294774"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130294774" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130294774">(Jul 25 2018 at 18:56)</a>:</h4>
<p>BTW I added the quiet missed report and required number of hits options.<br>
I had to add a local overlaps list to identify if the hits are zero then it should check if it actually was recorded as overlaps if the hit is zero. else report it ( here is the snippet extracted from gqa - <a href="https://hastebin.com/avihedafuc.php" target="_blank" title="https://hastebin.com/avihedafuc.php">https://hastebin.com/avihedafuc.php</a>)</p>



<a name="130295037"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130295037" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130295037">(Jul 25 2018 at 19:01)</a>:</h4>
<blockquote>
<p>okay great, I will try it out :)</p>
</blockquote>
<p>A surface algorithm may need an additional trick. Test your algorithm with a cube and a sphere. The 3-grid version of the algorithm as it is now shouldn't be able to compute the surface of the cube.</p>



<a name="130295149"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130295149" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130295149">(Jul 25 2018 at 19:03)</a>:</h4>
<blockquote>
<blockquote>
<p>okay great, I will try it out :)</p>
</blockquote>
<p>A surface algorithm may need an additional trick. Test your algorithm with a cube and a sphere. The 3-grid version of the algorithm as it is now shouldn't be able to compute the surface of the cube.</p>
</blockquote>
<p>ok. I will test it and see how it goes!</p>



<a name="130296667"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130296667" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130296667">(Jul 25 2018 at 19:30)</a>:</h4>
<blockquote>
<p>This can be done with the help of the normal vector of the surface at the ray's hit point. The vector product of this vector with the ray's direction vector is equal to the cosine of the angle between these vectors.</p>
</blockquote>
<div class="codehilite"><pre><span></span>        RT_HIT_NORMAL(inormal, pp-&gt;pt_inhit, pp-&gt;pt_inseg-&gt;seg_stp, &amp;(ap-&gt;a_ray), pp-&gt;pt_inflip);
        RT_HIT_NORMAL(onormal, pp-&gt;pt_outhit, pp-&gt;pt_outseg-&gt;seg_stp, &amp;(ap-&gt;a_ray), pp-&gt;pt_outflip);

        icos = VDOT(inormal, ap-&gt;a_ray.r_dir)/(MAGSQ(inormal)*MAGSQ(ap-&gt;a_ray.r_dir));
        ocos = VDOT(onormal, ap-&gt;a_ray.r_dir)/(MAGSQ(onormal)*MAGSQ(ap-&gt;a_ray.r_dir));
</pre></div>



<a name="130296675"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130296675" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130296675">(Jul 25 2018 at 19:31)</a>:</h4>
<p>here is how I found the cosine angles</p>



<a name="130317643"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130317643" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130317643">(Jul 26 2018 at 02:49)</a>:</h4>
<blockquote>
<p>hmm in the example you gave you kept the viewsize the same. But its not the case with 1 grid vs 3 grid.<br>
For example a 2M x 2M x 2M cube, mdl_max : (1000,1000,1000) mm and mdl_min: (-1000, -1000, -1000) mm<br>
Span is VSUB2(mdl_max, mdl_min) = (2000, 2000, 2000).<br>
For 3 grid the viewsize is 2000mm and area is 2000x2000mm, so for 50mm gridspacing the grid formed is 40x40.<br>
For 1 grid the viewsize is taken as MAGNITUDE(span) = 3464.101mm and area is 3464.101mm x 3464.101mm, so for 50mm gridspacing the grid formed is 69.28 x 69.28 ~ 69x69.</p>
</blockquote>
<p>It doesn't matter if the viewsize is the same or not. With a different viewsize on the 1-view, that just means there is more padding around the outside.  (So in my example of 50% of the shots hitting, it would be some smaller percentage on 1-view.)  The estimates should still work out approximately within tolerance -- error should be something like the area of half the perimeter cells on average or all the perimeter cells worse case.  If they don't, it should be a bug.</p>



<a name="130342013"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130342013" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130342013">(Jul 26 2018 at 13:06)</a>:</h4>
<p>Yes Sean, I agree with you. It was a bug -- The area of the grid was kept as the same for both single grid and triple grid.<em>(like this state-&gt;area[0] = state-&gt;span[1] * state-&gt;span[2])</em> This was fine for 3grid because the are of the grid is same as the state-&gt;area.<br>
But in case of single grid the area of the grid is not equal to the state-&gt;area. Hence the ratio of missed shots was wrong!<br>
I added the code :</p>
<blockquote>
<p>I added this to single_grid_setup <code>state-&gt;area[0] = state-&gt;viewsize * state-&gt;viewsize</code>. Now looks much better :) <a href="https://hastebin.com/raw/dizagoboxu" target="_blank" title="https://hastebin.com/raw/dizagoboxu">https://hastebin.com/raw/dizagoboxu</a></p>
</blockquote>
<p>to manually set the correct area for single grid and it worked out.</p>



<a name="130346655"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130346655" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130346655">(Jul 26 2018 at 14:22)</a>:</h4>
<blockquote>
<blockquote>
<p>okay great, I will try it out :)</p>
</blockquote>
<p>A surface algorithm may need an additional trick. Test your algorithm with a cube and a sphere. The 3-grid version of the algorithm as it is now shouldn't be able to compute the surface of the cube.</p>
</blockquote>
<p>you were right! The surf_area of sphere came out thrice the real one for triple grids. But something like<code>check surf_area -g10,10 -N1 sphere</code> gave the surface area correctly.</p>



<a name="130347759"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130347759" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130347759">(Jul 26 2018 at 14:38)</a>:</h4>
<p>Also the area always comes out a bit lesser than the correct answer. I found out it was because of the steps in the grid.<br>
When something like <code>-g100mm,100mm</code> is selected then it shoots 19x19x19 grids. Which gives the surf_area for one view as <code>19*19*100*100*2 = 7.22m^2</code>. That gives total area of 3 views as 21.66 m^2. But the correct answer is 24m^2. <br>
Now if the grids were 20x20x20, then the surf_area per view comes out as <code>20*20*100*100*2 = 8m^2</code> which is exactly what we needed!</p>



<a name="130348456"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130348456" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130348456">(Jul 26 2018 at 14:47)</a>:</h4>
<p>I also investigated the issue with when the grid is refined from something like 100mm to 50mm. The surface area reported was 42m^2 but the correct surf_area is 24m^2. <br>
According to the original code it kept adding the cell_area to the o_surf_area[view] so the when the algorithm is run twice the area is more. <br>
But why is it not twice as the correct surf_area ? It is because on refining we are not shooting all the rays (i.e skipping the already shot rays).<br>
So I did the following changes : <a href="https://hastebin.com/iwifusokap.diff" target="_blank" title="https://hastebin.com/iwifusokap.diff">https://hastebin.com/iwifusokap.diff</a><br>
There two things happening : 1) clears the o_area after shooting grids of one gird-size and stores the result to o_surf_area. So it is not double the area.<br>
2) We are also multiplying the o_area with a ratio of <em>total_points/total_shots</em> -- this ratio is 1 for the original gird_spacing but more than 1 for any refined grid. <em>1.333 in case of when a 100mm grid is refined to 50mm.</em></p>



<a name="130348784"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130348784" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130348784">(Jul 26 2018 at 14:51)</a>:</h4>
<p>The algorithm not only fails for something like a sphere, what about when the object is like a smaller cube is subtracted from a larger cube - the area reported would be the outer-surface area only, the internal area would be ignored.</p>



<a name="130360087"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130360087" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130360087">(Jul 26 2018 at 17:36)</a>:</h4>
<blockquote>
<p>you were right! The surf_area of sphere came out thrice the real one for triple grids. But something like<code>check surf_area -g10,10 -N1 sphere</code> gave the surface area correctly.</p>
</blockquote>
<p>The sphere is a more general example for a surface area then the cube, because every part of its surface is visible from any direction, especially from the x, y, and z axis directions. If you think of a small area on the spheres surface, you can hit it with rays from the x, y, and z direction. I.e. if you simply add the areas in you triple grid algorithm you get three times its area.</p>
<p>The cube however is abnormal. Any part of its surface can only be hit by one of the three coordinate axis directions. Therefore, your algorithm only seems to be correct there. Create a turned cube and run your algorithm with this ;)</p>



<a name="130360249"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130360249" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130360249">(Jul 26 2018 at 17:39)</a>:</h4>
<blockquote>
<blockquote>
<p>you were right! The surf_area of sphere came out thrice the real one for triple grids. But something like<code>check surf_area -g10,10 -N1 sphere</code> gave the surface area correctly.</p>
</blockquote>
<p>The sphere is a more general example for a surface area then the cube, because every part of its surface is visible from any direction, especially from the x, y, and z axis directions. If you think of a small area on the spheres surface, you can hit it with rays from the x, y, and z direction. I.e. if you simply add the areas in you triple grid algorithm you get three times its area.</p>
<p>The cube however is abnormal. Any part of its surface can only be hit by one of the three coordinate axis directions. Therefore, your algorithm only seems to be correct there. Create a turned cube and run your algorithm with this ;)</p>
</blockquote>
<p>yeah a turned cube will also give incorrect results for sure! :/ well this algorithm is no good then.</p>



<a name="130360393"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130360393" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130360393">(Jul 26 2018 at 17:41)</a>:</h4>
<blockquote>
<p>I also investigated the issue with when the grid is refined from something like 100mm to 50mm. The surface area reported was 42m^2 but the correct surf_area is 24m^2. <br>
According to the original code it kept adding the cell_area to the o_surf_area[view] so the when the algorithm is run twice the area is more. <br>
But why is it not twice as the correct surf_area ? It is because on refining we are not shooting all the rays (i.e skipping the already shot rays).<br>
So I did the following changes : <a href="https://hastebin.com/iwifusokap.diff" target="_blank" title="https://hastebin.com/iwifusokap.diff">https://hastebin.com/iwifusokap.diff</a><br>
There two things happening : 1) clears the o_area after shooting grids of one gird-size and stores the result to o_surf_area. So it is not double the area.<br>
2) We are also multiplying the o_area with a ratio of <em>total_points/total_shots</em> -- this ratio is 1 for the original gird_spacing but more than 1 for any refined grid. <em>1.333 in case of when a 100mm grid is refined to 50mm.</em></p>
</blockquote>
<p>Hmm, I thought the grid cell size is of relevance for the area, not the number of shots.<br>
And, if you refine the grid by dividing the edges in half, you had to divide the o_surf_area by 4 and shoot at the missing grid points, or?</p>



<a name="130360536"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130360536" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130360536">(Jul 26 2018 at 17:43)</a>:</h4>
<blockquote>
<p>yeah a turned cube will also give incorrect results for sure! :/ well this algorithm is no good then.</p>
</blockquote>
<p>As I said, it needs a trick, like choosing the grid planes randomly in space and looking for the mean of the biggest values.</p>



<a name="130360832"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130360832" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130360832">(Jul 26 2018 at 17:47)</a>:</h4>
<blockquote>
<p>Hmm, I thought the grid cell size is of relevance for the area, not the number of shots.<br>
And, if you refine the grid by dividing the edges in half, you had to divide the o_surf_area by 4 and shoot at the missing grid points, or?</p>
</blockquote>
<p>Hmm now that I think divide by 4 also works! so at the end I can do o_surf_area[view] = o_area[view] then do o_area[view] /= 4. So that the first answer is there in o_surf_area, if we are refining then the new answer can replace old answer.</p>



<a name="130361017"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130361017" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130361017">(Jul 26 2018 at 17:49)</a>:</h4>
<blockquote>
<blockquote>
<p>yeah a turned cube will also give incorrect results for sure! :/ well this algorithm is no good then.</p>
</blockquote>
<p>As I said, it needs a trick, like choosing the grid planes randomly in space and looking for the mean of the biggest values.</p>
</blockquote>
<p>when you said randomly does it mean not essentially along the 3 axises? and how many grids should we shoot?</p>



<a name="130361508"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130361508" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130361508">(Jul 26 2018 at 17:56)</a>:</h4>
<blockquote>
<p>when you said randomly does it mean not essentially along the 3 axises? and how many grids should we shoot?</p>
</blockquote>
<p>You choose randomly an azimuth and elevation and shoot a grid from this direction. For a first test I would try it with 3 grids. The number of grids could be a parameter of the check function as well.</p>



<a name="130361824"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130361824" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130361824">(Jul 26 2018 at 18:00)</a>:</h4>
<p>okay so if I shoot three grids randomly on a sphere, I will get three values for surf_area which could be the same, and I take mean of these three values which gives me the answer but then what did you mean by "the mean of the biggest values" ?</p>



<a name="130361853"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130361853" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130361853">(Jul 26 2018 at 18:01)</a>:</h4>
<p>all grids would report me a surf_area value, how to consider which are biggest ?</p>



<a name="130361997"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130361997" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130361997">(Jul 26 2018 at 18:03)</a>:</h4>
<p>If a value is much lower than the others then it's likely that this direction wasn't good (missed a part of the surface) and it should be rejected.</p>



<a name="130362069"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130362069" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130362069">(Jul 26 2018 at 18:04)</a>:</h4>
<p>However, all values could be good as in case of the sphere.</p>



<a name="130362108"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130362108" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130362108">(Jul 26 2018 at 18:04)</a>:</h4>
<p>yep got it :)</p>



<a name="130362126"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130362126" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130362126">(Jul 26 2018 at 18:05)</a>:</h4>
<p>now this won't allow us to find internal surf_area right?</p>



<a name="130362164"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130362164" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130362164">(Jul 26 2018 at 18:05)</a>:</h4>
<p>You could define a limit, e.g. every value which is smaller than 80% (?) of the maximum will be discarded.</p>



<a name="130362258"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130362258" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130362258">(Jul 26 2018 at 18:07)</a>:</h4>
<blockquote>
<p>now this won't allow us to find internal surf_area right?</p>
</blockquote>
<p>This should work independently of this issue. To get this, you had to follow the ray further on.</p>



<a name="130362623"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130362623" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130362623">(Jul 26 2018 at 18:13)</a>:</h4>
<p>even when a smaller cube is subtracted from a larger cube in the centre ?</p>



<a name="130362812"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130362812" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130362812">(Jul 26 2018 at 18:16)</a>:</h4>
<p>in that case if a ray goes though the centre would there be two hits?</p>



<a name="130362838"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130362838" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130362838">(Jul 26 2018 at 18:17)</a>:</h4>
<p>if that is the case then it should be okay</p>



<a name="130363138"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130363138" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130363138">(Jul 26 2018 at 18:20)</a>:</h4>
<p>If a region has a hole, or in case of a torus for example, you get more than one hit from the ray trace. Whenever the ray travels through a solid part of the region you get it as a <em>hit</em>.</p>



<a name="130363195"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130363195" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130363195">(Jul 26 2018 at 18:21)</a>:</h4>
<p>alright that sounds good</p>



<a name="130363331"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130363331" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130363331">(Jul 26 2018 at 18:23)</a>:</h4>
<p>okk then I will try it out now.</p>



<a name="130368680"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130368680" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130368680">(Jul 26 2018 at 20:11)</a>:</h4>
<p>Well that worked :)</p>



<a name="130369132"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130369132" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130369132">(Jul 26 2018 at 20:21)</a>:</h4>
<p><a href="https://paste.debian.net/1035316/" target="_blank" title="https://paste.debian.net/1035316/">https://paste.debian.net/1035316/</a></p>



<a name="130369568"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130369568" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130369568">(Jul 26 2018 at 20:31)</a>:</h4>
<p>I also tried that cubes example that too came to be correct :)</p>



<a name="130422664"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130422664" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130422664">(Jul 27 2018 at 16:58)</a>:</h4>
<blockquote>
<blockquote>
<p>when you said randomly does it mean not essentially along the 3 axises? and how many grids should we shoot?</p>
</blockquote>
<p>You choose randomly an azimuth and elevation and shoot a grid from this direction. For a first test I would try it with 3 grids. The number of grids could be a parameter of the check function as well.</p>
</blockquote>
<p>I took the number of grids as the number of views so by default it is 3. And can be changed with -N option which is already there to set the number of views</p>



<a name="130423880"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130423880" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130423880">(Jul 27 2018 at 17:19)</a>:</h4>
<p>going to commit it then start with glint algorithms</p>



<a name="130423991"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130423991" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130423991">(Jul 27 2018 at 17:20)</a>:</h4>
<p>glint seems to shoot the grid differently and has one option to set ray_pt as some random point in the cell</p>



<a name="130424037"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130424037" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130424037">(Jul 27 2018 at 17:21)</a>:</h4>
<p>like for particular grid cell, the ray_pt is not necessarily the centre of the grid cell by default</p>



<a name="130424155"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130424155" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130424155">(Jul 27 2018 at 17:23)</a>:</h4>
<p>and even if I set the ray_pt as the centre with -c option the outputs of check overlaps and glint does not match for the same grid size and az/el values</p>



<a name="130424483"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130424483" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130424483">(Jul 27 2018 at 17:28)</a>:</h4>
<blockquote>
<p>and even if I set the ray_pt as the centre with -c option the outputs of check overlaps and glint does not match for the same grid size and az/el values</p>
</blockquote>
<p>Hmm, glint -c shoots the rays from the middle of the cells and check from the cells' corners?</p>



<a name="130424491"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130424491" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130424491">(Jul 27 2018 at 17:29)</a>:</h4>
<p>(only an idea)</p>



<a name="130424740"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130424740" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130424740">(Jul 27 2018 at 17:33)</a>:</h4>
<p>hmm I checked once again - <code>glint -c -g100 -a0 -e0</code> on cube of sides 8x8x8m centre 0,0,0 the first ray_pt is (4000,-4000,4000) then next is (4000, -3900,4000)</p>



<a name="130424842"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130424842" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130424842">(Jul 27 2018 at 17:35)</a>:</h4>
<p>if it were at the centre shouldn't it be (3950, -3950, 3950) and (3950, -3850,3950)</p>



<a name="130425056"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130425056" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130425056">(Jul 27 2018 at 17:38)</a>:</h4>
<p>ohh check in single grid shoots from the eye so the ray_pts are different and hence the overlaps list is different</p>



<a name="130431177"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130431177" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130431177">(Jul 27 2018 at 19:29)</a>:</h4>
<blockquote>
<p>ohh check in single grid shoots from the eye so the ray_pts are different and hence the overlaps list is different</p>
</blockquote>
<p>You found it - again <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span></p>



<a name="130433751"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130433751" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130433751">(Jul 27 2018 at 20:25)</a>:</h4>
<p>Just did a detailed analysis now. For grid_spacing of 2000 for a cube of 8x8x8m with centre at (0,0,0)<br>
This is check -a45 -e45 : <a href="/user_uploads/1549/6b-Nc_FQwpbgTPUe-j8bIxt1/check_grid_a45_e45.png" target="_blank" title="check_grid_a45_e45.png"></a> <br>
<a href="/user_uploads/1549/mV7FkpjQFdwi6dVkTOAfdaOz/Screenshot-from-2018-07-28-01-07-47.png" target="_blank" title="Screenshot-from-2018-07-28-01-07-47.png"></a> </p>
<div class="message_inline_image"><a href="/user_uploads/1549/6b-Nc_FQwpbgTPUe-j8bIxt1/check_grid_a45_e45.png" target="_blank" title=""><img src="/user_uploads/1549/6b-Nc_FQwpbgTPUe-j8bIxt1/check_grid_a45_e45.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/mV7FkpjQFdwi6dVkTOAfdaOz/Screenshot-from-2018-07-28-01-07-47.png" target="_blank" title=""><img src="/user_uploads/1549/mV7FkpjQFdwi6dVkTOAfdaOz/Screenshot-from-2018-07-28-01-07-47.png"></a></div><p>This is glint -a45 -e45 : <a href="/user_uploads/1549/DapK1R1l-tuJIvt-Dr_iaY56/glint_a45_e45.png" target="_blank" title="glint_a45_e45.png"></a> <br>
<a href="/user_uploads/1549/7bXcclNYfRuENgeno653fQSU/Screenshot-from-2018-07-28-01-09-33.png" target="_blank" title="Screenshot-from-2018-07-28-01-09-33.png"></a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/DapK1R1l-tuJIvt-Dr_iaY56/glint_a45_e45.png" target="_blank" title=""><img src="/user_uploads/1549/DapK1R1l-tuJIvt-Dr_iaY56/glint_a45_e45.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/7bXcclNYfRuENgeno653fQSU/Screenshot-from-2018-07-28-01-09-33.png" target="_blank" title=""><img src="/user_uploads/1549/7bXcclNYfRuENgeno653fQSU/Screenshot-from-2018-07-28-01-09-33.png"></a></div>



<a name="130436742"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130436742" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130436742">(Jul 27 2018 at 21:23)</a>:</h4>
<p>Confused on whether to use the exisiting grid setup for single grids in <em>check</em> and add the extra operations provided by glint? But this way if I need to replace the backend of <em>glint</em> with libanalyze API then outputs won't match. <br>
The other way to go is have a totally different grid setup function that would shoot the ray like glint does.</p>



<a name="130436904"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130436904" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130436904">(Jul 27 2018 at 21:26)</a>:</h4>
<p>I'm gonna go with different grid setup.</p>



<a name="130468195"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130468195" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130468195">(Jul 28 2018 at 13:43)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> it's not as important to match the outputs of glint -- WAY more important that gqa/rtcheck give the same results</p>



<a name="130468196"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130468196" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130468196">(Jul 28 2018 at 13:43)</a>:</h4>
<p>it just needs to be able to do all the same checks with similar output reporting as glint</p>



<a name="130468296"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130468296" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130468296">(Jul 28 2018 at 13:46)</a>:</h4>
<p>Alright that sounds good :)</p>



<a name="130560846"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130560846" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130560846">(Jul 30 2018 at 06:45)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> some of the glint options are already in check/gqa like -- vacuum == gqa's gaps, air contiguous == gqa'a adj_air and air first+air last == gqa's exposed air ?</p>



<a name="130576853"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130576853" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130576853">(Jul 30 2018 at 12:58)</a>:</h4>
<p>I had added air first and air last's callback functions to api.c but I think exposed air does it already. So I am not adding the first and last air options to <em>check</em> command. I added the unconf_air command to check</p>



<a name="130619156"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130619156" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130619156">(Jul 31 2018 at 03:37)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span> some of the glint options are already in check/gqa like -- vacuum == gqa's gaps, air contiguous == gqa'a adj_air and air first+air last == gqa's exposed air ?</p>
</blockquote>
<p>I honestly am not sure -- you'd have to read their respective manual pages and/or read the source code to make sure</p>



<a name="130662315"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130662315" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130662315">(Jul 31 2018 at 18:26)</a>:</h4>
<p>I am sure about vacuum and air contiguous by the source code and documentation.<br>
But not so sure about air_first , air_last and exposed_air<br>
according to gqa's documentation for exposed air  -- <em>"made to see if the ray  encounters air regions before (or after all) solid objects"</em> <br>
but the second line says -- <em>"It also checks to see if the ray moves from a void to an air region."</em><br>
according to glint's documentation, air_first checks if <em>"The first partition has a nonzero air code"</em> and air_last check if <em>"The last partition has a nonzero air code"</em><br>
So exposed_air of gqa does air_first + air_last and more.</p>



<a name="130662453"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130662453" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130662453">(Jul 31 2018 at 18:29)</a>:</h4>
<p>what surprises me is that I have the code as it is in glint for api.c for last_air and first_air but I am not getting the same results. Totally different results! (different regions)</p>



<a name="130663512"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130663512" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130663512">(Jul 31 2018 at 18:46)</a>:</h4>
<p>I was going through rtcheck's code and discovered a bug with grid-setup when -V option was used. <br>
Like normally the defaults are 512x512 width and height and for <em>truck.g g4</em> the default gird cell width and height comes out be 21.9221mm x 21.9221mm for 512x512 width and height.<br>
But when -V option is used which is used to set the width/height that is the aspect. <br>
like if I do -V 1/2 then the grid cell sizes comes out as 21.9221mm X  43.8422mm but the width and height remains the same as 512x512.  Shouldn't it be 256x512 according the cell sizes?</p>



<a name="130664463"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130664463" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130664463">(Jul 31 2018 at 19:02)</a>:</h4>
<p>[deleted]</p>



<a name="130665114"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130665114" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130665114">(Jul 31 2018 at 19:13)</a>:</h4>
<blockquote>
<p>Shouldn't it be 256x512 according the cell sizes?</p>
</blockquote>
<p>Sorry, not 256x512 it should be 512x256 to make a square grid</p>



<a name="130665444"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130665444" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130665444">(Jul 31 2018 at 19:18)</a>:</h4>
<p>Is this expected behaviour? What exactly is -V option used for ?</p>



<a name="130665846"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130665846" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130665846">(Jul 31 2018 at 19:25)</a>:</h4>
<p>I am confused because if I had to replace the back-end of rtcheck with libanalyze/api.c the -V option should work. <br>
I thought if it means width/height then it can related to the cell_width/cell_height ratio hence Iadded an extra variable gridRatio (<a href="https://sourceforge.net/p/brlcad/code/71320/" target="_blank" title="https://sourceforge.net/p/brlcad/code/71320/">r71320</a>)</p>



<a name="130691871"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130691871" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130691871">(Aug 01 2018 at 04:35)</a>:</h4>
<blockquote>
<p>So exposed_air of gqa does air_first + air_last and more.</p>
</blockquote>
<p>This sounds about right.  I don't think there's a need to track those two separately -- gqa is doing it right combining them.</p>



<a name="130691932"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130691932" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130691932">(Aug 01 2018 at 04:36)</a>:</h4>
<blockquote>
<p>what surprises me is that I have the code as it is in glint for api.c for last_air and first_air but I am not getting the same results. Totally different results! (different regions)</p>
</blockquote>
<p>That said, this is concerning!  Can you see if you can figure out why?  It casts doubt on the new code doing what we expect.</p>



<a name="130692118"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130692118" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130692118">(Aug 01 2018 at 04:40)</a>:</h4>
<blockquote>
<p>Is this expected behaviour? What exactly is -V option used for ?</p>
</blockquote>
<p>totally expected and intended behavior.  -V is making the pixel cells rectangular -- this is important for some output formats.</p>



<a name="130710464"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130710464" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130710464">(Aug 01 2018 at 12:31)</a>:</h4>
<blockquote>
<blockquote>
<p>what surprises me is that I have the code as it is in glint for api.c for last_air and first_air but I am not getting the same results. Totally different results! (different regions)</p>
</blockquote>
<p>That said, this is concerning!  Can you see if you can figure out why?  It casts doubt on the new code doing what we expect.</p>
</blockquote>
<p>Ok will try to find it.</p>



<a name="130734096"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130734096" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130734096">(Aug 01 2018 at 18:55)</a>:</h4>
<p>I had started to work on rtcheck and using the backend as libanalyze. I had the old file which I worked on analyze_overlaps function. Here is my progress: I tested the basics and it worked. <a href="/user_uploads/1549/CKqg91Wh18qaq1ap9Pq6cQYo/rtcheck.c" target="_blank" title="rtcheck.c">rtcheck.c</a> <br>
All the libanalyze functions happen in <em>rtcheck_do_frame(..)</em></p>



<a name="130734194"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130734194" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130734194">(Aug 01 2018 at 18:57)</a>:</h4>
<p>This way the -M matrix commands should work like cm_ae, cm_viewsize, cm_eyept etc</p>



<a name="130759710"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130759710" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130759710">(Aug 02 2018 at 05:29)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> how's your shell scripting?  It would be great to validate check against rtcheck and gqa a bit more systematically, like looping over all top-level objects in all our sample .g files, run check vs rtcheck and check volume vs gqa -Av etc, and report any differences found</p>



<a name="130759841"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130759841" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130759841">(Aug 02 2018 at 05:33)</a>:</h4>
<p>But rtcheck and gqa are available like executable programs. Can I call MGED commands as executable programs ? Or would it require a wrapper like one for gqa in src/gtools/gqa.c ?</p>



<a name="130761536"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130761536" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130761536">(Aug 02 2018 at 06:24)</a>:</h4>
<p>you can run mged commands easily from a script, e.g., mged -c test.g tops</p>



<a name="130761546"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130761546" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130761546">(Aug 02 2018 at 06:25)</a>:</h4>
<p>so you could run mged -c test.g check ... args ...</p>



<a name="130761595"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130761595" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130761595">(Aug 02 2018 at 06:26)</a>:</h4>
<p>oh cool <span class="emoji emoji-1f642" title="slight smile">:slight_smile:</span></p>



<a name="130761738"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130761738" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130761738">(Aug 02 2018 at 06:30)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> I just did the comparison of old rtcheck vs new rtcheck (with api.c as base) with multiview matix command on havoc. It came out pretty close :) just two extra overlaps in case <em>-a0 -e30</em> <a href="https://www.diffchecker.com/AkFhnk33" target="_blank" title="https://www.diffchecker.com/AkFhnk33">https://www.diffchecker.com/AkFhnk33</a></p>



<a name="130761947"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130761947" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130761947">(Aug 02 2018 at 06:36)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span> I just did the comparison of old rtcheck vs new rtcheck (with api.c as base) with multiview matix command on havoc. It came out pretty close :) just two extra overlaps in case <em>-a0 -e30</em> <a href="https://www.diffchecker.com/AkFhnk33" target="_blank" title="https://www.diffchecker.com/AkFhnk33">https://www.diffchecker.com/AkFhnk33</a></p>
</blockquote>
<p>I'd call that a match!</p>



<a name="130762032"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130762032" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130762032">(Aug 02 2018 at 06:39)</a>:</h4>
<p>however, false sense of security beware.  you have it testing a bunch of azimuths, but the sensitivity is going to be proportional to the sampling density, not necessarily the direction.  It'd be good to check a broad range of az/el like you're doing there on havoc, e.g., every 24 or 15 degrees at least through 180 az and el</p>



<a name="130762084"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130762084" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130762084">(Aug 02 2018 at 06:40)</a>:</h4>
<p>but then also check default grid, then more refine down to, say, 1mm or less</p>



<a name="130762159"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130762159" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130762159">(Aug 02 2018 at 06:43)</a>:</h4>
<p>yep changing the grid density may yield interesting results!</p>



<a name="130762300"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130762300" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130762300">(Aug 02 2018 at 06:48)</a>:</h4>
<p>I will get started on the shell script to test these commands.</p>



<a name="130772623"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130772623" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130772623">(Aug 02 2018 at 11:27)</a>:</h4>
<p>These are the scripts I have ready :<br>
<a href="/user_uploads/1549/VGK7dkWMMmMoKSHq2LiTCEd7/volume_airs.sh" target="_blank" title="volume_airs.sh">volume_airs.sh</a> compares the check volume, check gap, check adj_air and check exp_air with gqa's options<br>
<a href="/user_uploads/1549/kidWoPhQEK6bmGhH4isUyf8m/rtcheck.sh" target="_blank" title="rtcheck.sh">rtcheck.sh</a> compares oldrtcheck and new rtcheck for different values of az/el values.<br>
<a href="/user_uploads/1549/hVcl7aP47l60EQr4vPRdokgM/overlaps.sh" target="_blank" title="overlaps.sh">overlaps.sh</a>  ompares the ouputs of check overlaps and gqa -Ao triple grid.<br>
Gonna give it a test run. I hope my CPU won't fry with 100% usage</p>



<a name="130774998"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130774998" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130774998">(Aug 02 2018 at 12:20)</a>:</h4>
<p>still a lot of work going though the diff files :(</p>



<a name="130775266"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130775266" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130775266">(Aug 02 2018 at 12:26)</a>:</h4>
<p>running new rtcheck and old rtcheck twice at 5mm and 50mm spacing for 144 combinations of az/el angles for each object in all the .g files would take very long time..</p>



<a name="130775571"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130775571" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130775571">(Aug 02 2018 at 12:32)</a>:</h4>
<p>[duplicated post]</p>



<a name="130809502"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130809502" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130809502">(Aug 03 2018 at 00:28)</a>:</h4>
<blockquote>
<p>These are the scripts I have ready :<br>
<a href="/user_uploads/1549/VGK7dkWMMmMoKSHq2LiTCEd7/volume_airs.sh" target="_blank" title="volume_airs.sh">volume_airs.sh</a> compares the check volume, check gap, check adj_air and check exp_air with gqa's options<br>
<a href="/user_uploads/1549/kidWoPhQEK6bmGhH4isUyf8m/rtcheck.sh" target="_blank" title="rtcheck.sh">rtcheck.sh</a> compares oldrtcheck and new rtcheck for different values of az/el values.<br>
<a href="/user_uploads/1549/hVcl7aP47l60EQr4vPRdokgM/overlaps.sh" target="_blank" title="overlaps.sh">overlaps.sh</a>  ompares the ouputs of check overlaps and gqa -Ao triple grid.<br>
Gonna give it a test run. I hope my CPU won't fry with 100% usage</p>
</blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> would you add your scripts to the repo somewhere?  just for references/testing -- perhaps in a misc/check subfolder or regress/check subfolder</p>



<a name="130809514"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130809514" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130809514">(Aug 03 2018 at 00:29)</a>:</h4>
<p>haven't looked at them yet, but how do you run them typically?  we have assets that will churn through all 144 combinations ... really fast.</p>



<a name="130819756"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130819756" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130819756">(Aug 03 2018 at 05:42)</a>:</h4>
<p>Umm right now it's just running the commands and redirecting the output to files then I simply use diff command to compare the outputs of say check volume and gqa -Av. And then store the diff to a reports file for later inspection. <br>
The problem with that is the diff file produced will always have some content because of the difference the outputs are printed from these commands (spaces and tabs in the output not the value)<br>
What needs to be done is to use regex to just extract the value and compare them. <br>
I'll try to do that for each command specifically and then compare them right away as they happen.</p>



<a name="130820116"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130820116" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130820116">(Aug 03 2018 at 05:52)</a>:</h4>
<p>For something like the overlaps list without the -P 1 option the ordering of the overlaps is not same. So in case of overlaps I need to first extract the data and then sort them. Then compare line by line.</p>



<a name="130832889"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130832889" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130832889">(Aug 03 2018 at 11:14)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> they are up in the repo now. I used sed to extract the data and compare.<br>
I took some code from the src/tclscripts/checker/check.sh to find the cmd in installed folder.<br>
Running them is simply ./volume.sh for example. The output of script will show which command is running and sed output if any, It will produce some files which will get deleted at the end. A ~_report.txt file is left-off which contains any different results.</p>



<a name="130851247"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130851247" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130851247">(Aug 03 2018 at 17:14)</a>:</h4>
<p>thanks I'll take a look!</p>



<a name="130851268"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130851268" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130851268">(Aug 03 2018 at 17:15)</a>:</h4>
<p>have you found more differences?</p>



<a name="130852611"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130852611" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130852611">(Aug 03 2018 at 17:44)</a>:</h4>
<blockquote>
<p>have you found more differences?</p>
</blockquote>
<p>Not really, didn't run it extensively. Ran all the tests on g4 and everything looked good except for :<br>
check overlaps and rtcheck because check overlaps reported in gqa -Ao style.<br>
And gqa -Ao reports pairs if seen in reverse as one like for example - /g4/r95 /g4/r93 4 1234mm<br>
rtcheck reported it as /g4/r95 /g4/r93 3 1234mm    /g4/r93 /g4/r95 1 12.34mm</p>
<p>So with  <a href="https://sourceforge.net/p/brlcad/code/71359/" target="_blank" title="https://sourceforge.net/p/brlcad/code/71359/">r71359</a> check overlaps would report like rtcheck does! but that brings the problem other way around xD check overlaps and gqa -Ao won't match in case of triple grids.<br>
I found rtcheck overlaps reporting better and went with it. Hope that is fine :)</p>



<a name="130858422"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130858422" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130858422">(Aug 03 2018 at 19:43)</a>:</h4>
<p>it is fine, that was one of the problems that made us keep rtcheck even after gqa</p>



<a name="130858427"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130858427" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130858427">(Aug 03 2018 at 19:43)</a>:</h4>
<p>rtcheck has had better reporting</p>



<a name="130858499"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130858499" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130858499">(Aug 03 2018 at 19:45)</a>:</h4>
<p>so when I talk about differences, I should explain that I mean any differences that are not expected or are not directly explained</p>



<a name="130858524"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130858524" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130858524">(Aug 03 2018 at 19:45)</a>:</h4>
<p>so if we see A overlaps B and then encounter B overlaps A ... how do the three different tools report it?  rtcheck I thought collapsed them into one report (that was related to the bug you found)</p>



<a name="130882759"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130882759" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130882759">(Aug 04 2018 at 08:40)</a>:</h4>
<blockquote>
<p>so if we see A overlaps B and then encounter B overlaps A ... how do the three different tools report it?  rtcheck I thought collapsed them into one report (that was related to the bug you found)</p>
</blockquote>
<p>I went through the code for each of the tools:</p>
<ul>
<li>rtcheck - Yes, it collapses the overlaps into one title but shows them differently like -- </li>
</ul>
<div class="codehilite"><pre><span></span>/g4/r59 and /g4/r63 overlap
    &lt;/g4/r59, /g4/r63&gt;: 13 overlaps detected, maximum depth is 0.000539005mm
    &lt;/g4/r63, /g4/r59&gt;: 3 overlaps detected, maximum depth is 0.000539005mm
/g4/r73 and /g4/r69 overlap
    &lt;/g4/r73, /g4/r69&gt;: 5 overlaps detected, maximum depth is 0.000539005mm
    &lt;/g4/r69, /g4/r73&gt;: 9 overlaps detected, maximum depth is 0.000539005mm
</pre></div>


<p>rtcheck prints the statistics at the end on how many overlaps it seen, how many are unique etc.<br>
It does not print the ihit or ohit point. Neither does it sort the overlaps in any order.</p>
<ul>
<li>glint - glint somehow compares the two regions like -- ( which I don't understand if it can be compared like that )</li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">create_overlap</span><span class="p">(</span><span class="k">struct</span> <span class="n">region</span> <span class="o">*</span><span class="n">r1</span><span class="p">,</span> <span class="k">struct</span> <span class="n">region</span> <span class="o">*</span><span class="n">r2</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">r1</span> <span class="o">&lt;</span> <span class="n">r2</span><span class="p">)</span> <span class="p">{</span>
       <span class="n">op</span><span class="o">-&gt;</span><span class="n">glo_r1</span> <span class="o">=</span> <span class="n">r1</span><span class="p">;</span>
       <span class="n">op</span><span class="o">-&gt;</span><span class="n">glo_r2</span> <span class="o">=</span> <span class="n">r2</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">r1</span> <span class="o">&gt;</span> <span class="n">r2</span><span class="p">)</span> <span class="p">{</span>
       <span class="n">op</span><span class="o">-&gt;</span><span class="n">glo_r1</span> <span class="o">=</span> <span class="n">r2</span><span class="p">;</span>
       <span class="n">op</span><span class="o">-&gt;</span><span class="n">glo_r2</span> <span class="o">=</span> <span class="n">r1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
       <span class="n">self</span> <span class="n">overlap</span>
    <span class="p">}</span>
</pre></div>


<p>So there is no case of A overlap B and B overlap A -- it all comes as either A overlap B or B overlap A based on the comparison.<br>
It does not seem to group the overlaps together instead reports them one by one, nor does it report the total count, which rtcheck does.<br>
It does display the ihit and ohit separately, plus there is an option to show the ray_origin (ray-&gt;r_pt). <br>
It can also sort the overlaps in the order of volume with -s option.  <br>
( sample output with -s and -o option enabled -- <a href="https://hastebin.com/voqezehuzu" target="_blank" title="https://hastebin.com/voqezehuzu">https://hastebin.com/voqezehuzu</a>)</p>
<ul>
<li>gqa -Ao - stands in between of glint and rtcheck -- it does not print the reverse pair separately but groups them into one pair. <br>
It also prints the ihit position. It does not print the overall statistics like the count. <br>
It does seem to insert the overlaps pair in a nice place by comparing the region names already in the overlaps list --</li>
</ul>
<div class="codehilite"><pre><span></span>    <span class="k">for</span> <span class="p">(</span><span class="n">BU_LIST_FOR</span> <span class="p">(</span><span class="n">rp</span><span class="p">,</span> <span class="n">region_pair</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">list</span><span class="o">-&gt;</span><span class="n">l</span><span class="p">))</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="n">bu_strcmp</span><span class="p">(</span><span class="n">rp</span><span class="o">-&gt;</span><span class="n">r</span><span class="p">.</span><span class="n">r1</span><span class="o">-&gt;</span><span class="n">reg_name</span><span class="p">,</span> <span class="n">r1</span><span class="o">-&gt;</span><span class="n">reg_name</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span>
           <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">BU_LIST_INSERT</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rp</span><span class="o">-&gt;</span><span class="n">l</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">rpair</span><span class="o">-&gt;</span><span class="n">l</span><span class="p">);</span>
</pre></div>



<a name="130897436"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130897436" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130897436">(Aug 04 2018 at 17:12)</a>:</h4>
<p>I did the documentation work related to check command and is now up on the repo :)</p>



<a name="130897535"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130897535" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130897535">(Aug 04 2018 at 17:14)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> wiki appears to be gone again :/ getting 404</p>



<a name="130898403"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130898403" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130898403">(Aug 04 2018 at 17:41)</a>:</h4>
<p>not really gone, only get 404 after I add something to my log entry.</p>



<a name="130898460"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130898460" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130898460">(Aug 04 2018 at 17:43)</a>:</h4>
<p>When I save the edit it opens this link - <a href="http://brlcad.org/wiki/User:Sharan.nyn/GSoC18/Log" target="_blank" title="http://brlcad.org/wiki/User:Sharan.nyn/GSoC18/Log">http://brlcad.org/wiki/User:Sharan.nyn/GSoC18/Log</a> which seems broken<br>
But this works - <a href="http://brlcad.org/w/index.php?title=User:Sharan.nyn/GSoC18/Log" target="_blank" title="http://brlcad.org/w/index.php?title=User:Sharan.nyn/GSoC18/Log">http://brlcad.org/w/index.php?title=User:Sharan.nyn/GSoC18/Log</a></p>



<a name="130906640"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130906640" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130906640">(Aug 04 2018 at 22:51)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span> wiki appears to be gone again :/ getting 404</p>
</blockquote>
<p>Thanks for reporting it <span class="user-mention" data-user-id="109608">@Saran Narayan</span> .. there's a web service that keeps overwriting the .htaccess which controls the wiki -- trying to find where  it's happening, but please just keep reporting when you notice (server is currently taken offline as a result)</p>



<a name="130936209"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130936209" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130936209">(Aug 05 2018 at 16:10)</a>:</h4>
<p>I was wondering on what to do with the <code>check_overlaps</code> command that lives in <em>libged/check_overlaps.c</em> because we have a better version of that command as a sub-command for <code>check</code> in <em>libged/check/check_overlaps.c</em>.</p>



<a name="130936324"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130936324" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130936324">(Aug 05 2018 at 16:14)</a>:</h4>
<p>I could remove it and replace everywhere else as <code>check overlaps</code> but check_overlaps was my first two weeks worth of work for this project. Though it helped me implement the check command very quickly because of the experience with callback functions :)</p>



<a name="130936348"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130936348" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130936348">(Aug 05 2018 at 16:15)</a>:</h4>
<p>but having two commands that essentially does the same is confusing and redundant.</p>



<a name="130936746"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130936746" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130936746">(Aug 05 2018 at 16:30)</a>:</h4>
<p>there is one more problem I found -- <code>check</code> command is blocking the calls to the checker tool that is called with <code>check [-F] [filename]</code>.<br>
Renaming and updating the documentation related to checker tool should do the trick. I was thinking something like <em>geom_checker</em> or <em>checker_tool</em>.</p>



<a name="130936763"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130936763" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130936763">(Aug 05 2018 at 16:31)</a>:</h4>
<p>updating the documentation reminds me, I have to document the newly added overlaps_tool command as well! should I append this to the existing <em>doc/docbook/articles/en/overlap_tool.xml</em> ?</p>



<a name="130936803"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130936803" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130936803">(Aug 05 2018 at 16:32)</a>:</h4>
<p>Should I remove all the mentioning of the <a href="http://check.sh" target="_blank" title="http://check.sh">check.sh</a> script in the overlap_tool.xml file since there is UI replacement for it now :)</p>



<a name="130976913"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130976913" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130976913">(Aug 06 2018 at 12:57)</a>:</h4>
<p>(deleted)</p>



<a name="130977245"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130977245" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130977245">(Aug 06 2018 at 13:04)</a>:</h4>
<p>sorry for the duplicate messages. Zulip on phone is buggy <span class="emoji emoji-1f605" title="sweat smile">:sweat_smile:</span></p>



<a name="130983220"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130983220" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaipal Singh <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130983220">(Aug 06 2018 at 14:48)</a>:</h4>
<blockquote>
<p>sorry for the duplicate messages. Zulip on phone is buggy <span class="emoji emoji-1f605" title="sweat smile">:sweat_smile:</span></p>
</blockquote>
<p>SO buggy!</p>



<a name="130987650"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130987650" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130987650">(Aug 06 2018 at 16:02)</a>:</h4>
<blockquote>
<p>I could remove it and replace everywhere else as <code>check overlaps</code> but check_overlaps was my first two weeks worth of work for this project. Though it helped me implement the check command very quickly because of the experience with callback functions :)</p>
</blockquote>
<p>It's a hard thing to learn, but it's good to learn to write code and throw it away.  There's actually a rather respected software development method where you write code, delete it, and write it again.  You invariably end up with considerably better code the second time around.</p>



<a name="130987665"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130987665" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130987665">(Aug 06 2018 at 16:02)</a>:</h4>
<blockquote>
<p>but having two commands that essentially does the same is confusing and redundant.</p>
</blockquote>
<p>This is the most important consideration.  Only one should be kept.</p>



<a name="130987707"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130987707" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130987707">(Aug 06 2018 at 16:03)</a>:</h4>
<blockquote>
<p>there is one more problem I found -- <code>check</code> command is blocking the calls to the checker tool that is called with <code>check [-F] [filename]</code>.<br>
Renaming and updating the documentation related to checker tool should do the trick. I was thinking something like <em>geom_checker</em> or <em>checker_tool</em>.</p>
</blockquote>
<p>We don't need ... more options.  We need consolidation into fewer options.</p>



<a name="130987781"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130987781" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130987781">(Aug 06 2018 at 16:04)</a>:</h4>
<p>the script can go away if everything it did is now covered by other commands.</p>



<a name="130987958"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130987958" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130987958">(Aug 06 2018 at 16:07)</a>:</h4>
<blockquote>
<blockquote>
<p>but having two commands that essentially does the same is confusing and redundant.</p>
</blockquote>
<p>This is the most important consideration.  Only one should be kept.</p>
</blockquote>
<p>okay cool. I am on it. Will remove the older check_overlaps now</p>



<a name="130988048"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130988048" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130988048">(Aug 06 2018 at 16:09)</a>:</h4>
<blockquote>
<blockquote>
<p>there is one more problem I found -- <code>check</code> command is blocking the calls to the checker tool that is called with <code>check [-F] [filename]</code>.<br>
Renaming and updating the documentation related to checker tool should do the trick. I was thinking something like <em>geom_checker</em> or <em>checker_tool</em>.</p>
</blockquote>
<p>We don't need ... more options.  We need consolidation into fewer options.</p>
</blockquote>
<p>you misinterpreted me. The checker tool that lives in src/tclscripts/checker/check.tcl has the public proc and entry point named as check. So when I added the libged check command, the checker tool is not working so it needs to be renamed to something else</p>



<a name="130988142"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130988142" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130988142">(Aug 06 2018 at 16:10)</a>:</h4>
<p>you misinterpret my response.  the checker tool entry point is no longer needed if it's provided for elsewhere ;)</p>



<a name="130988159"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130988159" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130988159">(Aug 06 2018 at 16:11)</a>:</h4>
<p>ah that works too :)</p>



<a name="130988455"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130988455" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130988455">(Aug 06 2018 at 16:17)</a>:</h4>
<p>umm one quick question.. the check command does not have a -s option to set the size like check_overlaps did.. So the menu options 50x50, 100x100, 256x256 and 512x512 cannot be used with <em>check</em> overlaps.<br>
Any suggestions on the menu option? would something like grid-spacing work? maybe 50mm, 25mm,10mm and 1mm?</p>



<a name="130991401"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130991401" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130991401">(Aug 06 2018 at 17:10)</a>:</h4>
<p>I committed like that for now..</p>



<a name="130995068"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130995068" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130995068">(Aug 06 2018 at 18:12)</a>:</h4>
<p>er, so you can set the grid cell size but not the grid size??  why not just migrate that code from check_overlaps/rtcheck?</p>



<a name="130995084"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130995084" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130995084">(Aug 06 2018 at 18:13)</a>:</h4>
<p>infer the grid spacing</p>



<a name="130995225"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130995225" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130995225">(Aug 06 2018 at 18:15)</a>:</h4>
<p>okay will do that <span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="130995406"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130995406" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130995406">(Aug 06 2018 at 18:18)</a>:</h4>
<p>right now this is how the grid size is set -- </p>
<div class="codehilite"><pre><span></span>    <span class="n">width</span> <span class="o">=</span> <span class="n">state</span><span class="o">-&gt;</span><span class="n">viewsize</span><span class="o">/</span><span class="n">cell_width</span> <span class="o">+</span> <span class="mf">0.99</span><span class="p">;</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">state</span><span class="o">-&gt;</span><span class="n">viewsize</span><span class="o">/</span><span class="p">(</span><span class="n">cell_height</span> <span class="o">*</span> <span class="n">state</span><span class="o">-&gt;</span><span class="n">aspect</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.99</span><span class="p">;</span>
</pre></div>



<a name="130995420"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130995420" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130995420">(Aug 06 2018 at 18:19)</a>:</h4>
<p>will add a public function to explicitly mention the grid size and calculate the grid cell size from it like rtcheck does</p>



<a name="130998722"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/130998722" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#130998722">(Aug 06 2018 at 19:20)</a>:</h4>
<p>okay it is done and is up, now making the respective changes to the documentation and archer</p>



<a name="131001770"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131001770" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131001770">(Aug 06 2018 at 20:17)</a>:</h4>
<p>humm I am seeing this error whenever I quit from <code>mged -c</code> with <code>q</code> -- <a href="https://hastebin.com/raw/ikohuvurey" target="_blank" title="https://hastebin.com/raw/ikohuvurey">https://hastebin.com/raw/ikohuvurey</a><br>
happens only when there is a database loaded</p>



<a name="131004817"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131004817" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cezar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131004817">(Aug 06 2018 at 21:18)</a>:</h4>
<p>my fault, i’ll fix it soon</p>



<a name="131005499"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131005499" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cezar <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131005499">(Aug 06 2018 at 21:35)</a>:</h4>
<p>i think it should be fixed now</p>



<a name="131045997"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131045997" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131045997">(Aug 07 2018 at 13:59)</a>:</h4>
<p>yep that is solved :)</p>



<a name="131047570"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131047570" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131047570">(Aug 07 2018 at 14:27)</a>:</h4>
<blockquote>
<p>you misinterpret my response.  the checker tool entry point is no longer needed if it's provided for elsewhere ;)</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span> I did it like this : <a href="https://hastebin.com/colebuwunu" target="_blank" title="https://hastebin.com/colebuwunu">https://hastebin.com/colebuwunu</a><br>
Were you expecting something like this? or is there any other way?</p>



<a name="131048325"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131048325" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131048325">(Aug 07 2018 at 14:41)</a>:</h4>
<p>removing check from check.tcl will break the <em>src/tclscripts/checker/test_checker.tcl</em>.</p>



<a name="131118526"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131118526" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131118526">(Aug 08 2018 at 16:28)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> I have attempted to make gqa's base as libanalyze/api.c -- <a href="/user_uploads/1549/FUI7YLK0oq2aOcOEUG5FAepV/gqa.c" target="_blank" title="gqa.c">gqa.c</a></p>



<a name="131118670"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131118670" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131118670">(Aug 08 2018 at 16:31)</a>:</h4>
<p>I was looking for ways to collect all the work I have done (commits and patches) into one big patch so that I can submit for final evaluation. Any tips on how to do that?</p>



<a name="131119464"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131119464" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131119464">(Aug 08 2018 at 16:47)</a>:</h4>
<blockquote>
<p>I was looking for ways to collect all the work I have done (commits and patches) into one big patch so that I can submit for final evaluation. Any tips on how to do that?</p>
</blockquote>
<p>Hmm, Google recommends a blog post (I would recommend to do this somewhere below <a href="https://brlcad.org/wiki/User:Sharan.nyn" target="_blank" title="https://brlcad.org/wiki/User:Sharan.nyn">https://brlcad.org/wiki/User:Sharan.nyn</a>) with links to the commits you made. I.e. you could link there to your development log page which contains all the links to your commits. You could there include my commits of your patches too.</p>
<p>In addition, you could attach a separate zip or tar file with the most relevant files which you worked on almost exclusively (rtcheck, linged's check command, etc.) to your blog post.</p>



<a name="131119662"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131119662" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131119662">(Aug 08 2018 at 16:51)</a>:</h4>
<blockquote>
<p>Hmm, Google recommends a blog post (I would recommend to do this somewhere below <a href="https://brlcad.org/wiki/User:Sharan.nyn" target="_blank" title="https://brlcad.org/wiki/User:Sharan.nyn">https://brlcad.org/wiki/User:Sharan.nyn</a>) with links to the commits you made. I.e. you could link there to your development log page which contains all the links to your commits. You could there include my commits of your patches too.</p>
</blockquote>
<p>yeah that sounds good.  I am already keeping track of my commits on my log page, I will add more details. </p>
<blockquote>
<p>In addition, you could attach a separate zip or tar file with the most relevant files which you worked on almost exclusively (rtcheck, linged's check command, etc.) to your blog post.</p>
</blockquote>
<p>This also is a good idea.<br>
Thanks for the tips :)</p>



<a name="131119865"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131119865" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131119865">(Aug 08 2018 at 16:55)</a>:</h4>
<p>I believe now what remains to do is -- documenting the overlaps_tool.</p>



<a name="131120301"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131120301" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131120301">(Aug 08 2018 at 17:04)</a>:</h4>
<blockquote>
<p>Hey <span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> I have attempted to make gqa's base as libanalyze/api.c -- <a href="/user_uploads/1549/FUI7YLK0oq2aOcOEUG5FAepV/gqa.c" target="_blank" title="gqa.c">gqa.c</a></p>
</blockquote>
<p>:) You file is much smaller then the current one. And, it's desirable to use the libanalyze methods wherever possible.<br>
How does your implementation behave compered to the old one?</p>



<a name="131120393"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131120393" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131120393">(Aug 08 2018 at 17:06)</a>:</h4>
<p>works almost fully like old gqa</p>



<a name="131120409"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131120409" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131120409">(Aug 08 2018 at 17:06)</a>:</h4>
<p>In the testings I did the order of the outputs does not match like the -- overlap messages</p>



<a name="131120421"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131120421" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131120421">(Aug 08 2018 at 17:07)</a>:</h4>
<p>in new implementation it gets printed by bu_log</p>



<a name="131120427"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131120427" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131120427">(Aug 08 2018 at 17:07)</a>:</h4>
<p>but old gqa did it with gedp-&gt;result str</p>



<a name="131120438"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131120438" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131120438">(Aug 08 2018 at 17:07)</a>:</h4>
<p>one more difference is related to overlaps list</p>



<a name="131120499"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131120499" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131120499">(Aug 08 2018 at 17:08)</a>:</h4>
<p>Sean had asked me to not keep the stopping of grid refinement like when -g50,2 is mentioned then it should run full till 2mm and then report overlaps</p>



<a name="131120833"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131120833" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131120833">(Aug 08 2018 at 17:14)</a>:</h4>
<p>to sum up the order of printing information can be different and some features related to stopping of grid refinement may not work</p>



<a name="131120873"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131120873" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131120873">(Aug 08 2018 at 17:15)</a>:</h4>
<p>but the required information like the values are same as the old gqa :)</p>



<a name="131121051"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131121051" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131121051">(Aug 08 2018 at 17:18)</a>:</h4>
<blockquote>
<p>in new implementation it gets printed by bu_log</p>
</blockquote>
<p>??? Shouldn't the result text be written to ged_result_str?</p>



<a name="131121066"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131121066" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131121066">(Aug 08 2018 at 17:19)</a>:</h4>
<p>oh not that, the result str i.e the list of overlaps <em>when -Ao</em> is chosen is printed fine</p>



<a name="131121070"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131121070" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131121070">(Aug 08 2018 at 17:20)</a>:</h4>
<blockquote>
<p>to sum up the order of printing information can be different and some features related to stopping of grid refinement may not work</p>
<p>but the required information like the values are same as the old gqa :)</p>
</blockquote>
<p>This sounds good :)</p>



<a name="131121129"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131121129" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131121129">(Aug 08 2018 at 17:20)</a>:</h4>
<p>but when other analysis options like -Av is selected and there are overlaps in the geometry they are printed in one line without much info</p>



<a name="131121234"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131121234" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131121234">(Aug 08 2018 at 17:23)</a>:</h4>
<p><a href="https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/libged/gqa.c#l903" target="_blank" title="https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/libged/gqa.c#l903">https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/libged/gqa.c#l903</a></p>



<a name="131121237"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131121237" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131121237">(Aug 08 2018 at 17:23)</a>:</h4>
<p>this line of code</p>



<a name="131121288"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131121288" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131121288">(Aug 08 2018 at 17:24)</a>:</h4>
<p>since it is done in overlap routine which is handled in api.c I can print it with bu_log</p>



<a name="131121327"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131121327" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131121327">(Aug 08 2018 at 17:25)</a>:</h4>
<p><a href="https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/libanalyze/api.c#l479" target="_blank" title="https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/libanalyze/api.c#l479">https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/libanalyze/api.c#l479</a> in api.c</p>



<a name="131121377"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131121377" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131121377">(Aug 08 2018 at 17:26)</a>:</h4>
<p>here is where I print it in main thread -- <a href="https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/libanalyze/api.c#l1415" target="_blank" title="https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/libanalyze/api.c#l1415">https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/libanalyze/api.c#l1415</a></p>



<a name="131121832"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131121832" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131121832">(Aug 08 2018 at 17:34)</a>:</h4>
<p>Well, for me it's OK to handle them this way. The overlaps are only of additional information here.</p>



<a name="131121872"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131121872" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131121872">(Aug 08 2018 at 17:35)</a>:</h4>
<p>yep! according to man page if such messages are print then the values reported in analysis must be discarded as they can be inaccurate.</p>



<a name="131122057"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131122057" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131122057">(Aug 08 2018 at 17:39)</a>:</h4>
<blockquote>
<p>I had started to work on rtcheck and using the backend as libanalyze. I had the old file which I worked on analyze_overlaps function. Here is my progress: I tested the basics and it worked. <a href="/user_uploads/1549/CKqg91Wh18qaq1ap9Pq6cQYo/rtcheck.c" target="_blank" title="rtcheck.c">rtcheck.c</a> <br>
All the libanalyze functions happen in <em>rtcheck_do_frame(..)</em></p>
</blockquote>
<p>here is rtcheck I messaged this on aug 2 -- this works pretty good for havoc.g</p>



<a name="131122160"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131122160" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131122160">(Aug 08 2018 at 17:40)</a>:</h4>
<p>I had done some more changes to the file locally, but there is a power cut here so I cannot access my PC to get that file :/</p>



<a name="131122564"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131122564" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131122564">(Aug 08 2018 at 17:48)</a>:</h4>
<blockquote>
<p>I had done some more changes to the file locally, but there is a power cut here so I cannot access my PC to get that file :/</p>
</blockquote>
<p>Maybe, you should call it a day?</p>



<a name="131122733"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131122733" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131122733">(Aug 08 2018 at 17:50)</a>:</h4>
<p>to keep the functionality of the -M commands had to keep the rtip. Plus there are commands that set the viewsize, eye model etc. Hence instead of passing of the AE angle and using the setup ae on libanalyze side I kept the setup AE on rt side and passed the information with a function that sets the viewsize, eye model and orientation matrix</p>



<a name="131122780"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131122780" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131122780">(Aug 08 2018 at 17:51)</a>:</h4>
<p>This sounds reasonable.</p>



<a name="131122876"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131122876" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131122876">(Aug 08 2018 at 17:52)</a>:</h4>
<blockquote>
<blockquote>
<p>I had done some more changes to the file locally, but there is a power cut here so I cannot access my PC to get that file :/</p>
</blockquote>
<p>Maybe, you should call it a day?</p>
</blockquote>
<p>yep :D alright then will get back to you</p>



<a name="131153351"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131153351" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131153351">(Aug 09 2018 at 06:20)</a>:</h4>
<blockquote>
<blockquote>
<p>you misinterpret my response.  the checker tool entry point is no longer needed if it's provided for elsewhere ;)</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span> I did it like this : <a href="https://hastebin.com/colebuwunu" target="_blank" title="https://hastebin.com/colebuwunu">https://hastebin.com/colebuwunu</a><br>
Were you expecting something like this? or is there any other way?</p>
</blockquote>
<p>something like that, yes, maybe even a way to kick off the gui still from the command-line but from the new tool and only when tk is available?</p>



<a name="131153939"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131153939" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131153939">(Aug 09 2018 at 06:39)</a>:</h4>
<blockquote>
<p>Sean had asked me to not keep the stopping of grid refinement like when -g50,2 is mentioned then it should run full till 2mm and then report overlaps</p>
</blockquote>
<p>yes, gqa is stupid in this regard -- it will halt at 50 if it finds overlaps.  it only refines if it finds none which means if you want to guarantee overlaps down to Xmm (which is the common case), you need to run it over and over or specify differently -g2,2;  ideally, it would be better if it displayed overlaps incrementally and interruptibly for a specification like 50,2</p>



<a name="131184955"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131184955" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131184955">(Aug 09 2018 at 17:02)</a>:</h4>
<blockquote>
<blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span> I did it like this : <a href="https://hastebin.com/colebuwunu" target="_blank" title="https://hastebin.com/colebuwunu">https://hastebin.com/colebuwunu</a><br>
Were you expecting something like this? or is there any other way?</p>
</blockquote>
<p>something like that, yes, maybe even a way to kick off the gui still from the command-line but from the new tool and only when tk is available?</p>
</blockquote>
<p>okay I committed it, To run the gui directly I had the usage like <code>overlaps_tool [-F] file.overlaps</code>.<br>
I tried to find out way to execute it only tk is available. I ran into the winset command which returns a pathname of the mged window. If I keep $parent as the output from winset command, then it would throw an error when tk is not available (ran mged -c in nu mode).</p>



<a name="131185780"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131185780" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131185780">(Aug 09 2018 at 17:18)</a>:</h4>
<p>humm also the global variable mged_players only exists when tk is available (?)</p>



<a name="131187088"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131187088" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131187088">(Aug 09 2018 at 17:44)</a>:</h4>
<blockquote>
<p>I had done some more changes to the file locally, but there is a power cut here so I cannot access my PC to get that file :/</p>
</blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> the only change I did was add the <code>analyze_set_ncpu(state, npsw)</code> because -P option was not working without</p>



<a name="131189032"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131189032" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131189032">(Aug 09 2018 at 18:20)</a>:</h4>
<p>I don’t recall what the best mechanism is for determining whether there’s a GUI, but I do know there are a few places in the code that do that ( maybe search on ‘catch’ ).</p>



<a name="131222449"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131222449" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131222449">(Aug 10 2018 at 07:46)</a>:</h4>
<p>hmm could not find anything with catch</p>



<a name="131222460"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131222460" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131222460">(Aug 10 2018 at 07:46)</a>:</h4>
<p>but this seems to be what we are looking for ? <a href="https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/tclscripts/mged/overlap.tcl#l492" target="_blank" title="https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/tclscripts/mged/overlap.tcl#l492">https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/tclscripts/mged/overlap.tcl#l492</a></p>



<a name="131237077"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131237077" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131237077">(Aug 10 2018 at 13:26)</a>:</h4>
<p>I added the report for the project here - <a href="https://brlcad.org/wiki/User:Sharan.nyn/GSoC18/Report" target="_blank" title="https://brlcad.org/wiki/User:Sharan.nyn/GSoC18/Report">https://brlcad.org/wiki/User:Sharan.nyn/GSoC18/Report</a></p>



<a name="131237091"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131237091" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131237091">(Aug 10 2018 at 13:27)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I still have to add the files which I worked on excursively, where should I upload them ?</p>



<a name="131237918"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131237918" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131237918">(Aug 10 2018 at 13:44)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I still have to add the files which I worked on excursively, where should I upload them ?</p>
</blockquote>
<p>Can you attach the zip or tar file to your report at <a href="https://brlcad.org/wiki/User:Sharan.nyn/GSoC18/Report" target="_blank" title="https://brlcad.org/wiki/User:Sharan.nyn/GSoC18/Report">https://brlcad.org/wiki/User:Sharan.nyn/GSoC18/Report</a> similar to the Overlaps_tool_final.png image?</p>



<a name="131834400"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131834400" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131834400">(Aug 10 2018 at 16:47)</a>:</h4>
<p>okay will do</p>



<a name="131834450"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131834450" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131834450">(Aug 10 2018 at 16:48)</a>:</h4>
<p>should I submit the rtcheck and gqa as patches ?</p>



<a name="131834795"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131834795" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131834795">(Aug 10 2018 at 16:56)</a>:</h4>
<blockquote>
<p>should I submit the rtcheck and gqa as patches ?</p>
</blockquote>
<p>In my opinion you could submit them but <span class="user-mention" data-user-id="102902">@Sean</span> knows more about the people who are actually using these tools and how they are influenced by the changes.</p>



<a name="131834878"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131834878" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131834878">(Aug 10 2018 at 16:58)</a>:</h4>
<p>hmm yeah, that is why I did not commit them. :)<br>
Or maybe I will just include them as tar in my report?</p>



<a name="131835105"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131835105" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131835105">(Aug 10 2018 at 17:03)</a>:</h4>
<p>hmm <code>".gz" is not a permitted file type. Permitted file types are png, jpg, jpeg, svn, gif, svg, pdf.</code></p>



<a name="131835111"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131835111" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131835111">(Aug 10 2018 at 17:03)</a>:</h4>
<p>on wiki</p>



<a name="131835158"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131835158" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131835158">(Aug 10 2018 at 17:04)</a>:</h4>
<p>You can always include them in the tarball. It's a result of you GSoC work. There is only a little question if it can be used in the official distribution.</p>



<a name="131835384"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131835384" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131835384">(Aug 10 2018 at 17:09)</a>:</h4>
<blockquote>
<p>hmm <code>".gz" is not a permitted file type. Permitted file types are png, jpg, jpeg, svn, gif, svg, pdf.</code></p>
</blockquote>
<p><span class="emoji emoji-1f914" title="thinking">:thinking:</span> Do you have access to another server where you can upload the tarball and include a link to it in your report?</p>



<a name="131835585"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131835585" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131835585">(Aug 10 2018 at 17:13)</a>:</h4>
<p>no, I don't have access to any other servers :/. I can upload it google drive.</p>



<a name="131835830"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131835830" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131835830">(Aug 10 2018 at 17:18)</a>:</h4>
<p>Yes, creating a public folder in Google Drive is among the Good Examples in Google's guidelines.</p>



<a name="131835861"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131835861" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131835861">(Aug 10 2018 at 17:19)</a>:</h4>
<p>okay :) that would be perfect.</p>



<a name="131836233"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131836233" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131836233">(Aug 10 2018 at 17:27)</a>:</h4>
<p>done!</p>



<a name="131988536"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131988536" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131988536">(Aug 12 2018 at 08:35)</a>:</h4>
<p>just completed the documentation work related to overlaps tool</p>



<a name="131988580"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/131988580" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#131988580">(Aug 12 2018 at 08:36)</a>:</h4>
<p>added some screenshots</p>



<a name="132005606"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132005606" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132005606">(Aug 12 2018 at 17:50)</a>:</h4>
<p>Nice Report :)</p>



<a name="132005616"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132005616" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132005616">(Aug 12 2018 at 17:51)</a>:</h4>
<p>thanks</p>



<a name="132005618"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132005618" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132005618">(Aug 12 2018 at 17:51)</a>:</h4>
<p>That's strange: Calling <code>check overlaps</code> makes my laptop sound like an old floppy disk. It has an SSD.</p>



<a name="132005723"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132005723" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132005723">(Aug 12 2018 at 17:54)</a>:</h4>
<p>I didn't get you</p>



<a name="132005927"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132005927" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132005927">(Aug 12 2018 at 18:00)</a>:</h4>
<p>My laptop starts making noise which reminds me on a floppy disk drive. I've no explanation for it. Beside the fan the computer shouldn't have moving parts.<br>
Maybe a side effect on the audio subsystem caused by an unusual CPU load? (no idea)</p>



<a name="132005987"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132005987" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132005987">(Aug 12 2018 at 18:02)</a>:</h4>
<p>That's strange indeed :D</p>



<a name="132006066"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132006066" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132006066">(Aug 12 2018 at 18:04)</a>:</h4>
<p>Nothing what should bother you <span class="emoji emoji-1f609" title="wink">:wink:</span></p>



<a name="132064405"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132064405" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132064405">(Aug 13 2018 at 18:41)</a>:</h4>
<blockquote>
<p>added some screenshots</p>
</blockquote>
<p>awesome!  i wonder if there's a way we could take advantage of your animated gifs ... thoughts?  maybe a gif that works as a screenshot but then is animated when viewed / embedded in html browser form.</p>



<a name="132064603"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132064603" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132064603">(Aug 13 2018 at 18:44)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> I think check_overlaps is still registered somewhere?  there was a "make test" failure on the 'regress-mged' test that mentions it.</p>



<a name="132109014"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132109014" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132109014">(Aug 14 2018 at 12:59)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> I think check_overlaps is still registered somewhere?  there was a "make test" failure on the 'regress-mged' test that mentions it.</p>
</blockquote>
<p>hmm it seems to be working for me.. Output of <code>make test</code> : <a href="https://hastebin.com/fiwemofawe" target="_blank" title="https://hastebin.com/fiwemofawe">https://hastebin.com/fiwemofawe</a></p>



<a name="132110484"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132110484" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132110484">(Aug 14 2018 at 13:23)</a>:</h4>
<blockquote>
<blockquote>
<p>added some screenshots</p>
</blockquote>
<p>awesome!  i wonder if there's a way we could take advantage of your animated gifs ... thoughts?  maybe a gif that works as a screenshot but then is animated when viewed / embedded in html browser form.</p>
</blockquote>
<p>That sounds like a good idea ;)<br>
I replaced the second image with the GIF file and it animates when I open the HTML file in chrome. <br>
But I didn't get the idea of it working as a screenshot <span class="emoji emoji-1f914" title="thinking">:thinking:</span>, Are there any other ways these documentation files are viewed ?</p>



<a name="132188093"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132188093" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132188093">(Aug 15 2018 at 17:39)</a>:</h4>
<blockquote>
<blockquote>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> I think check_overlaps is still registered somewhere?  there was a "make test" failure on the 'regress-mged' test that mentions it.</p>
</blockquote>
<p>hmm it seems to be working for me.. Output of <code>make test</code> : <a href="https://hastebin.com/fiwemofawe" target="_blank" title="https://hastebin.com/fiwemofawe">https://hastebin.com/fiwemofawe</a></p>
</blockquote>
<p>hum, maybe an out-of-date tclIndex or something on my end.  I'll retry with a fresh build.  thanks for checking <span class="user-mention" data-user-id="109608">@Saran Narayan</span></p>



<a name="132188219"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132188219" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132188219">(Aug 15 2018 at 17:41)</a>:</h4>
<blockquote>
<p>I replaced the second image with the GIF file and it animates when I open the HTML file in chrome. </p>
</blockquote>
<p>Cool.</p>
<blockquote>
<p>But I didn't get the idea of it working as a screenshot <span class="emoji emoji-1f914" title="thinking">:thinking:</span>, Are there any other ways these documentation files are viewed ?</p>
</blockquote>
<p>Yes, some of the docs are viewable in the documentation browser (which I think you have to run from archer to get the full interface).  it has an embedded html browser, but it's very simple</p>



<a name="132309676"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132309676" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132309676">(Aug 17 2018 at 15:35)</a>:</h4>
<p>I added the entry in the toc.html file and viewed it from archer's doc browser. It worked as an image in the documentation browser but works as a GIF in chrome when the html file is opened directly.</p>



<a name="132309677"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132309677" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132309677">(Aug 17 2018 at 15:35)</a>:</h4>
<p>I committed the changes</p>



<a name="132309848"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132309848" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132309848">(Aug 17 2018 at 15:38)</a>:</h4>
<p>having difficulties with internet connectivity and power due to floods in my state, I will be back after everything is normal here :)</p>



<a name="132356201"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132356201" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132356201">(Aug 18 2018 at 11:14)</a>:</h4>
<p>PNG didn't work in chrome?  That doesn't sound right...</p>



<a name="132366450"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132366450" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132366450">(Aug 18 2018 at 16:10)</a>:</h4>
<p>The other way round: They say GIF isn't working in BRL-CAD's documentation browsers.</p>



<a name="132435514"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132435514" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saran Narayan <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132435514">(Aug 20 2018 at 05:46)</a>:</h4>
<p>GIF works but it does not animate, looks still like a image</p>



<a name="132512631"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/111975-Google%20Summer%20of%20Code/topic/Overlap%20Tool/near/132512631" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/111975-Google-Summer-of-Code/topic/Overlap.20Tool.html#132512631">(Aug 21 2018 at 11:47)</a>:</h4>
<p><span class="user-mention" data-user-id="109608">@Saran Narayan</span> GIF won't work in the native Tcl/Tk help browser (or at least, I wouldn't expect it to).</p>



<hr><p>Last updated: Oct 03 2025 at 00:49 UTC</p>
</html>