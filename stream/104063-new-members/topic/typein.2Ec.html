<html>
<head><meta charset="utf-8"><title>typein.c · new members · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html">typein.c</a></h3>

<hr>

<base href="https://brlcad.zulipchat.com">

<head><link href="https://brl-cad.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="228361164"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228361164" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228361164">(Mar 02 2021 at 06:39)</a>:</h4>
<p>Hi,</p>
<p>Is the  " TODO : Add support for line, curve, beizer, "  on line no.630  of src/libged/typein/typein.c  a requirement as of now?<br>
  Any reference or tips to attempt it?</p>



<a name="228361350"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228361350" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228361350">(Mar 02 2021 at 06:41)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="372337">@Debkamal Mullick</span> depends what you mean by requirement.  It is desired functionality, yes.  The best tip would be to study that file to understand what it's doing, how it defines inputs for different object types, and then understand that specific object type (which I assume is the sketch primitive), and then implement it</p>



<a name="228361453"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228361453" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228361453">(Mar 02 2021 at 06:42)</a>:</h4>
<p>This might help: <a href="https://brlcad.org/wiki/Sketch">https://brlcad.org/wiki/Sketch</a></p>



<a name="228361640"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228361640" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228361640">(Mar 02 2021 at 06:44)</a>:</h4>
<p>okay. I am studying the typein.c file</p>



<a name="228423682"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228423682" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228423682">(Mar 02 2021 at 15:01)</a>:</h4>
<p>Thank you for the previous explanation. I had a query about what the declarations ending with "_t" (eg, fastf_t, vect_t, size_t ) are. These declarations are in several parts of the codebase.</p>



<a name="228424786"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228424786" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228424786">(Mar 02 2021 at 15:07)</a>:</h4>
<p><span class="user-mention" data-user-id="372337">@Debkamal Mullick</span> nearly all types are in the top-level include/ directory or a subdirectory in there.  If you search in those folders with typedef, you can find them easily.  for example, fastf_t and vect_t are both in include/vmath.h</p>



<a name="228424866"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228424866" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228424866">(Mar 02 2021 at 15:07)</a>:</h4>
<p>fastf_t is basically a double (usually), and vect_t is a double[4] (usually)</p>



<a name="228425978"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228425978" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228425978">(Mar 02 2021 at 15:13)</a>:</h4>
<p>ok thanks</p>



<a name="228540469"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228540469" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228540469">(Mar 03 2021 at 05:44)</a>:</h4>
<p>any progress <span class="user-mention" data-user-id="372337">@Debkamal Mullick</span> ?</p>



<a name="228541210"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228541210" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228541210">(Mar 03 2021 at 05:54)</a>:</h4>
<p>I have understood the structure but I cannot understand the values assigned to the variable "nvals" for different primitives</p>



<a name="228542944"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228542944" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228542944">(Mar 03 2021 at 06:18)</a>:</h4>
<p>From what I understood, I will need to add </p>
<p>1) static const char *p_sketch[ ] ={ </p>
<p>/* list of instructions for inserting sketch primitive*/</p>
<p>}</p>
<p>2) static int sketch_in(struct ged *gedp, const char **cmd_argvs, struct rt_db_internal *intern){</p>
<p>/* code for taking the input parameters for the sketch primitive*/</p>
<p>}</p>
<p>And finally in the " int ged_in_core(struct ged *gedp, int argc, const char *argv[ ]){...} ", I need to add the if else condition for sketch primitive</p>



<a name="228553792"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228553792" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228553792">(Mar 03 2021 at 08:25)</a>:</h4>
<hr>
<p>Do the "nvals" control the mged input prompt messages?</p>



<a name="228728796"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228728796" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228728796">(Mar 04 2021 at 07:32)</a>:</h4>
<p><span class="user-mention" data-user-id="372337">@Debkamal Mullick</span> They're different for every primitive, but it might help to start with one of the simplest ones like "sph" which makes a sphere.</p>



<a name="228728880"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228728880" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228728880">(Mar 04 2021 at 07:33)</a>:</h4>
<p>but yes, the sort of control the input prompt.  It tells it how many "instructions" as you put it there are, if memory serves correctly.</p>



<a name="228729049"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228729049" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228729049">(Mar 04 2021 at 07:35)</a>:</h4>
<p>Your understanding in general looks about correct though.  Make sure you actually run the "in" command in mged to see how it works.  That will explain a lot.  Just type "in whatever" to get started, then "in whatever sph" and you'll see how it starts asking the p_sph prompts.</p>



<a name="228732135"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228732135" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228732135">(Mar 04 2021 at 08:12)</a>:</h4>
<p>Ok. With reference to the Sketch wiki page, will the sketch prompt be a 2 line prompt asking for <br>
1) V, A, B<br>
2) The entire code containing VL, SL, line, carc<br>
3) Sketch created</p>
<p>Or will it be a complex one with prompts for VL, SL with a loop?</p>



<a name="228733139"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228733139" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228733139">(Mar 04 2021 at 08:20)</a>:</h4>
<p>Thank you. I will try and understand the code for sphere primitive</p>



<a name="228805365"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228805365" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228805365">(Mar 04 2021 at 16:34)</a>:</h4>
<p><span class="user-mention" data-user-id="372337">@Debkamal Mullick</span> it can be whatever you want it to be.  It doesn't exist yet, so there's a design component here.  The only limitation is that the end result needs to be deterministic.  What I mean by that is say you have some data being provided that can be any length, like the VL vertex lists.  You'll either need to have them be specified with a count, eg.:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>in {name} {type} {entity} {count} {data}
</code></pre></div>
<p>like this:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>in foo sketch VL 5 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3
</code></pre></div>
<p>where we say we're going to read 5 vertices.</p>
<p>OR</p>
<p>you let them be specified with labels one at a time and you aggregate internally, eg.:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>in {name} {type} {entity} {data}
</code></pre></div>
<p>like this:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>in foo sketch VL 1 2 3 VL 1 2 3 VL 1 2 3 VL 1 2 3 VL 1 2 3
</code></pre></div>



<a name="228805617"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228805617" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228805617">(Mar 04 2021 at 16:36)</a>:</h4>
<p>The first is obviously more brief but potentially error-prone and requires calculating a value that may not exist (the count) but is derivable.  The second is more verbose, but is more trivial &amp; easy for users to adapt from existing data so that approach would probably be my preference.</p>



<a name="228811209"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228811209" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228811209">(Mar 04 2021 at 17:07)</a>:</h4>
<p>Actually, it would be best if I knew what mged prompts should be there, that would be conforming to BRL-CAD standard formats. Basically the contents of p_sketch[ ]. </p>
<p>For the code, can I refer to the line number 683 of : </p>
<p><a href="https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/libged/make/make.c">https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/src/libged/make/make.c</a></p>



<a name="228812456"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228812456" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228812456">(Mar 04 2021 at 17:13)</a>:</h4>
<p>There is no standard format.  It's different for every entity type.</p>



<a name="228812608"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228812608" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228812608">(Mar 04 2021 at 17:14)</a>:</h4>
<p>Figuring out how to prompt it is essentially the task, or at least a useful task.  If you want, write up your thoughts on the wiki page and we can iterate on the design...</p>



<a name="228813586"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228813586" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228813586">(Mar 04 2021 at 17:20)</a>:</h4>
<p>Oh. Ok</p>



<a name="228818356"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228818356" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228818356">(Mar 04 2021 at 17:48)</a>:</h4>
<p>Will beziers be also included in sketch other than line &amp; carc?</p>



<a name="228885670"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228885670" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228885670">(Mar 05 2021 at 02:12)</a>:</h4>
<p>Of course, they're a valid segment type.</p>



<a name="228885836"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228885836" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228885836">(Mar 05 2021 at 02:14)</a>:</h4>
<p>you can submit this piecemeal though, you know just get the position (V), dimensional vectors (A and B), and vertices (VL) working first, then submit that as a patch.  Then work on line segments, submit that as an update to the patch, etc.</p>



<a name="228885859"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228885859" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228885859">(Mar 05 2021 at 02:14)</a>:</h4>
<p>will show how you iterate on feedback, make sure you don't make unnecessary work for yourself if there's a problem</p>



<a name="228901452"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/228901452" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#228901452">(Mar 05 2021 at 05:46)</a>:</h4>
<p>Thank you for the explanation. Its a lot clearer now.</p>



<a name="229170932"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/229170932" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#229170932">(Mar 07 2021 at 08:58)</a>:</h4>
<p>(deleted)</p>



<a name="229176117"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/229176117" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#229176117">(Mar 07 2021 at 10:23)</a>:</h4>
<p>I added the code for sketch primitive and compiled. Compile was ok but mged crashes after taking in the 7th argument,ie, the number of vertices. The error is :</p>
<p>Segmentation fault (core dumped)</p>



<a name="229319887"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/229319887" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#229319887">(Mar 08 2021 at 15:47)</a>:</h4>
<p>That means you have a mistake somewhere in there... you can try debugging it with print statements or (better) use a debugger like gdb or lldb (if you're on linux/mac) or you can debug using Visual Studio if you're on Windows.</p>



<a name="229422563"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104063-new%20members/topic/typein.c/near/229422563" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debkamal Mullick <a href="https://brl-cad.github.io/zulip_archive/stream/104063-new-members/topic/typein.2Ec.html#229422563">(Mar 09 2021 at 05:01)</a>:</h4>
<p>ok</p>



<hr><p>Last updated: Sep 10 2025 at 00:50 UTC</p>
</html>