<html>
<head><meta charset="utf-8"><title>Continuous integration · brlcad · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/index.html">brlcad</a></h2>
<h3>Topic: <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html">Continuous integration</a></h3>

<hr>

<base href="https://brlcad.zulipchat.com">

<head><link href="https://brl-cad.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="200746494"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746494" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746494">(Jun 13 2020 at 03:18)</a>:</h4>
<p>what CI system are you using?</p>



<a name="200746495"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746495" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746495">(Jun 13 2020 at 03:19)</a>:</h4>
<p>Jenkins at the moment</p>



<a name="200746501"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746501" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746501">(Jun 13 2020 at 03:19)</a>:</h4>
<p>oh</p>



<a name="200746503"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746503" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746503">(Jun 13 2020 at 03:19)</a>:</h4>
<p>i use travis for my repo</p>



<a name="200746511"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746511" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746511">(Jun 13 2020 at 03:20)</a>:</h4>
<p>where is the repo which holds the yml file?</p>



<a name="200746561"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746561" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746561">(Jun 13 2020 at 03:21)</a>:</h4>
<p>I don't think our Jenkins CI files are checked in to a repository at the moment - they're a setup on the server</p>



<a name="200746563"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746563" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746563">(Jun 13 2020 at 03:21)</a>:</h4>
<p>ohh</p>



<a name="200746601"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746601" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746601">(Jun 13 2020 at 03:22)</a>:</h4>
<p>can i see the file or is it on a private server?</p>



<a name="200746606"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746606" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746606">(Jun 13 2020 at 03:22)</a>:</h4>
<p>i like seeing those CI files and how they are setup</p>



<a name="200746607"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746607" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746607">(Jun 13 2020 at 03:22)</a>:</h4>
<p>There's not much to see - it's a pretty basic svn checkout, configure and build</p>



<a name="200746622"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746622" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746622">(Jun 13 2020 at 03:23)</a>:</h4>
<p>i know but still they are cool and so i want to see</p>



<a name="200746627"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746627" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746627">(Jun 13 2020 at 03:23)</a>:</h4>
<p>see if i can understand Jenkins CI files</p>



<a name="200746670"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746670" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746670">(Jun 13 2020 at 03:24)</a>:</h4>
<p>Jenkins isn't typically controlled with files - it's managed through a web interface</p>



<a name="200746672"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746672" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746672">(Jun 13 2020 at 03:24)</a>:</h4>
<p>oh</p>



<a name="200746676"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746676" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746676">(Jun 13 2020 at 03:25)</a>:</h4>
<p>thats kinda cool</p>



<a name="200746679"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746679" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746679">(Jun 13 2020 at 03:25)</a>:</h4>
<p>ok then</p>



<a name="200746685"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746685" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746685">(Jun 13 2020 at 03:25)</a>:</h4>
<p>There is one bash script we have that is run from Jenkins (when we're set up for it): <a href="https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/misc/clang-static-analyzer-run.sh">https://sourceforge.net/p/brlcad/code/HEAD/tree/brlcad/trunk/misc/clang-static-analyzer-run.sh</a></p>



<a name="200746726"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746726" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746726">(Jun 13 2020 at 03:26)</a>:</h4>
<p>That's a lot more complicated than the normal process - it is used to check the code using the clang compiler's static analysis tool.</p>



<a name="200746730"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746730" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746730">(Jun 13 2020 at 03:26)</a>:</h4>
<p>The same script could be launched by any CI system, but that is the core of the testing logic</p>



<a name="200746734"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746734" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746734">(Jun 13 2020 at 03:27)</a>:</h4>
<p>i know travis and circleci use config files</p>



<a name="200746742"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746742" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746742">(Jun 13 2020 at 03:27)</a>:</h4>
<p>but didnt knew that jenkins could be setup using a web interface</p>



<a name="200746796"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746796" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746796">(Jun 13 2020 at 03:28)</a>:</h4>
<p><a href="https://www.jenkins.io/doc/tutorials/">https://www.jenkins.io/doc/tutorials/</a></p>



<a name="200746804"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746804" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746804">(Jun 13 2020 at 03:28)</a>:</h4>
<p>ok gotta go</p>



<a name="200746810"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746810" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746810">(Jun 13 2020 at 03:29)</a>:</h4>
<p>my classes are going on</p>



<a name="200746815"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200746815" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200746815">(Jun 13 2020 at 03:29)</a>:</h4>
<p>thanks for the information about jenkins</p>



<a name="200899550"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200899550" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200899550">(Jun 15 2020 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="247135">@Sumagna Das</span> We can get you an account set up for our Jenkins.  Actually try requesting one.  Not sure what it does, how it notifies.  Go to <a href="https://ci.brlcad.org/status/">https://ci.brlcad.org/status/</a> and select "create an account"</p>



<a name="200954435"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/200954435" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#200954435">(Jun 15 2020 at 22:38)</a>:</h4>
<p>hm, my script blockers 'n stuff may've screwed things up, it gives me a single field for the password and complains that the passwords don't match</p>



<a name="201964482"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/201964482" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#201964482">(Jun 25 2020 at 12:54)</a>:</h4>
<p><span class="user-mention" data-user-id="103542">@Erik</span> what do you mean?  you mean if you try to create a jenkins account?  note that's not apache... it's all going through a proxy redirect on a different port, talks directly to jenkins.</p>



<a name="208316752"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/208316752" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumagna Das <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#208316752">(Aug 28 2020 at 08:24)</a>:</h4>
<p>hey <span class="user-mention" data-user-id="102902">@Sean</span>  did you open jenkins recently? if not, i just opened it and it shows these warnings. See if you can fix them<br>
<a href="/user_uploads/1549/Xdrfmqt3LqbT85oooKev3od8/Screenshot-from-2020-08-28-13-53-23.png">Screenshot-from-2020-08-28-13-53-23.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/Xdrfmqt3LqbT85oooKev3od8/Screenshot-from-2020-08-28-13-53-23.png" title="Screenshot-from-2020-08-28-13-53-23.png"><img src="/user_uploads/1549/Xdrfmqt3LqbT85oooKev3od8/Screenshot-from-2020-08-28-13-53-23.png"></a></div>



<a name="210997523"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/210997523" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#210997523">(Sep 23 2020 at 12:57)</a>:</h4>
<p>Here's an example of the bizarre intermittent failure I'm seeing on the Linux github runners:  <a href="/user_uploads/1549/zekHW2KG_ntPaI7zAsJtj6H3/lemon_build_failure_github_runner.txt">lemon_build_failure_github_runner.txt</a></p>



<a name="210997665"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/210997665" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#210997665">(Sep 23 2020 at 12:58)</a>:</h4>
<p>maybe the perplex template copying is involved...</p>



<a name="210998061"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/210998061" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#210998061">(Sep 23 2020 at 13:02)</a>:</h4>
<p>Don't see how though...</p>



<a name="210998335"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/210998335" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#210998335">(Sep 23 2020 at 13:03)</a>:</h4>
<p>It almost looks like the lemon.c.o file hasn't had enough time to fully write out to disk before ld tries to turn it into an executable...</p>



<a name="211021357"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211021357" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211021357">(Sep 23 2020 at 15:40)</a>:</h4>
<p>are you sure they're not being run concurrently?</p>



<a name="211021392"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211021392" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211021392">(Sep 23 2020 at 15:40)</a>:</h4>
<p>it's not clear from the log, but they could be simultaneously executing</p>



<a name="211024285"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211024285" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211024285">(Sep 23 2020 at 16:01)</a>:</h4>
<p>Even if they are it shouldn't matter, looking closer - lemon is a stand alone single C file, and it's the lemon executable that's not getting generated correctly.</p>



<a name="211024372"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211024372" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211024372">(Sep 23 2020 at 16:01)</a>:</h4>
<p>There's another failure mode that popped up where the build step completes but then the lemon binary doesn't run.</p>



<a name="211024982"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211024982" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211024982">(Sep 23 2020 at 16:06)</a>:</h4>
<p>I wish it was some kind of dependency issue - that at least I might be able to do something with.  Lemon is just a straight add_executable call in CMake, about as basic as it gets.</p>
<p>I put in a ticket with the github runner project - maybe they can offer some insight into what might be causing it.</p>



<a name="211025601"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211025601" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211025601">(Sep 23 2020 at 16:10)</a>:</h4>
<p>yeah, I see that</p>



<a name="211025669"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211025669" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211025669">(Sep 23 2020 at 16:11)</a>:</h4>
<p>only thing maybe coming into play is lemon.c is fairly big</p>



<a name="211025693"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211025693" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211025693">(Sep 23 2020 at 16:11)</a>:</h4>
<p>Grrr.  And now CMP (pixcmp) doesn't want to run on the Windows version for some reason...</p>



<a name="211025699"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211025699" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211025699">(Sep 23 2020 at 16:11)</a>:</h4>
<p>do you have access to the .o file, can you confirm whether it has _main</p>



<a name="211025757"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211025757" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211025757">(Sep 23 2020 at 16:11)</a>:</h4>
<p>No, unfortunately - I've not figured out yet how to capture what the actions are generating.</p>



<a name="211025925"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211025925" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211025925">(Sep 23 2020 at 16:12)</a>:</h4>
<p>/me more or less accidentally got  Windows benchmark working on his laptop... Will have to try to figure it out again.</p>



<a name="211025946"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211025946" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211025946">(Sep 23 2020 at 16:13)</a>:</h4>
<p>maybe add a stage to the CI runner that runs "nm misc/tools/lemon/CMakeFiles/lemon.dir/lemon.c.o"</p>



<a name="211026002"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211026002" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211026002">(Sep 23 2020 at 16:13)</a>:</h4>
<p>That's doable, I think - one sec.</p>



<a name="211026020"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211026020" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211026020">(Sep 23 2020 at 16:13)</a>:</h4>
<p>there is one oddity in the build flags</p>



<a name="211026043"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211026043" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211026043">(Sep 23 2020 at 16:13)</a>:</h4>
<p>it's compiling lemon.c with /usr/bin/gcc  -Iinclude/brlcad -w -fPIE -std=gnu99 -MD -MT</p>



<a name="211026056"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211026056" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211026056">(Sep 23 2020 at 16:13)</a>:</h4>
<p>those last two look like MSVC flags</p>



<a name="211026552"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211026552" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211026552">(Sep 23 2020 at 16:17)</a>:</h4>
<p>hm, apparently they are gcc flags too.  just hadn't seen them before.</p>



<a name="211026955"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211026955" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211026955">(Sep 23 2020 at 16:20)</a>:</h4>
<p>okay, MF is dependencies (cool), MT is the output target, and MD I don't fully understand but they're all valid preprocessor flags</p>



<a name="211027576"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211027576" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211027576">(Sep 23 2020 at 16:25)</a>:</h4>
<p>And now of course it doesn't want to fail...</p>



<a name="211027985"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211027985" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211027985">(Sep 23 2020 at 16:28)</a>:</h4>
<p>Only suggestion I have is to add a "sync" command before running make/ninja/whatever, to make sure all the container I/O has settled down before compilation begins</p>



<a name="211028038"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211028038" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211028038">(Sep 23 2020 at 16:28)</a>:</h4>
<p>that way at least should rule out it being anything prior to compilation</p>



<a name="211028068"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211028068" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211028068">(Sep 23 2020 at 16:28)</a>:</h4>
<p><a href="/user_uploads/1549/hFZJfaNJRHvvBwia8C21-cZE/lemon_build_failure_github_runner2.txt">lemon_build_failure_github_runner2.txt</a></p>



<a name="211028267"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211028267" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211028267">(Sep 23 2020 at 16:30)</a>:</h4>
<p>As you say, lemon.o is pretty large - I wonder if we really are getting some kind of "I/O claiming it's complete when it isn't yet" issue...</p>



<a name="211028406"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211028406" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211028406">(Sep 23 2020 at 16:31)</a>:</h4>
<p>nah, just looking at that log, I think you probably found a ninja bug</p>



<a name="211028526"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211028526" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211028526">(Sep 23 2020 at 16:32)</a>:</h4>
<p>i mean it could be provoked by some container I/O issue, but the logs do indicate there are multiple threads working there (notice the interrupted nm output)</p>



<a name="211028619"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211028619" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211028619">(Sep 23 2020 at 16:33)</a>:</h4>
<p>I wouldn't be surprised if there's some race, like ninja is waiting on the output file to exist and then kicking off the linker rule</p>



<a name="211028634"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211028634" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211028634">(Sep 23 2020 at 16:33)</a>:</h4>
<p>yet file exist is insufficient</p>



<a name="211028875"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211028875" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211028875">(Sep 23 2020 at 16:35)</a>:</h4>
<p>/me nods - could be, but would have thought for sure that kind of mistake on ninja's part would have blown up spectacularly on our normal builds.</p>



<a name="211029069"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211029069" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211029069">(Sep 23 2020 at 16:36)</a>:</h4>
<p>except we don't have any builds with IO latency that  provoke the bug</p>



<a name="211029183"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211029183" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211029183">(Sep 23 2020 at 16:37)</a>:</h4>
<p>the container is almost certainly running on a virtualized, distributed, or maybe even a network filesystem</p>



<a name="211029222"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211029222" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211029222">(Sep 23 2020 at 16:37)</a>:</h4>
<p>Hmm.  I'll flip back to make and see what we get.</p>



<a name="211029356"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211029356" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211029356">(Sep 23 2020 at 16:39)</a>:</h4>
<p>it's undoubtedly the environment setting up the conditions, but could easily be some flawed assumption on ninja's part -- is there a way to control ninja's multithreading?</p>



<a name="211029404"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211029404" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211029404">(Sep 23 2020 at 16:39)</a>:</h4>
<p>On the command line yes - I'll have to check with the cmake -build trigger.</p>



<a name="211029492"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211029492" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211029492">(Sep 23 2020 at 16:40)</a>:</h4>
<p>just by the fact that the .o has main afterwards but gcc can't find it during linking means the file exists but is not yet written.</p>



<a name="211029721"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211029721" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211029721">(Sep 23 2020 at 16:42)</a>:</h4>
<p>that's easily possible with concurrency.  it's also possible with FS caching that it's simply not sync'd to disk yet despite the command exiting, but then the only fix would be a sync command prior to the second gcc call.</p>



<a name="211032713"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211032713" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211032713">(Sep 23 2020 at 17:06)</a>:</h4>
<p>With both make and single threaded ninja the build order is different, so may be harder to reproduce (or at least a lot slower.)</p>



<a name="211033448"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211033448" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211033448">(Sep 23 2020 at 17:11)</a>:</h4>
<p>It'd be interesting to let make run parallel - it's a lot older and already has a lot of 'sync'ing and gating going on.</p>



<a name="211033599"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211033599" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211033599">(Sep 23 2020 at 17:12)</a>:</h4>
<p>it's seen some sh!t</p>



<a name="211033823"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211033823" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211033823">(Sep 23 2020 at 17:14)</a>:</h4>
<p>I left make in parallel mode</p>



<a name="211034684"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211034684" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211034684">(Sep 23 2020 at 17:21)</a>:</h4>
<p>Hrm.  This is Windows related, so not what we're seeing, but sounds similar in some ways:  <a href="https://github.com/ninja-build/ninja/issues/1802">https://github.com/ninja-build/ninja/issues/1802</a></p>



<a name="211034966"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211034966" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211034966">(Sep 23 2020 at 17:23)</a>:</h4>
<p><a href="https://github.com/ninja-build/ninja/issues/1802">https://github.com/ninja-build/ninja/issues/1802</a></p>



<a name="211037290"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211037290" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211037290">(Sep 23 2020 at 17:40)</a>:</h4>
<p>Whoops, this link was what I meant:  <a href="https://github.com/ninja-build/ninja/issues/1794">https://github.com/ninja-build/ninja/issues/1794</a></p>



<a name="211040041"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211040041" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211040041">(Sep 23 2020 at 18:01)</a>:</h4>
<p>Sigh.  OK, we can go with default tools for the moment and see if things eventually shake down with ninja .</p>



<a name="211041741"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211041741" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211041741">(Sep 23 2020 at 18:14)</a>:</h4>
<p>Now, what's Windows complaining about...</p>



<a name="211052507"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211052507" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211052507">(Sep 23 2020 at 19:39)</a>:</h4>
<p>1802 appears to be the issue, and I think the naivety of the response is indicative.  they've not encountered anything but "nearly instantaneous" local filesystems, so that totally explains it</p>



<a name="211053492"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211053492" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211053492">(Sep 23 2020 at 19:48)</a>:</h4>
<p>I commented on the bug, maybe he'll reopen it</p>



<a name="211054376"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211054376" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211054376">(Sep 23 2020 at 19:56)</a>:</h4>
<p>Gah.  "test -e /dev/null" is succeeding in <a href="http://benchmark.sh">benchmark.sh</a>, but when we get to "fopen" in the code it doesn't always work - running from inside msbuild, that fopen call fails even though the same executable will succeed from the msys prompt.</p>



<a name="211054932"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211054932" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211054932">(Sep 23 2020 at 20:01)</a>:</h4>
<p>Running from inside <a href="http://benchmark.sh">benchmark.sh</a>, actually - pixcmp.exe works in isolation, but not from within the script.  Grr...</p>



<a name="211055069"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055069" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055069">(Sep 23 2020 at 20:02)</a>:</h4>
<p>this is on Windows?</p>



<a name="211055090"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055090" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055090">(Sep 23 2020 at 20:02)</a>:</h4>
<p>Yeah.</p>



<a name="211055096"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055096" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055096">(Sep 23 2020 at 20:02)</a>:</h4>
<p>what fopen then?</p>



<a name="211055107"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055107" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055107">(Sep 23 2020 at 20:02)</a>:</h4>
<p>pixcmp.exe</p>



<a name="211055126"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055126" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055126">(Sep 23 2020 at 20:02)</a>:</h4>
<p>Initial CMP test in the benchmark script.</p>



<a name="211055318"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055318" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055318">(Sep 23 2020 at 20:04)</a>:</h4>
<p>the sanity check to make sure CMP runs?</p>



<a name="211055329"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055329" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055329">(Sep 23 2020 at 20:04)</a>:</h4>
<p>yes</p>



<a name="211055394"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055394" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055394">(Sep 23 2020 at 20:05)</a>:</h4>
<p>so it's running: eval "path/to/pixcmp" /dev/null /dev/null &gt; /dev/null 2&gt;&amp;1</p>



<a name="211055415"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055415" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055415">(Sep 23 2020 at 20:05)</a>:</h4>
<p>Using [D:/a/cadcitest/cadcitest/build/Release/bin/rt] for RT<br>
  Using [D:/a/cadcitest/cadcitest/build/Release/bin/../share/db] for DB<br>
  Using [D:/a/cadcitest/cadcitest/build/Release/bin/../share/pix] for PIX<br>
  Using [D:/a/cadcitest/cadcitest/build/Release/bin/../share/pix] for LOG<br>
  Using [D:/a/cadcitest/cadcitest/build/Release/bin/pixcmp] for CMP<br>
  Using [D:/a/cadcitest/cadcitest/build/Release/bin/elapsed.sh] for ELP</p>
<p>CUSTOMBUILD : error : CMP does not seem to work as expected [D:\a\cadcitest\cadcitest\build\check.vcxproj]</p>



<a name="211055508"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055508" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055508">(Sep 23 2020 at 20:06)</a>:</h4>
<p>Should be, yes (if test -e /dev/null is succeeding within the script)</p>



<a name="211055552"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055552" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055552">(Sep 23 2020 at 20:06)</a>:</h4>
<p>Seems to be in the debugger on my local laptop</p>



<a name="211055581"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055581" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055581">(Sep 23 2020 at 20:06)</a>:</h4>
<p>so first question is -- is there a /dev/null</p>



<a name="211055617"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055617" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055617">(Sep 23 2020 at 20:07)</a>:</h4>
<p>or better, can we confirm what exactly it's running</p>



<a name="211055628"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055628" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055628">(Sep 23 2020 at 20:07)</a>:</h4>
<p>set +</p>



<a name="211055658"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055658" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055658">(Sep 23 2020 at 20:07)</a>:</h4>
<p>Um - set +?  You mean in <a href="http://benchmark.sh">benchmark.sh</a>?</p>



<a name="211055797"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055797" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055797">(Sep 23 2020 at 20:08)</a>:</h4>
<p>test -e /dev/null<br>
echo $?<br>
0<br>
(from the MSYS command prompt)</p>



<a name="211055858"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211055858" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211055858">(Sep 23 2020 at 20:09)</a>:</h4>
<p>ls -la /dev/null</p>



<a name="211056041"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056041" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056041">(Sep 23 2020 at 20:10)</a>:</h4>
<p>Reports there.</p>



<a name="211056126"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056126" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056126">(Sep 23 2020 at 20:11)</a>:</h4>
<p>crw-rw-rw-1 user 197612 1, 3 Sep 23 16:10 /dev/null</p>



<a name="211056212"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056212" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056212">(Sep 23 2020 at 20:12)</a>:</h4>
<p>okay, so it actually has a /dev/null -- that should be fine</p>



<a name="211056228"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056228" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056228">(Sep 23 2020 at 20:12)</a>:</h4>
<p>so cmp is genuinely failing</p>



<a name="211056243"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056243" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056243">(Sep 23 2020 at 20:12)</a>:</h4>
<p>Yes - fopen("/dev/null") is failing.</p>



<a name="211056298"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056298" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056298">(Sep 23 2020 at 20:13)</a>:</h4>
<p>o.O  need a perror() on that failure</p>



<a name="211056332"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056332" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056332">(Sep 23 2020 at 20:13)</a>:</h4>
<p>looks like it should already be perror()ing</p>



<a name="211056413"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056413" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056413">(Sep 23 2020 at 20:14)</a>:</h4>
<p>what's printed if you run "pixcmp /dev/null /dev/null"</p>



<a name="211056871"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056871" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056871">(Sep 23 2020 at 20:18)</a>:</h4>
<p>It is perror() calling, but I'm not sure where to check for output in visual studio?</p>



<a name="211056912"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056912" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056912">(Sep 23 2020 at 20:19)</a>:</h4>
<p>the script is sinking the output intentionally</p>



<a name="211056925"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056925" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056925">(Sep 23 2020 at 20:19)</a>:</h4>
<p>so either need to unsink it, or add another call</p>



<a name="211056963"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056963" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056963">(Sep 23 2020 at 20:19)</a>:</h4>
<p>i.e., remove the &gt;$NUL 2&gt;&amp;1</p>



<a name="211056991"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211056991" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211056991">(Sep 23 2020 at 20:19)</a>:</h4>
<p>then it should be in the log</p>



<a name="211057176"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211057176" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211057176">(Sep 23 2020 at 20:21)</a>:</h4>
<p>/dev/null: No such file or directory</p>



<a name="211057280"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211057280" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211057280">(Sep 23 2020 at 20:22)</a>:</h4>
<p>(And yes, ls -la /dev/null succeeds from the same command prompt...)</p>



<a name="211057343"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211057343" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211057343">(Sep 23 2020 at 20:22)</a>:</h4>
<p>It's almost like when it's launching pixcmp.exe, it's losing the wrapping environment that's providing /dev/null</p>



<a name="211057396"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211057396" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211057396">(Sep 23 2020 at 20:23)</a>:</h4>
<p>I wonder...</p>



<a name="211057780"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211057780" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211057780">(Sep 23 2020 at 20:27)</a>:</h4>
<p>think I found it, gimmie a sec</p>



<a name="211058438"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211058438" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211058438">(Sep 23 2020 at 20:32)</a>:</h4>
<p>try that <span class="user-mention" data-user-id="112516">@starseeker</span></p>



<a name="211058963"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211058963" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211058963">(Sep 23 2020 at 20:37)</a>:</h4>
<p>Nope, still getting /dev/null</p>



<a name="211059242"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211059242" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211059242">(Sep 23 2020 at 20:39)</a>:</h4>
<p>you said you tried running "test -e /dev/null"  what about trying this:<br>
MSYS_NO_PATHCONV=1 MSYS2_ARG_CONV_EXCL="\*" test -e /dev/null</p>



<a name="211059336"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211059336" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211059336">(Sep 23 2020 at 20:40)</a>:</h4>
<p>or more explicitly: MSYS_NO_PATHCONV=1 MSYS2_ARG_CONV_EXCL="/dev/null" test -e /dev/null</p>



<a name="211059779"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211059779" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211059779">(Sep 23 2020 at 20:43)</a>:</h4>
<p>echo $?<br>
0</p>



<a name="211059820"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211059820" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211059820">(Sep 23 2020 at 20:43)</a>:</h4>
<p>Test still succeeds</p>



<a name="211060734"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211060734" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211060734">(Sep 23 2020 at 20:51)</a>:</h4>
<p>MSYS seems to be the uncanny valley of shells, in some ways - almost but not quite...</p>



<a name="211061850"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211061850" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211061850">(Sep 23 2020 at 21:02)</a>:</h4>
<p>oh right, because it does exist in the shell environment ... just curiously not in the compiled environment</p>



<a name="211061880"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211061880" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211061880">(Sep 23 2020 at 21:02)</a>:</h4>
<p>did that change have any affect?</p>



<a name="211062525"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211062525" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211062525">(Sep 23 2020 at 21:08)</a>:</h4>
<p>The committed change?  No, didn't seem to</p>



<a name="211062726"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211062726" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211062726">(Sep 23 2020 at 21:09)</a>:</h4>
<p>Hmm, the build issues go beyond just ninja - I had forgotten cmake -build defaults to single threaded make.  If I enable the -j flag explicitly, we get a different failure in a libpng cmake script execution.</p>



<a name="211062813"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211062813" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211062813">(Sep 23 2020 at 21:10)</a>:</h4>
<p>so then let me try to change the test the other way around.</p>



<a name="211063684"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211063684" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211063684">(Sep 23 2020 at 21:19)</a>:</h4>
<p>And that script execution failure mode looks like an execute_process isn't properly completing its I/O before it tries the next script step.  Auuuuugh.</p>



<a name="211063774"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211063774" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211063774">(Sep 23 2020 at 21:20)</a>:</h4>
<p>So we may be  limited to single threaded building on the runners, not make-only building.  That's... annoying.</p>



<a name="211064075"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211064075" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211064075">(Sep 23 2020 at 21:23)</a>:</h4>
<p>c'est la vie!</p>



<a name="211064964"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211064964" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211064964">(Sep 23 2020 at 21:32)</a>:</h4>
<p>applied a different change to bench/run.sh</p>



<a name="211065263"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211065263" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211065263">(Sep 23 2020 at 21:35)</a>:</h4>
<p>Same failure, still saying no such file/directory for /dev/null</p>



<a name="211065338"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211065338" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211065338">(Sep 23 2020 at 21:36)</a>:</h4>
<p>You might be able to try a test script on a github runner to iterate faster - would you like me to set up an example?</p>



<a name="211065349"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211065349" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211065349">(Sep 23 2020 at 21:36)</a>:</h4>
<p>I'll have to add some diagnostics</p>



<a name="211070011"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211070011" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211070011">(Sep 23 2020 at 22:27)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  - I set up a little test repo that you can fork on github - it will let you edit bin/benchmark, push the changes, and try to run the benchmark script on Windows:<br>
<a href="https://github.com/starseeker/wintest">https://github.com/starseeker/wintest</a></p>



<a name="211088869"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211088869" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211088869">(Sep 24 2020 at 04:16)</a>:</h4>
<p>okay, will take a look!</p>



<a name="211089204"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211089204" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211089204">(Sep 24 2020 at 04:25)</a>:</h4>
<p>okay, so new to this.  forked it, and it told me that there are/were workflows in it but they weren't going to be enabled.  so now I don't see how to enable the benchmark.yml one...</p>



<a name="211089739"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211089739" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211089739">(Sep 24 2020 at 04:39)</a>:</h4>
<p>couldn't figure it out, so just created a duplicate and that ran</p>



<a name="211094723"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211094723" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211094723">(Sep 24 2020 at 06:47)</a>:</h4>
<p>there, that fixed it.  when in doubt, rip it out?  heh.</p>



<a name="211116982"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211116982" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211116982">(Sep 24 2020 at 11:18)</a>:</h4>
<p>Jenkins seems to be unhappy now?</p>
<p>ERROR:  CMP does not seem to work as expected<br>
        (output was [<br>
Different file sizes found: -(3) and -(72).  Cannot perform pixcmp.])</p>



<a name="211117223"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211117223" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211117223">(Sep 24 2020 at 11:21)</a>:</h4>
<p>I think you can enable Actions in a forked repo from the Actions tab, but I haven't tried it myself.</p>



<a name="211117301"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211117301" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211117301">(Sep 24 2020 at 11:22)</a>:</h4>
<div class="message_inline_image"><a href="https://aws1.discourse-cdn.com/github/original/2X/8/8a28c79db26e3c2d82f2d0694ae0762b2ef7763b.png"><img src="https://aws1.discourse-cdn.com/github/original/2X/8/8a28c79db26e3c2d82f2d0694ae0762b2ef7763b.png"></a></div>



<a name="211118328"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211118328" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211118328">(Sep 24 2020 at 11:35)</a>:</h4>
<p>fwiw, the failure seems to be specific to bz - my Linux box works fine.</p>



<a name="211119217"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211119217" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211119217">(Sep 24 2020 at 11:45)</a>:</h4>
<p>I doubt it's what you want to do long term, but r77207 seems to run - apparently BSD doesn't like the "CMP - -" bit for some reason?</p>



<a name="211123029"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211123029" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211123029">(Sep 24 2020 at 12:22)</a>:</h4>
<p>Yeah, looks like Mac has the same issue as BSD.</p>



<a name="211132931"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211132931" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211132931">(Sep 24 2020 at 13:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/Continuous.20integration/near/211117223">said</a>:</p>
<blockquote>
<p>I think you can enable Actions in a forked repo from the Actions tab, but I haven't tried it myself.</p>
</blockquote>
<p>I did that and then it displayed no workflows, didn't run any when I committed.</p>



<a name="211132985"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211132985" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211132985">(Sep 24 2020 at 13:46)</a>:</h4>
<p>Once I added another workflow, it ran both.</p>



<a name="211134768"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211134768" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211134768">(Sep 24 2020 at 13:59)</a>:</h4>
<p>interesting on the failure -- I tested it on my Mac.  pixcmp parses "-" so it should work unless we gots a bug</p>



<a name="211135063"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211135063" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211135063">(Sep 24 2020 at 14:01)</a>:</h4>
<p>interesting.  assuming you don't have a '-' file accidentally in that dir, it's basically saying stdin's sizes are different between the two stat calls...</p>



<a name="211137285"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211137285" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211137285">(Sep 24 2020 at 14:17)</a>:</h4>
<p>::facepalm:: - methinks Github Actions still have some teething pains...</p>



<a name="211137385"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211137385" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211137385">(Sep 24 2020 at 14:17)</a>:</h4>
<p>working on pixcmp</p>



<a name="211137396"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211137396" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211137396">(Sep 24 2020 at 14:17)</a>:</h4>
<p>Does running the benchmark script itself work on your mac with the "-" style input?  It fails on the runner...</p>



<a name="211137512"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211137512" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211137512">(Sep 24 2020 at 14:18)</a>:</h4>
<p>/me is trying to figure out how to save artifacts from the actions.</p>



<a name="211137584"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211137584" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211137584">(Sep 24 2020 at 14:19)</a>:</h4>
<p>yep, worked here</p>



<a name="211137625"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211137625" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211137625">(Sep 24 2020 at 14:19)</a>:</h4>
<p>it's a timing issue, so not unexpected</p>



<a name="211137910"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211137910" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211137910">(Sep 24 2020 at 14:21)</a>:</h4>
<p>that's telling pixcmp to read from stdin for pixel comparisons and for whatever reason, there's 3 bytes the first time it checks and a few more bytes the next time.  what's curious is that it's more than 1 byte.  need to make pixcmp print out those byte streams.</p>



<a name="211138007"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211138007" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211138007">(Sep 24 2020 at 14:22)</a>:</h4>
<p>fwiw, it is failing for me interactively on bz (or did this morning, at any rate)</p>



<a name="211138051"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211138051" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211138051">(Sep 24 2020 at 14:22)</a>:</h4>
<p>should just be a nul byte, 1 byte .. so that's also an issue</p>



<a name="211138054"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211138054" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211138054">(Sep 24 2020 at 14:22)</a>:</h4>
<p>ok</p>



<a name="211160347"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211160347" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211160347">(Sep 24 2020 at 17:00)</a>:</h4>
<p>fwiw, I'm sure 77207 worked, but I'm intentionally avoiding hitting the disk (and working to remove the few remaining  bits that violate it from benchmark).  more importantly, my knowledge needs to be improved or pixcmp has a bug if stat'ing stdin twice is wrong.</p>



<a name="211168317"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211168317" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211168317">(Sep 24 2020 at 18:02)</a>:</h4>
<p>I know - that's why I mentioned I didn't think you'd want to stay with that solution.  I just needed something that would work for the CI testing.</p>



<a name="211168426"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211168426" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211168426">(Sep 24 2020 at 18:02)</a>:</h4>
<p>What about pixdiffing one of the reference images with itself?  That's a read from the disk but not a write, and we'll be reading from the disk for benchmark anyway...</p>



<a name="211168467"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211168467" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211168467">(Sep 24 2020 at 18:03)</a>:</h4>
<p>don't worry about it... ;)</p>



<a name="211168562"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211168562" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211168562">(Sep 24 2020 at 18:03)</a>:</h4>
<p>I'm going to find out what's wrong with - - because that's something that should clearly work from my understanding.</p>



<a name="211168656"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211168656" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211168656">(Sep 24 2020 at 18:04)</a>:</h4>
<p>so either my understanding is very wrong or pixcmp has a bug.  either way, this involves all of like 4 lines of code, so it's easy to diagnose.</p>



<a name="211168774"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211168774" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211168774">(Sep 24 2020 at 18:05)</a>:</h4>
<p>so, no git conversion this week then ;-)</p>



<a name="211168805"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211168805" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211168805">(Sep 24 2020 at 18:05)</a>:</h4>
<p>Is it failing for you on BSD at least?  It'll be hell to debug if it's only failing in the runners</p>



<a name="211168920"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211168920" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211168920">(Sep 24 2020 at 18:06)</a>:</h4>
<p>/me sees <em>another</em> random github build failure on the runner, even in single threaded mode...</p>



<a name="211169644"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211169644" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211169644">(Sep 24 2020 at 18:12)</a>:</h4>
<p>Maybe if I add another sync after git clone finishes...</p>



<a name="211176413"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/Continuous%20integration/near/211176413" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/Continuous.20integration.html#211176413">(Sep 24 2020 at 19:10)</a>:</h4>
<p>Another new one:</p>
<div class="codehilite"><pre><span></span><code>D:\a\cadcitest\cadcitest\src\other\libspsr\Src\SPSR.cpp : fatal error
 C1083: Cannot open compiler generated file: &#39;D:\a\cadcitest\cadcitest\build\src\other\libspsr\SPSR.dir\Release\SPSR.obj&#39;: Permission denied
 [D:\a\cadcitest\cadcitest\build\src\other\libspsr\SPSR.vcxproj]
</code></pre></div>



<hr><p>Last updated: Dec 05 2024 at 00:51 UTC</p>
</html>