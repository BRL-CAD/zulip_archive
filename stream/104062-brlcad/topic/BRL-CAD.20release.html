<html>
<head><meta charset="utf-8"><title>BRL-CAD release · brlcad · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/index.html">brlcad</a></h2>
<h3>Topic: <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html">BRL-CAD release</a></h3>

<hr>

<base href="https://brlcad.zulipchat.com">

<head><link href="https://brl-cad.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="195803775"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/195803775" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#195803775">(Apr 30 2020 at 06:56)</a>:</h4>
<p>I want to make sure that the brlcad.dll works with the next release (7.30.8). What's the best branch to test it? The code seems to go from <strong>trunk</strong> to <strong>RELEASE</strong> to <strong>STABLE</strong> to <strong>tags</strong>. I.e., RELEASE or STABLE would be a good candidate, or?</p>



<a name="195832057"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/195832057" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#195832057">(Apr 30 2020 at 12:34)</a>:</h4>
<p>Right now, I'd go with RELEASE</p>



<a name="195832205"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/195832205" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#195832205">(Apr 30 2020 at 12:35)</a>:</h4>
<p>I think I'm synced to stable, but would need to double check - you may want to wait until we decide what to do about the iges-g  OSX bug report in case that requires code changes prior to release.</p>



<a name="195832546"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/195832546" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#195832546">(Apr 30 2020 at 12:38)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  Quickhull.hpp is one of the files behind the bot chull command.  A quick Linux test seems to work fine, but Windows is the one I'd want to check for that sort of change - IIRC it was the most work to get going originally.  I'll see if I'm in a building state with trunk on Windows...</p>



<a name="195842602"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/195842602" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#195842602">(Apr 30 2020 at 14:00)</a>:</h4>
<p>Seems to be OK on Windows.</p>



<a name="195854881"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/195854881" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#195854881">(Apr 30 2020 at 15:19)</a>:</h4>
<p>Okay, thanks, will test RELEASE then.</p>



<a name="196198086"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196198086" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196198086">(May 04 2020 at 15:35)</a>:</h4>
<p>Hmm, RELEASE doesn't contain the off_t for Windows fixes. I can't build the 32 bit version with Visual Studio.</p>



<a name="196199678"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196199678" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196199678">(May 04 2020 at 15:46)</a>:</h4>
<p>Another issue is the zlib in openNURBS: openNURBS-static is linked with zlib, i.e. the shared library version of it. This is not optimal for the brlcad.dll. I think, a static library shouldn't be linked with something else. This has to be done by the linker of the binary using the static library.<br>
(I'm not sure, will test what happens.)</p>



<a name="196259664"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196259664" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196259664">(May 05 2020 at 01:30)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I did some  updates to RELEASE today - do they help?   (not sure yet what to do about openNURBS, but I did notice the off_t wasn't in there so I've tried to backport it.)</p>



<a name="196312206"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196312206" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196312206">(May 05 2020 at 14:08)</a>:</h4>
<p>Unfortunately, it still doesn't work. E.g., src/libbu/vls.c doesn't compile.<br>
I could find differences in include/config_win.h.in, include/bu/glob.h, and include/bu/vls.h which could be of relevance, but replacing them didn't fixed it. I wasn't able to find the difference between revision 75083b(my reference) which breaks the build yet.</p>
<p>BTW, don't take care of the "zlib in openNURBS" thing. I can easily fix it for my purpose, and if it works I can regularly commit it to the trunk.</p>



<a name="196330514"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196330514" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196330514">(May 05 2020 at 16:18)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> I think I may have had to start from a clean build directory.</p>



<a name="196330581"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196330581" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196330581">(May 05 2020 at 16:19)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> are you working with RELEASE or trunk?</p>



<a name="196330629"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196330629" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196330629">(May 05 2020 at 16:19)</a>:</h4>
<p>RELEASE is the one I thought I got working yesterday with the off_t updates...</p>



<a name="196334248"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196334248" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196334248">(May 05 2020 at 16:49)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> are you working with RELEASE or trunk?</p>
</blockquote>
<p>I did the tests with RELEASE, but compared them with a revision from the trunk where I know it works.</p>



<a name="196334628"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196334628" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196334628">(May 05 2020 at 16:52)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> I think I may have had to start from a clean build directory.</p>
</blockquote>
<p>From which revision did you forked the RELEASE? The last one before the TCL upgrades?</p>
<p>Maybe, you can choose a revision from the trunk for the fork, and I test this revision in advance if it works for me.</p>



<a name="196341421"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196341421" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196341421">(May 05 2020 at 17:44)</a>:</h4>
<p>RELEASE was forked a long time back - we periodically merge from trunk.  The last big merge was well before the Tcl upgrade.</p>



<a name="196341650"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196341650" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196341650">(May 05 2020 at 17:46)</a>:</h4>
<p>Can you tell me what build error you were seeing with a vanilla RELEASE checkout that's current as of this morning?  Most likely culprit is something to do with the regex.h header...</p>



<a name="196354275"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196354275" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196354275">(May 05 2020 at 19:24)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span>  I think I got past the libbu issue - let me know if that does it for you</p>



<a name="196605090"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196605090" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196605090">(May 06 2020 at 08:58)</a>:</h4>
<p>RELEASE compiles now with VS2019, both 32 and 64 bit.</p>



<a name="196630297"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196630297" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196630297">(May 06 2020 at 13:01)</a>:</h4>
<p>Excellent, thanks!  Everything look like it is working OK?</p>



<a name="196631043"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196631043" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196631043">(May 06 2020 at 13:06)</a>:</h4>
<p>Until now: Yes.<br>
I haven't done much tests yet, but the BrlCadViewer seems to work, at least.</p>



<a name="196631145"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196631145" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196631145">(May 06 2020 at 13:07)</a>:</h4>
<p>Sounds good.</p>



<a name="196631400"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196631400" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196631400">(May 06 2020 at 13:09)</a>:</h4>
<p>Thanks! :)</p>



<a name="196632168"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196632168" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196632168">(May 06 2020 at 13:14)</a>:</h4>
<p>np - thank you for catching it before we released!  trunk is still shaking down from a lot of changes, so I'd like 7.30.8 to be working as widely as possible while we work through the updates.</p>



<a name="196650962"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196650962" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196650962">(May 06 2020 at 15:24)</a>:</h4>
<p>This time I want to build a new brlcad.dll from the release. We found some bugs in the old one (from 2016?) and I would like to have an official new one.</p>



<a name="196653752"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/196653752" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#196653752">(May 06 2020 at 15:44)</a>:</h4>
<p>very good - let me know if you have any trouble getting the dll to build from RELEASE branch.  I'm not ready to tag yet anyway, so there's still time to address any issues.</p>



<a name="532829939"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/532829939" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#532829939">(Aug 05 2025 at 04:10)</a>:</h4>
<p>For awareness, we're working on release testing for our next 7.42.0 release now.  This is a pretty big one with the new BoT ray tracing speed enhancements and support for concave arb8.  As such, big or risky commits should be kept to a minimum or put in branches until after release is tagged.  Anything big and we have to restart cross platform and integration testing.</p>
<p>That said, if anyone is able and willing -- this release could use some additional hands-on testing.  Please report any anomalies, bombs, crashers, etc, especially anything in mged, rt* tools, gqa, any raytrace behaviors on bot or arbs, etc.  Even better if you can help fix anything you find, but the testing is worthwhile regardless.  I've found a fixed a number over the past few days just doing basic actions, so every little bit will help.</p>



<a name="533845564"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/533845564" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#533845564">(Aug 11 2025 at 18:24)</a>:</h4>
<p>Far as I know, we're just about ready to release -- does anyone have any release blockers to put forward or has anyone encountered any unexpected failures?</p>



<a name="534191365"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534191365" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534191365">(Aug 13 2025 at 09:27)</a>:</h4>
<p>MS Visual Studio complains about the <code>_Thread_local</code> in src/librt/primitives/bot/bot.c. <code>thread_local</code> doesn't work either, even if it's contained in the documentation. But, <code>__declspec(thread)</code> does.</p>
<p>In addition, <strong>fuzz_shootray_test</strong> and <strong>fuzz_ged_test</strong> cannot be build. There is no <code>/fsanitze=fuzzer</code> linker option.</p>
<p>However, I can live with these issues and hope to get the current compiler version soon.</p>



<a name="534441788"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534441788" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534441788">(Aug 14 2025 at 09:25)</a>:</h4>
<p>BTW, I was successful in compiling a MOOSE based brlcad.dll with only OS-dependencies, i.e. static C runtime linking. Its size is only 6.5 MB. Maybe, I'll prepare a release based on version 7.42.0.</p>



<a name="534458478"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534458478" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534458478">(Aug 14 2025 at 11:20)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> Which version of Visual Studio are you building with?</p>



<a name="534458651"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534458651" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534458651">(Aug 14 2025 at 11:21)</a>:</h4>
<p>We didn't see any issues with _Thread_local in our testing, which included Visual Studio 2022, so I'm a little curious.</p>



<a name="534459269"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534459269" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534459269">(Aug 14 2025 at 11:25)</a>:</h4>
<p>I'm using Visual Studio 16 (2019). Some of the more modern features (which may include C++11) may be not be supported by it.</p>



<a name="534459323"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534459323" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534459323">(Aug 14 2025 at 11:25)</a>:</h4>
<p>If you add this right before the _Thread_local usage, does it work?  </p>
<div class="codehilite"><pre><span></span><code>#if defined(HAVE_WINDOWS_H) &amp;&amp; !defined(_Thread_local)
#  define _Thread_local __declspec(thread)
#endif
</code></pre></div>



<a name="534459494"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534459494" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534459494">(Aug 14 2025 at 11:26)</a>:</h4>
<p>Ah, yeah - that would explain it.  I'm more surprised the fuzzer tests tried to build at all - our tests for the compiler options must need tweaking.</p>



<a name="534471481"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534471481" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534471481">(Aug 14 2025 at 12:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/channel/104062-brlcad/topic/BRL-CAD.20release/near/534459323">said</a>:</p>
<blockquote>
<p>If you add this right before the _Thread_local usage, does it work?  </p>
<p><div class="codehilite"><pre><span></span><code>#if defined(HAVE_WINDOWS_H) &amp;&amp; !defined(_Thread_local)
#  define _Thread_local __declspec(thread)
#endif
</code></pre></div><br>
</p>
</blockquote>
<p>It works for MSVC 2019.</p>



<a name="534526650"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534526650" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534526650">(Aug 14 2025 at 17:13)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> Would it be worth a block in common.h to ensure _Thread_local is always defined?</p>



<a name="534680710"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534680710" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534680710">(Aug 15 2025 at 16:32)</a>:</h4>
<p><span class="user-mention" data-user-id="112516">@starseeker</span> that can't hurt.  We don't need to bend over backwards for 2019, but if it's still just a couple minor easy things like that, certainly worth it.</p>



<a name="534680890"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534680890" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534680890">(Aug 15 2025 at 16:34)</a>:</h4>
<p>I've noticed the fuzzer issue -- that's been an issue in the windows warning logs for a couple years.  the test for the fuzzer flag passes despite it not working.  it emits an annoying warning.</p>



<a name="534680928"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534680928" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534680928">(Aug 15 2025 at 16:34)</a>:</h4>
<p>I tried to quell/fix it a while back but cmake was fighting me on it.</p>



<a name="534681487"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534681487" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534681487">(Aug 15 2025 at 16:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/channel/104062-brlcad/topic/BRL-CAD.20release/near/532829939">said</a>:</p>
<blockquote>
<p>For awareness, we're working on release testing for our next 7.42.0 release now.  This is a pretty big one with the new BoT ray tracing speed enhancements and support for concave arb8.  As such, big or risky commits should be kept to a minimum or put in branches until after release is tagged.  Anything big and we have to restart cross platform and integration testing.<br>
...</p>
</blockquote>
<p>For anyone not paying attention, release 7.42.0 was posted (thanks to <span class="user-mention" data-user-id="112516">@starseeker</span>) earlier this week.  On to the next one!</p>



<a name="534732798"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534732798" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534732798">(Aug 16 2025 at 02:40)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> So I don't get yelled at again - is this overkill?  </p>
<div class="codehilite"><pre><span></span><code>/* Make sure _Thread_local is defined.  Note that if __declspec(thread) or
 * __thread  are used, they will only work for &quot;plain old data&quot; types
 * with trivial constructors/destructors. */
# if !defined(_Thread_local)
#   if defined(__cplusplus)
#     if __cplusplus &gt;= 201103L  // C++11 has thread_local keyword
#       define _Thread_local thread_local
#     elif defined(HAVE_WINDOWS_H)
#       define _Thread_local __declspec(thread)
#     elif defined(__GNUC__) || defined(__clang__)
#       define _Thread_local __thread
#     endif
#   else
#     if defined(__STDC_VERSION__) &amp;&amp; __STDC_VERSION__ &gt;= 202311L
#       define _Thread_local thread_local // C23: thread_local is the standard keyword
#     elif defined(HAVE_WINDOWS_H)
#       define _Thread_local __declspec(thread)
#     elif defined(__GNUC__) || defined(__clang__)
#       define _Thread_local __thread
#     endif
#   endif
# endif
</code></pre></div>



<a name="534738765"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534738765" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534738765">(Aug 16 2025 at 05:01)</a>:</h4>
<p>I'm sorry <span class="user-mention" data-user-id="112516">@starseeker</span> I didn't mean anything to come across as yelling, just code health / maintenance commentary.</p>
<p>Assuming it works, I think the code block you have there looks good!</p>
<p>For the comment, I'd suggest tightening that up to not explain C/C++, but rather the implication.  It's a platform toggle so __declspec() and __thread ARE used, not "if"...  Maybe:</p>
<p>/* make sure we have local threading, only to be used on C "POD" types */</p>



<a name="534738930"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534738930" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534738930">(Aug 16 2025 at 05:04)</a>:</h4>
<p>Might be good to introduce a THREADLOCAL and use that (similar to EXTERNVARINT, NORETURN, etc) given _Thread_local is actually deprecated... (it's thread_local to sync with C++)</p>



<a name="534760961"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534760961" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534760961">(Aug 16 2025 at 12:55)</a>:</h4>
<p>THREADLOCAL sounds good - is "POD" common enough shorthand that we can assume it is universally understood?  Just for myself, I had to ask GPT to clarify what it stood for - it's new to me.</p>



<a name="534796770"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534796770" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534796770">(Aug 17 2025 at 02:49)</a>:</h4>
<p>If we go with THREADLOCAL, I think it boils down to this?</p>
<div class="codehilite"><pre><span></span><code>/* Make sure THREADLOCAL is defined, only usable on C &quot;POD&quot; types */
#ifndef THREADLOCAL
#  if defined(__cplusplus) &amp;&amp; __cplusplus &gt;= 201103L
#    define THREADLOCAL thread_local // C++11: thread_local is standard
#  elif !defined(__cplusplus) &amp;&amp; defined(__STDC_VERSION__) &amp;&amp; __STDC_VERSION__ &gt;= 202311L
#    define THREADLOCAL thread_local // C23: thread_local is standard
#  elif !defined(__cplusplus) &amp;&amp; defined(__STDC_VERSION__) &amp;&amp; __STDC_VERSION__ &gt;= 201112L
#    define THREADLOCAL _Thread_local // C11: _Thread_local is standard
#  elif defined(HAVE_WINDOWS_H)
#    define THREADLOCAL __declspec(thread)
#  elif defined(__GNUC__) || defined(__clang__)
#    define THREADLOCAL __thread
#  endif
#endif
</code></pre></div>



<a name="534798880"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534798880" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534798880">(Aug 17 2025 at 03:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/channel/104062-brlcad/topic/BRL-CAD.20release/near/534760961">said</a>:</p>
<blockquote>
<p>THREADLOCAL sounds good - is "POD" common enough shorthand that we can assume it is universally understood?  Just for myself, I had to ask GPT to clarify what it stood for - it's new to me.</p>
</blockquote>
<p>Stroustrup's book "The C++ Programming Language" is worth reading if you haven't yet.  POD was a concept it coined way back in the 90's, and it's mentioned in many other books since.</p>



<a name="534798919"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534798919" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534798919">(Aug 17 2025 at 03:57)</a>:</h4>
<p>I believe the c++98 standard referenced it directly as well, and c++11 formalized/clarified a change to it's meaning -- essentially compatibility with C types.</p>



<a name="534799134"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534799134" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534799134">(Aug 17 2025 at 04:03)</a>:</h4>
<p>block looks good to me at a glance.  would be worth adding a #else with #error (or #define it to thread_local as the fallback) just so we don't accidentally fall through with THREADLOCAL undefined and we end up with global vars and threading issues.</p>



<a name="534850136"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/534850136" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan McCorkle <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#534850136">(Aug 17 2025 at 22:20)</a>:</h4>
<p>does anyone have a windows build with qged ?</p>



<a name="535039238"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/535039238" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#535039238">(Aug 19 2025 at 00:37)</a>:</h4>
<p>I suppose I could make one, but I've not checked qged in a while - other priorities - so it may or may not behave itself.  I do know at least one of the view control panels needs to be reworked.</p>



<a name="535046922"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/BRL-CAD%20release/near/535046922" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/BRL-CAD.20release.html#535046922">(Aug 19 2025 at 02:51)</a>:</h4>
<p><a href="https://brlcad.org/~starseeker/BRL-CAD_7.42.0_win64_experimental_Qt.exe">https://brlcad.org/~starseeker/BRL-CAD_7.42.0_win64_experimental_Qt.exe</a></p>



<hr><p>Last updated: Sep 19 2025 at 00:51 UTC</p>
</html>