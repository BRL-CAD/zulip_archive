<html>
<head><meta charset="utf-8"><title>GSoC ideas · brlcad · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/index.html">brlcad</a></h2>
<h3>Topic: <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html">GSoC ideas</a></h3>

<hr>

<base href="https://brlcad.zulipchat.com">

<head><link href="https://brl-cad.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="225348245"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225348245" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225348245">(Feb 05 2021 at 19:55)</a>:</h4>
<p>I went through GSoC project plans of 2018,’19,’20<br>
So these were the projects I found most interesting :</p>



<a name="225348259"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225348259" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225348259">(Feb 05 2021 at 19:55)</a>:</h4>
<p>1)Improving ray tracing looked very interesting as it involved a lot of algorithms and increasing efficiency sort of thing, but it was marked hard on github, so I had second thoughts on this.</p>



<a name="225348270"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225348270" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225348270">(Feb 05 2021 at 19:55)</a>:</h4>
<p>2) Expanding on Rishabh’s work for other primitives, and I’ll also get to learn OpenCL for this. I’m expecting it to be easier as similar work has already been done.</p>



<a name="225348280"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225348280" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225348280">(Feb 05 2021 at 19:55)</a>:</h4>
<p>3)Adding annotation, GSoC ‘19, this also looked very useful to expand upon. I was thinking if we could add automatic dimensioning, like instead of selecting 2 points and then getting a dimension, if we directly select a circle and its radius is dimensioned (more params could be given to position better), etc</p>



<a name="225348436"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225348436" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225348436">(Feb 05 2021 at 19:56)</a>:</h4>
<p>I haven't researched too deeply about them, but these were the ones that looked best to me at first glance</p>



<a name="225348481"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225348481" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225348481">(Feb 05 2021 at 19:57)</a>:</h4>
<p>I would love to hear your comments and which would be best suited to work upon</p>



<a name="225559860"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225559860" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225559860">(Feb 08 2021 at 15:26)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> those are all interesting project ideas.  You'll just want to make sure you scope your proposal appropriately.  If you've not done performance profiling and/or ray tracing before, I wouldn't recommend #1; if you've not done OpenCL or Cuda before, I wouldn't be too excited about you doing #2 either at least until/unless I saw a useful patch from you involving OpenCL.  The timeframe of GSoC is such that there's not going to be much time to learn -- so you should propose something that you have skills for already.  That way, the time you spent learning is on learning BRL-CAD's code.  No matter which you intend to propose, you should be prepared to submit a patch specifically related to that topic (it can be minor or not, but it should be related).</p>



<a name="225586691"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225586691" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225586691">(Feb 08 2021 at 18:26)</a>:</h4>
<p>Okay got it.<br>
So could you suggest me some bug for raytracing or related to openCL?</p>



<a name="225796981"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225796981" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225796981">(Feb 10 2021 at 05:48)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> You'll first want to compile with OpenCL enabled and with OpenCL disabled, so you can compare the two side-by-side.  See CMake for the flag on turning opencl on.  After compiling, run rt with the -z option on to do an opencl render.</p>



<a name="225797084"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225797084" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225797084">(Feb 10 2021 at 05:51)</a>:</h4>
<p>There's a number of potential opencl issues you could tackle, but getting set up and showing basic competency first is important.  Next, you could tackle something related to either of the two OpenCL tasks listed in the top-level TODO file (search for "OpenCL").</p>



<a name="225797288"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225797288" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225797288">(Feb 10 2021 at 05:55)</a>:</h4>
<p>For gsoc application purposes, the second one (clFFT) is probably more achievable as it's more isolated and easier to explain, but anything you can do related to the first one (boolean weaving) is more important even if it doesn't involve OpenCL (e.g., write an isolated unit test for it).</p>



<a name="225797567"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/225797567" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#225797567">(Feb 10 2021 at 06:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/225796981">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> You'll first want to compile with OpenCL enabled and with OpenCL disabled, so you can compare the two side-by-side.  See CMake for the flag on turning opencl on.  After compiling, run rt with the -z option on to do an opencl render.</p>
</blockquote>
<p>Okay I will start with this</p>



<a name="226041389"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226041389" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226041389">(Feb 11 2021 at 19:05)</a>:</h4>
<p>I installed OpenCL using <code>apt install ocl-icd-opencl-dev</code> and also downloaded the Nvidia SDK <br>
Next I did to <code>cmake .. -DBRLCAD_BUNDLED_LIBS=ON -DCMAKE_BUILD_TYPE=Release -DBRLCAD_ENABLE_OPENCL=ON </code><br>
This gave<br>
-- Could not find OpenCl (missing: PENCL_ROOT_DIR OPENCL_INCLUDE_DIRS OPENCL_VERSION)<br>
I tinkered a lot to find out where I had to specify them<br>
But I couldn't get what to do, so could you tell me how to proceed?</p>



<a name="226297227"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226297227" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226297227">(Feb 14 2021 at 10:23)</a>:</h4>
<p>If anyone is free could they guide me on compiling with OpenCL enabled</p>



<a name="226772274"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226772274" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226772274">(Feb 18 2021 at 07:05)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> make sure you delete your CMakeCache.txt file after running apt install, so it doesn't use a cached result when looking for whether it's available.</p>



<a name="226772374"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226772374" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226772374">(Feb 18 2021 at 07:07)</a>:</h4>
<h1>While locating the root directory, the module will try to detect OpenCL</h1>
<h1>implementations provided by AMD's Accelerated Parallel Processing SDK,</h1>
<h1>NVIDIA's GPU Computing Toolkit and Intel's OpenCL SDK by examining the</h1>
<h1>AMDAPPSDKROOT, CUDA_PATH and INTELOCLSDKROOT environment variables,</h1>
<h1>respectively.</h1>



<a name="226772436"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226772436" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226772436">(Feb 18 2021 at 07:08)</a>:</h4>
<p>So it sounds like you need to set CUDA_PATH if you intend to use Nvidia's opencl toolkit</p>



<a name="226772470"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226772470" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226772470">(Feb 18 2021 at 07:09)</a>:</h4>
<p>alternatively you can set OPENCL_ROOT_DIR and OPENCL_INCLUDE_DIRS and OPENCL_VERSION directly, but you shouldn't need to.</p>



<a name="226773374"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226773374" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226773374">(Feb 18 2021 at 07:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/226772374">said</a>:</p>
<blockquote>
<h1>While locating the root directory, the module will try to detect OpenCL</h1>
<h1>implementations provided by AMD's Accelerated Parallel Processing SDK,</h1>
<h1>NVIDIA's GPU Computing Toolkit and Intel's OpenCL SDK by examining the</h1>
<h1>AMDAPPSDKROOT, CUDA_PATH and INTELOCLSDKROOT environment variables,</h1>
<h1>respectively.</h1>
</blockquote>
<p>So I installed Intel's OpenCL SDK and did set INTELOCSDKROOT to the correct folder</p>



<a name="226773485"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226773485" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226773485">(Feb 18 2021 at 07:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/226772274">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> make sure you delete your CMakeCache.txt file after running apt install, so it doesn't use a cached result when looking for whether it's available.</p>
</blockquote>
<p>Even did this</p>



<a name="226773582"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226773582" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226773582">(Feb 18 2021 at 07:28)</a>:</h4>
<p>But still it says<br>
-- Could NOT find OpenCL (missing: OPENCL_ROOT_DIR OPENCL_INCLUDE_DIRS OPENCL_VERSION)</p>



<a name="226774015"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226774015" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226774015">(Feb 18 2021 at 07:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/226773374">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/226772374">said</a>:</p>
<blockquote>
<h1>While locating the root directory, the module will try to detect OpenCL</h1>
<h1>implementations provided by AMD's Accelerated Parallel Processing SDK,</h1>
<h1>NVIDIA's GPU Computing Toolkit and Intel's OpenCL SDK by examining the</h1>
<h1>AMDAPPSDKROOT, CUDA_PATH and INTELOCLSDKROOT environment variables,</h1>
<h1>respectively.</h1>
</blockquote>
<p>So I installed Intel's OpenCL SDK and did set INTELOCSDKROOT to the correct folder</p>
</blockquote>
<p>Okay..... I made a typo here, INTELOCSDKROOT ,missed the 'L' that's why it wasn't recognizing OpenCL all this while</p>



<a name="226774045"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226774045" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226774045">(Feb 18 2021 at 07:36)</a>:</h4>
<p>Its working now</p>



<a name="226790988"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226790988" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226790988">(Feb 18 2021 at 10:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/225796981">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> You'll first want to compile with OpenCL enabled and with OpenCL disabled, so you can compare the two side-by-side.  See CMake for the flag on turning opencl on.  After compiling, run rt with the -z option on to do an opencl render.</p>
</blockquote>
<p>Done :)</p>



<a name="226931836"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226931836" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226931836">(Feb 19 2021 at 08:13)</a>:</h4>
<p>Woohoo!  So next see if you can observe the performance difference on a specific object.  Pick any of the primitives in src/librt/primitives/OBJdirs that have an opencl  implementation, create one (or lots of that type) in mged, then ray trace it with ocl and without (helps to keep two compiles on hand) using "time rt" outside of mged.</p>



<a name="226932243"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226932243" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226932243">(Feb 19 2021 at 08:18)</a>:</h4>
<p>you'll want a render that takes at least a few seconds to complete, which you can achieve by adding the -H flag (e.g., -H10 will increase work by 10x, -H100 by 100x) or -s flag (makes a bigger image, e.g., -s10000 for a 10000x10000 image).</p>



<a name="226933473"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226933473" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226933473">(Feb 19 2021 at 08:32)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> once you have that demonstrated, the next step would be to focus on related coding.  If you're set on submitting OpenCL for gsoc, I suggest focusing on learning about boolean weaving -- rt_boolweave() and rt_boolfinal() being critical functions.  I'd suggest trying to write a tiny little main() program that calls either function.  Try to the bare minimum to set up proper inputs, call the function, and show that it did something.  A simplistic unit test of sorts.</p>



<a name="226935911"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/226935911" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#226935911">(Feb 19 2021 at 08:59)</a>:</h4>
<p>Okay will start working on this <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="227016020"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227016020" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227016020">(Feb 19 2021 at 19:32)</a>:</h4>
<p>When I tried to run time rt -z 1 sphere.g sph1.s<br>
it gave me an error, failed to set OpenCL kernel arguments<br>
I'm attaching the terminal output and the log it generated.<br>
<a href="/user_uploads/1549/SRyAGNj6NQjCgIBbYtwvDLwM/output.txt">output.txt</a> <br>
<a href="/user_uploads/1549/G011czkVksoa_rc5PIYm2v3F/rt-22345-bomb.log">rt-22345-bomb.log</a></p>



<a name="227021816"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227021816" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227021816">(Feb 19 2021 at 20:14)</a>:</h4>
<p>I tried applying this patch - <a href="https://sourceforge.net/p/brlcad/patches/551/">https://sourceforge.net/p/brlcad/patches/551/</a><br>
but it doesn't seem to solve the problem</p>



<a name="227025067"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227025067" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227025067">(Feb 19 2021 at 20:41)</a>:</h4>
<p>The patch dint get applied properly before, problem solved</p>



<a name="227027223"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227027223" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227027223">(Feb 19 2021 at 20:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/226931836">said</a>:</p>
<blockquote>
<p>Woohoo!  So next see if you can observe the performance difference on a specific object. </p>
</blockquote>
<p>I tried it for a sphere with -H1000, the OpenCL enabled compilation did it in 15s wile the other one took 24s. So I think I can consider this done :)</p>



<a name="227036715"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227036715" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227036715">(Feb 19 2021 at 22:08)</a>:</h4>
<p>Excellent <span class="user-mention" data-user-id="353338">@Vikram Atreya</span> .  I mean, that's not a huge performance gain oddly enough, but good to see different numbers.  Have you ever run a profile before? It would be informative to know where the time was spent for both of those.  If you're on Windows, would be good to set up Intel VTune.  If you're on Linux, Perf is really easy to set up.  On Mac, Instruments is king.</p>



<a name="227036927"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227036927" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227036927">(Feb 19 2021 at 22:09)</a>:</h4>
<p>See if you can figure out what top ten functions they're spending their time in for ocl vs non-ocl runs.</p>



<a name="227088307"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227088307" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227088307">(Feb 20 2021 at 12:24)</a>:</h4>
<p>No, I haven't run a profile before. I setup perf and got the top CPU consuming functions<br>
with ocl: <a href="/user_uploads/1549/IJjduodLYFoXJRuWhjT8nsZt/with_ocl.png">with_ocl.png</a><br>
without ocl: <a href="/user_uploads/1549/bjlq3rAVCOwqlpU-06hXzgnO/without_ocl.png">without_ocl.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/IJjduodLYFoXJRuWhjT8nsZt/with_ocl.png" title="with_ocl.png"><img src="/user_uploads/1549/IJjduodLYFoXJRuWhjT8nsZt/with_ocl.png"></a></div><div class="message_inline_image"><a href="/user_uploads/1549/bjlq3rAVCOwqlpU-06hXzgnO/without_ocl.png" title="without_ocl.png"><img src="/user_uploads/1549/bjlq3rAVCOwqlpU-06hXzgnO/without_ocl.png"></a></div>



<a name="227104261"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227104261" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227104261">(Feb 20 2021 at 17:06)</a>:</h4>
<p>nifty! (it might also be interesting to see how -J impacts performance differences?). Does RoCM's cuda backend change openCL's place in the world?</p>



<a name="227111449"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227111449" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227111449">(Feb 20 2021 at 19:13)</a>:</h4>
<p>That's a good thing to check - <span class="user-mention" data-user-id="353338">@Vikram Atreya</span> see what performance looks like with rt -P1 for ocl vs non.  That requests a single CPU core.  Also notice in that non-opencl profile rt_boolweave() and rt_boolfinal() ... that's the two functions mentioned earlier.</p>



<a name="227187419"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227187419" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227187419">(Feb 21 2021 at 19:08)</a>:</h4>
<p>I tried to observe the differences with the previous values, when applying  the -J and -P 1 flags separately , with  -J CPU usage went up in both cases but while using the -P 1 flag I did not observe any major change in values</p>



<a name="227192174"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227192174" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227192174">(Feb 21 2021 at 20:32)</a>:</h4>
<p>Meanwhile, I generated the executable for rtexample.c, but when I try to run it using ./rtexample, it says:<br>
<code>error while loading shared libraries: libbu.so.20: cannot open shared file: No such file or directory</code></p>



<a name="227192253"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227192253" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227192253">(Feb 21 2021 at 20:33)</a>:</h4>
<p>The directory I linked while compiling does have the libbu.so.20 file</p>



<a name="227313753"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227313753" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227313753">(Feb 22 2021 at 18:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/227192174">said</a>:</p>
<blockquote>
<p>Meanwhile, I generated the executable for rtexample.c, but when I try to run it using ./rtexample, it says:<br>
<code>error while loading shared libraries: libbu.so.20: cannot open shared file: No such file or directory</code></p>
</blockquote>
<p>I solved this. I had to to put an env variable to the dir i had linked</p>



<a name="227315491"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227315491" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227315491">(Feb 22 2021 at 18:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/226933473">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> once you have that demonstrated, the next step would be to focus on related coding.  If you're set on submitting OpenCL for gsoc, I suggest focusing on learning about boolean weaving -- rt_boolweave() and rt_boolfinal() being critical functions.  I'd suggest trying to write a tiny little main() program that calls either function.  Try to the bare minimum to set up proper inputs, call the function, and show that it did something.  A simplistic unit test of sorts.</p>
</blockquote>
<p>I understood how rtexample.c works more or less. I will start working on this.</p>



<a name="227833543"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227833543" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227833543">(Feb 25 2021 at 20:30)</a>:</h4>
<p>Is there some place where I get previous year GSoC proposals that were accepted/rejected?</p>



<a name="227920060"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227920060" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227920060">(Feb 26 2021 at 12:26)</a>:</h4>
<p>Did you had a look at <a href="https://brlcad.org/wiki/Google_Summer_of_Code">https://brlcad.org/wiki/Google_Summer_of_Code</a> ? Some of the abstracts are still accessible.</p>



<a name="227950213"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227950213" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227950213">(Feb 26 2021 at 16:15)</a>:</h4>
<p>Yeah I did<br>
Most of the  devlogs and project plans are accessible but abstracts aren't</p>



<a name="227950227"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227950227" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227950227">(Feb 26 2021 at 16:15)</a>:</h4>
<p>And the project plans looked very brief</p>



<a name="227961939"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227961939" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227961939">(Feb 26 2021 at 17:33)</a>:</h4>
<p>Maybe, this is a better one: <a href="https://brlcad.org/wiki/User:Clouddrift/GSoC2014">https://brlcad.org/wiki/User:Clouddrift/GSoC2014</a></p>
<p>For the BRL-CAD project I can assure you that we will ask for more details if they are missing. I.e., you won't fail because of a too brief first version of your proposal, provided that it shows a honest intent. However, the final version should address all our requests ;)</p>



<a name="227974260"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227974260" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227974260">(Feb 26 2021 at 18:54)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> We're also totally cool with this being a collaborative process if you want to start on a proposal and share progress as you go along  for awareness/feedback.  It doesn't/shouldn't be a "throw it over the wall" when you think you're done.  Happy to discuss it with you and help you figure out how to scope it appropriately.</p>



<a name="227974876"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227974876" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227974876">(Feb 26 2021 at 18:58)</a>:</h4>
<p>Thank you!<br>
I was planning on starting with the proposal parallelly as I explore the code base. I'll start once my exams get done on Monday. <br>
Btw is there some quick way to find out what all primitives have successfully been parallelized using OpenCL?</p>



<a name="227980420"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227980420" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227980420">(Feb 26 2021 at 19:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/226933473">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> once you have that demonstrated, the next step would be to focus on related coding.  If you're set on submitting OpenCL for gsoc, I suggest focusing on learning about boolean weaving -- rt_boolweave() and rt_boolfinal() being critical functions.  I'd suggest trying to write a tiny little main() program that calls either function.  Try to the bare minimum to set up proper inputs, call the function, and show that it did something.  A simplistic unit test of sorts.</p>
</blockquote>
<p>I have made a small program that calls rt_boolweave() with minimum inputs. <a href="/user_uploads/1549/jxIOQCVPH6_ewSLnvwrpz5Li/hello_boolweave.c">hello_boolweave.c</a></p>



<a name="227980748"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227980748" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227980748">(Feb 26 2021 at 19:38)</a>:</h4>
<p><a href="/user_uploads/1549/EXqZelqUKqEiOBadg4N0a9V0/hello_boolweave_output.png">hello_boolweave_output.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/1549/EXqZelqUKqEiOBadg4N0a9V0/hello_boolweave_output.png" title="hello_boolweave_output.png"><img src="/user_uploads/1549/EXqZelqUKqEiOBadg4N0a9V0/hello_boolweave_output.png"></a></div>



<a name="227982777"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227982777" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227982777">(Feb 26 2021 at 19:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/227974876">said</a>:</p>
<blockquote>
<p>Btw is there some quick way to find out what all primitives have successfully been parallelized using OpenCL?</p>
</blockquote>
<p>Sure, you can just run: grep -r *.cl .</p>
<p>That'll report all the opencl files in the source tree.</p>



<a name="227982868"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227982868" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227982868">(Feb 26 2021 at 19:53)</a>:</h4>
<p>the primitives are in subdirs under src/librt/primitives, so that'll be all the current committed ones.  There are a couple more sitting in pending patches I believe.</p>



<a name="227983746"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227983746" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227983746">(Feb 26 2021 at 19:59)</a>:</h4>
<p>Cool progress on rt_boolweave() .. you may be the first to actually write a standalone that directly calls it, even if it's not yet doing anything useful.  Do you think you can whittle that down to what is strictly necessary?  More than half that code is for calling rt_shootray() which you don't / won't need to do.</p>



<a name="227983848"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227983848" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227983848">(Feb 26 2021 at 19:59)</a>:</h4>
<p>Sure, will do</p>



<a name="227984554"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227984554" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227984554">(Feb 26 2021 at 20:03)</a>:</h4>
<p>Should I remove the checks also like RT_CK_AP?</p>



<a name="227987398"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227987398" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227987398">(Feb 26 2021 at 20:22)</a>:</h4>
<p><a href="/user_uploads/1549/4rjk-P7d67Z9OPBKaP4VrKtS/hello_boolweave.c">hello_boolweave.c</a>  Removed everything that I felt unnecessary and commented the checks.</p>



<a name="227991087"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227991087" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227991087">(Feb 26 2021 at 20:46)</a>:</h4>
<p>I think more than half of what is still in there is unnecessary...  you're not ray tracing.</p>



<a name="227991221"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227991221" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227991221">(Feb 26 2021 at 20:47)</a>:</h4>
<p>How does rt_boolweave() use the application struct?  You'll need to read the implementation to see how/where it's used.  Depending how it's used, it may just be for book-keeping and can be empty.</p>



<a name="227991751"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227991751" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227991751">(Feb 26 2021 at 20:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/227984554">said</a>:</p>
<blockquote>
<p>Should I remove the checks also like RT_CK_AP?</p>
</blockquote>
<p>So to answer this it's the same for removing any other lines.  What's that line doing and how does it pertain to rt_boolweave()?  If you don't know, then the next step will be to find it's implementation (or ask).</p>



<a name="227991804"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227991804" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227991804">(Feb 26 2021 at 20:50)</a>:</h4>
<p>All the <em>_CK_</em>() and <em>_CHECK_</em>() macros do simple validity testing to make sure that memory didn't get corrupted and/or that structures passed from elsewhere were initialized correctly.</p>



<a name="227992020"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227992020" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227992020">(Feb 26 2021 at 20:52)</a>:</h4>
<p>In this case, that 'ap' application struct is being created and initialized by you, so there's no point in calling CHECK/CK on it as there's no potential for corruption, just maybe a mistake in initialization like if you forgot to call RT_APPLICATION_INIT().</p>



<a name="227992137"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227992137" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227992137">(Feb 26 2021 at 20:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/227992020">said</a>:</p>
<blockquote>
<p>In this case, that 'ap' application struct is being created and initialized by you, so there's no point in calling CHECK/CK on it as there's no potential for corruption, just maybe a mistake in initialization like if you forgot to call RT_APPLICATION_INIT().</p>
</blockquote>
<p>Yeah I knew this, just wanted to confirm</p>



<a name="227992536"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227992536" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227992536">(Feb 26 2021 at 20:55)</a>:</h4>
<p>if it's not needed, then it boils down to somelike like...</p>
<div class="codehilite" data-code-language="BBCode"><pre><span></span><code>int main(int argc, char **argv) {
    struct seg waiting_segs;
    struct seg finished_segs;

    BU_LIST_INIT(&amp;waiting_segs.l);
    BU_LIST_INIT(&amp;finished_segs.l);

    /* Weave these segments into partition list */
    (void)rt_boolweave(&amp;finished_segs, &amp;waiting_segs, NULL, NULL);

    return 0;
}
</code></pre></div>



<a name="227992585"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227992585" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227992585">(Feb 26 2021 at 20:55)</a>:</h4>
<p>But then that still doesn't do anything useful.</p>



<a name="227992804"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227992804" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227992804">(Feb 26 2021 at 20:57)</a>:</h4>
<p>So the trick is figuring out what those params mean, which are needed, how to set up the inputs (segs especially) manually, etc</p>



<a name="227992911"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227992911" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227992911">(Feb 26 2021 at 20:58)</a>:</h4>
<p>Reduced the example even more... I don't know if it really needs a pointer to the initial partition.</p>



<a name="227992963"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227992963" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227992963">(Feb 26 2021 at 20:58)</a>:</h4>
<p>I mean notionally, do you understand what the function is supposed to do?</p>



<a name="227993163"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227993163" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227993163">(Feb 26 2021 at 21:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/227992963">said</a>:</p>
<blockquote>
<p>I mean notionally, do you understand what the function is supposed to do?</p>
</blockquote>
<p>Yeah I know the basics, you had explained it to me earlier</p>



<a name="227993779"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227993779" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227993779">(Feb 26 2021 at 21:04)</a>:</h4>
<p>Well here's a quick recap anyways.. :)  Say you have this expression "A u B" where we're combining two objects with a union operation.  Imagine we shot a ray through that scene.  The ray is going to hit A and B, say that looks something like this:  </p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>______________
|            |
|  A   |-----|--------
|      |     |       |
-------|------   B   |
       |             |
       ---------------
</code></pre></div>



<a name="227994067"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227994067" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227994067">(Feb 26 2021 at 21:06)</a>:</h4>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>     ______________
     |            |
ray  |  A   |-----|--------
---&gt; |      |     |       |
     -------|------   B   |
            |             |
            ---------------

  results in two segments:

     |----A.seg1--|
            |----B.seg1---|
</code></pre></div>



<a name="227994146"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227994146" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227994146">(Feb 26 2021 at 21:07)</a>:</h4>
<p>So given a union, the boolean weaving is going to end up with:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>     |------weaved.seg----|
</code></pre></div>



<a name="227994408"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227994408" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227994408">(Feb 26 2021 at 21:09)</a>:</h4>
<p>In creating a unit test, you aren't going to shoot a ray, you don't have geometry.  You're starting at "results in two segments" where all you have is a list of partitions and segments, and they're literally just sets of numbers.</p>



<a name="227994593"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227994593" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227994593">(Feb 26 2021 at 21:11)</a>:</h4>
<p>I suggest trying to describe that exact scenario for starters.  One segment going from 0.0 to 10.0, another going from 5.0 to 15.0, and try to weave them into a 0.0 to 15.0 segment.</p>



<a name="227994699"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227994699" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227994699">(Feb 26 2021 at 21:11)</a>:</h4>
<p>Okay, will start working on it</p>



<a name="227994880"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227994880" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227994880">(Feb 26 2021 at 21:13)</a>:</h4>
<p>If you get it right, then you should be able to change  one line that makes it do a subtraction to weave to a 0.0 to 5.0 segment (A-B) or 10.0 to 15.0 segment (B-A), or an intersection that gives a 5.0 to 10.0 segment.</p>



<a name="227995068"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227995068" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227995068">(Feb 26 2021 at 21:14)</a>:</h4>
<p>Now big caveat is I don't remember the exact interplay between rt_boolweave() and rt_boolfinal()... one or the other might be responsible for parts of the boolean eval.</p>



<a name="227995763"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/227995763" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#227995763">(Feb 26 2021 at 21:19)</a>:</h4>
<p>I will look into it<br>
Also, Thank you  so much for taking out time to guide me <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="228121368"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228121368" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228121368">(Feb 28 2021 at 10:27)</a>:</h4>
<p><a href="/user_uploads/1549/jYeADD3T4OX388jcsG7hlOGI/hello_boolweave_final.c">hello_boolweave_final.c</a> <br>
This is the least code that is required afaik, I tried to compile without one line at a time, and removing even 1 line gave a seg fault. I got <code>ERROR: NULL struct partition list head pointer</code>  if I passed a NULL pointer in place of the initial part.</p>



<a name="228121442"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228121442" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228121442">(Feb 28 2021 at 10:28)</a>:</h4>
<p>Maybe the initialization of rtip can be done in a better way but I couldn't figure out one.</p>



<a name="228121480"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228121480" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228121480">(Feb 28 2021 at 10:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/227994593">said</a>:</p>
<blockquote>
<p>I suggest trying to describe that exact scenario for starters.  One segment going from 0.0 to 10.0, another going from 5.0 to 15.0, and try to weave them into a 0.0 to 15.0 segment.</p>
</blockquote>
<p>Ill work on this now</p>



<a name="228154249"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228154249" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228154249">(Feb 28 2021 at 20:22)</a>:</h4>
<div class="codehilite"><pre><span></span><code>    struct seg s1;
    BU_LIST_INIT(&amp;s1.l);
    s1.seg_in.hit_dist =5;
    s1.seg_out.hit_dist =15;
    (s1.seg_in.hit_rayp) = (s1.seg_out.hit_rayp) = &amp;(ap.a_ray);
    BU_LIST_INSERT(&amp;waiting_segs.l, &amp;s1.l);
</code></pre></div>
<p>I have tried to initialize a seg like this, but when I run the program, RT_CK_SEG inside boolweave gives an error as follow:<br>
<code>ERROR: bad pointer 0x7ffde9fe2fa0: s/b struct seg(x98bcdef1), was bu_list(x1016580), file /home/vikram/brlcad/src/librt/bool.c, line 174</code><br>
Could someone tell me how to solve this?</p>



<a name="228154305"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228154305" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228154305">(Feb 28 2021 at 20:23)</a>:</h4>
<p>I assume this initialization is done by <code>stp-&gt;st_meth-&gt;ft_shot</code> in shootray, but imnt able to find the code of ft_shot</p>



<a name="228154387"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228154387" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228154387">(Feb 28 2021 at 20:24)</a>:</h4>
<p>Attaching the entire program just in case <a href="/user_uploads/1549/ScP5IyYRwdHQBl5Gtf7hJxwu/UBC.c">UBC.c</a></p>



<a name="228261615"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228261615" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228261615">(Mar 01 2021 at 16:36)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> what's triggering that ERROR is the BU_LIST_INIT.  Librt uses an old-school C technique called aliasing in the libbu containers.  What you're missing is something like BU_LIST_MAGIC_SET(&amp;s1.l, RT_SEG_MAGIC); before you do BU_LIST_INSERT.</p>



<a name="228261742"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228261742" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228261742">(Mar 01 2021 at 16:37)</a>:</h4>
<p>db_alloc.c is where that initialization happens during regular ray tracing.. search for RT_SEG_MAGIC to see where.</p>



<a name="228261814"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228261814" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228261814">(Mar 01 2021 at 16:37)</a>:</h4>
<p>it's set directly there, but basically the same as the BU_LIST_MAGIC_SET call.</p>



<a name="228261959"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228261959" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228261959">(Mar 01 2021 at 16:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/228261615">said</a>:</p>
<blockquote>
<p>What you're missing is something like BU_LIST_MAGIC_SET(&amp;s1.l, RT_SEG_MAGIC); before you do BU_LIST_INSERT.</p>
</blockquote>
<p>Ohhhh! I knew I had to set the magic variable for seg but did not find a macro for it, I searched for RT_SEG_MAGIC and similar macros.<br>
Got it now</p>



<a name="228264868"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228264868" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228264868">(Mar 01 2021 at 16:55)</a>:</h4>
<p>note that you don't need an application struct either potentially ... at least the seg doesn't need it.  It has a ray field but I dont know if boolweave uses/checks it.</p>



<a name="228265049"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228265049" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228265049">(Mar 01 2021 at 16:56)</a>:</h4>
<p>If it does check/use it, then you can create a struct ray on the stack and set that instead of &amp;(ap.a_ray), which is just a pointer to a ray struct.</p>



<a name="228265058"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228265058" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228265058">(Mar 01 2021 at 16:56)</a>:</h4>
<p>yeah it does check <code>ap-&gt;a_rt_i</code>, so ap is required for that</p>



<a name="228265125"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228265125" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228265125">(Mar 01 2021 at 16:56)</a>:</h4>
<p>do you know why?</p>



<a name="228265163"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228265163" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228265163">(Mar 01 2021 at 16:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/228265049">said</a>:</p>
<blockquote>
<p>If it does check/use it, then you can create a struct ray on the stack and set that instead of &amp;(ap.a_ray), which is just a pointer to a ray struct.</p>
</blockquote>
<p>Okayy</p>



<a name="228265292"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228265292" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228265292">(Mar 01 2021 at 16:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/228265125">said</a>:</p>
<blockquote>
<p>do you know why?</p>
</blockquote>
<p>Dont know rn, but I could try finding out</p>



<a name="228265875"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228265875" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228265875">(Mar 01 2021 at 16:58)</a>:</h4>
<p>Superficially checking the code, ap-&gt;a_rt_i is assigned to rtip and that is used at a lot of places</p>



<a name="228266042"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228266042" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228266042">(Mar 01 2021 at 16:59)</a>:</h4>
<p>I see, it uses the app struct to get at the cpu resources for memory pooled allocations...</p>



<a name="228266081"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228266081" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228266081">(Mar 01 2021 at 16:59)</a>:</h4>
<p>rtip isn't actually used</p>



<a name="228266297"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228266297" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228266297">(Mar 01 2021 at 17:00)</a>:</h4>
<p>well, so it's technically used but not in significant logic</p>



<a name="228266354"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228266354" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228266354">(Mar 01 2021 at 17:00)</a>:</h4>
<p>the tolerance is pulled from there, the number of solids<br>
some debugging</p>



<a name="228266459"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228266459" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228266459">(Mar 01 2021 at 17:01)</a>:</h4>
<p>but, for example, it's passed to GET_PT_INIT() and that macro does diddly squat nothing with it</p>



<a name="228266490"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228266490" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228266490">(Mar 01 2021 at 17:01)</a>:</h4>
<p>a vestige from long ago</p>



<a name="228266679"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228266679" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228266679">(Mar 01 2021 at 17:02)</a>:</h4>
<p>so that's important from a testing perspective.  the resource structure is the only thing significant in there and it isn't necessary.  that's an optimization for memory management.</p>



<a name="228266752"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228266752" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228266752">(Mar 01 2021 at 17:02)</a>:</h4>
<p>I mean the code currently requires it so in setting up a rt_boolweave() unit test, you'll have to provide it or modify the implementation</p>



<a name="228266862"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228266862" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228266862">(Mar 01 2021 at 17:03)</a>:</h4>
<p>but for an openCL version, which is what we'd want to end up with, it's not necessary at all since opencl would be handling memory differently</p>



<a name="228267290"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228267290" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228267290">(Mar 01 2021 at 17:06)</a>:</h4>
<p>Okay</p>



<a name="228268213"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228268213" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228268213">(Mar 01 2021 at 17:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/228266752">said</a>:</p>
<blockquote>
<p>I mean the code currently requires it so in setting up a rt_boolweave() unit test, you'll have to provide it or modify the implementation</p>
</blockquote>
<p>So for now, I will just provide it to boolweave</p>



<a name="228270714"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228270714" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228270714">(Mar 01 2021 at 17:27)</a>:</h4>
<p>You'll still want to provide as minimal as possible.  Like try passing an rtip that is not really initialized, only has rti_tol.dist set.</p>



<a name="228270836"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228270836" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228270836">(Mar 01 2021 at 17:27)</a>:</h4>
<p>Okay, first I will make it functional then, I will reduce the inputs</p>



<a name="228270981"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228270981" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228270981">(Mar 01 2021 at 17:28)</a>:</h4>
<p>similarly application struct that just has the rtip set to that dummy rtip and resources</p>



<a name="228289299"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228289299" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228289299">(Mar 01 2021 at 19:14)</a>:</h4>
<p>In bool.c, <code>rt_pr_seg()</code> is called which requires  <code>segp-&gt;seg_stp-&gt;st_bit</code> &amp; <code>segp-&gt;seg_stp-&gt;st_dp-&gt;d_namep</code> to be printed. I set <code>segp-&gt;seg_stp</code> (which is a soltab pointer ) to NULL but the prog. throws a seg fault when run. How can I bypass this without actually setting <code>segp-&gt;seg_stp</code> ? or am I doing smthng wrong?</p>



<a name="228289397"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228289397" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228289397">(Mar 01 2021 at 19:15)</a>:</h4>
<p><a href="/user_uploads/1549/eulxbzKm1ePOrIE_4Re4X-IV/UBC.c">UBC.c</a></p>



<a name="228360848"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228360848" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228360848">(Mar 02 2021 at 06:35)</a>:</h4>
<p>it dereferences seg_stp to st_bit and st_dp... so it will need a valid "soltab" struct if rt_pr_seg() is called, which is a structure for a solid primitive object (e.g., an 'ell' ellipsoid or a 'tor' torus).</p>



<a name="228360897"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228360897" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228360897">(Mar 02 2021 at 06:35)</a>:</h4>
<p>that said, I only see rt_pr_seg() in a debug printing block in rt_boolweave(), which shouldn't be getting called.  are you sure it's crashing there?  I suspect it's crashing elsewhere.</p>



<a name="228361120"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228361120" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228361120">(Mar 02 2021 at 06:38)</a>:</h4>
<p><span aria-label="grimacing" class="emoji emoji-1f62c" role="img" title="grimacing">:grimacing:</span> My bad, I had changed the code before so that it prints the debug block, Ill try without that</p>



<a name="228366716"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228366716" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228366716">(Mar 02 2021 at 07:42)</a>:</h4>
<p>Slightly unrelated but....<br>
What does stp-&gt;st_meth-&gt;ft_shot() do? , I tried a grep in src but couldnt find the function</p>



<a name="228367257"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228367257" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228367257">(Mar 02 2021 at 07:48)</a>:</h4>
<p>Or you could just tell me where the code for ft_shot lives</p>



<a name="228368160"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228368160" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228368160">(Mar 02 2021 at 07:57)</a>:</h4>
<p>That is a function pointer.  It's set in src/librt/primitives/table.cpp</p>



<a name="228368258"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228368258" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228368258">(Mar 02 2021 at 07:58)</a>:</h4>
<p>function pointers are somewhat advanced concepts, but you can think of it as just a pointer to another function.</p>



<a name="228368295"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228368295" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228368295">(Mar 02 2021 at 07:58)</a>:</h4>
<p>so I could have a function like int foo() {printf("hello");}</p>



<a name="228368359"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228368359" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228368359">(Mar 02 2021 at 07:59)</a>:</h4>
<p>and I can create a variable like (int)(*bar)() = foo;</p>



<a name="228368379"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228368379" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228368379">(Mar 02 2021 at 07:59)</a>:</h4>
<p>and with that, I can now call bar() .. and it'll invoke foo()</p>



<a name="228368614"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228368614" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228368614">(Mar 02 2021 at 08:01)</a>:</h4>
<p>so ft_shot() is set to a different function for each object type, so for example there is ft_shot == rt_ell_shot which is defined in src/librt/primitives/ell/ell.c <br>
so when I call ft_shot() it calls that rt_ell_shot() function if it was an ell object</p>



<a name="228368639"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228368639" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228368639">(Mar 02 2021 at 08:01)</a>:</h4>
<p>Got it</p>



<a name="228368742"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228368742" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228368742">(Mar 02 2021 at 08:02)</a>:</h4>
<p>that table.cpp file is basically a big massive listing of functions that are getting set to function pointers</p>



<a name="228368761"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228368761" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228368761">(Mar 02 2021 at 08:02)</a>:</h4>
<p>as a simple way of registering what callback to call when a given entity id is encountered</p>



<a name="228416262"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228416262" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228416262">(Mar 02 2021 at 14:18)</a>:</h4>
<p>where is BoT on the opencl agenda? "advanced topic"?</p>



<a name="228424538"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228424538" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228424538">(Mar 02 2021 at 15:05)</a>:</h4>
<p>haven't prioritized any of the primitives yet because there's a few bits of the pipeline (boolean weaving) that still need to be done first.</p>
<p>I would probably put nurbs before bot myself, but anything getting converted is good.  we still have to sort out how to manage keeping multiple copies of implementation, or how to eliminate down to one.</p>



<a name="228438614"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228438614" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228438614">(Mar 02 2021 at 16:22)</a>:</h4>
<p>Just asking, can I reimplement an already converted primitive as well?</p>



<a name="228439358"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228439358" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228439358">(Mar 02 2021 at 16:27)</a>:</h4>
<p>I think you'd have to make a fairly compelling argument?</p>



<a name="228439840"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228439840" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228439840">(Mar 02 2021 at 16:30)</a>:</h4>
<p>Ohh okay</p>



<a name="228532235"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228532235" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228532235">(Mar 03 2021 at 04:06)</a>:</h4>
<p>Along with the unit test for boolweave could I work on something else parallelly, I want to take a break from that code :P</p>



<a name="228538838"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228538838" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228538838">(Mar 03 2021 at 05:22)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> haha, yeah, no I completely understand.  That's some really tough code.  Note you don't have to feel compelled to propose that task if there's another that ends up being more interesting.  Other projects that are also interesting are Qt GUI coding, Appleseed render integration, and support for annotations+labels+dimensions.</p>



<a name="228539627"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228539627" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228539627">(Mar 03 2021 at 05:33)</a>:</h4>
<p>you could try a task for one of them to see if they're more appealing, or I could just throw a task your way and you could see how you manage.  for example, we've had a user ask for an option to the dbconcat command (which lets you merge geometry files together) to not use a prefix or a suffix during import, but to instead have a flag that overwrites existing objects.  implementation is entirely in src/libged/concat/concat.cpp</p>



<a name="228548094"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228548094" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228548094">(Mar 03 2021 at 07:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/228538838">said</a>:</p>
<blockquote>
<p>That's some really tough code.  </p>
</blockquote>
<p>I feel better <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="228548281"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228548281" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228548281">(Mar 03 2021 at 07:29)</a>:</h4>
<p>This is quite interesting actually, but surely I would like to try out the other tasks as well, Though I feel working on the GUi is very important Im somehow not drawn to it that much, I would like to try a task for appleseed or annotation, which one is easier?</p>



<a name="228548577"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228548577" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228548577">(Mar 03 2021 at 07:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/228539627">said</a>:</p>
<blockquote>
<p>you could try a task for one of them to see if they're more appealing, or I could just throw a task your way and you could see how you manage.  for example, we've had a user ask for an option to the dbconcat command (which lets you merge geometry files together) to not use a prefix or a suffix during import, but to instead have a flag that overwrites existing objects.  implementation is entirely in src/libged/concat/concat.cpp</p>
</blockquote>
<p>Interesting, let me go through concat.cpp and let you know if I find it enthusing......Also does it help me go forward in GSoC prep because that's the main priority for now :P</p>



<a name="228605768"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228605768" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228605768">(Mar 03 2021 at 14:59)</a>:</h4>
<p>Annotation is probably easier overall and is completely unrelated to the performance work.  appleseed is related in that it involves shooting rays at geometry, but is definitely a lot more involved concepts to understand and an entirely separate API involved (appleseed's).</p>



<a name="228606111"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228606111" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228606111">(Mar 03 2021 at 15:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/228548577">said</a>:</p>
<blockquote>
<p>Interesting, let me go through concat.cpp and let you know if I find it enthusing......Also does it help me go forward in GSoC prep because that's the main priority for now :P</p>
</blockquote>
<p>I'm not sure what you mean by prep ... working on code and demonstrating you can be productive is the best prep you can do for gsoc.</p>



<a name="228632315"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228632315" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228632315">(Mar 03 2021 at 17:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/228606111">said</a>:</p>
<blockquote>
<p>working on code and demonstrating you can be productive is the best prep you can do for gsoc.</p>
</blockquote>
<p>Okay</p>



<a name="228632457"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228632457" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228632457">(Mar 03 2021 at 17:30)</a>:</h4>
<p>I checked out the code in concat.cpp and I feel this task is doable.</p>



<a name="228727243"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228727243" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228727243">(Mar 04 2021 at 07:11)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> it should just take you an hour or two but feel free to ask questions about our API for the bits you can't decipher what's going on.  There's a manual page for the command (run "man dbconcat" in mged or archer) to understand what the command does, but it basically lets you import another .g into the currently open .g.  Presently, it has options to apply a suffix or prefix when the object being imported already exists.  The goal is an option that overwrites the existing option. </p>
<p>Alternative patch needed on that same command is a dry run option that doesn't actually import anything, but says what it would do without the dry run option (i.e., import as-is, import with prefix/suffix, overwrite, skip, etc).</p>



<a name="228727784"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228727784" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228727784">(Mar 04 2021 at 07:18)</a>:</h4>
<p>I understood most of the code, I have an exam today so haven't really worked on it yet. Yeah, I will surely ask if I get stuck</p>



<a name="228728423"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228728423" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228728423">(Mar 04 2021 at 07:27)</a>:</h4>
<p>Another fun little project that might be of interest is writing a procedural geometry generator (i.e., a little app) that makes a shaderball.  You'd probably have to model one by hand first, then figure out how to repeat the modeling instructions in C/C++, letting the caller specify the shader and shader options from what's available.</p>



<a name="228728730"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228728730" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thusal Ranawaka <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228728730">(Mar 04 2021 at 07:31)</a>:</h4>
<p>(deleted)</p>



<a name="228728743"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228728743" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thusal Ranawaka <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228728743">(Mar 04 2021 at 07:31)</a>:</h4>
<p>(deleted)</p>



<a name="228728746"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228728746" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thusal Ranawaka <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228728746">(Mar 04 2021 at 07:32)</a>:</h4>
<p>(deleted)</p>



<a name="228729105"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228729105" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228729105">(Mar 04 2021 at 07:35)</a>:</h4>
<p>Heh, oops, that wasn't meant for you, <span class="user-mention" data-user-id="253014">@Thusal Ranawaka</span> sorry about that. haha</p>



<a name="228729192"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228729192" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thusal Ranawaka <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228729192">(Mar 04 2021 at 07:36)</a>:</h4>
<p><span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="228729308"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228729308" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228729308">(Mar 04 2021 at 07:38)</a>:</h4>
<p><span class="user-mention" data-user-id="276372">@Rishabh Suthar</span> Hey bud, you around?  There's a potential GSoC student (<span class="user-mention" data-user-id="353338">@Vikram Atreya</span>) possibly interested in picking up where you left off.  Any chance you can share/post your proposal?  The wiki only has your log and a now dead link to the abstract on Google's site (they clear the data every year).</p>



<a name="228829560"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228829560" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228829560">(Mar 04 2021 at 18:55)</a>:</h4>
<p>Am I restricted to use any letters for the flag? Could I assign "-o" for override?</p>



<a name="228849248"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228849248" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228849248">(Mar 04 2021 at 20:59)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  So I have a plan to do this but it involves putting a function call, that accomplishes the override, inside <code>get_new_name()</code> would that be okay?<br>
Or is it compulsory that the <code>get_new_name()</code> is restricted to giving a new name , because then it would make it harder for me to implement</p>



<a name="228884404"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228884404" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228884404">(Mar 05 2021 at 01:58)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> that's a big "it depends".  I would say that "get_new_name() has a very specific implication and you should not violate that if it's not going to get a new name.  That said, there's no problem renaming that function to "get_import_name()" or even simply "get_name()" or something similar that encompasses the logic for determining the name of the object.</p>



<a name="228884915"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228884915" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228884915">(Mar 05 2021 at 02:04)</a>:</h4>
<p>As for letters, -o is pretty universally 'output' so I wouldn't choose that first.</p>



<a name="228885144"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228885144" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228885144">(Mar 05 2021 at 02:07)</a>:</h4>
<p>The cp command has relevant options (-n and -i and -f)  so you could pattern after that, like making default to be overwrite, but then have a -n option to not overwrite.  Either way, it's a little tricky because it should definitely not write some objects and then halt mid import.</p>



<a name="228885349"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228885349" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228885349">(Mar 05 2021 at 02:09)</a>:</h4>
<p>A -r replace flag could work.</p>



<a name="228930524"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228930524" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228930524">(Mar 05 2021 at 10:25)</a>:</h4>
<p>When I'm overriding the object present in the file (which we are concat-ing to), I should kill the object right?</p>



<a name="228930747"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/228930747" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#228930747">(Mar 05 2021 at 10:26)</a>:</h4>
<p>And to kill an object can I call ged_kill or some other already written function to do it, or should I write the code to kill the object?</p>



<a name="229024399"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229024399" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229024399">(Mar 05 2021 at 21:03)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> I believe you can just export it an it'll overwrite the object.</p>



<a name="229024635"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229024635" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229024635">(Mar 05 2021 at 21:05)</a>:</h4>
<p>but you'll want to test that theory<br>
if that doesn't work or if it creates a duplicate and there's not a way aroun dit, you'll need to add the new object with a temp name, move old object to a temp name, rename the new object to the old object name, and THEN kill the old object.</p>



<a name="229062357"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229062357" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229062357">(Mar 06 2021 at 04:11)</a>:</h4>
<p>Okay got that<br>
Im going on a 2 day trip, will continue working on it from monday (for me)</p>



<a name="229117653"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229117653" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229117653">(Mar 06 2021 at 18:17)</a>:</h4>
<p>cool, have a good trip!  be careful of busses ;)</p>



<a name="229350943"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229350943" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229350943">(Mar 08 2021 at 18:37)</a>:</h4>
<p>Im back :)</p>



<a name="229350962"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229350962" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229350962">(Mar 08 2021 at 18:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/229024399">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> I believe you can just export it an it'll overwrite the object.</p>
</blockquote>
<p>How do i do this?</p>



<a name="229350983"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229350983" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229350983">(Mar 08 2021 at 18:37)</a>:</h4>
<p>Im not very clear on how to export</p>



<a name="229377334"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229377334" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229377334">(Mar 08 2021 at 21:29)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> grep -r _export src/libged</p>



<a name="229434912"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229434912" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229434912">(Mar 09 2021 at 07:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/229024399">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> I believe you can just export it an it'll overwrite the object.</p>
</blockquote>
<p>Nope, this is not the case, when I export it with the same name db_dircheck adds a prefix and exports it</p>



<a name="229435075"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229435075" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229435075">(Mar 09 2021 at 07:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/229024635">said</a>:</p>
<blockquote>
<p>but you'll want to test that theory<br>
if that doesn't work or if it creates a duplicate and there's not a way aroun dit, you'll need to add the new object with a temp name, move old object to a temp name, rename the new object to the old object name, and THEN kill the old object.</p>
</blockquote>
<p>Just a doubt, why cant I kill the old object first and then directly add the new object?</p>



<a name="229517990"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229517990" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229517990">(Mar 09 2021 at 17:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/228930747">said</a>:</p>
<blockquote>
<p>And to kill an object can I call ged_kill or some other already written function to do it, or should I write the code to kill the object?</p>
</blockquote>
<p>Any hints on this please</p>



<a name="229528334"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229528334" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229528334">(Mar 09 2021 at 18:30)</a>:</h4>
<p>If there is already a function which removes an object, you should use it. Maybe, not ged_kill() but the functions used there, like db_delete() and db_dirdelete().</p>
<p>However, I'm not sure if it is necessary to explicitly remove the object, wdb_export() seems to make this job implicitly. I created a database test.g with an arb8 test.s. Then, I run the following program on it:</p>
<div class="codehilite" data-code-language="C++"><pre><span></span><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="cp">#include</span> <span class="cpf">&lt;brlcad/Database/FileDatabase.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;brlcad/Database/Sphere.h&gt;</span><span class="cp"></span>


<span class="kt">int</span> <span class="nf">main</span>
<span class="p">(</span>
    <span class="kt">int</span>   <span class="n">argc</span><span class="p">,</span>
    <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[]</span>
<span class="p">){</span>
    <span class="kt">int</span>                  <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">BRLCAD</span><span class="o">::</span><span class="n">FileDatabase</span> <span class="n">database</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">database</span><span class="p">.</span><span class="n">Load</span><span class="p">(</span><span class="s">"test.g"</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">BRLCAD</span><span class="o">::</span><span class="n">Sphere</span> <span class="n">sphere</span><span class="p">;</span>

        <span class="n">sphere</span><span class="p">.</span><span class="n">SetName</span><span class="p">(</span><span class="s">"test.s"</span><span class="p">);</span>
        <span class="n">database</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">sphere</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Could not load file: "</span> <span class="o">&lt;&lt;</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>This doesn't mean that you have to use the C++ interface, but the method used there using wdb_export() could eventually do the job. You could write a program to test this out.</p>



<a name="229718518"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229718518" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229718518">(Mar 10 2021 at 18:35)</a>:</h4>
<p>Feels done, tried with few basic examples</p>



<a name="229719050"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229719050" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229719050">(Mar 10 2021 at 18:38)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> the issue with just killing and adding is leaving the tree irrecoverably corrupted if the task is interrupted (whether a bug or an abort signal or power loss, etc)</p>



<a name="229719131"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229719131" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229719131">(Mar 10 2021 at 18:39)</a>:</h4>
<p>Okay</p>



<a name="229719163"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229719163" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229719163">(Mar 10 2021 at 18:39)</a>:</h4>
<p>I did both db_delete() and db_dirdelete()</p>



<a name="229719176"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229719176" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229719176">(Mar 10 2021 at 18:39)</a>:</h4>
<p>Just saying</p>



<a name="229719314"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229719314" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229719314">(Mar 10 2021 at 18:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/229024635">said</a>:</p>
<blockquote>
<p>but you'll want to test that theory<br>
if that doesn't work or if it creates a duplicate and there's not a way aroun dit, you'll need to add the new object with a temp name, move old object to a temp name, rename the new object to the old object name, and THEN kill the old object.</p>
</blockquote>
<p>Will do this</p>



<a name="229719615"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229719615" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229719615">(Mar 10 2021 at 18:42)</a>:</h4>
<blockquote>
<p>This doesn't mean that you have to use the C++ interface, but the method used there using wdb_export() could eventually do the job. You could write a program to test this out.</p>
</blockquote>
<p>This is something we really need to figure out.  I'd love to use the C++ interface, but this is a libged function we're talking about.  Seems like we'd be introducing a potential cyclic dependency, or at least a deferred one (e.g., can't build some libged plugins until a second pass later).</p>



<a name="229719710"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229719710" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229719710">(Mar 10 2021 at 18:42)</a>:</h4>
<p>Also is it compulsory to do it in the order you have mentioned, like first if I rename the old object, add the new one with the correct name and then delete the old object. Does this work?</p>



<a name="229719794"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229719794" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229719794">(Mar 10 2021 at 18:43)</a>:</h4>
<p>We could maybe pull MOOSE in as a sub-project repository on 'brlcad' checkout and have it trigger after core libs, treating it like a 3rd party dependency...</p>



<a name="229720000"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229720000" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229720000">(Mar 10 2021 at 18:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/229719710">said</a>:</p>
<blockquote>
<p>Also is it compulsory to do it in the order you have mentioned, like first if I rename the old object, add the new one with the correct name and then delete the old object. Does this work?</p>
</blockquote>
<p>Yeah, that should work well enough for single object operations I think.</p>



<a name="229720265"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229720265" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229720265">(Mar 10 2021 at 18:46)</a>:</h4>
<p>what we really need is a transaction system where instead of doing the work, it just records a transcript of what is going to happen, then a second pass iterates over the transcript to do it all in a temp working space, and swaps the trees if it completely worked.</p>



<a name="229720389"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229720389" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229720389">(Mar 10 2021 at 18:47)</a>:</h4>
<p>that way, if there's a failure in processing or an I/O error or other interruption, we don't end up with corruption and it's either all there or none of it is there.</p>



<a name="229720445"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229720445" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229720445">(Mar 10 2021 at 18:47)</a>:</h4>
<p>could then have an incremental option to apply objects or changes one at a time instead of transactionally if there were some reason for doing so.</p>



<a name="229720573"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229720573" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229720573">(Mar 10 2021 at 18:48)</a>:</h4>
<p>Yeah, I get your point</p>



<a name="229721028"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229721028" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229721028">(Mar 10 2021 at 18:51)</a>:</h4>
<p>Sounds a little complex to implement but doable, is this something I should work upon next or do I go back to boolweave/ smthng more related to the OpenCL project?</p>



<a name="229721324"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229721324" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229721324">(Mar 10 2021 at 18:52)</a>:</h4>
<p>working on libged is a completely different scope, would be a different project altogether -- and a good one</p>



<a name="229721441"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229721441" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229721441">(Mar 10 2021 at 18:53)</a>:</h4>
<p>Is there a project on libged, I seem to have missed it in the ideas/past projects?</p>



<a name="229721546"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229721546" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229721546">(Mar 10 2021 at 18:54)</a>:</h4>
<p>Working on this is quite interesting as well</p>



<a name="229721642"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229721642" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229721642">(Mar 10 2021 at 18:54)</a>:</h4>
<p>no, libged is central to our core development that it's actively changing.  it's the most frequently edited place in the code right now.</p>



<a name="229721753"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229721753" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229721753">(Mar 10 2021 at 18:55)</a>:</h4>
<p>that's part why there's not a specific write-up for it, the other is that it begs for a good bit of understanding of the other libs, or at least of modern design patterns</p>



<a name="229721816"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229721816" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229721816">(Mar 10 2021 at 18:55)</a>:</h4>
<p>see src/libged/README (particularly the TODO lines) and src/libged/TODO for some ideas that have been written down on what is needed next</p>



<a name="229722069"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229722069" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229722069">(Mar 10 2021 at 18:57)</a>:</h4>
<p>Okay, So I could make a proposal combining few important TODO issues and tackle them as part of my GSoC project?</p>



<a name="229722849"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229722849" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229722849">(Mar 10 2021 at 19:01)</a>:</h4>
<p>You most certainly could.</p>



<a name="229722925"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229722925" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229722925">(Mar 10 2021 at 19:02)</a>:</h4>
<p>you'll have to learn which are 'next' and demonstrate familiarity</p>



<a name="229723380"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229723380" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229723380">(Mar 10 2021 at 19:04)</a>:</h4>
<p>Ohkay, this one feels more in-sight rather than the OpenCL project.</p>



<a name="229723391"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229723391" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229723391">(Mar 10 2021 at 19:04)</a>:</h4>
<p>I will try to finish the basic override command for dbconcat and look into other TODO issues. Maybe I could propose the transcript + second tree for GSoC as one of the tasks that I will do</p>



<a name="229726491"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229726491" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229726491">(Mar 10 2021 at 19:22)</a>:</h4>
<p>the two biggest needs for libged are proper plugin version management and transactions, with the latter arguably being more important.  We really need to be able to run a command, interrupt it with a ctrl-C, and not have bad things happen.</p>



<a name="229726495"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229726495" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229726495">(Mar 10 2021 at 19:22)</a>:</h4>
<p>The ability to interrupt commands in mged and archer become additional challenges.</p>



<a name="229727133"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229727133" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229727133">(Mar 10 2021 at 19:26)</a>:</h4>
<p>Dont know what plugins in BRLCAD are as of now, but yeah I surely could add the transactions feature to a some cmds during GSoC :)</p>



<a name="229739352"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229739352" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229739352">(Mar 10 2021 at 20:35)</a>:</h4>
<p>libged commands are intended to be plugins.  that's the approach we came up with for them to be fully interruptible, synchronous or asynchronous, and protect the main process from crashes/bugs</p>



<a name="229739587"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229739587" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229739587">(Mar 10 2021 at 20:37)</a>:</h4>
<p>it also lets us support commands that link against GPL functionality without creating a derivative work if we get to on-demand downloading/updating of plugins</p>



<a name="229739732"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229739732" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229739732">(Mar 10 2021 at 20:37)</a>:</h4>
<p>but most important is simply the ability to ctrl-C a command and 1) have it stop the command and 2) have it not corrupt the db or leave trash</p>



<a name="229761041"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229761041" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229761041">(Mar 10 2021 at 22:45)</a>:</h4>
<p>will mged no longer have valid sigint behaviors, just 'pass through if running subcmd'?</p>



<a name="229761979"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229761979" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229761979">(Mar 10 2021 at 22:53)</a>:</h4>
<p><span class="user-mention" data-user-id="103542">@Erik</span> what do you mean?  wtf is a "valid" behavior? heh.  mged already does some fairly complicated handling of SIGINT..</p>



<a name="229762056"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229762056" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229762056">(Mar 10 2021 at 22:53)</a>:</h4>
<p>I think sigint is typically ignored presently while a command is running.  If of course would be better if sigint stopped the command.</p>



<a name="229762389"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229762389" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229762389">(Mar 10 2021 at 22:56)</a>:</h4>
<p>no idea :D thinking vim and emacs have some mgmt of sigint for subprocs, should probably not be too far off from them? <em>shrug</em> I'm just makin' noise <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="229897030"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229897030" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229897030">(Mar 11 2021 at 18:02)</a>:</h4>
<p>For the temporary names that I will be assigning to the old objects, is there some convention that I will have to follow , if not i was thinking of going with asdfgh_(number)</p>



<a name="229900841"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229900841" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229900841">(Mar 11 2021 at 18:26)</a>:</h4>
<p>Done :)</p>



<a name="229900970"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229900970" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229900970">(Mar 11 2021 at 18:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/229897030">said</a>:</p>
<blockquote>
<p>For the temporary names that I will be assigning to the old objects, is there some convention that I will have to follow , if not i was thinking of going with asdfgh_(number)</p>
</blockquote>
<p>If this needs to be changed can be done within a min<br>
Also I have tested with a basic example as of now</p>



<a name="229981717"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229981717" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229981717">(Mar 12 2021 at 06:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/229897030">said</a>:</p>
<blockquote>
<p>For the temporary names that I will be assigning to the old objects, is there some convention that I will have to follow , if not i was thinking of going with asdfgh_(number)</p>
</blockquote>
<p>There isn't anything consistent but there are a number of commands that do something similar to pick a temporary name.  Some are as simple (and weak) as adding .tmp suffix.  Others had a prefix like ___analyze_cmd_intersect_tmp_obj__ ... if you recursively search on tmpnam in src/libged, you'll find those and others.</p>



<a name="229982243"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229982243" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229982243">(Mar 12 2021 at 06:15)</a>:</h4>
<p>I suggest using something meaningful, descriptive, and unlikely to ever be pre-existing.  Even better if you test for pre-existing before doing work.  You will want to add some sanity checks at least, like to make sure that the tmp object doesn't already exist, testing that the write succeeded, etc.</p>



<a name="229984128"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/229984128" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#229984128">(Mar 12 2021 at 06:39)</a>:</h4>
<p>If you really want to make it robust, you can call bu_uuid_create() to create a v4 SHA.  That hash string will be random and effectively unique.  could couple it within a prefix like you were thinking, like __dbconcat_SHA__.</p>



<a name="230227736"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230227736" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230227736">(Mar 14 2021 at 10:00)</a>:</h4>
<p>Thinking about this, if I generate random names for temp objects , I will have to store them as I am deleting them at the end after adding all new objects,  I feel the best approach would be to go with <code>__dbconcat_temp_object_no_01__</code>, while adding a check that the name isnt presen't in the database already  since there is barely any chance of a name being given as follows</p>



<a name="230261997"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230261997" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230261997">(Mar 14 2021 at 19:20)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> should I create a patch?</p>



<a name="230292738"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230292738" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230292738">(Mar 15 2021 at 04:08)</a>:</h4>
<p>Next could I work on the <code>TODO: automatic help flag recognition</code> ?</p>



<a name="230410148"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230410148" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230410148">(Mar 15 2021 at 20:09)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> whenever you completed implementing, testing, and documenting (if relevant) a change, a patch should be created.  In fact, you can create a patch at intermediate steps as well, just be sure to make it clear that it's a work-in-progress and that you'll be submitting an update.</p>



<a name="230456343"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230456343" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230456343">(Mar 16 2021 at 03:50)</a>:</h4>
<p>Creating the patch rn<br>
So what could i work on next?</p>



<a name="230456400"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230456400" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230456400">(Mar 16 2021 at 03:51)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> you could prove that your flag works</p>



<a name="230456468"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230456468" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230456468">(Mar 16 2021 at 03:52)</a>:</h4>
<p>Okay<br>
I'll send screenshots of the tests that I did</p>



<a name="230456498"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230456498" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230456498">(Mar 16 2021 at 03:53)</a>:</h4>
<p>screenshot would be great to see, but I mean you could create a unit/integration test for it that demonstrates it working as it should.  the dbupgrade command is in production use, so we'll need to be really sure it does what it's supposed to and doesn't do what it's not supposed to, particularly when inputs are error conditions.</p>



<a name="230456679"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230456679" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230456679">(Mar 16 2021 at 03:57)</a>:</h4>
<p>example test #1 might be to create a db1.g with object A and db2.g with object B, then dbconcat db2.g into db1.g; should result in db1.g containing an A and a B object.  second time might be objects A, B in db1.g and repeat the same concat; should result in db1.g still containing A and B, but B from db2.g should have replaced db1's B.</p>



<a name="230456766"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230456766" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230456766">(Mar 16 2021 at 03:58)</a>:</h4>
<p>there are a variety of different types of tests you could implement, but here's an example you could follow easily enough: src/libged/tests/test_tops.c</p>



<a name="230456788"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230456788" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230456788">(Mar 16 2021 at 03:59)</a>:</h4>
<p>if that's too hard but you know how to write a shell script, you could demonstrate it working that way instead</p>



<a name="230456944"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230456944" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230456944">(Mar 16 2021 at 04:01)</a>:</h4>
<p>Let me see test_tops.c if I feel its too hard, I can write a shell script</p>



<a name="230457031"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230457031" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230457031">(Mar 16 2021 at 04:02)</a>:</h4>
<p>a relevant shell script example is in regress/bots/bots.sh</p>



<a name="230457234"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230457234" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230457234">(Mar 16 2021 at 04:06)</a>:</h4>
<p>Created a patch for now</p>



<a name="230457243"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230457243" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230457243">(Mar 16 2021 at 04:06)</a>:</h4>
<p>Will test and post updates here</p>



<a name="230457405"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230457405" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230457405">(Mar 16 2021 at 04:09)</a>:</h4>
<p>ultimately, you want to show how dbconcat behaves with and without the flag as well as without and with name collisions.  includes a simple example like the B into A example as well as A into A and a multi-object partial merging like A/B/C into C'/D'/E' -- does it end up with ABCD'E'?</p>



<a name="230457475"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230457475" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230457475">(Mar 16 2021 at 04:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230457234">said</a>:</p>
<blockquote>
<p>Created a patch for now</p>
</blockquote>
<p>That's great.  I'll see if I can get you some feedback on it here soon.</p>



<a name="230457481"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230457481" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230457481">(Mar 16 2021 at 04:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230457405">said</a>:</p>
<blockquote>
<p>ultimately, you want to show how dbconcat behaves with and without the flag as well as without and with name collisions.  includes a simple example like the B into A example as well as A into A and a multi-object partial merging like A/B/C into C'/D'/E' -- does it end up with ABCD'E'?</p>
</blockquote>
<p>Yeah I have tested all these manually</p>



<a name="230457575"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230457575" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230457575">(Mar 16 2021 at 04:12)</a>:</h4>
<p>More advanced testing would be to combine flags and make sure behavior is correct, like adding a prefix and overwriting.</p>



<a name="230457612"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230457612" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230457612">(Mar 16 2021 at 04:13)</a>:</h4>
<p>like if db1.g has preA and db2 has A and you import with overwrite and prefix 'pre', does it end up with db2's A named as preA?</p>



<a name="230457906"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230457906" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230457906">(Mar 16 2021 at 04:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230457612">said</a>:</p>
<blockquote>
<p>like if db1.g has preA and db2 has A and you import with overwrite and prefix 'pre', does it end up with db2's A named as preA?</p>
</blockquote>
<p>I did not do it this way, you can either add a suffix, prefix or override according to my implementation</p>



<a name="230457926"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230457926" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230457926">(Mar 16 2021 at 04:19)</a>:</h4>
<p>When you use the override flag, it override anything that has the same name, all the prefix suffix code is skipped</p>



<a name="230457983"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230457983" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230457983">(Mar 16 2021 at 04:20)</a>:</h4>
<p>&lt;deleted&gt;</p>



<a name="230458045"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230458045" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230458045">(Mar 16 2021 at 04:21)</a>:</h4>
<p>Maybe as the next step (later on), I could make the flag overwrite only objects that are specified after the flag</p>



<a name="230531076"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230531076" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230531076">(Mar 16 2021 at 15:18)</a>:</h4>
<p>Sure, whatever the behavior is defined to be -- the point was just to make sure it's tested.  So if someone tries to add a prefix and overwrite, I would expect it to abort and not modify the database since it'd be bad arguments.</p>



<a name="230545888"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230545888" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230545888">(Mar 16 2021 at 16:29)</a>:</h4>
<p>I understood how they have written tests but how do i run that specific test?</p>



<a name="230646937"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230646937" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230646937">(Mar 17 2021 at 07:12)</a>:</h4>
<p>In the test script there is a line <br>
<code>  MGED ="`ensearch mged`"   </code><br>
What is ensearch here?</p>



<a name="230653770"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230653770" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230653770">(Mar 17 2021 at 08:19)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I have written a script where a rhc is overwritten by a sphere. Initally I tried to get the height of the cylinder and then the radius of the same object after dbconcat. So if we get the radius successfully it means the test has passed. Is this a valid test?<br>
<a href="/user_uploads/1549/_nkrcTanoH6Jej2elA4SoMMX/dbupgrade_test.sh">dbupgrade_test.sh</a></p>



<a name="230665626"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230665626" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230665626">(Mar 17 2021 at 10:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230457405">said</a>:</p>
<blockquote>
<p>A/B/C into C'/D'/E' -- does it end up with ABCD'E'?</p>
</blockquote>
<p>Implemeted this example as a test in the following file: <a href="/user_uploads/1549/7CICFNsZ-FLapYbEviJUmSuR/dbupgrade_test_2.sh">dbupgrade_test_2.sh</a></p>



<a name="230811199"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230811199" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230811199">(Mar 18 2021 at 04:06)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> see regress/library.sh ... ensearch() is basically a helper function that finds the path to mged, looking in the expected build/install locations.</p>



<a name="230811865"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230811865" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230811865">(Mar 18 2021 at 04:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230665626">said</a>:</p>
<blockquote>
<p>Implemeted this example as a test in the following file: <a href="/user_uploads/1549/7CICFNsZ-FLapYbEviJUmSuR/dbupgrade_test_2.sh">dbupgrade_test_2.sh</a></p>
</blockquote>
<p>These look really good!  If you can clean them up a bit (e.g., file header is still <a href="http://bot.sh">bot.sh</a>) and make them a proper patch in regress/libged/dbconcat or similar subdirectory so they actually run, we could hook this all together. </p>
<p>Can you think of any other useful cases or conditions to test?</p>



<a name="230813952"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230813952" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230813952">(Mar 18 2021 at 04:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230811865">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230665626">said</a>:</p>
<blockquote>
<p>Implemeted this example as a test in the following file: <a href="/user_uploads/1549/7CICFNsZ-FLapYbEviJUmSuR/dbupgrade_test_2.sh">dbupgrade_test_2.sh</a></p>
</blockquote>
<p>If you can clean them up a bit (e.g., file header is still <a href="http://bot.sh">bot.sh</a>) </p>
</blockquote>
<p><span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> Will do right away</p>



<a name="230814042"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230814042" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230814042">(Mar 18 2021 at 04:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230811865">said</a>:</p>
<blockquote>
<p>Can you think of any other useful cases or conditions to test?</p>
</blockquote>
<p>One where the -r flag is used but none of the names match<br>
Other than this i cant think of anything specific to the -r flag</p>



<a name="230814623"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230814623" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230814623">(Mar 18 2021 at 05:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230811865">said</a>:</p>
<blockquote>
<p>regress/libged/dbconcat</p>
</blockquote>
<p>There isnt a libged directory in regress, So should i create one or just directly put it in regress?</p>



<a name="230921548"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230921548" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230921548">(Mar 18 2021 at 19:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230814623">said</a>:</p>
<blockquote>
<p>There isnt a libged directory in regress, So should i create one or just directly put it in regress?</p>
</blockquote>
<p>If you were motivated to convert them into C/C++, they really belong in src/libged/tests ... that would ensure the test runs continuously on Windows too.  As shell scripts, though, they belong in regress and should be in a subdir somewhere meaningful since there are 2+ of them.</p>



<a name="230921847"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230921847" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230921847">(Mar 18 2021 at 19:11)</a>:</h4>
<p>One more option could be to merge them into 1  shell script</p>



<a name="230922396"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230922396" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230922396">(Mar 18 2021 at 19:15)</a>:</h4>
<p>I could convert them into C/C++ but I couldn't understand how to run the specific test</p>



<a name="230923725"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230923725" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230923725">(Mar 18 2021 at 19:25)</a>:</h4>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>morrison@agua .build % ctest -R ged_test_tops_moss
Test project /Users/morrison/brlcad.RELEASE/.build
    Start 874: ged_test_tops_moss
1/1 Test #874: ged_test_tops_moss ...............   Passed    0.30 sec

100% tests passed, 0 tests failed out of 1

Total Test time (real) =   0.40 sec
</code></pre></div>



<a name="230923749"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230923749" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230923749">(Mar 18 2021 at 19:25)</a>:</h4>
<p>ged_test_tops_moss is declared in src/libged/tests/CMakeLists.txt</p>



<a name="230923814"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230923814" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230923814">(Mar 18 2021 at 19:26)</a>:</h4>
<p>it creates the test binary and defines a test target -- that's all that's needed</p>



<a name="230923886"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230923886" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230923886">(Mar 18 2021 at 19:27)</a>:</h4>
<p>lots of other examples in other src/lib*/tests/CMakeLists.txt directory unit tests</p>



<a name="230925721"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230925721" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230925721">(Mar 18 2021 at 19:40)</a>:</h4>
<p>Will try to implement the test in C/C++</p>



<a name="230925762"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230925762" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230925762">(Mar 18 2021 at 19:40)</a>:</h4>
<p>And what could I work on next?</p>



<a name="230933457"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230933457" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230933457">(Mar 18 2021 at 20:37)</a>:</h4>
<p>Opened a patch for now with both tests merged into 1 script</p>



<a name="230971530"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230971530" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230971530">(Mar 19 2021 at 03:42)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> there are limitless possibilities.  if you ask me, I'll keep testing your abilities with incrementally more difficult challenges.  So far you're doing great ;)</p>



<a name="230971655"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230971655" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230971655">(Mar 19 2021 at 03:44)</a>:</h4>
<p>you could try your hand at something fun and creative -- like creating a model of something (beginner: via mged, advanced: via code)</p>



<a name="230971717"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230971717" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230971717">(Mar 19 2021 at 03:45)</a>:</h4>
<p>or you could see how you do at a technical task like debugging any of the BUGS file issues.  here's a recent relatively tractable one: <br>
"running rt -C255/0/0 -o file.pix ... does not result in the background color getting used.  It does work with -F file.pix, going through libfb instead of libicv"</p>



<a name="230972531"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230972531" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230972531">(Mar 19 2021 at 03:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230971717">said</a>:</p>
<blockquote>
<p>or you could see how you do at a technical task like debugging any of the BUGS file issues.  here's a recent relatively tractable one: <br>
"running rt -C255/0/0 -o file.pix ... does not result in the background color getting used.  It does work with -F file.pix, going through libfb instead of libicv"</p>
</blockquote>
<p>Sure I could work on this, but I am thinking of writing a proposal for libged so shud I focus more on coding related to libged as I'll also gain experience to write my proposal?</p>



<a name="230972839"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230972839" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230972839">(Mar 19 2021 at 04:01)</a>:</h4>
<p>Coz as of now I feel a that I dont have all the  knowledge required to write a good proposal for libged</p>



<a name="230973243"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230973243" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230973243">(Mar 19 2021 at 04:07)</a>:</h4>
<p>And regarding that I also wanted to ask if I could propose any of these ideas for GSoC:<br>
1) Transaction for dbupgrade<br>
2) Implementing the undo command at least for 1 time from present state<br>
3) Implement the help flag for all major commands<br>
4) Implement the array command - its like a command for creating patterns right?</p>
<p>If there are more important tasks in libged which are doable within the GSoC timeline please do suggest</p>



<a name="230984725"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230984725" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230984725">(Mar 19 2021 at 07:22)</a>:</h4>
<p>As demonstrated by your recent patch work, I'm sure you will be able to write a good proposal regardless.</p>



<a name="230984761"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230984761" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230984761">(Mar 19 2021 at 07:23)</a>:</h4>
<p>That said, you could certainly propose any of those for GSoC or a combination of them (as a couple aren't that complicated).</p>



<a name="230984792"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230984792" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230984792">(Mar 19 2021 at 07:23)</a>:</h4>
<p>Yeah i was planning for a combination of any 2 or 3</p>



<a name="230984857"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230984857" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230984857">(Mar 19 2021 at 07:24)</a>:</h4>
<p>With regard to libged priorities, interruptibility and undo are near the top.  Transactions are closely related to both and may be required to implement them properly.</p>



<a name="230984942"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230984942" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230984942">(Mar 19 2021 at 07:26)</a>:</h4>
<p>There are certainly shorter-term solutions to undo that are possible without transactions that might be worth implementing.</p>



<a name="230985105"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985105" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985105">(Mar 19 2021 at 07:28)</a>:</h4>
<p>I also had this doubt, when applying transactions will it be 1 implementation for all commands or for every command it will have to be done separately?</p>



<a name="230985269"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985269" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985269">(Mar 19 2021 at 07:31)</a>:</h4>
<p>I think that's a big "it depends"</p>



<a name="230985279"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985279" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985279">(Mar 19 2021 at 07:31)</a>:</h4>
<p>ideally 1 implementation of course</p>



<a name="230985299"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985299" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985299">(Mar 19 2021 at 07:31)</a>:</h4>
<p>but it's entirely likely that all commands will have to be adapted or updated</p>



<a name="230985450"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985450" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985450">(Mar 19 2021 at 07:33)</a>:</h4>
<p>I was thinking maybe at the function call level, we make the transaction, where every cmd entered first affects a copy of the db and then the db is just replaced. By that the code for the cmds never has to get affected</p>



<a name="230985564"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985564" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985564">(Mar 19 2021 at 07:34)</a>:</h4>
<p>so for example, the cp command that copies an object.  it reads an object, it writes an object.  instead, it may need to generate read/write _events_ and let a general parent routine do the actual read/write.</p>



<a name="230985623"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985623" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985623">(Mar 19 2021 at 07:35)</a>:</h4>
<p>perhaps a 'copy' event instead of read/write, there is some design discovery needed</p>



<a name="230985699"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985699" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985699">(Mar 19 2021 at 07:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230985450">said</a>:</p>
<blockquote>
<p>I was thinking maybe at the function call level, we make the transaction, where every cmd entered first affects a copy of the db and then the db is just replaced. By that the code for the cmds never has to get affected</p>
</blockquote>
<p>that's a good approach and I've had similar thoughts .. BUT</p>



<a name="230985726"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985726" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985726">(Mar 19 2021 at 07:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230985564">said</a>:</p>
<blockquote>
<p>it may need to generate read/write _events_ and let a general parent routine do the actual read/write.</p>
</blockquote>
<p>Dint get u from here. Maybe ill have to surf through the code to understand properly</p>



<a name="230985759"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985759" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985759">(Mar 19 2021 at 07:37)</a>:</h4>
<p>you have to know / keep in mind that a database can be 10GB in size.  single objects can be several GB, and it needs to take that constraint into consideration without introducing non-interactive pauses.</p>



<a name="230985823"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985823" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985823">(Mar 19 2021 at 07:38)</a>:</h4>
<p>there's nothing to surf through the code to understand really.. think about it like the unix cp command</p>



<a name="230985851"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985851" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985851">(Mar 19 2021 at 07:38)</a>:</h4>
<p>when you copy a file, say you 'cp a b' ... it obviously opens a, reads it, opens b, writes it, yes?</p>



<a name="230985856"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985856" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985856">(Mar 19 2021 at 07:38)</a>:</h4>
<p>Yeah</p>



<a name="230985954"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230985954" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230985954">(Mar 19 2021 at 07:40)</a>:</h4>
<p>well say we wanted to make 100% sure that neither a nor b are ever corrupted, even if the power plug was pulled out randomly</p>



<a name="230986007"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986007" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986007">(Mar 19 2021 at 07:41)</a>:</h4>
<p>for the most part, the operating system and sometimes the file system can help, but assume they didn't...</p>



<a name="230986036"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986036" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986036">(Mar 19 2021 at 07:41)</a>:</h4>
<p>what would you do to ensure that the operation is always error-free</p>



<a name="230986161"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986161" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986161">(Mar 19 2021 at 07:43)</a>:</h4>
<p>you would probably implement a system like what some file systems use, a transaction log -- where you'd modify cp to create a read event and a write event.  the events are written to a ledger, then actually performed, then the ledger is updated.</p>



<a name="230986223"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986223" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986223">(Mar 19 2021 at 07:44)</a>:</h4>
<p>Hmm yeah</p>



<a name="230986265"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986265" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986265">(Mar 19 2021 at 07:45)</a>:</h4>
<p>that way if anything ever goes wrong (say cp crashes or you lose power), you can look at the ledger and fix it automatically (for example) or undo the partial changes etc</p>



<a name="230986315"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986315" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986315">(Mar 19 2021 at 07:45)</a>:</h4>
<p>cp is overly simple of course, but the concept extends to much more complicated and longer-running commands or compound commands (commands that call many other commands)</p>



<a name="230986556"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986556" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986556">(Mar 19 2021 at 07:48)</a>:</h4>
<p>But undoing might not be possible by retracing steps back for many commands right?</p>



<a name="230986566"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986566" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986566">(Mar 19 2021 at 07:48)</a>:</h4>
<p>It's worth mentioning that there is an alternative to event-based transactions.  We could create an in-memory copy of the .g file, let commands work on it directly so we don't have to modify their code, and then write out the in-memory objects that changed to the on-disk database.</p>



<a name="230986588"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986588" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986588">(Mar 19 2021 at 07:49)</a>:</h4>
<p>Lets say db -r was half way done, even if we know that overwritten objects cant be restored right?</p>



<a name="230986614"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986614" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986614">(Mar 19 2021 at 07:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230986566">said</a>:</p>
<blockquote>
<p>It's worth mentioning that there is an alternative to event-based transactions.  We could create an in-memory copy of the .g file, let commands work on it directly so we don't have to modify their code, and then write out the in-memory objects that changed to the on-disk database.</p>
</blockquote>
<p>This was what I was thinking, as undoing complex cmds by retracing steps back is very tough</p>



<a name="230986617"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986617" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986617">(Mar 19 2021 at 07:49)</a>:</h4>
<p>I wouldn't mix undo and transactions.. they're different concepts.</p>



<a name="230986660"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986660" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986660">(Mar 19 2021 at 07:50)</a>:</h4>
<p>Okay</p>



<a name="230986692"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986692" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986692">(Mar 19 2021 at 07:50)</a>:</h4>
<p>if a transaction doesn't complete, that's not something a user would "undo".  the transaction system can and should automatically ensure that either the whole transaction was successful or none of it was.</p>



<a name="230986789"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986789" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986789">(Mar 19 2021 at 07:52)</a>:</h4>
<p>Got it<br>
My thoughts got intertwined between undo and transactions for a min</p>



<a name="230986860"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986860" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986860">(Mar 19 2021 at 07:53)</a>:</h4>
<p>transactions will likely either need to use the two-file approach (inefficient, slow, but very easy to implement) or a ledger approach (efficient, fast, but a little harder to implement)</p>



<a name="230986954"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986954" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986954">(Mar 19 2021 at 07:54)</a>:</h4>
<p>now once a transaction or command completes, that is something that we'll want to be able to undo.  that can be achieved by keeping copies of objects in an undo cache.</p>



<a name="230986978"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230986978" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230986978">(Mar 19 2021 at 07:55)</a>:</h4>
<p>and an undo ledger</p>



<a name="230987064"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230987064" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230987064">(Mar 19 2021 at 07:56)</a>:</h4>
<p>Yeah, we could undo simple commands by retracing steps back but for complex cmds it would be better to use an undo cache</p>



<a name="230988052"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230988052" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230988052">(Mar 19 2021 at 08:10)</a>:</h4>
<p>yes that's where a ledger is critical because only operations that change object internals would need to be saved as copies.  the rest could just save the event like "a was renamed to b" and "applied matrix to c"</p>



<a name="230993706"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/230993706" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#230993706">(Mar 19 2021 at 09:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/230971717">said</a>:</p>
<blockquote>
<p>"running rt -C255/0/0 -o file.pix ... does not result in the background color getting used.  It does work with -F file.pix, going through libfb instead of libicv"</p>
</blockquote>
<p>I'll start working on this and parallelly make my proposal, I shud be able  to make a first draft by Sun night</p>



<a name="231132450"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231132450" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231132450">(Mar 20 2021 at 08:38)</a>:</h4>
<p>I tried <code>rt -C255/0/0  -o file.pix</code> and <code>rt -C255/0/0  -F file2.pix</code> then converted both files to png using the pic-png command<br>
I see that both of them have the right background. Am I missing something here?</p>



<a name="231144860"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231144860" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231144860">(Mar 20 2021 at 12:57)</a>:</h4>
<p>s/ledger/journal/g if ya'll want to stick with the 'normal' words :)<br>
I have vague recollection of a couple "special" input colors that were treated unusually... very well may be misrecollection :) 'color keyed' states... (hopefully removed, may still be lingering bits, if I'm not off in the weeds?)</p>



<a name="231155382"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231155382" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231155382">(Mar 20 2021 at 16:17)</a>:</h4>
<p>Pardon me, but I didn't get what you are saying.  What/Where is <code>s/ledger/journal/g</code> and where can I find the <code>color keyed</code> states</p>



<a name="231163129"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231163129" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mahmoud Hammad <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231163129">(Mar 20 2021 at 18:33)</a>:</h4>
<p>Hello everyone!<br>
I'm interested in Computer graphics, and familiar with Three.js ,WebGL, and Javascript,<br>
I had the pleasure to create these projects <a href="https://drive.google.com/drive/folders/1HfHAKOdryzF5XSM4wupNh8IC-2FczkJN">https://drive.google.com/drive/folders/1HfHAKOdryzF5XSM4wupNh8IC-2FczkJN</a><br>
and I am looking to do more by contributing on the OGV project <a href="https://github.com/opencax/GSoC/issues/26">https://github.com/opencax/GSoC/issues/26</a></p>



<a name="231163467"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231163467" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mahmoud Hammad <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231163467">(Mar 20 2021 at 18:38)</a>:</h4>
<p>I found that the last commit on the OGV project was 2 years ago!, so Please let me know if this project has a priority on GSoC21</p>



<a name="231163822"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231163822" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231163822">(Mar 20 2021 at 18:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231155382">said</a>:</p>
<blockquote>
<p>Pardon me, but I didn't get what you are saying.  What/Where is <code>s/ledger/journal/g</code> and where can I find the <code>color keyed</code> states</p>
</blockquote>
<p>Nevermind the "What/Where is s/../../g" , havent seen that notation before . Now I know its find and replace <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="231377031"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231377031" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231377031">(Mar 22 2021 at 20:12)</a>:</h4>
<p>For making my proposal I wanted to know how the calls are made from us typing the command in mged till the whatever command 's code is executed. Could someone guide me regarding this or point me to some documentation</p>



<a name="231537120"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231537120" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231537120">(Mar 23 2021 at 20:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231132450">said</a>:</p>
<blockquote>
<p>I tried <code>rt -C255/0/0  -o file.pix</code> and <code>rt -C255/0/0  -F file2.pix</code> then converted both files to png using the pic-png command<br>
I see that both of them have the right background. Am I missing something here?</p>
</blockquote>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> you're not missing anything.  You say those  both result in a red background?</p>



<a name="231537262"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231537262" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231537262">(Mar 23 2021 at 20:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="103542">Erik</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231144860">said</a>:</p>
<blockquote>
<p>s/ledger/journal/g if ya'll want to stick with the 'normal' words :)</p>
</blockquote>
<p>Pfffft.  Normalshmormal.</p>



<a name="231537467"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231537467" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231537467">(Mar 23 2021 at 20:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="399243">Mahmoud Hammad</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231163467">said</a>:</p>
<blockquote>
<p>I found that the last commit on the OGV project was 2 years ago!, so Please let me know if this project has a priority on GSoC21</p>
</blockquote>
<p>Hello <span class="user-mention" data-user-id="399243">@Mahmoud Hammad</span>.  OGV and related projects like the Benchmark Database and Materials Database are always excellent projects to propose for someone excited by them and willing to take them to their next level.</p>



<a name="231537671"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231537671" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231537671">(Mar 23 2021 at 20:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231537120">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> you're not missing anything.  You say those  both result in a red background?</p>
</blockquote>
<p>yeah , both of them are in red backgrounf</p>



<a name="231537904"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231537904" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231537904">(Mar 23 2021 at 20:24)</a>:</h4>
<p>So either the bug is platform or compilation-specific or got fixed at some point...</p>



<a name="231537930"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231537930" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231537930">(Mar 23 2021 at 20:25)</a>:</h4>
<p>I'll see if I can reproduce it.</p>



<a name="231537959"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231537959" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231537959">(Mar 23 2021 at 20:25)</a>:</h4>
<p>Okay</p>



<a name="231541769"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231541769" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231541769">(Mar 23 2021 at 20:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231377031">said</a>:</p>
<blockquote>
<p>For making my proposal I wanted to know how the calls are made from us typing the command in mged till the whatever command 's code is executed. Could someone guide me regarding this or point me to some documentation</p>
</blockquote>
<p>Any ping on this plz</p>



<a name="231572684"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231572684" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231572684">(Mar 24 2021 at 02:17)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> that is a bit hard to follow, so no worries.  how calls are made is typically as follows...</p>



<a name="231572884"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231572884" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231572884">(Mar 24 2021 at 02:20)</a>:</h4>
<p>in main() in src/mged/mged.c you'll see mged_setup() is called,<br>
and in there cmd_setup() is called,<br>
and in there you'll see iterates over an mged_cmdtab table.<br>
that table is the mapping of a command's name (e.g., 'ls') and its function (e.g., ged_ls)</p>



<a name="231572967"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231572967" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231572967">(Mar 24 2021 at 02:21)</a>:</h4>
<p>those strings are actually registered with a Tcl interpreter and then cause the function to be automatically called whenever the command's name is provided for evaluation.</p>



<a name="231573211"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231573211" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231573211">(Mar 24 2021 at 02:24)</a>:</h4>
<p>once that happens, nearly the rest of the magic is handled automatically by Tcl.  we display a prompt (e.g., "mged&gt; ") and when a user types anything and hits enter, that string is passed to tcl for evaluation (Tcl_Eval()) which causes it to call the function that was registered.</p>



<a name="231581993"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231581993" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231581993">(Mar 24 2021 at 04:16)</a>:</h4>
<p>So if I was applying a transaction based on 2 file system, I would add 1 more link in this chain right? Where instead of directly calling ged_cmd, I would add a transaction function which would create a parallel db, apply changes to that(in which it calls ged_cmd) and then finally change pointer (and free old db).</p>



<a name="231583172"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231583172" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231583172">(Mar 24 2021 at 04:38)</a>:</h4>
<p>Hmmm</p>



<a name="231583196"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231583196" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231583196">(Mar 24 2021 at 04:38)</a>:</h4>
<p>Im just naming a possibility here, could be done in other ways too ofc</p>



<a name="231583363"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231583363" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231583363">(Mar 24 2021 at 04:42)</a>:</h4>
<p>you're not far off, I just had to refresh my memory on the code</p>



<a name="231583384"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231583384" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231583384">(Mar 24 2021 at 04:42)</a>:</h4>
<p>if you look in setup.c, notice there are three things listed: the name of the command, a wrapper function, and the callback</p>



<a name="231583450"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231583450" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231583450">(Mar 24 2021 at 04:44)</a>:</h4>
<p>that second wrapper value a function that is called when the name of the command is encountered, and it's what calls the callback</p>



<a name="231583587"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231583587" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231583587">(Mar 24 2021 at 04:46)</a>:</h4>
<p>Okay</p>



<a name="231583592"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231583592" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231583592">(Mar 24 2021 at 04:46)</a>:</h4>
<p>a simple one to understand is the cmd_ged_edit_wrapper() function that only the "clone" command apparently calls.  looking at that cmd_ged_edit_erapper() function, it invokes ged_clone (via ctp-&gt;ged_func()), and as long as there wasn't an error or request for help, it draws the cloned object.</p>



<a name="231583724"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231583724" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231583724">(Mar 24 2021 at 04:49)</a>:</h4>
<p>nearly all functions go through cmd_ged_plain_wrapper() which calls the ged function, handles if MORE arguments are needed, and redraws anything on the command line.  seems pretty redundant with cmd_ged_edit_wrapper()..</p>



<a name="231583891"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231583891" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231583891">(Mar 24 2021 at 04:52)</a>:</h4>
<p>Hmmm so I could add a link from setup.c to the transaction mechanism, that way I wont have to deal with things in between setup.c and MGED</p>



<a name="231583991"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231583991" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231583991">(Mar 24 2021 at 04:54)</a>:</h4>
<p>There's many possibilities.  I mean the current state of the code is a work in progress.  If you dig in deeper you'll see that there are two command tables, one using a newer style with a few entries and the older one using the big cmdtab.</p>



<a name="231584035"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231584035" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231584035">(Mar 24 2021 at 04:55)</a>:</h4>
<p>The goal is to eventually just have something like ged_exec() that does it instead of having the application have a big list of commands and functions.</p>



<a name="231584082"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231584082" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231584082">(Mar 24 2021 at 04:56)</a>:</h4>
<p>In that scenario, it makes sense for ged_exec() to essentially do all the wrapper setup/teardown necessary</p>



<a name="231584094"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231584094" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231584094">(Mar 24 2021 at 04:56)</a>:</h4>
<p>Yeah</p>



<a name="231584504"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231584504" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231584504">(Mar 24 2021 at 05:03)</a>:</h4>
<p>that could be step 1 for a libged gsoc proposal, spend a week migrating the command table from src/mged to src/libged with a ged_exec call, then step 2 could be to eliminate / consolidate the various command table wrappers into just one wrapper, then step 3 demonstrate a working transaction demo outside of libged (just a test.c test case), then step 4 implement a manual transaction command, and step 5 integrate transactions into ged_exec</p>



<a name="231584752"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231584752" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231584752">(Mar 24 2021 at 05:08)</a>:</h4>
<p>Also if I plan to implement both UNDO and transactions will that be too much to aim for during GSoC, considering the reduced timeframe from prev GSoCs?</p>



<a name="231586289"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231586289" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231586289">(Mar 24 2021 at 05:35)</a>:</h4>
<p>I would just plan it out as starting with one and transitioning into the other</p>



<a name="231586450"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231586450" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231586450">(Mar 24 2021 at 05:38)</a>:</h4>
<p>Okay</p>



<a name="231586462"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231586462" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231586462">(Mar 24 2021 at 05:38)</a>:</h4>
<p>But can both of them be done within GSoC?</p>



<a name="231586470"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231586470" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231586470">(Mar 24 2021 at 05:38)</a>:</h4>
<p>or is it a risky proposition</p>



<a name="231586554"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231586554" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231586554">(Mar 24 2021 at 05:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231586462">said</a>:</p>
<blockquote>
<p>But can both of them be done within GSoC?</p>
</blockquote>
<p>This isn't something I can answer because it mostly depends on your skill level, available time, ability to stay focused on the task, your ability navigating existing code, etc.</p>



<a name="231586597"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231586597" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231586597">(Mar 24 2021 at 05:41)</a>:</h4>
<p>complexity-wise, it's entirely doable.  I'd estimate it taking one of the experienced core devs 2-3 weeks for both so yeah, that is likely very appropriate for gsoc in general.</p>



<a name="231586718"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231586718" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231586718">(Mar 24 2021 at 05:43)</a>:</h4>
<p>Fine then I'll include both of them in my proposal</p>



<a name="231586953"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231586953" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231586953">(Mar 24 2021 at 05:47)</a>:</h4>
<p>I got one more doubt as I was researching about how transactions are implemented in different systems, I found this in the journal/ledger based file system wikipedia page,  The statement was made in context to deleting a file in linux and power failure during the process. "After a crash, recovery simply involves reading the journal from the file system and replaying changes from this journal until the file system is consistent again." , So i found it too simple that will just replaying  instructions of the prev cmd stop the db from being corrupted. <br>
Ref:<a href="https://en.wikipedia.org/wiki/Journaling_file_system#Rationale">https://en.wikipedia.org/wiki/Journaling_file_system#Rationale</a></p>



<a name="231697848"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231697848" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231697848">(Mar 24 2021 at 19:50)</a>:</h4>
<p>For the UNDO command, I was thinking about an implementation where we store all commands applied on the file and when we undo, just rebuild the file from scratch applying all cmds given from the beginning excluding the number of undo specified, like if we implement the cmd as: undo &lt;no of steps to go back&gt; , we just pop the cmds from the applied_cmds stack and put them in the redo_cmd stack.</p>



<a name="231697871"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231697871" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231697871">(Mar 24 2021 at 19:50)</a>:</h4>
<p>I wanted to check the viability of this method in terms of time complexity, so I first checked the primitives in tank_car.g which was around 500 primitives. I wrote a script to create 500 primitives in a file, the script took just 0.5 sec to run and all 500 primitives were created.</p>



<a name="231697897"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231697897" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231697897">(Mar 24 2021 at 19:51)</a>:</h4>
<p>So this looked like a viable approach to implement the undo command (I could surely be wrong in saying its viable).</p>



<a name="231697910"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231697910" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231697910">(Mar 24 2021 at 19:51)</a>:</h4>
<p>To further test viability could anyone suggest me commands that affect the db (unlike an rt, stat, summary ) and are very complex (in terms of time )to run.</p>



<a name="231746802"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231746802" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231746802">(Mar 25 2021 at 04:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231697871">said</a>:</p>
<blockquote>
<p>I wanted to check the viability of this method in terms of time complexity, so I first checked the primitives in tank_car.g which was around 500 primitives. I wrote a script to create 500 primitives in a file, the script took just 0.5 sec to run and all 500 primitives were created.</p>
</blockquote>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> excellent question, but it's not really viable.  Not that our simple example geometry files are just that ... simple examples.  Real .g files in common use can be 1-10GB with 50,000 objects in them.</p>



<a name="231746921"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231746921" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231746921">(Mar 25 2021 at 04:38)</a>:</h4>
<p>So I think you're on the right track, but I think undo can actually be quite simple.</p>



<a name="231746991"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231746991" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231746991">(Mar 25 2021 at 04:39)</a>:</h4>
<p>I feel it is quite simple for commands that don't have data being removed, like a rename or addition of a new object</p>



<a name="231747012"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231747012" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231747012">(Mar 25 2021 at 04:39)</a>:</h4>
<p>There's two possible approaches.  One very simple method is to simply keep the last N undo states in the .g file as hidden objects.</p>



<a name="231747017"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231747017" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231747017">(Mar 25 2021 at 04:39)</a>:</h4>
<p>But if a kill command is used or a dbconcat -r , then to recover data with an undo we will have to store data</p>



<a name="231747068"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231747068" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231747068">(Mar 25 2021 at 04:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231747012">said</a>:</p>
<blockquote>
<p>There's two possible approaches.  One very simple method is to simply keep the last N undo states in the .g file as hidden objects.</p>
</blockquote>
<p>Nice idea</p>



<a name="231747536"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231747536" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231747536">(Mar 25 2021 at 04:48)</a>:</h4>
<p>That way, for example, if you deleted an object A, you might copy it to ._A;1 and then delete A.  To undo, you'd rename it back, delete ._A;1 (and possibly create another hidden object like ._A;2 that would let you undo the undo)</p>



<a name="231747695"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231747695" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231747695">(Mar 25 2021 at 04:51)</a>:</h4>
<p>Ideally, it's some convention that lets you represent an undo chain (like what emacs and other programs do so you can undo and redo infinitely).</p>



<a name="231747799"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231747799" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231747799">(Mar 25 2021 at 04:53)</a>:</h4>
<p>here's an textual description of that process: <a href="https://stackoverflow.com/questions/3527142/how-do-you-redo-changes-after-undo-with-emacs">https://stackoverflow.com/questions/3527142/how-do-you-redo-changes-after-undo-with-emacs</a></p>



<a name="231747894"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231747894" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231747894">(Mar 25 2021 at 04:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231747799">said</a>:</p>
<blockquote>
<p>here's an textual description of that process: <a href="https://stackoverflow.com/questions/3527142/how-do-you-redo-changes-after-undo-with-emacs">https://stackoverflow.com/questions/3527142/how-do-you-redo-changes-after-undo-with-emacs</a></p>
</blockquote>
<p>Yeah I read this</p>



<a name="231748095"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748095" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748095">(Mar 25 2021 at 04:58)</a>:</h4>
<p>But some actions aren't specific to an object like a dbconcat, there the code will have to be modified to give details to the undo stack</p>



<a name="231748102"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748102" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748102">(Mar 25 2021 at 04:58)</a>:</h4>
<p>Im aware of only dbconcat for now, but there might be others</p>



<a name="231748129"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748129" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748129">(Mar 25 2021 at 04:59)</a>:</h4>
<p>Which might delay the implementation of the undo, if we were to store previous versions of objects and not the entire db</p>



<a name="231748131"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748131" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748131">(Mar 25 2021 at 04:59)</a>:</h4>
<p>relevant background: <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Undo.html">https://www.gnu.org/software/emacs/manual/html_node/emacs/Undo.html</a></p>



<a name="231748273"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748273" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748273">(Mar 25 2021 at 05:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231748095">said</a>:</p>
<blockquote>
<p>But some actions aren't specific to an object like a dbconcat, there the code will have to be modified to give details to the undo stack</p>
</blockquote>
<p>There's a whole bunch of commands that act on multiple objects, so yes -- they'll have to be dealt with too, but they're essentially the same.</p>



<a name="231748306"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748306" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748306">(Mar 25 2021 at 05:01)</a>:</h4>
<p>maybe I run "kill *"</p>



<a name="231748350"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748350" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748350">(Mar 25 2021 at 05:02)</a>:</h4>
<p>a single undo should restore them all...</p>



<a name="231748362"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748362" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748362">(Mar 25 2021 at 05:02)</a>:</h4>
<p>Yep</p>



<a name="231748460"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748460" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748460">(Mar 25 2021 at 05:04)</a>:</h4>
<p>How about this idea where we take some N and store the entire db before N steps, and then the N commands that had followed. Thus we will need to apply only N steps before we access any of the previous states</p>



<a name="231748471"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748471" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748471">(Mar 25 2021 at 05:04)</a>:</h4>
<p>N could be some 50-100</p>



<a name="231748483"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748483" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748483">(Mar 25 2021 at 05:04)</a>:</h4>
<p>After every additional step, we update the copy of the db by applying the last cmd in the stack</p>



<a name="231748505"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748505" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748505">(Mar 25 2021 at 05:05)</a>:</h4>
<p>the way I've had in mind for libged is very much related to transactions but doesn't require transactions.  that is, we could modify all commands to generate events instead of actually modifying the database, so "rm *" will generate a set of DELETE events, for example, or dbconcat will generate a set of WRITE or REPLACE events.</p>



<a name="231748587"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748587" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748587">(Mar 25 2021 at 05:06)</a>:</h4>
<p>Okay, now I get what you meant by events, I hadnt understood fully what u meant the last time you had mentioned it</p>



<a name="231748719"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748719" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748719">(Mar 25 2021 at 05:08)</a>:</h4>
<p>inside the invoking parent wrapper (e.g., ged_exec()), it calls the command like ged_rm, gets back the set of DELETE events, then the wrapper does the work to "cp obj1 ._obj1;1" and "cp obj2 ._obj2;1" and record the undo entry for rm in the undo ledger/journal/transcript.</p>



<a name="231748730"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231748730" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231748730">(Mar 25 2021 at 05:08)</a>:</h4>
<p>and then actually deletes obj1 obj2 etc</p>



<a name="231749060"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749060" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749060">(Mar 25 2021 at 05:16)</a>:</h4>
<p>Notice that this is essentially the "partial checkpoint" method described using both command pattern and memento pattern.</p>



<a name="231749065"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749065" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749065">(Mar 25 2021 at 05:16)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/Undo">https://en.wikipedia.org/wiki/Undo</a></p>



<a name="231749155"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749155" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749155">(Mar 25 2021 at 05:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231749065">said</a>:</p>
<blockquote>
<p><a href="https://en.wikipedia.org/wiki/Undo">https://en.wikipedia.org/wiki/Undo</a></p>
</blockquote>
<p>Ive done my basic research <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="231749156"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749156" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749156">(Mar 25 2021 at 05:18)</a>:</h4>
<p>That all said -- I started off saying there are two possible approaches.  Two more easily implemented approaches, that is.  The other method is a form of full checkpoint.</p>



<a name="231749298"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749298" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749298">(Mar 25 2021 at 05:21)</a>:</h4>
<p>Yeah, but the partial checkpoint is even better right? and the implementations are not too far off either acc to me</p>



<a name="231749312"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749312" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749312">(Mar 25 2021 at 05:22)</a>:</h4>
<p>yes and no, there are complexity considerations</p>



<a name="231749353"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749353" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749353">(Mar 25 2021 at 05:22)</a>:</h4>
<p>Instead of modifying all commands to generate events and making a wrapper do all the work to act intelligently given a set of events, we could implement a completely agnostic system that is very simple.</p>



<a name="231749365"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749365" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749365">(Mar 25 2021 at 05:22)</a>:</h4>
<p>for example (and this is JUST an example of a possible implementation)...</p>



<a name="231749471"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749471" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749471">(Mar 25 2021 at 05:24)</a>:</h4>
<p>we could let a command (e.g., rm *) operate on the .g, and then check it into a repo.  then another command (e.g., dbconcat file2.g) operates, check it into a repo, etc.  Then an undo is requested, we restore a previous repo state, check it into the repo, and so on.</p>



<a name="231749495"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749495" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749495">(Mar 25 2021 at 05:25)</a>:</h4>
<p>Like saving a version for every command right?</p>



<a name="231749511"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749511" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749511">(Mar 25 2021 at 05:25)</a>:</h4>
<p>right, you'd probably use something like <a href="https://libgit2.org">https://libgit2.org</a></p>



<a name="231749682"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749682" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749682">(Mar 25 2021 at 05:28)</a>:</h4>
<p>Wont this be very bad for space complexity to even consider, especially if files are 10gb or more</p>



<a name="231749824"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749824" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749824">(Mar 25 2021 at 05:30)</a>:</h4>
<p>this is very simple to implement.  the downsides are it will unlikely be anywhere near as fast as the partial approach with events, but the simplicity is hard to argue against as it's command-agnostic and will not be susceptible to bugs, oversight, changes over time.  For example, say someone makes the "rt" command start writing a counter into the .g file ... which would be very easy to overlook and not undo.</p>



<a name="231749921"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749921" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749921">(Mar 25 2021 at 05:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231749682">said</a>:</p>
<blockquote>
<p>Wont this be very bad for space complexity to even consider, especially if files are 10gb or more</p>
</blockquote>
<p>No, not necessarily.  It actually could end up taking up less space under some conditions.</p>



<a name="231749945"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231749945" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231749945">(Mar 25 2021 at 05:32)</a>:</h4>
<p>So you are suggesting like how patches are created in svn, where we just store changes in the file at a very low level?s</p>



<a name="231750226"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231750226" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231750226">(Mar 25 2021 at 05:37)</a>:</h4>
<p>the first method ("partial" linear undo with events)  for example, we might do "cp A ._A;1" because the color changed.  if A is a really big object, that'd be terribly wasteful to copy it like that.  the second method ("full" checkpoint undo), it's up to the VCS to figure out what changed and only save those changes.  In the case of something like libgit2, it's only going to save the bytes around what changed even for binary blobs.  If A's a big object and we only change the 3 color bytes, it's only going to track that a small block of the file changed (maybe writing 256 bytes).</p>



<a name="231750260"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231750260" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231750260">(Mar 25 2021 at 05:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231749945">said</a>:</p>
<blockquote>
<p>So you are suggesting like how patches are created in svn, where we just store changes in the file at a very low level?s</p>
</blockquote>
<p>yes, in fact libsvn is another viable option</p>



<a name="231750330"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231750330" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231750330">(Mar 25 2021 at 05:38)</a>:</h4>
<p>I also thought about this approach but haven't started reading about it. I'll read about this method as well</p>



<a name="231750840"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231750840" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231750840">(Mar 25 2021 at 05:47)</a>:</h4>
<p>There's two ways to use a version-control-system (VCS) like libgit2 or libsvn.  One would be to simply use them as a temporary undo mechanism in a temporary scratch space whenever a .g is opened for write access, deleting the repo when the app quits.</p>
<p>Another would be to fundamentally change our database I/O layer (i.e., rel6 .g files) where we'd write out a .g as 1 file per object as an actual .git initialized repository, with every change checked in and preserved.</p>



<a name="231750934"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231750934" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231750934">(Mar 25 2021 at 05:49)</a>:</h4>
<p>The latter is probably ideal, but HIGH risk, so it's not really a good candidate for GSoC at this time.</p>



<a name="231751160"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231751160" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231751160">(Mar 25 2021 at 05:53)</a>:</h4>
<p>so I think it still boils down to either partial+events or full+libgit2 in a temp space.</p>



<a name="231751296"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231751296" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231751296">(Mar 25 2021 at 05:54)</a>:</h4>
<p>Yeah</p>



<a name="231751425"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231751425" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231751425">(Mar 25 2021 at 05:57)</a>:</h4>
<p>I'm a little pro-partial+events</p>



<a name="231751481"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231751481" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231751481">(Mar 25 2021 at 05:58)</a>:</h4>
<p>Because I think there is a big learning curve for the second approach, and implementation might have to deal with mged backend rather than the way we write a file</p>



<a name="231781239"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231781239" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231781239">(Mar 25 2021 at 11:05)</a>:</h4>
<p>A question... I'm not sure how well git or svn backends would do compacting (say) a large BoT with one vertex changed.  It would be worth doing some testing creating minor variations on large meshes and checking them in to see what happens...  based on the repo conversion I'd expect libgit2 to do a bit better than svn, but either way I think it's worth checking practically.</p>



<a name="231809298"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231809298" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231809298">(Mar 25 2021 at 14:22)</a>:</h4>
<p>"lfs" exists for dealing with large files, but it's a headache all it's own</p>



<a name="231831075"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231831075" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231831075">(Mar 25 2021 at 16:18)</a>:</h4>
<p><a href="https://github.com/mendsley/bsdiff">https://github.com/mendsley/bsdiff</a> I think is used for lots of binary diffing applications - might be interesting to see what could be done with it to adapt to .g object diffing, if libgit2 doesn't do well out of the box...</p>



<a name="231848712"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231848712" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231848712">(Mar 25 2021 at 18:03)</a>:</h4>
<p>I should probably point out this  work in case it's of use in this context:  <a href="https://github.com/BRL-CAD/geomcore/tree/main/src/libgvm">https://github.com/BRL-CAD/geomcore/tree/main/src/libgvm</a></p>



<a name="231849212"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231849212" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231849212">(Mar 25 2021 at 18:06)</a>:</h4>
<p>Could you give me a brief on what this is? Is it a new geom editor being developed?</p>



<a name="231849338"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231849338" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231849338">(Mar 25 2021 at 18:07)</a>:</h4>
<p>To be more specific, will I be working on this if I am to implement the UNDO command</p>



<a name="231849438"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231849438" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231849438">(Mar 25 2021 at 18:08)</a>:</h4>
<p>geomcore is some old work primarily focused on a "geometry service" that would expose database contents over the network.  As part of that work, some early work was done on an API for "versioning" geometry by breaking it up into individual objects and checking them into a VCS backend.</p>



<a name="231849586"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231849586" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231849586">(Mar 25 2021 at 18:09)</a>:</h4>
<p>IIRC, I got it as far as being able to read in havoc.g from the examples, check all the objects into the SVN database, and then reconstitute the .g file from the SVN history as a ".g" checkout, but it's been a long time now...</p>



<a name="231849674"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231849674" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231849674">(Mar 25 2021 at 18:09)</a>:</h4>
<p>Thanks to Sean there was some thought given to making the API modular to different VCS backends, but I only ever experimented with SVN.  Today I'd prefer to try libgit2...</p>



<a name="231849785"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231849785" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231849785">(Mar 25 2021 at 18:10)</a>:</h4>
<p>My vague memory was that the checking process, at least, was quite slow with SVN.</p>



<a name="231850209"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231850209" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231850209">(Mar 25 2021 at 18:13)</a>:</h4>
<p>Ohkay</p>



<a name="231850854"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231850854" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231850854">(Mar 25 2021 at 18:16)</a>:</h4>
<p>I don't know if it would be useful for what you've been discussing or not - Sean may have a better sense - but it's what I think of right off anytime discussion of version control backends for geometry comes up.</p>



<a name="231851067"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231851067" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231851067">(Mar 25 2021 at 18:18)</a>:</h4>
<p>Yeah I think it will be useful if I go ahead on making a VCS for the undo mechanism</p>



<a name="231851258"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231851258" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231851258">(Mar 25 2021 at 18:19)</a>:</h4>
<p>But I wont be implementing a VCS for files though, that is too complex for GSoC</p>



<a name="231852503"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231852503" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231852503">(Mar 25 2021 at 18:27)</a>:</h4>
<p>OK, I got the gvmtest app running.  Ha! One minor compile fix, but looks as if it still works.</p>



<a name="231853127"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231853127" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231853127">(Mar 25 2021 at 18:31)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> The libgvm work may well be relevant to both... If you're going to establish a temporary repository for UNDO operations, you'd in principle be doing a variation of what gvmtest is doing - takeing an existing .g file, writing out the individual objects into the VCS, and then at need pulling out old versions into the "working" .g file.</p>



<a name="231854040"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231854040" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231854040">(Mar 25 2021 at 18:36)</a>:</h4>
<p>Yeah that could surely be done, I was expecting to work with it at the binary level though, since you have already made some progress on it, I will go through libgvm and then reconsider, because right now I "feel" implementing a VCS might be difficult for me <span aria-label="grimacing" class="emoji emoji-1f62c" role="img" title="grimacing">:grimacing:</span></p>



<a name="231855770"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231855770" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231855770">(Mar 25 2021 at 18:48)</a>:</h4>
<p>You mean keeping entire copies of the .g file?</p>



<a name="231855978"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231855978" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231855978">(Mar 25 2021 at 18:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231750226">said</a>:</p>
<blockquote>
<p>the second method ("full" checkpoint undo), it's up to the VCS to figure out what changed and only save those changes.  In the case of something like libgit2, it's only going to save the bytes around what changed even for binary blobs.  If A's a big object and we only change the 3 color bytes, it's only going to track that a small block of the file changed (maybe writing 256 bytes).</p>
</blockquote>
<p>Like this</p>



<a name="231856107"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231856107" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231856107">(Mar 25 2021 at 18:50)</a>:</h4>
<p>Oh, OK, so feed the whole .g to libgit2 and let it figure out what the diff is?</p>



<a name="231856126"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231856126" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231856126">(Mar 25 2021 at 18:50)</a>:</h4>
<p>Exactly!</p>



<a name="231856261"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231856261" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231856261">(Mar 25 2021 at 18:51)</a>:</h4>
<p>/me winces a little - I'd for sure test that to verify Git does something smart.  Grab a big mesh online, alter a couple vertices with Meshlab, then check both versions of the mesh into a Git repo and see how big it ends up being.</p>



<a name="231856478"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231856478" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231856478">(Mar 25 2021 at 18:53)</a>:</h4>
<p>True that at times it might be large but wont it always be smaller than storing a copy of the whole .g file?</p>



<a name="231856576"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231856576" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231856576">(Mar 25 2021 at 18:53)</a>:</h4>
<p>Yes, but for lots of edits on large meshes it may still quickly reach impractical sizes.</p>



<a name="231856684"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231856684" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231856684">(Mar 25 2021 at 18:54)</a>:</h4>
<p>Got your point</p>



<a name="231856704"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231856704" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231856704">(Mar 25 2021 at 18:54)</a>:</h4>
<p>It may still be worthwhile, but if that's the behavior we would need to guard against the VCS repo getting too big</p>



<a name="231856772"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231856772" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231856772">(Mar 25 2021 at 18:54)</a>:</h4>
<p>I.e. throwing away the older history when we start approaching some size limit</p>



<a name="231856828"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231856828" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231856828">(Mar 25 2021 at 18:55)</a>:</h4>
<p>We will be saving a the same no of diffs as we need to go back and that could add up to be impractcal</p>



<a name="231856885"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231856885" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231856885">(Mar 25 2021 at 18:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231856772">said</a>:</p>
<blockquote>
<p>I.e. throwing away the older history when we start approaching some size limit</p>
</blockquote>
<p>Yeah</p>



<a name="231856936"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231856936" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231856936">(Mar 25 2021 at 18:55)</a>:</h4>
<p>If the diffs are small we'd be in good shape, but that's only practical if Git can figure out the small delta between similar binary objects.  That's what I'm not sure of.</p>



<a name="231857049"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231857049" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231857049">(Mar 25 2021 at 18:56)</a>:</h4>
<p>We could let the user set this space as well, so that they can adjust themselves the no of undos they want vs space consumed</p>



<a name="231857070"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231857070" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231857070">(Mar 25 2021 at 18:56)</a>:</h4>
<p>/me nods</p>



<a name="231857417"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231857417" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231857417">(Mar 25 2021 at 18:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231856936">said</a>:</p>
<blockquote>
<p>If the diffs are small we'd be in good shape, but that's only practical if Git can figure out the small delta between similar binary objects.  That's what I'm not sure of.</p>
</blockquote>
<p>Let me try this out</p>



<a name="231860880"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231860880" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231860880">(Mar 25 2021 at 19:20)</a>:</h4>
<p>I uploaded a .g file to github 2.85 KiB, <br>
First I added a rhc to it and then pushed again, this led to writing 104 bytes<br>
Next I changed the colour of an object, this led to writing 160 bytes</p>



<a name="231861462"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861462" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861462">(Mar 25 2021 at 19:23)</a>:</h4>
<p><span class="user-mention" data-user-id="112516">@starseeker</span> this looks good right?</p>



<a name="231861571"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861571" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861571">(Mar 25 2021 at 19:24)</a>:</h4>
<p>Well, what is needed is to change the same object and see if the written delta is smaller than the object size</p>



<a name="231861618"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861618" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861618">(Mar 25 2021 at 19:24)</a>:</h4>
<p>Yeah thats what i did in the second step</p>



<a name="231861640"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861640" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861640">(Mar 25 2021 at 19:24)</a>:</h4>
<p>160 bytes &lt; 2.85 KiB</p>



<a name="231861761"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861761" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861761">(Mar 25 2021 at 19:25)</a>:</h4>
<p>Well, that's not a geometry change though - that's an attribute change.</p>



<a name="231861823"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861823" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861823">(Mar 25 2021 at 19:25)</a>:</h4>
<p>That's why I suggested editing a mesh.</p>



<a name="231861845"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861845" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861845">(Mar 25 2021 at 19:25)</a>:</h4>
<p>Like a change in length?</p>



<a name="231861859"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861859" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861859">(Mar 25 2021 at 19:25)</a>:</h4>
<p>Let me do that</p>



<a name="231861873"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861873" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861873">(Mar 25 2021 at 19:26)</a>:</h4>
<p>moving a couple vertices would be ideal</p>



<a name="231861926"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861926" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861926">(Mar 25 2021 at 19:26)</a>:</h4>
<p>tiny change to a large mesh</p>



<a name="231861965"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861965" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861965">(Mar 25 2021 at 19:26)</a>:</h4>
<p>Are you familiar with meshlab?</p>



<a name="231861978"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231861978" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231861978">(Mar 25 2021 at 19:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231861965">said</a>:</p>
<blockquote>
<p>Are you familiar with meshlab?</p>
</blockquote>
<p>ummm no</p>



<a name="231863108"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231863108" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231863108">(Mar 25 2021 at 19:32)</a>:</h4>
<p>OK, one sec.</p>



<a name="231863828"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231863828" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231863828">(Mar 25 2021 at 19:38)</a>:</h4>
<p><a href="https://brlcad.org/~starseeker/bunny_0.g">https://brlcad.org/~starseeker/bunny_0.g</a> and <a href="https://brlcad.org/~starseeker/bunny_1.g">https://brlcad.org/~starseeker/bunny_1.g</a>  are two versions of the Stanford bunny.  If you save those two, first _0 and then _1, what happens?</p>



<a name="231863896"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231863896" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231863896">(Mar 25 2021 at 19:38)</a>:</h4>
<p>Yea let me check</p>



<a name="231864510"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231864510" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231864510">(Mar 25 2021 at 19:43)</a>:</h4>
<p>So adding the bunny wrote 1.58 MB and after overwriting bunny0 with bunny1 and then pushing it wrote an additional 8.49KB</p>



<a name="231864733"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231864733" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231864733">(Mar 25 2021 at 19:44)</a>:</h4>
<p>I think these values are not correct..... 1 sec</p>



<a name="231864919"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231864919" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231864919">(Mar 25 2021 at 19:45)</a>:</h4>
<p>So when i did git push it said: writing 832.11 KiB<br>
after overwriting it and then pushing, it said writing 385.18 KiB</p>



<a name="231865004"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231865004" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231865004">(Mar 25 2021 at 19:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231864919">said</a>:</p>
<blockquote>
<p>So when i did git push it said: writing 832.11 KiB<br>
after overwriting it and then pushing, it said writing 385.18 KiB</p>
</blockquote>
<p>This is in the terminal</p>



<a name="231865051"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231865051" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231865051">(Mar 25 2021 at 19:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231864510">said</a>:</p>
<blockquote>
<p>So adding the bunny wrote 1.58 MB and after overwriting bunny0 with bunny1 and then pushing it wrote an additional 8.49KB</p>
</blockquote>
<p>This is actually increase in file size</p>



<a name="231865254"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231865254" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231865254">(Mar 25 2021 at 19:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231864919">said</a>:</p>
<blockquote>
<p>So when i did git push it said: writing 832.11 KiB<br>
after overwriting it and then pushing, it said writing 385.18 KiB</p>
</blockquote>
<p><span class="user-mention" data-user-id="112516">@starseeker</span> So what do you think?</p>



<a name="231865343"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231865343" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231865343">(Mar 25 2021 at 19:48)</a>:</h4>
<p>OK, not too bad.</p>



<a name="231865394"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231865394" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231865394">(Mar 25 2021 at 19:48)</a>:</h4>
<p>It didn't double in size, at least</p>



<a name="231865416"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231865416" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231865416">(Mar 25 2021 at 19:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231865394">said</a>:</p>
<blockquote>
<p>It didn't double in size, at least</p>
</blockquote>
<p>Yeah</p>



<a name="231866893"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231866893" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231866893">(Mar 25 2021 at 19:59)</a>:</h4>
<p>Yeah, the xdelta3 size is on that order - 349K.  bsdiff gets it down to 219K.</p>



<a name="231867593"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231867593" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231867593">(Mar 25 2021 at 20:04)</a>:</h4>
<p>Ideally what we'll be able to set up is something that uses the default VCS backend for most deltas, but will let us specialize as we start to refine some specific operations (rotate, translate and scale will have large data deltas when applied to meshes, but can in principle be versioned with reverse-edit operations applied to the "working" mesh, for example.  That's a lot of complexity though, and not something to introduce at the beginning.)</p>



<a name="231868788"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231868788" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231868788">(Mar 25 2021 at 20:12)</a>:</h4>
<p>Though Im clear on the concept, I still feel that I lack the knowledge of the codebase to implement a VCS into it :(<br>
I think should take a deep dive into the code and think of ways to implement it</p>



<a name="231886663"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231886663" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231886663">(Mar 25 2021 at 22:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231856772">said</a>:</p>
<blockquote>
<p>I.e. throwing away the older history when we start approaching some size limit</p>
</blockquote>
<p>This.  I think that'll be necessary no matter what approach is taken with undo.  We're at a point where we need to know how full the disks are getting.</p>



<a name="231887014"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231887014" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231887014">(Mar 25 2021 at 22:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231856936">said</a>:</p>
<blockquote>
<p>If the diffs are small we'd be in good shape, but that's only practical if Git can figure out the small delta between similar binary objects.  That's what I'm not sure of.</p>
</blockquote>
<p>Since we're talking about undo, I think we can proceed with an assumption that undo information disappears when the database is closed.  Undo is the priority, not maintaining a full edit history, so we could simply plan to let it go or utilize an in-memory database and keep track of memory that way.</p>



<a name="231887228"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231887228" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231887228">(Mar 25 2021 at 22:37)</a>:</h4>
<p>The big decision that needs to happen first is partial+events or full/agnostic as they are dramatically different approaches and impact on existing commands.</p>



<a name="231890282"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231890282" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231890282">(Mar 25 2021 at 23:06)</a>:</h4>
<p>I'd suggest we (i.e., <span class="user-mention" data-user-id="353338">@Vikram Atreya</span> ) either plan to just use libgvm/libgit2 completely as-is and let it be whatever it is for a preliminary cut at full/agnostic, so we can then focus on the undo/redo side of things in the GUI; or we (i.e., <span class="user-mention" data-user-id="353338">@Vikram Atreya</span> ) plan to make commands report events, have a main processor that handles all events consistently, and focus on migrating commands.  Both ways have merit and tradeoffs.</p>
<p>Partial+events will almost certainly be an undo/redo system that is more performant, efficient, reversible, and simple to implement well enough, but entails editing all commands (so only able to undo migrated commands) and requires designing+implementing the event handlers.  It's not hard and is 100% in our control complexity-wise, but requires a lot of code change.</p>
<p>Full/agnostic will almost certainly result in an undo/redo system more quickly, robustly, reversibly, and works with any command, but it will be FAR less efficient and involves a new external dep that can derail focus and otherwise represents unknown risk.  It's almost certainly less code, though, so it would be overall less risk if libgvm/libgit2 behave.</p>



<a name="231890569"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231890569" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231890569">(Mar 25 2021 at 23:09)</a>:</h4>
<p>I think they're both viable and good approaches for different reasons.  If you were experienced in either, that would probably lean me towards one or the other but you're not so it could be a wash risk-wise.  <span class="user-mention" data-user-id="353338">@Vikram Atreya</span> do you understand the tradeoffs?  What are your thoughts?  Which do you feel you understand the most?  What don't you feel you understand?</p>



<a name="231890579"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231890579" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231890579">(Mar 25 2021 at 23:09)</a>:</h4>
<p>Those answers would be good to put into your proposal ;)</p>



<a name="231919523"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231919523" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231919523">(Mar 26 2021 at 06:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231890282">said</a>:</p>
<blockquote>
<p>Partial+events  . . . . , but entails editing all commands (so only able to undo migrated commands) and requires designing+implementing the event handlers.  It's not hard and is 100% in our control complexity-wise, but requires a lot of code change.</p>
</blockquote>
<p>Cant we directly store the command instead of generating events and then storing them?</p>



<a name="231919813"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231919813" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231919813">(Mar 26 2021 at 06:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231890569">said</a>:</p>
<blockquote>
<p>do you understand the tradeoffs? What are your thoughts?</p>
</blockquote>
<p>Yeah I understand the tradeoffs between both the methods. In theory, I understand both methods well and also feel the VCS method is better in terms of features as it can handle all commands and works independently of commands, so will be easier in the future also if some newer/unique cmds come up.</p>



<a name="231920144"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231920144" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231920144">(Mar 26 2021 at 06:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231890569">said</a>:</p>
<blockquote>
<p>Which do you feel you understand the most?  What don't you feel you understand?</p>
</blockquote>
<p>As I said, in theory both look fine to me. But implementation wise maybe I'll have to learn more if the VCS method is applied, and I'm fine actually with spending as much time as needed to learn (even pre-GSoC).  The part that I don't understand (which I eventually should understand is) how these methods translate to code,<br>
I'm more clear on the implementation of the partial+events, as I have some experience with that part of the code, So we could just kill * of the present db, copy the partial into the db and then apply commands, in the undo list, on it</p>



<a name="231920361"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/231920361" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#231920361">(Mar 26 2021 at 06:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231890569">said</a>:</p>
<blockquote>
<p>If you were experienced in either, that would probably lean me towards one or the other but you're not so it could be a wash risk-wise. </p>
</blockquote>
<p>The partial+events doesnt require any experience right? Its pretty simple imo<br>
Whereas ill have to learn how to implement a VCS in the other method (which i 'm actually fine doing, just that it might have to more uncertainity)</p>



<a name="232005223"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232005223" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232005223">(Mar 26 2021 at 17:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231919523">said</a>:</p>
<blockquote>
<p>Cant we directly store the command instead of generating events and then storing them?</p>
</blockquote>
<p>I'm not sure what you mean.  What I'm calling an "event" is sort of the lowest level database-changing commands possible that are invertible without any special knowledge.  For example, a "DELETE" event that removes an object, or a "CREATE" event that adds an object to the database.  You can undo a CREATE by deleting the object.  You can undo a DELETE by restoring the object from a cached backup.  They require no knowledge of our primitive types, no knowledge of object internals, and could even be used to handle a higher level events like a "RENAME" (CREATE+DELETE) or a "MODIFY" (DELETE+CREATE).</p>



<a name="232006278"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232006278" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232006278">(Mar 26 2021 at 17:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231920144">said</a>:</p>
<blockquote>
<p>As I said, in theory both look fine to me. But implementation wise maybe I'll have to learn more if the VCS method is applied</p>
</blockquote>
<p>Probably about the same.  You'll learn more about libgvm or libgit2 and less about libged with one and a lot more about libged and commands in the other.</p>
<blockquote>
<p>The part that I don't understand (which I eventually should understand is) how these methods translate to code,</p>
</blockquote>
<p>That's a good observation.  Maybe it would help to see if you can write a simple main.c that adds, deletes, and undeletes a sphere with both methods.  With the partial/libged method, you'd probably make your program call ged_make(), then copy the object to another in-memory backup on delete, then copy it back to undo.  With libgvm or libgit, you'll call ged_make() and check it into the vcs, delete it with ged_kill() and check that into the vcs, then restore it from the vcs to undo.</p>
<p>Both programs would probably be 20 lines or so and be a really good way to understand the lowest level implications.</p>



<a name="232006333"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232006333" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232006333">(Mar 26 2021 at 17:45)</a>:</h4>
<p>We could probably use that harness to see what some really big edit implications look like performance-wise.</p>



<a name="232006858"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232006858" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232006858">(Mar 26 2021 at 17:50)</a>:</h4>
<p>Regarding the events, maybe I have misunderstood the partial + events method<br>
So what I understand is, we store a copy of the db before N commands, and when we want to do an undo, we apply N-1 commands on the copy of the db we have stored and by overwriting that on the resent state we bring it to the undone state</p>



<a name="232007000"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232007000" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232007000">(Mar 26 2021 at 17:50)</a>:</h4>
<p>So in my method we just store the commands <br>
like make rhc rhc, kill example, etc etc and rerun hem when necessary</p>



<a name="232007725"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232007725" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232007725">(Mar 26 2021 at 17:56)</a>:</h4>
<p>So what I understand by events is that we break down commands, as you have mentioned above, RENAME = CREATE + DELETE<br>
But why r they necessary if we directly store the high level command and then execute it<br>
eg : storing  ( dbconcat ex1.g ) would be easier than storing ( create obj1 , create obj2 etc )</p>



<a name="232013448"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232013448" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232013448">(Mar 26 2021 at 18:40)</a>:</h4>
<p>I think the counter argument is that, just taking the case of dbconcat only, the ex1.g might not exist by the time we are undoing</p>



<a name="232013680"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232013680" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232013680">(Mar 26 2021 at 18:42)</a>:</h4>
<p>But generating events will be required for such few commands right, like a make, kill, rename, etc need not be split into events....... So just creating events for few cmds might suffice, right?</p>



<a name="232213810"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232213810" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232213810">(Mar 29 2021 at 03:31)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> That's not the idea of partial undo.  What you describe is a "rerun" approach, which I don't think will scale well for our use case.</p>



<a name="232213862"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232213862" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232213862">(Mar 29 2021 at 03:32)</a>:</h4>
<p>Rerun is briefly described with full and partial at <a href="https://en.wikipedia.org/wiki/Undo">https://en.wikipedia.org/wiki/Undo</a></p>



<a name="232214136"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232214136" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232214136">(Mar 29 2021 at 03:36)</a>:</h4>
<p>With partial, you're basically storing (partial) state as commands are run so we have whatever information is required to restore the previous state.  Those most simple form of this is to keep a copy of any objects that are changed or deleted.  Since we can undo objects added by simply deleting them, we don't need to do anything special other than keep track of them.</p>



<a name="232214531"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232214531" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232214531">(Mar 29 2021 at 03:45)</a>:</h4>
<p>Note that there's LOTS of ways to implement this sort of undo.  For example, here's a really simple setup where (for example) we decide to store our backups in the same .g file using  a simple numeric suffix that denotes what change.  For example, db.g might have in it:  objA objB objC objA;1 objA;2 objA;3 objB;2 objC;4</p>
<p>The current state is three objects: objA objB objC</p>



<a name="232214760"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232214760" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232214760">(Mar 29 2021 at 03:49)</a>:</h4>
<p>The most recent change was some edit to objC.  When the change was made to objC, we save the previous state is in objC;4 .. so undoing the command is a simple to replace objC with objC;4</p>



<a name="232214898"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232214898" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232214898">(Mar 29 2021 at 03:51)</a>:</h4>
<p>The next undo restores objA to a previous state (via objA;3).  </p>
<p>The one after that was a simultaneous change to objA and objB, so we restore both from objA;2 and objB;2</p>



<a name="232215038"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232215038" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232215038">(Mar 29 2021 at 03:54)</a>:</h4>
<p>Hopefully you get the gist.  That example is intentionally simple, but hopefully you can see how that's easily extended to keep track of added/removed objects or could use a different naming convention, and/or could be stored in a different file (e.g., .db.g~)  or no file at all (e.g., just keep them in memory).</p>



<a name="232215134"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232215134" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232215134">(Mar 29 2021 at 03:56)</a>:</h4>
<p>It'd be really simple to implement  something preliminary like this in under a week, and it'd be easy to optimize (e.g., instead of storing an entire backup of an object, maybe we only really need to store a matrix or an attribute change or handle certain events special (e.g., object additions/deletions).</p>



<a name="232246276"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232246276" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232246276">(Mar 29 2021 at 10:23)</a>:</h4>
<p>Yeah I understood, but wont this take up a lot of space, we might end up storing (no of UNDOs possible)*(size of db)<br>
So we deal with this by putting some limit to storage for UNDO?</p>



<a name="232304186"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232304186" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232304186">(Mar 29 2021 at 17:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/232006278">said</a>:</p>
<blockquote>
<p>That's a good observation.  Maybe it would help to see if you can write a simple main.c that adds, deletes, and undeletes a sphere with both methods.  With the partial/libged method, you'd probably make your program call ged_make(), then copy the object to another in-memory backup on delete, then copy it back to undo.  With libgvm or libgit, you'll call ged_make() and check it into the vcs, delete it with ged_kill() and check that into the vcs, then restore it from the vcs to undo.</p>
<p>Both programs would probably be 20 lines or so and be a really good way to understand the lowest level implications.</p>
</blockquote>
<p>I'll try writing this program</p>



<a name="232319250"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232319250" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232319250">(Mar 29 2021 at 19:07)</a>:</h4>
<p>Do I make this program inside libged or a separate file like I had done for the boolweave unit test?</p>



<a name="232319775"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232319775" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232319775">(Mar 29 2021 at 19:11)</a>:</h4>
<p>I think a separate standalone file is best.  This isn't likely code that would be kept as-is very long, it's to understand the implications and make a decision.</p>



<a name="232320187"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232320187" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232320187">(Mar 29 2021 at 19:14)</a>:</h4>
<p>like my assumption that it's about 20 lines.. if it ends up being dramatically less or more work, that would be important to know.  And if/once it's working, we can use it to do a couple tests.  If one takes &lt;1sec and the other 100sec to do the same work, that would be pretty guiding (I don't expect that to be the case, more like 100ms vs 200ms).</p>



<a name="232323305"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232323305" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232323305">(Mar 29 2021 at 19:35)</a>:</h4>
<p>Okay, will make a standalone file</p>



<a name="232323541"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232323541" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232323541">(Mar 29 2021 at 19:37)</a>:</h4>
<p>If i have to call ged_make(), I'll have to pass a struct ged *gedp, but how do I initialize it if its not coming via mged</p>



<a name="232371755"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232371755" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232371755">(Mar 30 2021 at 04:19)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> see src/libged/tests/test_tops.c for an example.  You either call ged_open() which returns a gedp, or you call GED_INIT() directly if you want to open it yourself.</p>



<a name="232371772"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232371772" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232371772">(Mar 30 2021 at 04:19)</a>:</h4>
<p>Thanks, will look into it</p>



<a name="232405526"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232405526" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232405526">(Mar 30 2021 at 10:46)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  My proposal is partially done, should I still go ahead and upload a draft in the GSoC website?</p>



<a name="232406422"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232406422" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232406422">(Mar 30 2021 at 10:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/231586953">said</a>:</p>
<blockquote>
<p>I got one more doubt as I was researching about how transactions are implemented in different systems, I found this in the journal/ledger based file system wikipedia page,  The statement was made in context to deleting a file in linux and power failure during the process. "After a crash, recovery simply involves reading the journal from the file system and replaying changes from this journal until the file system is consistent again." , So i found it too simple that will just replaying  instructions of the prev cmd stop the db from being corrupted. <br>
Ref:<a href="https://en.wikipedia.org/wiki/Journaling_file_system#Rationale">https://en.wikipedia.org/wiki/Journaling_file_system#Rationale</a></p>
</blockquote>
<p>ping?</p>



<a name="232459436"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232459436" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232459436">(Mar 30 2021 at 16:54)</a>:</h4>
<p>pong?</p>



<a name="232459464"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232459464" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232459464">(Mar 30 2021 at 16:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/232405526">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span>  My proposal is partially done, should I still go ahead and upload a draft in the GSoC website?</p>
</blockquote>
<p>Sure, upload it!</p>



<a name="232460159"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232460159" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232460159">(Mar 30 2021 at 16:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/232406422">said</a>:</p>
<blockquote>
<p>ping?</p>
</blockquote>
<p>There wasn't a question in there, so I'm not sure what you're seeking input on.  Did you have a question about journaling in general?  There's some safety checks that are needed, but that is the gist of implementing safe undo.  Assume a command is going to crash mid-work.  The journal will say something like "modify A; create B;  delete C;" and we can verify at any point whether A was modified, B was created, and C was deleted.  If they weren't we can do them again.  If they were, we just need to update the journal.</p>



<a name="232460550"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232460550" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232460550">(Mar 30 2021 at 17:00)</a>:</h4>
<p>Question was like this, if we were doing "modify A" and system crashed while the process was running</p>



<a name="232460694"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232460694" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232460694">(Mar 30 2021 at 17:01)</a>:</h4>
<p>which might corrupt the db<br>
So will rerunning "modify A" rectify the db?</p>



<a name="232463395"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232463395" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232463395">(Mar 30 2021 at 17:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/232460550">said</a>:</p>
<blockquote>
<p>Question was like this, if we were doing "modify A" and system crashed while the process was running</p>
</blockquote>
<p>I forgot to ask it in the prev msg <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="232477889"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232477889" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232477889">(Mar 30 2021 at 18:53)</a>:</h4>
<p>I have shared a draft of my proposal.<br>
Its 70% done I would say</p>



<a name="232482984"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232482984" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232482984">(Mar 30 2021 at 19:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/232460694">said</a>:</p>
<blockquote>
<p>which might corrupt the db<br>
So will rerunning "modify A" rectify the db?</p>
</blockquote>
<p>In general, it depends on the lowest level write operations and how they're implemented.  That said, librt does go to lengths to minimize potential situations. Should a write be interrupted, the effect should only affect the partially written object, not corrupt the entire file.</p>



<a name="232483074"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232483074" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232483074">(Mar 30 2021 at 19:26)</a>:</h4>
<p>so the fix would be to write over the partially written object again, picking up where it left off</p>



<a name="232483253"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232483253" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232483253">(Mar 30 2021 at 19:27)</a>:</h4>
<p>But will that be possible to note down in the ledger, as that will be generating a very big file imo?</p>



<a name="232483370"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232483370" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232483370">(Mar 30 2021 at 19:28)</a>:</h4>
<p>that = different checkpoints in an event, so that we can know where we left it</p>



<a name="232483384"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232483384" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232483384">(Mar 30 2021 at 19:28)</a>:</h4>
<p>This is not something exhaustively tested, but in practice has been very robust to production use and crashes.  The database i/o layer first finds a section of the file that will fit the object being written/updated.  Then it fully prepares the object being written in memory first, then it writes it out as 1 write operation, then is fflushes the file to make the operating system ensure everything is written to disk.</p>



<a name="232483428"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232483428" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232483428">(Mar 30 2021 at 19:28)</a>:</h4>
<p>the only thing in the ledger is what's currently changing</p>



<a name="232483595"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232483595" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232483595">(Mar 30 2021 at 19:30)</a>:</h4>
<p>it's not a full history, it's just what's happening right now that hasn't been applied yet.  the actual undo data is in a separate space (e.g., another .g in memory)</p>



<a name="232483852"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232483852" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232483852">(Mar 30 2021 at 19:31)</a>:</h4>
<p>Yeah, I wasnt talking abt that either<br>
I was talking about if we could/would note down all minor steps being done under 1 event, but yeah now im clear that we will just store the thing thats being modified</p>



<a name="232484162"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232484162" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232484162">(Mar 30 2021 at 19:33)</a>:</h4>
<p>I think you'd note down all the events in a given transaction, then do them, then make sure they were all done.</p>



<a name="232484277"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232484277" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232484277">(Mar 30 2021 at 19:34)</a>:</h4>
<p>so not necessarily just what's being modified, but also what's being created or killed</p>



<a name="232484707"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232484707" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232484707">(Mar 30 2021 at 19:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/232483595">said</a>:</p>
<blockquote>
<p>it's not a full history, it's just what's happening right now that hasn't been applied yet.  the actual undo data is in a separate space (e.g., another .g in memory)</p>
</blockquote>
<p>I guess I should clarify, because we're mixing journaling with undo... in that case the journal/ledger will either have a full history or you'll keep an integrity journal and separately keep an undo ledger.</p>



<a name="232485138"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232485138" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232485138">(Mar 30 2021 at 19:40)</a>:</h4>
<p>because there's two things we're talking about -- one is ensuring the .g is consistent -- that a command was either fully, partially, or not completed.  for that, a journal of the current transaction is all that's required.  You write what you're going to do, you do it to the .g, then you remove it from the journal.  So if at any point the journal is non-empty, we know something is either in-progress or was interrupted/crashed/aborted/etc.</p>



<a name="232485631"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232485631" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232485631">(Mar 30 2021 at 19:44)</a>:</h4>
<p>in order to undo transactions and commands, we need a ledger of what changes were made, which is a little different.  for that, a simple convention in a working space with copies of the data in its previous state should be enough.</p>



<a name="232487999"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232487999" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232487999">(Mar 30 2021 at 20:00)</a>:</h4>
<p>Got it</p>



<a name="232490641"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232490641" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232490641">(Mar 30 2021 at 20:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/232477889">said</a>:</p>
<blockquote>
<p>I have shared a draft of my proposal.<br>
Its 70% done I would say</p>
</blockquote>
<p>Do review if you find time</p>



<a name="232584782"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232584782" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sutirtha Bhattacharyya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232584782">(Mar 31 2021 at 12:53)</a>:</h4>
<p>Hi, I have some experience with C/C++. Is it too late to work on the annotation support project?</p>



<a name="232605908"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232605908" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232605908">(Mar 31 2021 at 14:56)</a>:</h4>
<p><span class="user-mention" data-user-id="401976">@Sutirtha Bhattacharyya</span> it's only too late after the deadline passes.  The challenge for you will be putting in adequate time and effort to demonstrate your coding ability.  You need to submit a productively useful change to BRL-CAD's code.  That typically can be done in less than a day, but it depends on your ability to read existing code and ask productive questions (i.e., don't ask questions that are easily discovered on your own, ask questions that help you understand and be productive).</p>



<a name="232607478"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232607478" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sutirtha Bhattacharyya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232607478">(Mar 31 2021 at 15:06)</a>:</h4>
<p>Okay. I will try my best!</p>



<a name="232651084"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232651084" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232651084">(Mar 31 2021 at 19:31)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> In the simple main.c that I'm writing should I write the backup objects in another file or putting it in the same db works?</p>



<a name="232651775"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232651775" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232651775">(Mar 31 2021 at 19:35)</a>:</h4>
<p>Also shud I create a separate topic for my project idea (undo + transactions), so that this topic remains for people who want to introduce themselves</p>



<a name="232657977"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232657977" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232657977">(Mar 31 2021 at 20:15)</a>:</h4>
<p>When we do it for real, we'll probably want to put them in a separate space, a separate in-mem database.  For this, though, I think the same db should give a close enough indication of the implications and performance.</p>



<a name="232658485"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232658485" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232658485">(Mar 31 2021 at 20:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/232651775">said</a>:</p>
<blockquote>
<p>Also shud I create a separate topic for my project idea (undo + transactions), so that this topic remains for people who want to introduce themselves</p>
</blockquote>
<p>The title should be what you want it to be, what you think makes the most sense, and shoudl include what you want to do first and foremost -- it's your proposal.  From there, we can discuss changes if needed.  Our project ideas are just that -- ideas.  They're not a menu of options, just starting points for others to create proposals.</p>



<a name="232659107"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232659107" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232659107">(Mar 31 2021 at 20:23)</a>:</h4>
<p><span aria-label="oh no" class="emoji emoji-1f615" role="img" title="oh no">:oh_no:</span> Ummmm..... by topic in my previous msg I had meant topic (thread) in zulip</p>



<a name="232659564"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232659564" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232659564">(Mar 31 2021 at 20:27)</a>:</h4>
<p>I felt that many people discussing things parallelly in the same thread/topic might get clumsy<br>
So I was talking about creating a new thread/topic in zulip, so that people could introduce themselves in the "GSoC ideas" topic and discussion specific to my proposal could be in a separate newly created topic</p>



<a name="232706280"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706280" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706280">(Apr 01 2021 at 05:27)</a>:</h4>
<p>I have written a main.c, similar to test_tops.c, but when I compile and run it, it doesnt work<br>
I tried printing dbp-&gt;ged_result_str, It prints unknown command: make</p>



<a name="232706340"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706340" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706340">(Apr 01 2021 at 05:28)</a>:</h4>
<p>I tried to run the exectuable of test_tops.c, even that prints unknown command: tops</p>



<a name="232706450"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706450" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706450">(Apr 01 2021 at 05:30)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> how are you compiling and running?  I suspect it has to do with the dynamic libged plugin loading</p>



<a name="232706475"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706475" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706475">(Apr 01 2021 at 05:30)</a>:</h4>
<p>I wrote the file in libged/tests</p>



<a name="232706484"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706484" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706484">(Apr 01 2021 at 05:30)</a>:</h4>
<p>added a line in the Cmakelists.txt</p>



<a name="232706495"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706495" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706495">(Apr 01 2021 at 05:31)</a>:</h4>
<p>k, that's good -- and running it?</p>



<a name="232706518"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706518" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706518">(Apr 01 2021 at 05:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/232706484">said</a>:</p>
<blockquote>
<p>added a line in the Cmakelists.txt</p>
</blockquote>
<p>BRLCAD_ADDEXEC(ged_test_undo test_undo.c libged TEST)</p>



<a name="232706525"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706525" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706525">(Apr 01 2021 at 05:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/232706495">said</a>:</p>
<blockquote>
<p>k, that's good -- and running it?</p>
</blockquote>
<p>Ya, its running</p>



<a name="232706539"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706539" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706539">(Apr 01 2021 at 05:31)</a>:</h4>
<p>It prints all the bu_log() statements</p>



<a name="232706549"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706549" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706549">(Apr 01 2021 at 05:31)</a>:</h4>
<p>Doesnt throw any error either</p>



<a name="232706610"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706610" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706610">(Apr 01 2021 at 05:32)</a>:</h4>
<p>Just that the ged_make or ged_kill isnt working and the file Im modifying remains the same</p>



<a name="232706634"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706634" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706634">(Apr 01 2021 at 05:32)</a>:</h4>
<p>No, I mean how are you running it.</p>



<a name="232706677"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706677" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706677">(Apr 01 2021 at 05:33)</a>:</h4>
<p>what did you type to run your program</p>



<a name="232706745"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706745" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706745">(Apr 01 2021 at 05:34)</a>:</h4>
<p>./test_undo empty.g</p>



<a name="232706751"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706751" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706751">(Apr 01 2021 at 05:34)</a>:</h4>
<p>that's why</p>



<a name="232706767"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706767" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706767">(Apr 01 2021 at 05:34)</a>:</h4>
<p>check this: </p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>morrison@agua .build % ./src/libged/tests/ged_test_tops share/db/moss.g
all.g

morrison@agua .build % cd src/libged
morrison@agua libged % ./tests/ged_test_tops ../../share/db/moss.g
unknown command: tops
</code></pre></div>



<a name="232706818"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706818" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706818">(Apr 01 2021 at 05:35)</a>:</h4>
<p>it loads the plugins dynamically and since you are running from an uninstalled state, it doesn't know where to find them unless you're at the top of the build directory.</p>



<a name="232706843"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706843" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706843">(Apr 01 2021 at 05:35)</a>:</h4>
<p>something that can be fixed, but is a current limitation</p>



<a name="232706927"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232706927" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232706927">(Apr 01 2021 at 05:37)</a>:</h4>
<p>Cool, Thank you</p>



<a name="232793718"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/232793718" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#232793718">(Apr 01 2021 at 17:24)</a>:</h4>
<p>I have implemented the create and delete and then backup (by hardcoding it for now), got the basic libgit2 cmds running within the code, learning the libgit2 API to implement the undo using VCS</p>



<a name="233023134"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233023134" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233023134">(Apr 03 2021 at 18:27)</a>:</h4>
<p>I'm a little busy with clg work and also I'm encountering a lot of errors in the libgit2 part<br>
Will try to have a working version asap</p>



<a name="233023208"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233023208" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233023208">(Apr 03 2021 at 18:28)</a>:</h4>
<p>If possible can any of the mentor(s) review the draft of my proposal and suggest changes or additions, so that I will have time to work on them before i make the final draft</p>



<a name="233062911"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233062911" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233062911">(Apr 04 2021 at 07:16)</a>:</h4>
<p>I have successfully made 2 files: one which is a hardcoded implementation of the "partial + events " method and the other is an implementation which uses libgit2 to revert back to the undone state</p>



<a name="233063113"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233063113" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233063113">(Apr 04 2021 at 07:21)</a>:</h4>
<p>I will create a patch on this in sometime</p>



<a name="233072379"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233072379" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233072379">(Apr 04 2021 at 10:41)</a>:</h4>
<p>Created the patch, it has 2 files in libged/tests/ . They work fine except that ged_summary doesn't give the right output after reverting back using libgit2. The killed object does get recovered when I open with mged and check. but ged_summary doesn't reflect that there is an object while running the code</p>



<a name="233072385"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233072385" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233072385">(Apr 04 2021 at 10:41)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> any ideas on how I can proceed further?</p>



<a name="233218522"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233218522" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233218522">(Apr 05 2021 at 19:34)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> You've done great thus far.  I'll update on the patches soon, but feel free to see if you can figure out what's going on with killed objects.  Note that depending on how you add/delete objects, you will need to rebuild the geometry directory.  That's especially true for altering the .g from outside librt, like you're doing with libgit2 (that's one of the downsides, have to fully rebuild because you don't know what changed).</p>



<a name="233219112"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233219112" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233219112">(Apr 05 2021 at 19:40)</a>:</h4>
<p>Yeah, dint know there was a rebuild<br>
I was thinking of closing and reopining the db and then doing ged_summary<br>
But this week has been quite loaded in terms of academics so couldn't work much</p>



<a name="233219252"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233219252" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233219252">(Apr 05 2021 at 19:41)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> I would really appreciate it if you just skimmed through my proposal and tell me what all I could/should add to my proposal</p>



<a name="233219319"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233219319" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233219319">(Apr 05 2021 at 19:42)</a>:</h4>
<p>Rn I don't have any code snippets/pseudo code in the proposal, it is necessary to put them or only the theory is sufficient?</p>



<a name="233268700"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233268700" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233268700">(Apr 06 2021 at 05:33)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> I'm done commenting.  Your draft is very good.  The biggest critique I have is that the timeline is very aggressive, maybe unrealistic.   There's many things that could end up taking a week or two to figure out, and priority should be on completing undo/redo robustly and (adequately) performant first and foremost (my opinion) before, for example, tackling transactions or anything else really.  That's really the essential feature from a user perspective that it may be best to just focus on it.</p>



<a name="233268830"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233268830" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233268830">(Apr 06 2021 at 05:35)</a>:</h4>
<p>I think your analysis of all the various options is good.   Your patches are on-point as well.   A couple decisions would need to be made before GSoC begins so there's less/no discovery in the shortened timeframe.</p>



<a name="233268973"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233268973" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233268973">(Apr 06 2021 at 05:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/233219319">said</a>:</p>
<blockquote>
<p>Rn I don't have any code snippets/pseudo code in the proposal, it is necessary to put them or only the theory is sufficient?</p>
</blockquote>
<p>The theory and links are sufficient.  It would be good to expand on the recommended plan and reasons for it.  From my  perspective, I think the main decision needed is whether to go with the libgit2 approach or not and having a good rationale for why (or why not), what the implication trade-off considerations were, etc.</p>



<a name="233269436"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233269436" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233269436">(Apr 06 2021 at 05:45)</a>:</h4>
<p>If you eliminate transactions from the plan and focus entirely on undo, it would be good to see an updated timeline.  Keep in mind a potential new undo command (perhaps with a -r redo option), documentation (e.g., doc/docbook/system/mann/undo.xml and potentially other docs), behavioral/usability testing (important commands to consider include facetize, search -exec, dbconcat, dbupgrade, edit, and clone commands),  and performance/robustness testing.</p>



<a name="233282328"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233282328" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233282328">(Apr 06 2021 at 08:17)</a>:</h4>
<p>Sure, I will make an updated time line only for UNDO</p>



<a name="233390905"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233390905" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233390905">(Apr 06 2021 at 21:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/233268973">said</a>:</p>
<blockquote>
<p>From my  perspective, I think the main decision needed is whether to go with the libgit2 approach or not and having a good rationale for why (or why not), what the implication trade-off considerations were, etc.</p>
</blockquote>
<p>So I'll try to compare time and space complexity for both methods using some heavy database</p>



<a name="233540045"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233540045" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233540045">(Apr 07 2021 at 18:36)</a>:</h4>
<p>Is the havoc.g (589 kB) big enough to use for comparing both methods for deletion and re-addition(undo)?<br>
Or should I generate something bigger?</p>



<a name="233652311"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233652311" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233652311">(Apr 08 2021 at 13:31)</a>:</h4>
<p>Greetings, I'm Amanjot Singh from India. I've been practicing front-end web development for 3 years. I'm a Btech student in 3rd-year Computer Science and also completed a 3-year diploma in Computer Science and Engineering. I also have 9 months of in-field job experience with the role of a frontend developer. I'm interested to contribute to open source during GSoC this year. I hope I'll get a cool and awesome experience here :)</p>



<a name="233668322"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233668322" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233668322">(Apr 08 2021 at 15:02)</a>:</h4>
<p>You could try this one: <a href="https://brlcad.org/~sean/tmp/hairball.g">https://brlcad.org/~sean/tmp/hairball.g</a><br>
<a href="#narrow/stream/104062-general/topic/guidance.20for.20the.20first.20contribution/near/214412419">https://brlcad.zulipchat.com/#narrow/stream/104062-general/topic/guidance.20for.20the.20first.20contribution/near/214412419</a></p>



<a name="233669042"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233669042" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233669042">(Apr 08 2021 at 15:04)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="403746">@Amanjot Singh</span>, which project ideas sound most interesting for you?</p>



<a name="233681269"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233681269" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233681269">(Apr 08 2021 at 16:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102939">Daniel Rossberg</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/233669042">said</a>:</p>
<blockquote>
<p>Hi <span class="user-mention silent" data-user-id="403746">Amanjot Singh</span>, which project ideas sound most interesting for you?</p>
</blockquote>
<p>Hey, I've found the task Online Geometry Viewer most interesting and best suitable for me.</p>



<a name="233713315"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233713315" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233713315">(Apr 08 2021 at 19:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/233390905">said</a>:</p>
<blockquote>
<p>So I'll try to compare time and space complexity for both methods using some heavy database</p>
</blockquote>
<p>I used hairball.g (139MB), tried to delete the whole object and then recover it using both methods:</p>



<a name="233713333"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233713333" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233713333">(Apr 08 2021 at 19:21)</a>:</h4>
<p>Using the partial+events method, where I stored a recovery copy of the object and used that to recover the deleted object, the file was 277MB when the recovery object was present</p>



<a name="233713336"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233713336" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233713336">(Apr 08 2021 at 19:22)</a>:</h4>
<p>In the method using libgit2, the .git folder was 127.3MB and add that to the 139MB of the database, it becomes  266.3MB</p>



<a name="233714351"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233714351" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233714351">(Apr 08 2021 at 19:29)</a>:</h4>
<p>Here the libgit2 approach saves 11MB which is about 8% of space compared to the initial database, which is pretty significant in my opinion</p>



<a name="233716574"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233716574" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233716574">(Apr 08 2021 at 19:45)</a>:</h4>
<p>I tried to rename the hairball object using <code>mv</code> cmd and used libgit2 to bring it back to the original state, in this case the .git folder occupies 63.7 MB</p>



<a name="233751119"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233751119" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233751119">(Apr 09 2021 at 00:31)</a>:</h4>
<p>/me idly wonders what git would do if we b64 encoded the .g files, the way we do for 3dm breps when we walk them through g2asc/asc2g - wonder if something that is nominally a text file might be easier for git to intelligently diff...</p>



<a name="233804257"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233804257" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233804257">(Apr 09 2021 at 11:19)</a>:</h4>
<p>Hey Mentors and fellow participants. I want to clear a doubt. Is there any specific template for the proposal to apply in BRL-CAD or we should write it completely in our own way?</p>



<a name="233827105"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233827105" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233827105">(Apr 09 2021 at 14:09)</a>:</h4>
<p>There is no template, but <a href="https://brlcad.org/wiki/Summer_of_Code/Application_Guidelines">guidelines</a>. Have a look at our general <a href="https://brlcad.org/wiki/Google_Summer_of_Code">GSoC page</a> and the <a href="https://brlcad.org/wiki/Summer_of_Code/Checklist">CHECKLIST</a> too.</p>



<a name="233829306"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233829306" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233829306">(Apr 09 2021 at 14:23)</a>:</h4>
<p>Thanks Daniel</p>



<a name="233864009"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233864009" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233864009">(Apr 09 2021 at 17:50)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="112516">@starseeker</span>  or <span class="user-mention" data-user-id="102902">@Sean</span> <br>
Could you tell me what deliverables I could mention in my proposal?<br>
I was considering the following as checkpoints:</p>
<ol>
<li>A dummy UNDO command which just prints a line</li>
<li>Storing a backup file/adding backup objects after every change</li>
<li>Linking the backup to the UNDO command and basic testing<br>
Do these look fine as deliverables, if not could you give me some direction</li>
</ol>



<a name="233939547"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/233939547" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#233939547">(Apr 10 2021 at 08:52)</a>:</h4>
<p>As <span class="user-mention" data-user-id="102902">@Sean</span> had mentioned that the timeline is too aggressive, should I still have the implementation of transactions as part of my GSoC proposal, as I might not have sufficient time to fully implement it</p>



<a name="234016480"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234016480" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234016480">(Apr 11 2021 at 05:05)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="103555">@Shubham Rathore</span> <span class="user-mention" data-user-id="103585">@Panda (Gauravjeet Singh)</span> I was thinking of sending some patches before I draft my proposal. I looked at this issue <a href="https://github.com/BRL-CAD/OGV-meteor/issues/63">https://github.com/BRL-CAD/OGV-meteor/issues/63</a> that says there is no message if upload fails for some reason. I tried uploading a png file so that I can see if it gives an error or not and it gave me an error. Can you please explain a little bit for what reason it may give an error so that I can reproduce the issue and try fixing that.</p>



<a name="234016544"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234016544" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234016544">(Apr 11 2021 at 05:06)</a>:</h4>
<p>One more question, this is one of the checklist tasks provided for GSoC 2021. Am I I allowed sending fixes for the issues that are in the checklist?</p>



<a name="234105560"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234105560" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234105560">(Apr 12 2021 at 05:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/233713333">said</a>:</p>
<blockquote>
<p>Using the partial+events method, where I stored a recovery copy of the object and used that to recover the deleted object, the file was 277MB when the recovery object was present</p>
</blockquote>
<p>Just a word of caution here -- .g files don't typically reclaim killed space until new objects are added.  That means there is some dead some, i.e., phantom size, represented there that is an optimization but not actual utilization.  It's a slow filesystem operation to shrink a file, so it doesn't do that unless explicitly requested.</p>



<a name="234105800"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234105800" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234105800">(Apr 12 2021 at 05:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/233714351">said</a>:</p>
<blockquote>
<p>Here the libgit2 approach saves 11MB which is about 8% of space compared to the initial database, which is pretty significant in my opinion</p>
</blockquote>
<p>Even if the partial approach retained two copies (e.g., the edit case), that size difference is pretty negligible.  Time is the more interesting factor -- how long did the two methods take?  How does it scale with 10 hairballs being edited?  that's likely a usability-impacting factor.</p>



<a name="234106452"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234106452" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234106452">(Apr 12 2021 at 05:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/233751119">said</a>:</p>
<blockquote>
<p>/me idly wonders what git would do if we b64 encoded the .g files, the way we do for 3dm breps when we walk them through g2asc/asc2g - wonder if something that is nominally a text file might be easier for git to intelligently diff...</p>
</blockquote>
<p>The main/only benefit of using something like libgit2 would be agnostic simplicity and speed of implementation.  If we have to layer in any complexity, that would pretty much eliminates the feature point in my view.  Keeping in mind that this is for an undo/redo system too.  It needs to be as simple as possible, reliable and performant first and foremost.  Memory/space utilization is not a deciding feature as it's all temp state.</p>



<a name="234106852"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234106852" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234106852">(Apr 12 2021 at 05:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/233864009">said</a>:</p>
<blockquote>
<p>Hey <span class="user-mention silent" data-user-id="112516">starseeker</span>  or <span class="user-mention silent" data-user-id="102902">Sean</span> <br>
Could you tell me what deliverables I could mention in my proposal?<br>
I was considering the following as checkpoints:</p>
<ol>
<li>A dummy UNDO command which just prints a line</li>
<li>Storing a backup file/adding backup objects after every change</li>
<li>Linking the backup to the UNDO command and basic testing<br>
Do these look fine as deliverables, if not could you give me some direction</li>
</ol>
</blockquote>
<p>They look fine.  It's more important that you just set checkpoints than what the checkpoints are.  Personally, I would make them user-centric like a completely designed undo command (from a usage perspective) where all behavior is defined and documented, but nothing implemented.  Then single undo/redo fully implemented and demonstrated via command.  Then fully integrated into GUI (mged and/or archer) and display manager keybindings.  Then multi-undo/redo fully implemented/demonstrated/integrated.  Something like that.</p>



<a name="234107139"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234107139" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234107139">(Apr 12 2021 at 05:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="403746">Amanjot Singh</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234016544">said</a>:</p>
<blockquote>
<p>One more question, this is one of the checklist tasks provided for GSoC 2021. Am I I allowed sending fixes for the issues that are in the checklist?</p>
</blockquote>
<p>Of course.  You can submit any fix/improvement for any issue (in any code/language/repo for BRL-CAD).   It helps if it's related to your proposal, but not necessary.  For OGV, it relies heavily on backend processing by other BRL-CAD tools, so they are heavily related too.</p>



<a name="234108288"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234108288" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234108288">(Apr 12 2021 at 06:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234105560">said</a>:</p>
<blockquote>
<p>Just a word of caution here -- .g files don't typically reclaim killed space until new objects are added.  That means there is some dead some, i.e., phantom size, represented there that is an optimization but not actual utilization.  It's a slow filesystem operation to shrink a file, so it doesn't do that unless explicitly requested.</p>
</blockquote>
<p>I deleted the objected and then recovered it back again, so will that still have phantom size<br>
because I added back the same object (which will have the same size as the deleted object)</p>



<a name="234108314"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234108314" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234108314">(Apr 12 2021 at 06:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234105800">said</a>:</p>
<blockquote>
<p>Even if the partial approach retained two copies (e.g., the edit case), that size difference is pretty negligible.  Time is the more interesting factor -- how long did the two methods take?  How does it scale with 10 hairballs being edited?  that's likely a usability-impacting factor.</p>
</blockquote>
<p>Haven't checked the time factor yet, let me check right now</p>



<a name="234108477"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234108477" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234108477">(Apr 12 2021 at 06:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234106852">said</a>:</p>
<blockquote>
<p>They look fine.  It's more important that you just set checkpoints than what the checkpoints are.  Personally, I would make them user-centric like a completely designed undo command (from a usage perspective) where all behavior is defined and documented, but nothing implemented.  Then single undo/redo fully implemented and demonstrated via command.  Then fully integrated into GUI (mged and/or archer) and display manager keybindings.  Then multi-undo/redo fully implemented/demonstrated/integrated.  Something like that.</p>
</blockquote>
<p>Sure, will update my proposal by tonight keeping these n mind</p>



<a name="234110831"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234110831" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234110831">(Apr 12 2021 at 06:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/233939547">said</a>:</p>
<blockquote>
<p>As <span class="user-mention silent" data-user-id="102902">Sean</span> had mentioned that the timeline is too aggressive, should I still have the implementation of transactions as part of my GSoC proposal, as I might not have sufficient time to fully implement it</p>
</blockquote>
<p>So should I completely shift focus to UNDO and remove the transactions part from my proposal as I might not find time to implement it?</p>



<a name="234115037"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234115037" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234115037">(Apr 12 2021 at 07:27)</a>:</h4>
<p>Time taken for following in libgit2 method: (haven't divided by CLOCK_CYCLES)<br>
Intialize repo: 4,524,677<br>
open db and make object: 193,198<br>
commit: 4,446,718<br>
delete: 81<br>
Revert back to prev commit: 4,450,182</p>



<a name="234115160"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234115160" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234115160">(Apr 12 2021 at 07:29)</a>:</h4>
<p>Time taken for following in partial :<br>
Open and add: 193,797<br>
Kill and add recovery ibject: 187,787<br>
Recover: 195,973</p>



<a name="234115182"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234115182" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234115182">(Apr 12 2021 at 07:29)</a>:</h4>
<p>These times are for a single hairball</p>



<a name="234139632"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234139632" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234139632">(Apr 12 2021 at 11:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234107139">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="403746">Amanjot Singh</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234016544">said</a>:</p>
<blockquote>
<p>One more question, this is one of the checklist tasks provided for GSoC 2021. Am I I allowed sending fixes for the issues that are in the checklist?</p>
</blockquote>
<p>Of course.  You can submit any fix/improvement for any issue (in any code/language/repo for BRL-CAD).   It helps if it's related to your proposal, but not necessary.  For OGV, it relies heavily on backend processing by other BRL-CAD tools, so they are heavily related too.</p>
</blockquote>
<p>Thanks for clearing out <span aria-label="raised hands" class="emoji emoji-1f64c" role="img" title="raised hands">:raised_hands:</span></p>



<a name="234161768"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234161768" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234161768">(Apr 12 2021 at 13:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234108288">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234105560">said</a>:<br>
I deleted the objected and then recovered it back again, so will that still have phantom size<br>
because I added back the same object (which will have the same size as the deleted object)</p>
</blockquote>
<p>What I would expect to happen is 100 MB object in a file.g gets modified/deleted (i.e., moved to a undo_cache.g), so file.g is at 0MB+100MB (data+padding) for a total of 100MB file size.  The undo_cache.g is a 100MB+0MB=100MB file.  Then you undo.</p>
<p>In that case, file.g either changes to 100MB+0MB (data+padding)  or doubles to 100MB+100MB (data+padding)=200MB file size depending on the nature of the edit, and the undo_cache.g is 0MB+100MB (data+padding) in size.</p>



<a name="234162530"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234162530" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234162530">(Apr 12 2021 at 13:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234110831">said</a>:</p>
<blockquote>
<p>So should I completely shift focus to UNDO and remove the transactions part from my proposal as I might not find time to implement it?</p>
</blockquote>
<p>I think so.  I mean it's still part of undo in a way, like if someone runs the "clone" command, I expect undo to completely revert the clone, not just the last object copied, but transactions aren't strictly necessary -- it's just one way that can be achieved.</p>



<a name="234162840"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234162840" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234162840">(Apr 12 2021 at 13:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234115182">said</a>:</p>
<blockquote>
<p>These times are for a single hairball</p>
</blockquote>
<p>Now that's very informative.  What are those rates in MB/sec ?</p>



<a name="234184278"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234184278" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234184278">(Apr 12 2021 at 15:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234162530">said</a>:</p>
<blockquote>
<p>I think so.  I mean it's still part of undo in a way, like if someone runs the "clone" command, I expect undo to completely revert the clone, not just the last object copied, but transactions aren't strictly necessary -- it's just one way that can be achieved.</p>
</blockquote>
<p>Regarding this, if I go with the libgit2 approach that will be completely different from transactions, right?</p>



<a name="234186688"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234186688" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234186688">(Apr 12 2021 at 16:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234162840">said</a>:</p>
<blockquote>
<p>Now that's very informative.  What are those rates in MB/sec ?</p>
</blockquote>
<p>These are in clock ticks ( values returned by <code>clock()</code> in C)</p>



<a name="234188406"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234188406" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234188406">(Apr 12 2021 at 16:23)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="103555">@Shubham Rathore</span> <span class="user-mention" data-user-id="103585">@Panda (Gauravjeet Singh)</span> <span class="user-mention" data-user-id="210402">@Harmanpreet Singh</span> I've drafted the proposal to the GSoC website. Can you please check? I'll send the final proposal tomorrow 2PM IST.</p>



<a name="234210537"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234210537" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234210537">(Apr 12 2021 at 18:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234162530">said</a>:</p>
<blockquote>
<p>I think so.  I mean it's still part of undo in a way, like if someone runs the "clone" command, I expect undo to completely revert the clone, not just the last object copied, but transactions aren't strictly necessary -- it's just one way that can be achieved.</p>
</blockquote>
<p>I'll put the theory that I have for the transactions at the end as part of an appendix</p>



<a name="234211700"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234211700" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234211700">(Apr 12 2021 at 18:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234115160">said</a>:</p>
<blockquote>
<p>Time taken for following in partial :<br>
Open and add: 193,797<br>
Kill and add recovery ibject: 187,787<br>
Recover: 195,973</p>
</blockquote>
<p>Right now the recovery object is made in the same file, even if it is made in a separate file and then accessed I don't think there will be a huge change in time</p>



<a name="234218876"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234218876" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234218876">(Apr 12 2021 at 19:47)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> any changes I might need to do to the proposal based on the above results or any more tests to do before proposal submission?</p>



<a name="234229071"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234229071" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234229071">(Apr 12 2021 at 20:58)</a>:</h4>
<p>I have submitted a final draft as of now<br>
I have changed the timeline, made changes based on your previous comments, added a comparison between both methods in terms of space (as of now, will add the time comparisons ), and added basic implementation details in the appendix</p>



<a name="234229140"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234229140" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234229140">(Apr 12 2021 at 20:58)</a>:</h4>
<p>Please review if you find time</p>



<a name="234261980"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234261980" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234261980">(Apr 13 2021 at 03:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234184278">said</a>:</p>
<blockquote>
<p>Regarding this, if I go with the libgit2 approach that will be completely different from transactions, right?</p>
</blockquote>
<p>Depends what you mean.  It's SUPER SIMPLE to implement transactions using the libgit2 approach because you can simply note the start and check-in at the end of each transaction.  So undoing a transaction is simply rolling back to a previous commit.  Even if you have recursive transactions within transactions, it just works because it keeps track the full state change automatically.</p>



<a name="234262002"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234262002" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234262002">(Apr 13 2021 at 03:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="403746">Amanjot Singh</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234188406">said</a>:</p>
<blockquote>
<p>Hey <span class="user-mention silent" data-user-id="103555">Shubham Rathore</span> <span class="user-mention silent" data-user-id="103585">Panda (Gauravjeet Singh)</span> <span class="user-mention silent" data-user-id="210402">Harmanpreet Singh</span> I've drafted the proposal to the GSoC website. Can you please check? I'll send the final proposal tomorrow 2PM IST.</p>
</blockquote>
<p>Excellent <span class="user-mention" data-user-id="403746">@Amanjot Singh</span>.  Make sure you don't wait until the last couple hours.  Submit early if you can.</p>



<a name="234262051"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234262051" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234262051">(Apr 13 2021 at 03:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234186688">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234162840">said</a>:</p>
<blockquote>
<p>Now that's very informative.  What are those rates in MB/sec ?</p>
</blockquote>
<p>These are in clock ticks ( values returned by <code>clock()</code> in C)</p>
</blockquote>
<p>I realized that -- was asking you to do the math ;)  also, to look at rate, not just time since the dominant factor right now is almost certainly I/O and the quantity of data being read/written to disk.</p>



<a name="234262141"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234262141" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234262141">(Apr 13 2021 at 03:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234211700">said</a>:</p>
<blockquote>
<p>Right now the recovery object is made in the same file, even if it is made in a separate file and then accessed I don't think there will be a huge change in time</p>
</blockquote>
<p>I agree -- even more important, though, is that we have an in-memory-only database concept that is relevant here as it would avoid the disk entirely.  There I suspect would be the fastest option by quite a huge amount.</p>



<a name="234262211"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234262211" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234262211">(Apr 13 2021 at 03:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234229140">said</a>:</p>
<blockquote>
<p>Please review if you find time</p>
</blockquote>
<p>At this point, we're in details that are subject to change.  For application purposes, you've done well.</p>



<a name="234262894"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234262894" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234262894">(Apr 13 2021 at 03:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234262051">said</a>:</p>
<blockquote>
<p>I realized that -- was asking you to do the math ;)  also, to look at rate, not just time since the dominant factor right now is almost certainly I/O and the quantity of data being read/written to disk.</p>
</blockquote>
<p>Is there some function to get the rate, or should i do it manually?</p>



<a name="234262937"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234262937" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234262937">(Apr 13 2021 at 03:29)</a>:</h4>
<p>Because you had mentioned about padding size, I might not be able to calculate exactly how much memory is being written after each change</p>



<a name="234263396"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234263396" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234263396">(Apr 13 2021 at 03:34)</a>:</h4>
<p>No you just calculate it.</p>



<a name="234263730"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234263730" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234263730">(Apr 13 2021 at 03:41)</a>:</h4>
<p>I mean just looking quickly, if we disregard open and add actvity, it took approx 188+196=384k clock cycles to do+undo which is conveniently 384ms or 0.384 sec.  I think you said hairball is nominally 139MB of data, so the do+undo rate is 362MB/sec.</p>



<a name="234263839"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234263839" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234263839">(Apr 13 2021 at 03:43)</a>:</h4>
<p>The libgit2 method took 8.896 sec, so it's effective rate was 15.6MB/sec</p>



<a name="234263917"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234263917" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234263917">(Apr 13 2021 at 03:45)</a>:</h4>
<p>Right.</p>



<a name="234263922"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234263922" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234263922">(Apr 13 2021 at 03:45)</a>:</h4>
<p>which at a glance, doesn't seem right .. that's a LOT of time for a file-based activity.  you sure there's not a mistake in there?</p>



<a name="234263934"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234263934" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234263934">(Apr 13 2021 at 03:45)</a>:</h4>
<p>basically 4 sec to check-in</p>



<a name="234263953"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234263953" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234263953">(Apr 13 2021 at 03:45)</a>:</h4>
<p>Yeah does seem like a lot of time</p>



<a name="234264079"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234264079" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234264079">(Apr 13 2021 at 03:47)</a>:</h4>
<p>I would expect it to be more, but that's 23x more.  I would have thought 2-10x more likely.</p>



<a name="234264173"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234264173" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234264173">(Apr 13 2021 at 03:48)</a>:</h4>
<p>Yes, I also realized that the git method was taking too much time</p>



<a name="234264197"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234264197" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234264197">(Apr 13 2021 at 03:49)</a>:</h4>
<p>Just as I would expect in-mem to take 0.15-0.04 sec or 2x-10x faster than that 368MB/sec rate.</p>



<a name="234264201"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234264201" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234264201">(Apr 13 2021 at 03:49)</a>:</h4>
<p>Maybe theres some redundant code in the git method, like I'm creating a tree for every commit (which I wasn't very sure on if it was required or not)</p>



<a name="234264263"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234264263" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234264263">(Apr 13 2021 at 03:50)</a>:</h4>
<p>Well that can be something to figure out later/next.  Will have to look more closely at your harness code that's pending review.</p>



<a name="234264291"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234264291" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234264291">(Apr 13 2021 at 03:50)</a>:</h4>
<p>Since that's really the deciding factor of whehter libgit2's overhead slowness is worth it to get transactions for free.</p>



<a name="234264309"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234264309" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234264309">(Apr 13 2021 at 03:51)</a>:</h4>
<p>8 sec would be a non-starter if that's real, but I suspect it's not.</p>



<a name="234264400"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234264400" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234264400">(Apr 13 2021 at 03:53)</a>:</h4>
<p>if it went from .3s to .5s or similar, then libgit2 might be compelling, though it's more likely going to be competing with 0.1s vs 0.5s</p>



<a name="234266322"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234266322" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234266322">(Apr 13 2021 at 04:22)</a>:</h4>
<p>So I have submitted my final draft again with a few minor changes<br>
And I don't plan on making any further changes</p>



<a name="234268387"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234268387" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234268387">(Apr 13 2021 at 04:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234262002">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="403746">Amanjot Singh</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234188406">said</a>:</p>
<blockquote>
<p>Hey <span class="user-mention silent" data-user-id="103555">Shubham Rathore</span> <span class="user-mention silent" data-user-id="103585">Panda (Gauravjeet Singh)</span> <span class="user-mention silent" data-user-id="210402">Harmanpreet Singh</span> I've drafted the proposal to the GSoC website. Can you please check? I'll send the final proposal tomorrow 2PM IST.</p>
</blockquote>
<p>Excellent <span class="user-mention silent" data-user-id="403746">Amanjot Singh</span>.  Make sure you don't wait until the last couple hours.  Submit early if you can.</p>
</blockquote>
<p>Okay <span class="user-mention" data-user-id="102902">@Sean</span> I don't have a plan to make any change I can submit this right now as well. Do you think I should make any changes?</p>



<a name="234273880"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234273880" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> shubham shah <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234273880">(Apr 13 2021 at 06:18)</a>:</h4>
<p>hey <span class="user-mention" data-user-id="102902">@Sean</span> . i went through project ideas and last year projects and i wanted to contribute to appleseed project. i cloned it from github and getting to read the sourcecode. but i guess i am a bit late and should submit my draft first. how do you propose i make my timeline?</p>



<a name="234283527"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234283527" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234283527">(Apr 13 2021 at 07:54)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102902">@Sean</span> I've submitted my final proposal. I'm also going to send some patches to the application today.</p>



<a name="234330447"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234330447" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234330447">(Apr 13 2021 at 14:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="400104">shubham shah</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234273880">said</a>:</p>
<blockquote>
<p>hey <span class="user-mention silent" data-user-id="102902">Sean</span> . i went through project ideas and last year projects and i wanted to contribute to appleseed project. i cloned it from github and getting to read the sourcecode. but i guess i am a bit late and should submit my draft first. how do you propose i make my timeline?</p>
</blockquote>
<p>That's great, look forward to reading your proposal as that's a very important project for us.  The deadline is four hours away, though, so best of luck to you.  You'll not only need to write and submit your proposal by the deadline, but you will need to submit some code improvement (a patch or pull request) before the end of the week as well.</p>



<a name="234330488"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234330488" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> shubham shah <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234330488">(Apr 13 2021 at 14:02)</a>:</h4>
<p>@sean i went through tasks of appleseed project, i dont understand much about multithreading support and not able to figure out my timeline around that</p>



<a name="234330901"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234330901" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234330901">(Apr 13 2021 at 14:05)</a>:</h4>
<p>If you don't understand multithreading, then you probably shouldn't be discussing it in your proposal.  There's not much time during this year's GSoC to learn and explore.  That needed to happen the past 2-3 months.</p>



<a name="234330983"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234330983" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234330983">(Apr 13 2021 at 14:05)</a>:</h4>
<p>It'll be enough work to propose improvements and projects using techniques and technology you do understand.</p>



<a name="234440080"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234440080" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234440080">(Apr 14 2021 at 04:37)</a>:</h4>
<p>I have my end-semester exams starting soon, So won't be able to contribute much till they end on May 2. I will regularly check zulip though and if there is anything to be done before the community bonding period I will work on it from May 2 -17.</p>



<a name="234440123"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234440123" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234440123">(Apr 14 2021 at 04:38)</a>:</h4>
<p>Also, It has been a wonderful journey till now in BRL-CAD and I would like to thank the whole community for guiding me from the beginning and being so welcoming. Hope to get selected for GSoC '21 and contributing a lot more in the future.</p>



<a name="234861559"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234861559" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234861559">(Apr 16 2021 at 14:22)</a>:</h4>
<p>Hey there <span class="user-mention" data-user-id="102902">@Sean</span>, I was preparing for my exams. Would that be okay if I send the fix by the end of Sunday?</p>



<a name="234873255"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234873255" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234873255">(Apr 16 2021 at 15:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="403746">Amanjot Singh</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234861559">said</a>:</p>
<blockquote>
<p>Hey there <span class="user-mention silent" data-user-id="102902">Sean</span>, I was preparing for my exams. Would that be okay if I send the fix by the end of Sunday?</p>
</blockquote>
<p>That's certainly your choice and leaves no time for interaction, no time to help you navigate the code, but yes -- that is technically okay.</p>



<a name="234873741"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234873741" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234873741">(Apr 16 2021 at 15:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234440080">said</a>:</p>
<blockquote>
<p>I have my end-semester exams starting soon, So won't be able to contribute much till they end on May 2. I will regularly check zulip though and if there is anything to be done before the community bonding period I will work on it from May 2 -17.</p>
</blockquote>
<p>Thanks for the update <span class="user-mention" data-user-id="353338">@Vikram Atreya</span>  not a problem.</p>



<a name="234964298"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234964298" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234964298">(Apr 17 2021 at 06:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234873255">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="403746">Amanjot Singh</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234861559">said</a>:</p>
<blockquote>
<p>Hey there <span class="user-mention silent" data-user-id="102902">Sean</span>, I was preparing for my exams. Would that be okay if I send the fix by the end of Sunday?</p>
</blockquote>
<p>That's certainly your choice and leaves no time for interaction, no time to help you navigate the code, but yes -- that is technically okay.</p>
</blockquote>
<p>Thanks for the reply <span class="user-mention" data-user-id="102902">@Sean</span> . I've sent a code improvement and surely will send more this weekend. I hope I'm not bothering you with the updates. Have a great day <span aria-label="blush" class="emoji emoji-1f60a" role="img" title="blush">:blush:</span></p>



<a name="234964549"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234964549" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanjot Singh <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234964549">(Apr 17 2021 at 06:21)</a>:</h4>
<p><a href="https://github.com/BRL-CAD/OGV-meteor/pull/101">https://github.com/BRL-CAD/OGV-meteor/pull/101</a> here is the link of PR in case required</p>



<a name="234978428"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/234978428" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#234978428">(Apr 17 2021 at 10:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/227111449">said</a>:</p>
<blockquote>
<p>That's a good thing to check - <span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> see what performance looks like with rt -P1 for ocl vs non.  That requests a single CPU core.  Also notice in that non-opencl profile rt_boolweave() and rt_boolfinal() ... that's the two functions mentioned earlier.</p>
</blockquote>
<p>I was wondering  if I build librt and other dlls with openCL enabled,  after call rt_shootray with ocl supported primitives does it make difference vs non ocl dlls ?</p>



<a name="235207392"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235207392" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235207392">(Apr 19 2021 at 16:12)</a>:</h4>
<p><span class="user-mention" data-user-id="228172">@scorp08</span> Yes, it can make a huge difference, but that's definitely a work in progress.  Some primitives are 10-20x faster, some are about the same, some aren't implemented.  There's a report on the wiki that talks about the performance implications.</p>
<p>One test case was havoc, if I recall correctly, that went from taking about 1-10 seconds to shoot 1M rays to taking less than a second.  It didn't have boolean weaving yet, though, when that study was conducted, so that's easily 25% of the time.</p>



<a name="235571283"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235571283" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235571283">(Apr 21 2021 at 19:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/235207392">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="228172">scorp08</span> Yes, it can make a huge difference, but that's definitely a work in progress.  Some primitives are 10-20x faster, some are about the same, some aren't implemented.  There's a report on the wiki that talks about the performance implications.</p>
<p>One test case was havoc, if I recall correctly, that went from taking about 1-10 seconds to shoot 1M rays to taking less than a second.  It didn't have boolean weaving yet, though, when that study was conducted, so that's easily 25% of the time.</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  oh great, the working primitives are  the ones in <a href="http://common.cl">common.cl</a>?</p>



<a name="235782983"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235782983" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235782983">(Apr 23 2021 at 03:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="228172">scorp08</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/235571283">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span>  oh great, the working primitives are  the ones in <a href="http://common.cl">common.cl</a>?</p>
</blockquote>
<p>Yes, I believe so.  There may be patches for a couple more pending review too.</p>



<a name="235788706"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235788706" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235788706">(Apr 23 2021 at 05:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/235782983">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="228172">scorp08</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/235571283">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span>  oh great, the working primitives are  the ones in <a href="http://common.cl">common.cl</a>?</p>
</blockquote>
<p>Yes, I believe so.  There may be patches for a couple more pending review too.</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I installed intel sdk , env variables are set but cmake-gui did not show any flag about openCL?</p>



<a name="235790892"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235790892" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235790892">(Apr 23 2021 at 05:55)</a>:</h4>
<p>(deleted)</p>



<a name="235790972"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235790972" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235790972">(Apr 23 2021 at 05:56)</a>:</h4>
<p>disabled mark_as_advanced and done , cmake seems sometimes very complicated to me <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="235809967"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235809967" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235809967">(Apr 23 2021 at 09:10)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  I failed to run rt with opencl. It throws nothing(works without opencl). Which projects do I need to compile for enable opencl ?</p>



<a name="235810202"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235810202" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235810202">(Apr 23 2021 at 09:12)</a>:</h4>
<p>I guess you are on windows, in linux you are supposed to add the <code>-DBRLCAD_ENABLE_OPENCL=ON</code> if that helps</p>



<a name="235810242"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235810242" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235810242">(Apr 23 2021 at 09:12)</a>:</h4>
<p>When you run the Cmake command it shows whether OpenCL is found or not</p>



<a name="235810313"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235810313" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235810313">(Apr 23 2021 at 09:13)</a>:</h4>
<p>If it doesnt find OpenCL and you try running rt -z, it just works like the normal rt (without any involvement of OpenCL )</p>



<a name="235817230"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235817230" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235817230">(Apr 23 2021 at 10:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/235810202">said</a>:</p>
<blockquote>
<p>I guess you are on windows, in linux you are supposed to add the <code>-DBRLCAD_ENABLE_OPENCL=ON</code> if that helps</p>
</blockquote>
<p>I already generated projects with opencl enabled but with rt -z 1 it print out "compiling opencl programs"  and no nothing. I think I need to compile some projects in brlcad.sln but I do not know which (compiled all shared libs)</p>



<a name="235877119"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235877119" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235877119">(Apr 23 2021 at 17:18)</a>:</h4>
<p>Compile the ALL_BUILD target... that should be everything.</p>



<a name="235941581"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235941581" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235941581">(Apr 24 2021 at 04:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/235877119">said</a>:</p>
<blockquote>
<p>Compile the ALL_BUILD target... that should be everything.</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  no luck, still "compiling opencl programs" and doing nothing and finish.</p>



<a name="235943206"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/235943206" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#235943206">(Apr 24 2021 at 05:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="228172">scorp08</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/235941581">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/235877119">said</a>:</p>
<blockquote>
<p>Compile the ALL_BUILD target... that should be everything.</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span>  no luck, still "compiling opencl programs" and doing nothing and finish.</p>
</blockquote>
<p>It is "__stdio_common_vsprintf " from stdio.h - access violation. I had compiled some libraries with different SDK version because of Tcl/tk  latest supported version.</p>



<a name="236281006"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/236281006" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#236281006">(Apr 27 2021 at 04:12)</a>:</h4>
<p>You're definitely in advanced territory there <span class="user-mention" data-user-id="228172">@scorp08</span> .. I think you need to first confirm that opencl has been enabled.  What's the entire output from running cmake?  You'll have to copy-paste the log from the cmake transcript / log window into a text file.</p>



<a name="236346838"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/236346838" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#236346838">(Apr 27 2021 at 14:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/236281006">said</a>:</p>
<blockquote>
<p>You're definitely in advanced territory there <span class="user-mention silent" data-user-id="228172">scorp08</span> .. I think you need to first confirm that opencl has been enabled.  What's the entire output from running cmake?  You'll have to copy-paste the log from the cmake transcript / log window into a text file.</p>
</blockquote>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  yeah, USE_OPENCL seems enabled after cmake builds. also selected BRLCAD_ENABLE_OPENCL  before generate. I 'll try with different SDK version but could not do with cmake, altough set (CMAKE_SYSTEM_VERSION 10.0 "10.0.15063.0 " CACHE STRING INTERNAL FORCE)  and #set(CMAKE_VS_WINDOWS_TARGET_PLATFORM_VERSION "10.0.15063.0 ").  I do not know which libraries are  need to be changed from VS. Maybe librt dependencies?</p>



<a name="236392407"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/236392407" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#236392407">(Apr 27 2021 at 19:11)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  debugged. It seems that bu_brlcad_root returning null from  clt_init() . I think need to define a BRLCAD_ROOT env. variable. After all the messy search of SDK version change within cmake here the BRLCAD_ROOT <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> . I thought that It already defined after cmake generations but seems did not why?</p>



<a name="236977268"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/236977268" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scorp08 <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#236977268">(May 01 2021 at 15:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="228172">scorp08</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/236392407">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span>  debugged. It seems that bu_brlcad_root returning null from  clt_init() . I think need to define a BRLCAD_ROOT env. variable. After all the messy search of SDK version change within cmake here the BRLCAD_ROOT <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> . I thought that It already defined after cmake generations but seems did not why?</p>
</blockquote>
<p>I solved include app.h to get correct bu_brlcad_root. But clt_get_program returning error(igc64.dll ). I have laptop with 2 graphic cards .  What am I missing ?</p>



<a name="237044516"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/237044516" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#237044516">(May 02 2021 at 10:47)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="102902">@Sean</span> <br>
My exams are done, I have a few project submissions and presentations to give till May 10 but nothing too hectic. I can start working on comparing both methods and ideas on how to implement them</p>



<a name="237438097"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/237438097" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#237438097">(May 05 2021 at 04:12)</a>:</h4>
<p><span class="user-mention" data-user-id="228172">@scorp08</span> what all you're saying isn't making a whole lot of sense to me, lots of missing information.  There's a couple things you can try.</p>



<a name="237438608"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/237438608" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#237438608">(May 05 2021 at 04:20)</a>:</h4>
<p>First thing to check/try if you're seeing odd bu_brlcad_root behavior is to make sure that you compile and install so that resources are where they're expected, i.e., don't try running from the build directory.</p>



<a name="237438658"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/237438658" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#237438658">(May 05 2021 at 04:21)</a>:</h4>
<p>Assuming that doesn't fix everything, next I'd suggest you delete your cmake cache, and run cmake again -- and then post a log of the entire output.  There is a lot of relevant info on whether opencl was detected properly or not in the output.  Would also help to post the CMakeOutput.txt and CMakeError.txt log files.</p>



<a name="237438675"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/237438675" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#237438675">(May 05 2021 at 04:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="353338">Vikram Atreya</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/237044516">said</a>:</p>
<blockquote>
<p>Hey <span class="user-mention silent" data-user-id="102902">Sean</span> <br>
My exams are done, I have a few project submissions and presentations to give till May 10 but nothing too hectic. I can start working on comparing both methods and ideas on how to implement them</p>
</blockquote>
<p>That sounds excellent.  Congratulations on finishing your exams!</p>



<a name="237438734"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/237438734" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#237438734">(May 05 2021 at 04:22)</a>:</h4>
<p><span class="user-mention" data-user-id="228172">@scorp08</span> you should also start a new thread to discuss opencl instead of posting to the gsoc ideas thread. ;)</p>



<a name="237526608"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/237526608" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikram Atreya <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#237526608">(May 05 2021 at 16:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/234264263">said</a>:</p>
<blockquote>
<p>Well that can be something to figure out later/next.  Will have to look more closely at your harness code that's pending review.</p>
</blockquote>
<p>Could you take a look when you are free, so that I can get some leads on how to proceed next</p>



<a name="237529766"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/237529766" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#237529766">(May 05 2021 at 16:58)</a>:</h4>
<p><span class="user-mention" data-user-id="353338">@Vikram Atreya</span> absolutely can and will.. the trouble is getting to that free time.  I get little pockets, but they're more breaks from handling other urgent deadlines!  I've had too much going on for a few months now, need to make some commitment adjustments.</p>



<a name="345030436"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/345030436" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ajay Pal <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#345030436">(Mar 28 2023 at 05:43)</a>:</h4>
<p>I am excited to express my interest in participating in the Google Summer of Code program as a mentee with BRL-CAD. After reviewing your project ideas, I am particularly interested in proposing a project that would greatly benefit many developers.</p>
<p>As we all know, reviewing code is one of the most important parts of the development cycle, and saving time in this process can greatly help developers. With this in mind, I propose to develop a GitHub pull request code reviewer that provides helpful code reviews on the changes made in a pull request. This tool will streamline the code review process, making it faster and more reliable for developers.</p>
<p>I am confident that this project aligns with the goals and objectives of BRL-CAD, and I have relevant experience in [mention your relevant experience] that makes me well-suited for the project. I am excited to apply my skills to this project and contribute to BRL-CAD's mission.</p>
<p>Thank you for your consideration, and I look forward to the opportunity to work with BRL-CAD as a mentee this summer.</p>
<p>Sincerely,<br>
Ajay Pal</p>



<a name="345034486"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/345034486" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#345034486">(Mar 28 2023 at 06:10)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="603973">@Ajay Pal</span> and welcome!</p>
<p>You're definitely seem to be considering a different type of project.  Why is that project interesting to you?  What's the motivation for wanting to develop something new over tools like ReviewBoard, Gerritt, Phabricator, etc.?</p>
<p>Also, you claim this project would align with goals and objectives of BRL-CAD -- how so?</p>



<a name="345034513"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/345034513" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#345034513">(Mar 28 2023 at 06:10)</a>:</h4>
<p>Also, you didn't "[mention your relevant experience]".</p>



<a name="345036255"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/345036255" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ajay Pal <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#345036255">(Mar 28 2023 at 06:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-general/topic/GSoC.20ideas/near/345034486">said</a>:</p>
<blockquote>
<p>Hello <span class="user-mention silent" data-user-id="603973">Ajay Pal</span> and welcome!</p>
<p>You're definitely seem to be considering a different type of project.  Why is that project interesting to you?  What's the motivation for wanting to develop something new over tools like ReviewBoard, Gerritt, Phabricator, etc.?</p>
<p>Also, you claim this project would align with goals and objectives of BRL-CAD -- how so?</p>
</blockquote>
<p>Hello!<br>
I am Ajay Pal, 4th  year (2023 batch) 𝐂𝐨𝐦𝐩𝐮𝐭𝐞𝐫 𝐄𝐧𝐠𝐢𝐧𝐞𝐞𝐫𝐢𝐧𝐠 student from Delhi Technological University(𝐃𝐓𝐔) formerly 𝐃𝐂𝐄 (CGPA:9.24).<br>
I have 𝐢𝐧𝐭𝐞𝐫𝐧𝐞𝐝 at 𝐓𝐰𝐢𝐭𝐭𝐞𝐫 𝐂𝐨𝐦𝐦𝐮𝐧𝐢𝐜𝐚𝐭𝐢𝐨𝐧 𝐈𝐧𝐝𝐢𝐚 𝐏𝐯𝐭. 𝐋𝐭𝐝. in ETL and Workflow Tools (𝐄𝐖𝐓) team and delivered the Airflow Business Metric dashboard to various internal customers, which is needed for maximal adoption of Airflow at Twitter. I have also interned at 91Squarefeet (YC W22) where I have set up services that are needed for development and contributed to the portfolio project i.e rbdash. I have led many teams to 𝐇𝐚𝐜𝐤𝐚𝐭𝐡𝐨𝐧 and have also won 𝐈𝐍𝐍𝐎𝐕𝐀𝐓𝐄𝐍𝐒𝐔𝐓` 21. I have Solved 850+ 𝐃𝐒𝐀 𝐩𝐫𝐨𝐛𝐥𝐞𝐦𝐬( Leetcode + HackerRank + Code Studio).<br>
I am proficient in 𝐩𝐫𝐨𝐛𝐥𝐞𝐦 𝐬𝐨𝐥𝐯𝐢𝐧𝐠 and 𝐝𝐞𝐯𝐞𝐥𝐨𝐩𝐦𝐞𝐧𝐭.</p>
<p>This project is interesting to me because while doing internships and participating in open source community I have found out that a lot of org lack this kind of integration. I can see that it will help a lot of developers in their review cycle as most of the review would be provided by bots according to some preset rules which can be easily modified according to user needs. <br>
The example you have given of review platforms is to make the review process easy in some ways but they don't give a review by themselves.<br>
Hence I believe this can increase the efficiency of any org.</p>



<a name="345038533"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/345038533" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#345038533">(Mar 28 2023 at 06:34)</a>:</h4>
<p>Honestly you’re being way too generic and vague.  You’re making a claim that a tool would be helpful and is so widespread needed, yet don’t really explain what or how it will help (other than saying that it will).  I also don’t see anything specific about BRL-CAD in what you are wanting to propose.  How exactly will this help our code and community?  Not general notions. Please elaborate if you can, otherwise my inclination is this would be better fit in a tooling community (eg gitlab).</p>



<a name="426811446"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/426811446" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zhejia Hu <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#426811446">(Mar 15 2024 at 19:48)</a>:</h4>
<p>Hello. I am computer science student from Delft University of Technology and I am quite interested in the neural tracing project affiliated of GSOC 2024? I have project experiences with both neural network, which is a competition, and projects with top design companies in China. I have got full marks in my Computer Graphics course</p>



<a name="426833652"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/426833652" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zhejia Hu <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#426833652">(Mar 15 2024 at 22:45)</a>:</h4>
<p>If you need more information on me, feel free to private message me and I will send you the CV and I am also happy to discuss with you the contents of the paper.</p>



<a name="426893462"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/426893462" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#426893462">(Mar 16 2024 at 14:01)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="701501">@Zhejia Hu</span> and welcome.  Sounds like your experience with NNets and CG could be a benefit to this project.  You'll need to research it enough to make a compelling proposal as that's obviously not an easy topic.  We will definitely need to learn more about you, and see how you work and interact.  The CV can go with your proposal submission, but it's only a piece.  What's more important is demonstrating your coding skills on our codebase in some meaningful manner. Towards that, we recommend compiling, installing, and running BRL-CAD from a github cloned checkout, and checking over prior work (AMD's paper and our previous work).</p>



<a name="427186651"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/427186651" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zhejia Hu <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#427186651">(Mar 17 2024 at 18:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> <a href="#narrow/stream/104062-brlcad/topic/GSoC.20ideas/near/426893462">said</a>:</p>
<blockquote>
<p>Hello <span class="user-mention silent" data-user-id="701501">Zhejia Hu</span> and welcome.  Sounds like your experience with NNets and CG could be a benefit to this project.  You'll need to research it enough to make a compelling proposal as that's obviously not an easy topic.  We will definitely need to learn more about you, and see how you work and interact.  The CV can go with your proposal submission, but it's only a piece.  What's more important is demonstrating your coding skills on our codebase in some meaningful manner. Towards that, we recommend compiling, installing, and running BRL-CAD from a github cloned checkout, and checking over prior work (AMD's paper and our previous work).</p>
</blockquote>
<p>Thank you very much for the reply. May I reconfirm the deadline of application, submitting the proposal, and especially interacting in some manner with the codebase is the same as the deadline provided on the GSOC website: Tuesday, April 2, 2024 18:00 UTC? If so, then I would begin to prepare and look into the code. Thank you very much for the instruction.</p>



<a name="427750152"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/427750152" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Danni W <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#427750152">(Mar 19 2024 at 15:28)</a>:</h4>
<p>Hi There! I'm a computer science student interested in graphics. I have experience in web application development, OpenGL, and GLSL. Also, I used to be a heavy user of CAD, 3D software, etc. I'm really excited about this year's GSoC topics but a bit overwhelmed by their broadness. Would you give me some suggestions on how to start? Thanks!</p>



<a name="427769064"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/427769064" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#427769064">(Mar 19 2024 at 16:49)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="702098">@Danni W</span>, welcome!</p>
<p>You should start with <a href="https://github.com/BRL-CAD/brlcad/releases">installing BRL-CAD</a> and going through the <a href="https://brlcad.org/w/images/c/cf/Introduction_to_MGED.pdf">tutorial</a>. The following depends on your interests and where you see your strengths (e.g., which programming languages you like).</p>



<a name="429115158"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/429115158" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#429115158">(Mar 23 2024 at 21:00)</a>:</h4>
<p><span class="user-mention" data-user-id="701501">@Zhejia Hu</span> that submission deadline is a FIRM deadline meaning there are absolutely no exceptions no matter the reason.  I suggest submitting several days before the deadline if you can, and then make updates.  Any pull requests or other code submissions should be made by that time as well, but there is a little flexibility for that if something is prepared and/or submitted afterwards.  Just be aware that we will be reviewing applications after the deadline and may rank proposals at any point (and if there's not a code submission at that time, the application will be disqualified).</p>



<a name="430996640"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/430996640" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#430996640">(Apr 03 2024 at 12:54)</a>:</h4>
<p>For anyone still working on a coding change, there's a bunch of new GCC14 static analyzer checks that you could try going through on the codebase.  Could see if you can find/fix any issues by enabling the -fanalyzer check (using latest gcc14): <br>
<a href="https://developers.redhat.com/articles/2024/04/03/improvements-static-analysis-gcc-14-compiler#try_it_out_">https://developers.redhat.com/articles/2024/04/03/improvements-static-analysis-gcc-14-compiler#try_it_out_</a></p>



<a name="431121516"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/431121516" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#431121516">(Apr 03 2024 at 15:36)</a>:</h4>
<p>Other really easy tasks including adding support for arbitrary units to the g-obj or gcv converters, fixing "killtree /" bug in mged, add openmesh as a gcv plugin, make src/util/terrain.c output a binunif in the .g instead of an external file, convert teapot to brep/opennurbs instead of bspline, function that converts a non-planar arb8 into brep/opennurbs, implement a function that returns top-level objects, make g-obj export colors, add support for importing ply-g point clouds, import xyz files (gcv), etc.  </p>
<p>Basically anything conversion-related is always a good starting point since it avoids having to navigate GUI, build,  and dependency issues.  Any <a href="https://github.com/BRL-CAD/brlcad/blob/main/BUGS">BUGS</a> or <a href="https://github.com/BRL-CAD/brlcad/blob/main/TODO">TODO</a> or <a href="https://github.com/BRL-CAD/brlcad/issues">Issue</a> is fair game, though.</p>



<a name="431419139"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/GSoC%20ideas/near/431419139" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/GSoC.20ideas.html#431419139">(Apr 04 2024 at 23:29)</a>:</h4>
<p>Daniel makes a good point -- it's good if you can align a coding change with your proposal.  Barring that, any BRL-CAD coding change is better than no coding change.  Sharing code you implemented on your own is not terribly helpful as it's more about demonstrating your ability to communicate, interact, and navigate existing code.</p>



<hr><p>Last updated: Oct 26 2025 at 00:56 UTC</p>
</html>