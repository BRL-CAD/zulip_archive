<html>
<head><meta charset="utf-8"><title>dm/fb rework · brlcad · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/index.html">brlcad</a></h2>
<h3>Topic: <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html">dm/fb rework</a></h3>

<hr>

<base href="https://brlcad.zulipchat.com">

<head><link href="https://brl-cad.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="197695260"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/197695260" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#197695260">(May 15 2020 at 14:02)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  the dm-fb-merge branch is working - I was able to test it on Linux this morning, and I'll check Windows later today.  Have no way to try graphically on the Mac (the github CI runners aren't set up to build X11 graphically, and I can't launch remotely from them to confirm GUI behavior in any case as far as I can tell...) so not sure what's happening there :-(</p>



<a name="197730617"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/197730617" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#197730617">(May 15 2020 at 18:09)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  dm-fb-merge opengl display works on Linux, Windows, GhostBSD and OpenBSD here.</p>



<a name="198020659"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020659" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020659">(May 19 2020 at 04:15)</a>:</h4>
<p>Woo-hoo!  Still need to figure out four libged commands, but other than that have Tcl/Tk completely out of the core library stack below libged in the dm/fb branch.</p>



<a name="198020687"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020687" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020687">(May 19 2020 at 04:16)</a>:</h4>
<p>saw the commit, that's awesome</p>



<a name="198020731"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020731" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020731">(May 19 2020 at 04:16)</a>:</h4>
<p>think those the ones behind 'screenshot' too, yes?</p>



<a name="198020745"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020745" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020745">(May 19 2020 at 04:17)</a>:</h4>
<p>er, 'screengrab'</p>



<a name="198020762"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020762" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020762">(May 19 2020 at 04:17)</a>:</h4>
<p>screengrab is focused on the dm rather than the fb, so it might actually still work</p>



<a name="198020765"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020765" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020765">(May 19 2020 at 04:17)</a>:</h4>
<p>or maybe not, might be going straight to the dm interface</p>



<a name="198020815"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020815" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020815">(May 19 2020 at 04:18)</a>:</h4>
<p>that's cool</p>



<a name="198020840"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020840" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020840">(May 19 2020 at 04:19)</a>:</h4>
<p>four of them were reading into a fbserv_obj for some reason - presumably to pull the rendered fb out of MGED/Archer, although I'm not sure of that yet.  Not quite sure whether they should be talking to the dm to have it broker the right data flows, or make them plugin commands for libged supplied by libtclcad - needs more study.</p>



<a name="198020863"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020863" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020863">(May 19 2020 at 04:19)</a>:</h4>
<p>they shouldn't exist in that form, imho</p>



<a name="198020903"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020903" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020903">(May 19 2020 at 04:20)</a>:</h4>
<p>Heh - the ged struct entry they were using had a "this shouldn't be here" comment</p>



<a name="198020906"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020906" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020906">(May 19 2020 at 04:20)</a>:</h4>
<p>I think I wrote that 10 years ago</p>



<a name="198020924"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020924" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020924">(May 19 2020 at 04:21)</a>:</h4>
<p>Will have to see if there's a better way to express the functionality they were trying to encapsulate - could be the screengrab logic might actually do the trick...</p>



<a name="198020966"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020966" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020966">(May 19 2020 at 04:22)</a>:</h4>
<p>fb2pix should probably just be part of screengrab, the overlay command, or draw/erase</p>



<a name="198020977"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020977" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020977">(May 19 2020 at 04:22)</a>:</h4>
<p>pix2fb similarly with overlay or draw/erase</p>



<a name="198020980"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020980" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020980">(May 19 2020 at 04:22)</a>:</h4>
<p>/me nods - makes sense</p>



<a name="198020982"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020982" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020982">(May 19 2020 at 04:22)</a>:</h4>
<p>png2fb ditto</p>



<a name="198020990"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020990" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020990">(May 19 2020 at 04:23)</a>:</h4>
<p>icv should be hooked behind that so we don't have to care about image format, imho</p>



<a name="198020996"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198020996" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198020996">(May 19 2020 at 04:23)</a>:</h4>
<p>fbclear becomes overlay subcommand or erase switch</p>



<a name="198021001"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021001" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021001">(May 19 2020 at 04:23)</a>:</h4>
<p>yeah</p>



<a name="198021004"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021004" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021004">(May 19 2020 at 04:23)</a>:</h4>
<p>just have to decide how to handle the render buffer</p>



<a name="198021071"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021071" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021071">(May 19 2020 at 04:24)</a>:</h4>
<p>with dm and fb merged, probably everything belongs under draw/erase</p>



<a name="198021078"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021078" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021078">(May 19 2020 at 04:25)</a>:</h4>
<p>even overlay probably should merge under draw</p>



<a name="198021083"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021083" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021083">(May 19 2020 at 04:25)</a>:</h4>
<p>"draw file.plot3" ?</p>



<a name="198021151"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021151" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021151">(May 19 2020 at 04:26)</a>:</h4>
<p>we should design it so it's deterministic, but yeah, something similar</p>



<a name="198021154"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021154" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021154">(May 19 2020 at 04:26)</a>:</h4>
<p>draw -overlay file.plot3</p>



<a name="198021182"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021182" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021182">(May 19 2020 at 04:27)</a>:</h4>
<p>Ah, right - the difference between "on top" of the scene and "in" the scene</p>



<a name="198021196"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021196" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021196">(May 19 2020 at 04:27)</a>:</h4>
<p>draw -overlay [file] vs  draw [object], unless it's a fully qualified uri that can disambiguate like draw file:/path/to/file.plot3</p>



<a name="198021343"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021343" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021343">(May 19 2020 at 04:31)</a>:</h4>
<p>/me reflects that as good as that felt, it actually didn't answer the immediate need, which is to get a proper Tk dm/fb backend up to replace the X11 fallback with 8.6...  think I have some decent progress there, but need to revisit the original work that mated up the fb rendering with the Tk_Photo environment.  Glad we saved that, it's going to come in handy now.</p>



<a name="198021344"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021344" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021344">(May 19 2020 at 04:31)</a>:</h4>
<p>that's one that would be good to spend a few minutes designing for at least the cases we have now: draw geometry into the scene, draw images fixed to the viewport, draw plot/data into the scene, draw images into the scene, and (probably) draw plot/data into the viewport</p>



<a name="198021388"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021388" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021388">(May 19 2020 at 04:32)</a>:</h4>
<p>/me nods - agreed.  I'd also like to think about how we're handling multiple display managers (e.g. quad view) and how to address them.</p>



<a name="198021401"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021401" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021401">(May 19 2020 at 04:33)</a>:</h4>
<p>that only leaves one outlier (draw geometry fixed to viewport), but "overlay" vs default-into-scene still might be the best way to disambiguate</p>



<a name="198021415"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021415" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021415">(May 19 2020 at 04:33)</a>:</h4>
<p>so the 3d "scene" is universal, and only overlays are unique to specific viewports/dm instances?</p>



<a name="198021463"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021463" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021463">(May 19 2020 at 04:34)</a>:</h4>
<p>maybe:  draw [-view #] [-overlay [file]] [object]</p>



<a name="198021466"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021466" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021466">(May 19 2020 at 04:34)</a>:</h4>
<p>or maybe better stated, the "dm instances" are different cameras into the same scene?</p>



<a name="198021488"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021488" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021488">(May 19 2020 at 04:35)</a>:</h4>
<p>right, and by default you draw into all of them but certainly could draw into just one of them</p>



<a name="198021603"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021603" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021603">(May 19 2020 at 04:37)</a>:</h4>
<p>Do we want solid objects to be up in one dm but not another?  Just off the cuff I'm kinda liking the simplicity of the solid list being universal, with only the view object lists being unique to the camera views.  May be good reasons to have the flexibility though.</p>



<a name="198021726"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198021726" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198021726">(May 19 2020 at 04:40)</a>:</h4>
<p>(wondering what the interpretation of "draw -view 1 object" would be...)</p>



<a name="198022091"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198022091" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198022091">(May 19 2020 at 04:49)</a>:</h4>
<p>Not by default and not something we presently support (I think) but there are lots of common use cases for custom view sets.  for example, maybe show camera/view objects in the 3d scene in only some views (e.g., to show where a camera is in a  3rd "rendered" viewport) or to display reference data/images into the 3d scene, etc</p>



<a name="198022096"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198022096" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198022096">(May 19 2020 at 04:49)</a>:</h4>
<p>but yeah, emphasis on the not by default -- should be you draw something, it displays in all the viewports</p>



<a name="198022160"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198022160" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198022160">(May 19 2020 at 04:51)</a>:</h4>
<p>draw -view 1 would just draw something only into that viewport, default would be akin to "-view all" or "-view *" or something</p>



<a name="198082475"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198082475" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198082475">(May 19 2020 at 15:22)</a>:</h4>
<p><span class="user-mention" data-user-id="112516">@starseeker</span> just a caution -- whenever you see something that seems to be only libtclcad, I've learned that is usually something Bob inserted for some Archer-built tool.  Those four commands sound like something possibly in use by SlideMaker or EGM.</p>



<a name="198096744"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198096744" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198096744">(May 19 2020 at 17:03)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>   That was my guess as well.  However, anything Archer based will also have libtclcad available, so if need be they can be supplied at that level.  Once it starts getting closer to going live I'm planning to do more testing with the Archer level pieces (and we'll also have to coordinate with the other tools that have hooked libdm/fb into Java and Qt...)</p>



<a name="198097410"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198097410" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198097410">(May 19 2020 at 17:08)</a>:</h4>
<p>At least in theory it should be possible to do that more cleanly with the new setup by making purpose-build dm plugins - I'm planning at some point to try a better Qt dm/fb backing for qged to test that out.</p>



<a name="198097479"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198097479" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198097479">(May 19 2020 at 17:08)</a>:</h4>
<p><span class="user-mention" data-user-id="112516">@starseeker</span> understood that they're in libtclcad (or can be), that's not the issue.</p>



<a name="198097521"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198097521" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198097521">(May 19 2020 at 17:08)</a>:</h4>
<p>the danger is leaving them disabled.  they will be runtime failures not likely to be caught by future testing.</p>



<a name="198097580"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198097580" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198097580">(May 19 2020 at 17:09)</a>:</h4>
<p>at least not without specific intent to find their usage.  like a testing checklist.</p>



<a name="198097735"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198097735" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198097735">(May 19 2020 at 17:10)</a>:</h4>
<p>fair enough, but unless we can contrive some tests for them I can't prove they work even in trunk, much less in the branch...</p>



<a name="198097745"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198097745" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198097745">(May 19 2020 at 17:10)</a>:</h4>
<p>especially since they could even be specific to a single interface or tool, it'd be good to manage the risk in some manner.</p>



<a name="198097816"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198097816" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198097816">(May 19 2020 at 17:10)</a>:</h4>
<p>unless you can prove they don't work and weren't broken recently by other changes, the converse is just as valid a position...</p>



<a name="198097825"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198097825" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198097825">(May 19 2020 at 17:10)</a>:</h4>
<p>Not sure we've got any sort of testing at all for libtclcad beyond the regression tests themselves, for that matter...</p>



<a name="198097865"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198097865" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198097865">(May 19 2020 at 17:11)</a>:</h4>
<p>if they're working in slidemaker, for example</p>



<a name="198098091"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198098091" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198098091">(May 19 2020 at 17:12)</a>:</h4>
<p>I'll see if Bob can take a look quick - if not I'll have to come up with some way to exercise them</p>



<a name="198098149"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198098149" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198098149">(May 19 2020 at 17:13)</a>:</h4>
<p>the lack of testing and awareness of whether it works or not is why the burden is raised on change .. this is going to be a recurring theme with bob out</p>



<a name="198098211"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198098211" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198098211">(May 19 2020 at 17:13)</a>:</h4>
<p>it's going to tie our hands somewhat or we're going to have to pay down the debt as changes are made</p>



<a name="198098313"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198098313" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198098313">(May 19 2020 at 17:14)</a>:</h4>
<p>IMHO we can't afford to tie our hands</p>



<a name="198098351"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198098351" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198098351">(May 19 2020 at 17:14)</a>:</h4>
<p>it would be nice to find a uniform way to test the things in libtclcad that are not in libged.  if they're in libged though some alternative feature, it's less of a concern.</p>



<a name="198098674"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198098674" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198098674">(May 19 2020 at 17:17)</a>:</h4>
<p>I'd agree that we don't want to, that we shouldn't -- but not that we can't.  Unknowingly but likely breaking tools that are functioning today would be irresponsible too.  We can't do that to users.</p>



<a name="198098991"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198098991" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198098991">(May 19 2020 at 17:19)</a>:</h4>
<p>Again just my opinion, but we urgently need some significant foundational changes to get us moving forward.  Agree we don't want to break existing tools, but stasis is potentially fatal as a project.</p>



<a name="198099587"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198099587" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198099587">(May 19 2020 at 17:23)</a>:</h4>
<p>I'll try to put my money where my mouth (or fingers technically) are by doing what I can to pay down the debt</p>



<a name="198099590"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198099590" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198099590">(May 19 2020 at 17:23)</a>:</h4>
<p>Dude, you're preaching to the choir.  I know that, you know that.</p>



<a name="198099621"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198099621" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198099621">(May 19 2020 at 17:23)</a>:</h4>
<p>I'm not sure if you suggesting doing nothing about this is acceptable for the sake of change.</p>



<a name="198099738"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198099738" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198099738">(May 19 2020 at 17:24)</a>:</h4>
<p>I'm saying I think that is not just unacceptable too but that it would be irresponsible to just yank something and hope for the best or expect it to get dealt with by [insert future situation].</p>



<a name="198099928"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198099928" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198099928">(May 19 2020 at 17:26)</a>:</h4>
<p>that it should be managed in some manner.  documented and followed up with when it comes time to testing could be a minimum, providing an alternative interface could be an option too.</p>



<a name="198100285"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198100285" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198100285">(May 19 2020 at 17:28)</a>:</h4>
<p>And it's not just avoiding changing things because they might be risk.  It's that those commands are potentially tied to a user-visible feature and knowingly breaking them without an alternative or testing or some mitigation would be a violation of our own change policy.</p>



<a name="198100406"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198100406" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198100406">(May 19 2020 at 17:29)</a>:</h4>
<p>Ah.  No, I'm not suggesting ignoring it is acceptable  when the breakage is definitely known.</p>



<a name="198100609"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198100609" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198100609">(May 19 2020 at 17:30)</a>:</h4>
<p>I guess my bias is to proceed forward when we can't readily prove there <em>is</em> breakage.  (We know there is in this case, so I agree it needs to be dealt with before anything goes live.)</p>



<a name="198100975"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198100975" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198100975">(May 19 2020 at 17:33)</a>:</h4>
<p>"ignorantia juris non excusat"</p>



<a name="198101347"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198101347" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198101347">(May 19 2020 at 17:36)</a>:</h4>
<p>if there is breakage, whether we know about it or not, then the change policy has been violated and user trust is eroded (or completely lost in some instances) when it is encountered.</p>
<p>that doesn't mean we can't/shouldn't change things -- we can and do all the freaking time.  that's exactly why there is a policy written on how we should go about doing it in a manner that is defensible and should minimize loss of user trust.</p>



<a name="198102443"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198102443" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198102443">(May 19 2020 at 17:46)</a>:</h4>
<p>I'm also not suggesting against proceeding forward just because you don't know -- it was simply to take some action to at least document the situation and follow up.  A policy of only acting on proven issues encourages simply not looking, not testing, not asking, not communicating.  Not healthy development.</p>



<a name="198102858"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198102858" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198102858">(May 19 2020 at 17:49)</a>:</h4>
<p>Fair enough.  What would be good for this case?   (Assuming I can't run them to earth quickly) - TODO file a the top level in the branch?</p>



<a name="198108675"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/198108675" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#198108675">(May 19 2020 at 18:37)</a>:</h4>
<p>I think a TODO file in the branch for testing / search against tools as an action for the next release.</p>
<p>If there's not other way to save the fb or write an image into it, then it would be good to figure out some way in libged to do that cleanly in the new fb+db rework state.</p>



<a name="199415683"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199415683" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199415683">(Jun 01 2020 at 20:02)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  If I roll back the changes in this branch to be just the dm/fb merger and the plugin loading, without the fb_obj relocation that's causing issues with the libged commands, would there be a reasonable chance to merge this back in?  I didn't radically restructure the dm/fb interactions, and I'm concerned that this is going to be difficult to maintain as a branch for a long period give how much code moved around in the dm/fb libs...</p>



<a name="199451086"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199451086" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199451086">(Jun 02 2020 at 05:08)</a>:</h4>
<p><span class="user-mention" data-user-id="112516">@starseeker</span> what would that mean in terms of overall changes?  what's the benefit to trunk?  the dm+fb merger by itself isn't very compelling by itself as that's inherently undoing modularity.  that downside was being offset by the improvement to libged's modularity.  if we don't get the libged improvement, won't trunk be worse off?  I'm not familiar with the extent of the plugin loading changes, but I imagine that effect has to be minor as we don't rely on it for anything yet.</p>
<p>merge concern noted, though -- what are our options?   is it not possible to preserve/rewrite those four commands so the whole branch can be merged?</p>



<a name="199654902"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199654902" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199654902">(Jun 03 2020 at 18:05)</a>:</h4>
<p>Somewhat to my surprise, it looks like I was able to get the four commands (or a more generic version in png2fb's case) working.</p>



<a name="199655373"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199655373" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199655373">(Jun 03 2020 at 18:07)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> I've not hooked it into overlay yet (right now I've just stubbed in icv2fb and fb2icv commands) but so far it looks like I might be able to completely replace fb2pix, pix2fb and png2fb.</p>



<a name="199656151"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199656151" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199656151">(Jun 03 2020 at 18:15)</a>:</h4>
<p>How should the usability of this work?  Should there be an "--fb" option to overlay to specify that the image is going into the framebuffer rather than the dm?  Should the fb-&gt;image feature be an option to saveview?</p>



<a name="199657368"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199657368" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199657368">(Jun 03 2020 at 18:24)</a>:</h4>
<p>Er - screengrab, not saveview...</p>



<a name="199682984"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199682984" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199682984">(Jun 03 2020 at 22:05)</a>:</h4>
<p>roughed in -F options to overlay and screengrab in the branch.  Haven't gotten any of the offset logic enabled or tested yet, but getting close</p>



<a name="199756093"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199756093" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199756093">(Jun 04 2020 at 14:36)</a>:</h4>
<p><span class="user-mention" data-user-id="112516">@starseeker</span> That's great!</p>



<a name="199756253"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199756253" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199756253">(Jun 04 2020 at 14:38)</a>:</h4>
<p>offset logic is pretty much working now - trying to convince screengrab to return subsets of its image</p>



<a name="199759040"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199759040" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199759040">(Jun 04 2020 at 14:57)</a>:</h4>
<p>did the old commands do that?</p>



<a name="199759304"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199759304" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199759304">(Jun 04 2020 at 14:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/dm.2Ffb.20rework/near/199656151">said</a>:</p>
<blockquote>
<p>How should the usability of this work?  Should there be an "--fb" option to overlay to specify that the image is going into the framebuffer rather than the dm?  Should the fb-&gt;image feature be an option to saveview?</p>
</blockquote>
<p>I think I saw you went with -F to imply the main / default?</p>



<a name="199759686"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199759686" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199759686">(Jun 04 2020 at 15:00)</a>:</h4>
<p>That should be consistent enough with other use where -F specifies a framebuffer -- might want to make it "-F {fb_specification}" to be backwards compatible, something like "-F default"</p>



<a name="199759810"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199759810" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199759810">(Jun 04 2020 at 15:01)</a>:</h4>
<p>should talk to any FB ideally, so things like -F 4 still work</p>



<a name="199760091"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199760091" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199760091">(Jun 04 2020 at 15:03)</a>:</h4>
<p>Don't think saveview comes into play with this as that's talking about the camera / viewer parameters of the view, not the image / viewee aspects</p>



<a name="199764573"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199764573" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199764573">(Jun 04 2020 at 15:32)</a>:</h4>
<p>The old commands were kind of an odd mishmash .  With the exception of some png2fb specific options which don't seem to have been used anywhere (probably added for testing, if I had to guess) I'm trying to use libicv's image features to support rectangle subsets of the fb - that seems to have been the overall intent, but I don't think it was fully realized.</p>
<p>Right now I'm just using -F to distinguish between capturing the framebuffer and capturing the scene view - I don't have the ability to specify fbserv objects, and I don't think the old commands did either.  I'm using the display manager pointer rather than talking over the fb network protocol, so the code's not well set up for arbitrary fb capture.  If I should use an option other than -F to avoid that expectation that shouldn't be an issue - suggestions welcome.</p>



<a name="199766347"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199766347" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199766347">(Jun 04 2020 at 15:43)</a>:</h4>
<p>Did dm-fb-merge build OK on OSX?</p>



<a name="199766387"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199766387" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199766387">(Jun 04 2020 at 15:43)</a>:</h4>
<p>/me is trying another Windows build now...</p>



<a name="199771922"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199771922" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199771922">(Jun 04 2020 at 16:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/dm.2Ffb.20rework/near/199764573">said</a>:</p>
<blockquote>
<p>The old commands were kind of an odd mishmash .  With the exception of some png2fb specific options which don't seem to have been used anywhere (probably added for testing, if I had to guess) I'm trying to use libicv's image features to support rectangle subsets of the fb - that seems to have been the overall intent, but I don't think it was fully realized.</p>
</blockquote>
<p>So... I think you're saying "no"?</p>
<p>If the old code didn't I honestly wouldn't bother with extracting subsets even if it seems easy enough.  Bob was a fan of doing that for some reason and it's just such an antipattern...</p>



<a name="199773325"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199773325" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199773325">(Jun 04 2020 at 16:29)</a>:</h4>
<p>It would partially do subsets - you could change the x and y starting offsets to get portions of an image, but you couldn't specify the length of what you wanted in each direction from that point.  I think there may be one or two places in Archer and other codes that use that feature.</p>
<p>Take a look at the screengrab and overlay commands in the branch - that's got my current feature set.</p>



<a name="199774026"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199774026" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199774026">(Jun 04 2020 at 16:34)</a>:</h4>
<p>(and yes, I know I need to add/update man pages - waiting until we've got the commands in a stable state ;-)</p>



<a name="199774334"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199774334" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199774334">(Jun 04 2020 at 16:36)</a>:</h4>
<p>I could see yanking all of the image subset code in mged/archer and downstream tools.  That's like the feature he implemented to just rt-render a subset of the view that has been band-selected.</p>



<a name="199775219"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199775219" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199775219">(Jun 04 2020 at 16:44)</a>:</h4>
<p>In all my years, I can't say I've ever wanted or needed to do that or heard of anyone else (besides Bob) wanting to do that.   If it didn't complicate the usability, it wouldn't matter, but that's a feature we could probably strip for the sake of simplicity throughout (including downstream apps).</p>



<a name="199775840"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199775840" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199775840">(Jun 04 2020 at 16:48)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> Well, for immediate purposes we could probably just not add it to screengrab/overlay - the other 4 commands aren't exposed directly to users to begin with.  I'd rather do any more substantial rippage post-merge...</p>



<a name="199775848"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199775848" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199775848">(Jun 04 2020 at 16:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/dm.2Ffb.20rework/near/199773325">said</a>:</p>
<blockquote>
<p>Take a look at the screengrab and overlay commands in the branch - that's got my current feature set.</p>
</blockquote>
<p>I did, that's why I've been giving comments on this and the -F option ...  I saw and, hence, the attempt at having a design discussion early / contemporaneously.</p>



<a name="199776035"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199776035" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199776035">(Jun 04 2020 at 16:49)</a>:</h4>
<p>I'm good with yanking the subset options - my only potential use case was band-selecting from a GUI, and I agree I've never wanted to do that in MGED proper - if I need an image subset I usually snap the whole image and bring it up in another tool to grab the piece I want.</p>



<a name="199778428"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199778428" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199778428">(Jun 04 2020 at 17:05)</a>:</h4>
<p>Exactly why I mention it.  That could all go from userland.  Might leave the feature in rt as a debugging/advanced option, but definitely not menu options and propagation to libged commands.  That complexity, however minor, doesn't appear to be terribly helpful.</p>



<a name="199778617"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199778617" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199778617">(Jun 04 2020 at 17:07)</a>:</h4>
<p>By the way, branch build is mostly clean, but did hit a link error:</p>
<div class="codehilite"><pre><span></span><code>[ 73%] Linking C shared library ../../../libexec/dm/libdm-X.dylib
Undefined symbols for architecture x86_64:
  &quot;_vectorThreshold&quot;, referenced from:
      _X_drawVList in dm-X.c.o
ld: symbol(s) not found for architecture x86_64
</code></pre></div>



<a name="199781254"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199781254" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199781254">(Jun 04 2020 at 17:26)</a>:</h4>
<p>Um.  That's legit.  Interesting it didn't show up previously...</p>



<a name="199784991"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199784991" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199784991">(Jun 04 2020 at 17:54)</a>:</h4>
<p>I think r76025 should deal with the X_drawVList issue.</p>



<a name="199785653"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199785653" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199785653">(Jun 04 2020 at 17:59)</a>:</h4>
<p>vectorThreshold is icky... unless someone is actually manipulating that somewhere my vote would be to #define it and eliminate the global altogether...</p>



<a name="199786202"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199786202" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199786202">(Jun 04 2020 at 18:03)</a>:</h4>
<p>yeah, doesn't look like anybody's touching it at all.</p>



<a name="199788051"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199788051" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199788051">(Jun 04 2020 at 18:21)</a>:</h4>
<p>I hadn't compiled this branch prior.  Looks like you yanked it when tcl.c went away.</p>



<a name="199788111"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199788111" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199788111">(Jun 04 2020 at 18:21)</a>:</h4>
<p>Yep, got moved into libtclcad, but dm-X and dm-tk were referencing it.  Surprised Linux build didn't fail.  Anyway, dealt with now.</p>



<a name="199797943"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199797943" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199797943">(Jun 04 2020 at 19:34)</a>:</h4>
<p><em>nod</em>  Just FYI, though, that TclLinkVar call made it available to Tcl scripts.  It's conceivably called by a bit of Tcl somewhere, but don't see it in any of our Tcl.  Just something to keep an eye out for later post-release.  Fix will just be to delete the caller code, so it's not a problem.</p>



<a name="199809708"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199809708" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199809708">(Jun 04 2020 at 21:18)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  sounds good.</p>



<a name="199809983"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199809983" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199809983">(Jun 04 2020 at 21:21)</a>:</h4>
<p>Windows and Linux seem (knock on wood) to be behaving.  I'll give OpenBSD a shot next.</p>



<a name="199908615"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199908615" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199908615">(Jun 05 2020 at 17:25)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> did you get a chance to try OSX with the fix?</p>



<a name="199959163"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199959163" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199959163">(Jun 06 2020 at 06:27)</a>:</h4>
<p>compilation succeeded with the fix</p>



<a name="199974216"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/199974216" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#199974216">(Jun 06 2020 at 13:04)</a>:</h4>
<p>Awesome.  MGED and Archer should work - if they do, what else would you like to see prior to a trunk merge?</p>



<a name="200601942"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200601942" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200601942">(Jun 11 2020 at 20:31)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> How disruptive do you think the work in the dm-fb-merge branch will prove to the C++ code?  I'm working towards merging that as the final step in pushing Tcl/Tk up out of our core libs.</p>



<a name="200640110"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200640110" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200640110">(Jun 12 2020 at 07:11)</a>:</h4>
<p>A first test was successful. There was no change necessary on the C++ core interface source code.</p>
<p>However, dm-fb-merge's CMake is complaining about a missing fontconfig, which I do have installed. The build works nevertheless. And, I saw that lz4 is gone.</p>



<a name="200661882"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200661882" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200661882">(Jun 12 2020 at 12:10)</a>:</h4>
<p>What was the specific fontconfig error?  That ought to work, at least on Linux...</p>
<p>I folded the key bits we use from lz4 into librt, so that's correct.</p>



<a name="200662363"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200662363" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200662363">(Jun 12 2020 at 12:15)</a>:</h4>
<div class="codehilite"><pre><span></span><code>CMake Warning at src/other/tk/CMakeLists.txt:259 (find_package):
  By not providing &quot;FindFontconfig.cmake&quot; in CMAKE_MODULE_PATH this project
  has asked CMake to find a package configuration file provided by
  &quot;Fontconfig&quot;, but CMake did not find one.

  Could not find a package configuration file provided by &quot;Fontconfig&quot; with
  any of the following names:

    FontconfigConfig.cmake
    fontconfig-config.cmake

  Add the installation prefix of &quot;Fontconfig&quot; to CMAKE_PREFIX_PATH or set
  &quot;Fontconfig_DIR&quot; to a directory containing one of the above files.  If
  &quot;Fontconfig&quot; provides a separate development package or SDK, be sure it has
  been installed.
</code></pre></div>


<p>(Debian buster, kernel 4.19.0-9-amd64, gcc (Debian 8.3.0-6) 8.3.0)</p>



<a name="200686058"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200686058" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200686058">(Jun 12 2020 at 15:40)</a>:</h4>
<p>Ah.  What version of CMake?  That error means FindFontconfig isn't available by default in that version.</p>



<a name="200693612"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200693612" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200693612">(Jun 12 2020 at 16:39)</a>:</h4>
<p><span class="user-mention" data-user-id="102939">@Daniel Rossberg</span> I put back the misc/CMake copy</p>



<a name="200698468"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200698468" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Rossberg <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200698468">(Jun 12 2020 at 17:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/dm.2Ffb.20rework/near/200686058">said</a>:</p>
<blockquote>
<p>Ah.  What version of CMake?  That error means FindFontconfig isn't available by default in that version.</p>
</blockquote>
<p>In Debian buster the FindFontconfig.cmake is included in KDE development packages, but in Debian sid in CMake data and extra too.</p>



<a name="200699524"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200699524" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200699524">(Jun 12 2020 at 17:28)</a>:</h4>
<p>Figures.  "Modern" CMake seems to be trying to move more towards *Config.cmake based approaches where those files are provided by the packages, but I'm not up on that approach and if the upstream package doesn't provide it we're back to Find modules anyway...</p>



<a name="200884832"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200884832" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200884832">(Jun 15 2020 at 12:55)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> Did MGED/Archer launch OK on the Mac with that build?</p>



<a name="200904257"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200904257" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200904257">(Jun 15 2020 at 15:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/dm.2Ffb.20rework/near/200661882">said</a>:</p>
<blockquote>
<p>What was the specific fontconfig error?  That ought to work, at least on Linux...</p>
<p>I folded the key bits we use from lz4 into librt, so that's correct.</p>
</blockquote>
<p>Eek, why??  That's a very active project that pushes out updates regularly.  It would be nice to just update their sources or utilize a system lz4.  That was working I thought...</p>



<a name="200904687"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200904687" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200904687">(Jun 15 2020 at 15:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112516">starseeker</span> <a href="#narrow/stream/104062-general/topic/dm.2Ffb.20rework/near/200884832">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="102902">Sean</span> Did MGED/Archer launch OK on the Mac with that build?</p>
</blockquote>
<p>It's not been compiling for a few days.  I thought you were in the middle of something, so I didn't mention it, but it dies with duplicate symbols when linking fftc.<br>
(rather, trunk and bioh both fail with that error)</p>



<a name="200904775"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200904775" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200904775">(Jun 15 2020 at 15:27)</a>:</h4>
<div class="codehilite"><pre><span></span><code>[ 33%] Linking C executable ../../bin/fftc
duplicate symbol &#39;___sincos&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_signbitl&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isnanl&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isnormall&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isinfl&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isfinitel&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___sincospi&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_signbitf&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___sincosf&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isnanf&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isnormalf&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___sincospif&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isinff&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isfinitef&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_signbitd&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isnand&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isnormald&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isinfd&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___inline_isfinited&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
duplicate symbol &#39;___sputc&#39; in:
    CMakeFiles/fftc.dir/fftc.c.o
    CMakeFiles/fftc.dir/splitditc.c.o
ld: 20 duplicate symbols for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: *** [bin/fftc] Error 1
make[1]: *** [src/libfft/CMakeFiles/fftc.dir/all] Error 2
</code></pre></div>



<a name="200905896"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200905896" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200905896">(Jun 15 2020 at 15:34)</a>:</h4>
<p>Here's the actual compile line, so it looks like compilation options were changed elsewhere as those are all math system math symbols that were somehow embedded (maybe related to import/export changes?):</p>
<div class="codehilite"><pre><span></span><code>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc -std=c11  -D_POSIX_C_SOURCE=200809L -D_XOPEN_SOURCE=700 -pipe -fvisibility=hidden -fno-strict-aliasing -fno-common -fexceptions -m64 -ggdb -Qunused-arguments -fstack-protector-all -fno-omit-frame-pointer -pedantic -pedantic-errors -Wall -Wextra -Wundef -Wfloat-equal -Wshadow -Wbad-function-cast -Wc++-compat -Winline -Wno-long-long -Wno-variadic-macros -Wdocumentation -Wno-c11-extensions -Werror -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.15.sdk -mmacosx-version-min=10.14 -Wl,-search_paths_first -Wl,-headerpad_max_install_names  -m64 -ggdb CMakeFiles/fftc.dir/fftc.c.o CMakeFiles/fftc.dir/splitditc.c.o  -o ../../bin/fftc  -lm
</code></pre></div>



<a name="200918091"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200918091" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200918091">(Jun 15 2020 at 17:08)</a>:</h4>
<p>Good call - libfft would have been getting BRLCADBUILD and HAVE_CONFIG_H from src/CMakeLists.txt.  Interesting Mac seems to be the only platform that hit that particular issue... r76142 should restore the definitions.</p>



<a name="200918133"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200918133" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200918133">(Jun 15 2020 at 17:08)</a>:</h4>
<p>In trunk that is - I'll merge to dm-fb-merge next.</p>



<a name="200918830"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200918830" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200918830">(Jun 15 2020 at 17:15)</a>:</h4>
<p>There we go.  r76143 in dm-fb-merge</p>



<a name="200930890"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200930890" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200930890">(Jun 15 2020 at 18:59)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> FWIW, trunk just built successfully on the github OSX runner.</p>



<a name="200943832"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/200943832" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#200943832">(Jun 15 2020 at 20:50)</a>:</h4>
<p>dm-fb-merge branch as well, although unfortunately the runner environment doesn't end up enabling any of the graphics...</p>



<a name="201739663"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/201739663" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#201739663">(Jun 23 2020 at 15:17)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span> did dm-fb-merge build OK for you?</p>



<a name="201739975"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/201739975" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#201739975">(Jun 23 2020 at 15:19)</a>:</h4>
<p>It builds and runs if I enable all, but default build fails with X11 symbol errors (like a header inclusion is missing).  Trunk doesn't have the error, so it's some change.</p>



<a name="201740123"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/201740123" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#201740123">(Jun 23 2020 at 15:20)</a>:</h4>
<p>error was on dm-ogl.c iirc</p>



<a name="201740181"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/201740181" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#201740181">(Jun 23 2020 at 15:20)</a>:</h4>
<p>Blast.  I really wish Apple would make some sort of remote test platform available for devs...</p>



<a name="201740186"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/201740186" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#201740186">(Jun 23 2020 at 15:20)</a>:</h4>
<p>/me waddles through a plethora of training</p>



<a name="201740292"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/201740292" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#201740292">(Jun 23 2020 at 15:21)</a>:</h4>
<p>/me nods - always lots of fun</p>



<a name="201960921"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/201960921" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#201960921">(Jun 25 2020 at 12:17)</a>:</h4>
<p><span class="user-mention" data-user-id="112516">@starseeker</span> I dug a lot deeper into the failure, did tons of comparisons with trunk, and looking at the specific cause of the failure -- it's related to the detection of tcl/tk on the branch.  We might have to revisit the tcl logic on trunk, but it doesn't look like a show-stopper now that I found the cause.  I think it's safe enough to merge.</p>



<a name="201963525"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/201963525" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#201963525">(Jun 25 2020 at 12:45)</a>:</h4>
<p><span class="user-mention" data-user-id="102902">@Sean</span>  OK, thanks for digging into it - sorry it proved to be such a hassle.  I'm wondering if I should try to get ahold of a second-hand Mac somewhere for testing purposes - I seem to be hitting a lot of failure that only manifest there...</p>



<a name="201964064"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/201964064" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#201964064">(Jun 25 2020 at 12:51)</a>:</h4>
<p>That could probably be said of any platform we don't compile on daily.  I can count at least a dozen times I made some super safe innocuous change that I thought was perfectly okay only to find it broke the [xxx] build. </p>
<p>I think we can just keep pushing more CI, take steps to not break intentionally, investigate and learn when it does break, and move on.</p>



<a name="201983806"></a>
<h4><a href="https://brlcad.zulipchat.com#narrow/stream/104062-brlcad/topic/dm/fb%20rework/near/201983806" class="zl"><img src="https://brl-cad.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> starseeker <a href="https://brl-cad.github.io/zulip_archive/stream/104062-brlcad/topic/dm.2Ffb.20rework.html#201983806">(Jun 25 2020 at 15:24)</a>:</h4>
<p>phew - merged.  (hah - happened to be commit 76200 - nice round number)</p>



<hr><p>Last updated: Aug 16 2024 at 00:40 UTC</p>
</html>